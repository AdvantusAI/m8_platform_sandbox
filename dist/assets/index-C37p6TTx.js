var aE=t=>{throw TypeError(t)};var Y0=(t,e,r)=>e.has(t)||aE("Cannot "+r);var H=(t,e,r)=>(Y0(t,e,"read from private field"),r?r.call(t):e.get(t)),Fe=(t,e,r)=>e.has(t)?aE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ee=(t,e,r,n)=>(Y0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),et=(t,e,r)=>(Y0(t,e,"access private method"),r);var tg=(t,e,r,n)=>({set _(a){Ee(t,e,a,r)},get _(){return H(t,e,n)}});function mV(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ct(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ck(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var mL={exports:{}},Ex={},gL={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=Symbol.for("react.element"),gV=Symbol.for("react.portal"),vV=Symbol.for("react.fragment"),yV=Symbol.for("react.strict_mode"),xV=Symbol.for("react.profiler"),bV=Symbol.for("react.provider"),wV=Symbol.for("react.context"),_V=Symbol.for("react.forward_ref"),SV=Symbol.for("react.suspense"),jV=Symbol.for("react.memo"),CV=Symbol.for("react.lazy"),iE=Symbol.iterator;function kV(t){return t===null||typeof t!="object"?null:(t=iE&&t[iE]||t["@@iterator"],typeof t=="function"?t:null)}var vL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yL=Object.assign,xL={};function Wd(t,e,r){this.props=t,this.context=e,this.refs=xL,this.updater=r||vL}Wd.prototype.isReactComponent={};Wd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bL(){}bL.prototype=Wd.prototype;function uk(t,e,r){this.props=t,this.context=e,this.refs=xL,this.updater=r||vL}var dk=uk.prototype=new bL;dk.constructor=uk;yL(dk,Wd.prototype);dk.isPureReactComponent=!0;var sE=Array.isArray,wL=Object.prototype.hasOwnProperty,hk={current:null},_L={key:!0,ref:!0,__self:!0,__source:!0};function SL(t,e,r){var n,a={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)wL.call(e,n)&&!_L.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:hm,type:t,key:i,ref:s,props:a,_owner:hk.current}}function AV(t,e){return{$$typeof:hm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fk(t){return typeof t=="object"&&t!==null&&t.$$typeof===hm}function NV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var oE=/\/+/g;function X0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NV(""+t.key):e.toString(36)}function tv(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case hm:case gV:s=!0}}if(s)return s=t,a=a(s),t=n===""?"."+X0(s,0):n,sE(a)?(r="",t!=null&&(r=t.replace(oE,"$&/")+"/"),tv(a,e,r,"",function(u){return u})):a!=null&&(fk(a)&&(a=AV(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(oE,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=n===""?".":n+":",sE(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+X0(i,o);s+=tv(i,e,r,l,a)}else if(l=kV(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+X0(i,o++),s+=tv(i,e,r,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function rg(t,e,r){if(t==null)return t;var n=[],a=0;return tv(t,n,"","",function(i){return e.call(r,i,a++)}),n}function PV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},rv={transition:null},EV={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:rv,ReactCurrentOwner:hk};function jL(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:rg,forEach:function(t,e,r){rg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return rg(t,function(){e++}),e},toArray:function(t){return rg(t,function(e){return e})||[]},only:function(t){if(!fk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=Wd;ot.Fragment=vV;ot.Profiler=xV;ot.PureComponent=uk;ot.StrictMode=yV;ot.Suspense=SV;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EV;ot.act=jL;ot.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=yL({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=hk.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)wL.call(e,l)&&!_L.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:hm,type:t.type,key:a,ref:i,props:n,_owner:s}};ot.createContext=function(t){return t={$$typeof:wV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bV,_context:t},t.Consumer=t};ot.createElement=SL;ot.createFactory=function(t){var e=SL.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:_V,render:t}};ot.isValidElement=fk;ot.lazy=function(t){return{$$typeof:CV,_payload:{_status:-1,_result:t},_init:PV}};ot.memo=function(t,e){return{$$typeof:jV,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=rv.transition;rv.transition={};try{t()}finally{rv.transition=e}};ot.unstable_act=jL;ot.useCallback=function(t,e){return Sn.current.useCallback(t,e)};ot.useContext=function(t){return Sn.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};ot.useEffect=function(t,e){return Sn.current.useEffect(t,e)};ot.useId=function(){return Sn.current.useId()};ot.useImperativeHandle=function(t,e,r){return Sn.current.useImperativeHandle(t,e,r)};ot.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return Sn.current.useMemo(t,e)};ot.useReducer=function(t,e,r){return Sn.current.useReducer(t,e,r)};ot.useRef=function(t){return Sn.current.useRef(t)};ot.useState=function(t){return Sn.current.useState(t)};ot.useSyncExternalStore=function(t,e,r){return Sn.current.useSyncExternalStore(t,e,r)};ot.useTransition=function(){return Sn.current.useTransition()};ot.version="18.3.1";gL.exports=ot;var _=gL.exports;const $=Ct(_),Hd=mV({__proto__:null,default:$},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OV=_,TV=Symbol.for("react.element"),MV=Symbol.for("react.fragment"),RV=Object.prototype.hasOwnProperty,IV=OV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DV={key:!0,ref:!0,__self:!0,__source:!0};function CL(t,e,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)RV.call(e,n)&&!DV.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:TV,type:t,key:i,ref:s,props:a,_owner:IV.current}}Ex.Fragment=MV;Ex.jsx=CL;Ex.jsxs=CL;mL.exports=Ex;var c=mL.exports,kL={exports:{}},ca={},AL={exports:{}},NL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,F){var z=R.length;R.push(F);e:for(;0<z;){var B=z-1>>>1,q=R[B];if(0<a(q,F))R[B]=F,R[z]=q,z=B;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var F=R[0],z=R.pop();if(z!==F){R[0]=z;e:for(var B=0,q=R.length,ie=q>>>1;B<ie;){var ne=2*(B+1)-1,Ne=R[ne],fe=ne+1,X=R[fe];if(0>a(Ne,z))fe<q&&0>a(X,Ne)?(R[B]=X,R[fe]=z,B=fe):(R[B]=Ne,R[ne]=z,B=ne);else if(fe<q&&0>a(X,z))R[B]=X,R[fe]=z,B=fe;else break e}}return F}function a(R,F){var z=R.sortIndex-F.sortIndex;return z!==0?z:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=R)n(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=r(u)}}function w(R){if(m=!1,b(R),!g)if(r(l)!==null)g=!0,I(S);else{var F=r(u);F!==null&&D(w,F.startTime-R)}}function S(R,F){g=!1,m&&(m=!1,x(A),A=-1),p=!0;var z=f;try{for(b(F),h=r(l);h!==null&&(!(h.expirationTime>F)||R&&!E());){var B=h.callback;if(typeof B=="function"){h.callback=null,f=h.priorityLevel;var q=B(h.expirationTime<=F);F=t.unstable_now(),typeof q=="function"?h.callback=q:h===r(l)&&n(l),b(F)}else n(l);h=r(l)}if(h!==null)var ie=!0;else{var ne=r(u);ne!==null&&D(w,ne.startTime-F),ie=!1}return ie}finally{h=null,f=z,p=!1}}var k=!1,C=null,A=-1,N=5,P=-1;function E(){return!(t.unstable_now()-P<N)}function O(){if(C!==null){var R=t.unstable_now();P=R;var F=!0;try{F=C(!0,R)}finally{F?T():(k=!1,C=null)}}else k=!1}var T;if(typeof y=="function")T=function(){y(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,L=M.port2;M.port1.onmessage=O,T=function(){L.postMessage(null)}}else T=function(){v(O,0)};function I(R){C=R,k||(k=!0,T())}function D(R,F){A=v(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,I(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var z=f;f=F;try{return R()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=f;f=R;try{return F()}finally{f=z}},t.unstable_scheduleCallback=function(R,F,z){var B=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,R){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=z+q,R={id:d++,callback:F,priorityLevel:R,startTime:z,expirationTime:q,sortIndex:-1},z>B?(R.sortIndex=z,e(u,R),r(l)===null&&R===r(u)&&(m?(x(A),A=-1):m=!0,D(w,z-B))):(R.sortIndex=q,e(l,R),g||p||(g=!0,I(S))),R},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(R){var F=f;return function(){var z=f;f=F;try{return R.apply(this,arguments)}finally{f=z}}}})(NL);AL.exports=NL;var LV=AL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $V=_,oa=LV;function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PL=new Set,Xf={};function bc(t,e){Ku(t,e),Ku(t+"Capture",e)}function Ku(t,e){for(Xf[t]=e,t=0;t<e.length;t++)PL.add(e[t])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q1=Object.prototype.hasOwnProperty,FV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lE={},cE={};function zV(t){return Q1.call(cE,t)?!0:Q1.call(lE,t)?!1:FV.test(t)?cE[t]=!0:(lE[t]=!0,!1)}function BV(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WV(t,e,r,n){if(e===null||typeof e>"u"||BV(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,r,n,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hr[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hr[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hr[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hr[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hr[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hr[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hr[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hr[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hr[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var pk=/[\-:]([a-z])/g;function mk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pk,mk);Hr[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pk,mk);Hr[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pk,mk);Hr[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hr[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});Hr.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hr[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function gk(t,e,r,n){var a=Hr.hasOwnProperty(e)?Hr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WV(e,r,a,n)&&(r=null),n||a===null?zV(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ms=$V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ng=Symbol.for("react.element"),au=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),vk=Symbol.for("react.strict_mode"),J1=Symbol.for("react.profiler"),EL=Symbol.for("react.provider"),OL=Symbol.for("react.context"),yk=Symbol.for("react.forward_ref"),e_=Symbol.for("react.suspense"),t_=Symbol.for("react.suspense_list"),xk=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),TL=Symbol.for("react.offscreen"),uE=Symbol.iterator;function Mh(t){return t===null||typeof t!="object"?null:(t=uE&&t[uE]||t["@@iterator"],typeof t=="function"?t:null)}var Jt=Object.assign,V0;function lf(t){if(V0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);V0=e&&e[1]||""}return`
`+V0+t}var q0=!1;function G0(t,e){if(!t||q0)return"";q0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{q0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?lf(t):""}function HV(t){switch(t.tag){case 5:return lf(t.type);case 16:return lf("Lazy");case 13:return lf("Suspense");case 19:return lf("SuspenseList");case 0:case 2:case 15:return t=G0(t.type,!1),t;case 11:return t=G0(t.type.render,!1),t;case 1:return t=G0(t.type,!0),t;default:return""}}function r_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case iu:return"Fragment";case au:return"Portal";case J1:return"Profiler";case vk:return"StrictMode";case e_:return"Suspense";case t_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OL:return(t.displayName||"Context")+".Consumer";case EL:return(t._context.displayName||"Context")+".Provider";case yk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xk:return e=t.displayName||null,e!==null?e:r_(t.type)||"Memo";case Qs:e=t._payload,t=t._init;try{return r_(t(e))}catch{}}return null}function UV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r_(e);case 8:return e===vk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Do(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ML(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YV(t){var e=ML(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ag(t){t._valueTracker||(t._valueTracker=YV(t))}function RL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ML(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function kv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function n_(t,e){var r=e.checked;return Jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function dE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Do(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IL(t,e){e=e.checked,e!=null&&gk(t,"checked",e,!1)}function a_(t,e){IL(t,e);var r=Do(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?i_(t,e.type,r):e.hasOwnProperty("defaultValue")&&i_(t,e.type,Do(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function i_(t,e,r){(e!=="number"||kv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var cf=Array.isArray;function wu(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Do(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function s_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return Jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ge(92));if(cf(r)){if(1<r.length)throw Error(ge(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Do(r)}}function DL(t,e){var r=Do(e.value),n=Do(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function pE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ig,$L=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ig=ig||document.createElement("div"),ig.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ig.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var xf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XV=["Webkit","ms","Moz","O"];Object.keys(xf).forEach(function(t){XV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xf[e]=xf[t]})});function FL(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||xf.hasOwnProperty(t)&&xf[t]?(""+e).trim():e+"px"}function zL(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=FL(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var VV=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l_(t,e){if(e){if(VV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function c_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u_=null;function bk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var d_=null,_u=null,Su=null;function mE(t){if(t=mm(t)){if(typeof d_!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=Ix(e),d_(t.stateNode,t.type,e))}}function BL(t){_u?Su?Su.push(t):Su=[t]:_u=t}function WL(){if(_u){var t=_u,e=Su;if(Su=_u=null,mE(t),e)for(t=0;t<e.length;t++)mE(e[t])}}function HL(t,e){return t(e)}function UL(){}var K0=!1;function YL(t,e,r){if(K0)return t(e,r);K0=!0;try{return HL(t,e,r)}finally{K0=!1,(_u!==null||Su!==null)&&(UL(),WL())}}function qf(t,e){var r=t.stateNode;if(r===null)return null;var n=Ix(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ge(231,e,typeof r));return r}var h_=!1;if(Ss)try{var Rh={};Object.defineProperty(Rh,"passive",{get:function(){h_=!0}}),window.addEventListener("test",Rh,Rh),window.removeEventListener("test",Rh,Rh)}catch{h_=!1}function qV(t,e,r,n,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var bf=!1,Av=null,Nv=!1,f_=null,GV={onError:function(t){bf=!0,Av=t}};function KV(t,e,r,n,a,i,s,o,l){bf=!1,Av=null,qV.apply(GV,arguments)}function ZV(t,e,r,n,a,i,s,o,l){if(KV.apply(this,arguments),bf){if(bf){var u=Av;bf=!1,Av=null}else throw Error(ge(198));Nv||(Nv=!0,f_=u)}}function wc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function XL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gE(t){if(wc(t)!==t)throw Error(ge(188))}function QV(t){var e=t.alternate;if(!e){if(e=wc(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return gE(a),t;if(i===n)return gE(a),e;i=i.sibling}throw Error(ge(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?t:e}function VL(t){return t=QV(t),t!==null?qL(t):null}function qL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qL(t);if(e!==null)return e;t=t.sibling}return null}var GL=oa.unstable_scheduleCallback,vE=oa.unstable_cancelCallback,JV=oa.unstable_shouldYield,eq=oa.unstable_requestPaint,or=oa.unstable_now,tq=oa.unstable_getCurrentPriorityLevel,wk=oa.unstable_ImmediatePriority,KL=oa.unstable_UserBlockingPriority,Pv=oa.unstable_NormalPriority,rq=oa.unstable_LowPriority,ZL=oa.unstable_IdlePriority,Ox=null,$i=null;function nq(t){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(Ox,t,void 0,(t.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:sq,aq=Math.log,iq=Math.LN2;function sq(t){return t>>>=0,t===0?32:31-(aq(t)/iq|0)|0}var sg=64,og=4194304;function uf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ev(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=uf(o):(i&=s,i!==0&&(n=uf(i)))}else s=r&~a,s!==0?n=uf(s):i!==0&&(n=uf(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-oi(e),a=1<<r,n|=t[r],e&=~a;return n}function oq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lq(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-oi(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=oq(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function p_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QL(){var t=sg;return sg<<=1,!(sg&4194240)&&(sg=64),t}function Z0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function fm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oi(e),t[e]=r}function cq(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-oi(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function _k(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-oi(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var jt=0;function JL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e$,Sk,t$,r$,n$,m_=!1,lg=[],jo=null,Co=null,ko=null,Gf=new Map,Kf=new Map,ro=[],uq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yE(t,e){switch(t){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":Gf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kf.delete(e.pointerId)}}function Ih(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=mm(e),e!==null&&Sk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function dq(t,e,r,n,a){switch(e){case"focusin":return jo=Ih(jo,t,e,r,n,a),!0;case"dragenter":return Co=Ih(Co,t,e,r,n,a),!0;case"mouseover":return ko=Ih(ko,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Gf.set(i,Ih(Gf.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Kf.set(i,Ih(Kf.get(i)||null,t,e,r,n,a)),!0}return!1}function a$(t){var e=jl(t.target);if(e!==null){var r=wc(e);if(r!==null){if(e=r.tag,e===13){if(e=XL(r),e!==null){t.blockedOn=e,n$(t.priority,function(){t$(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=g_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);u_=n,r.target.dispatchEvent(n),u_=null}else return e=mm(r),e!==null&&Sk(e),t.blockedOn=r,!1;e.shift()}return!0}function xE(t,e,r){nv(t)&&r.delete(e)}function hq(){m_=!1,jo!==null&&nv(jo)&&(jo=null),Co!==null&&nv(Co)&&(Co=null),ko!==null&&nv(ko)&&(ko=null),Gf.forEach(xE),Kf.forEach(xE)}function Dh(t,e){t.blockedOn===e&&(t.blockedOn=null,m_||(m_=!0,oa.unstable_scheduleCallback(oa.unstable_NormalPriority,hq)))}function Zf(t){function e(a){return Dh(a,t)}if(0<lg.length){Dh(lg[0],t);for(var r=1;r<lg.length;r++){var n=lg[r];n.blockedOn===t&&(n.blockedOn=null)}}for(jo!==null&&Dh(jo,t),Co!==null&&Dh(Co,t),ko!==null&&Dh(ko,t),Gf.forEach(e),Kf.forEach(e),r=0;r<ro.length;r++)n=ro[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ro.length&&(r=ro[0],r.blockedOn===null);)a$(r),r.blockedOn===null&&ro.shift()}var ju=Ms.ReactCurrentBatchConfig,Ov=!0;function fq(t,e,r,n){var a=jt,i=ju.transition;ju.transition=null;try{jt=1,jk(t,e,r,n)}finally{jt=a,ju.transition=i}}function pq(t,e,r,n){var a=jt,i=ju.transition;ju.transition=null;try{jt=4,jk(t,e,r,n)}finally{jt=a,ju.transition=i}}function jk(t,e,r,n){if(Ov){var a=g_(t,e,r,n);if(a===null)ow(t,e,n,Tv,r),yE(t,n);else if(dq(a,t,e,r,n))n.stopPropagation();else if(yE(t,n),e&4&&-1<uq.indexOf(t)){for(;a!==null;){var i=mm(a);if(i!==null&&e$(i),i=g_(t,e,r,n),i===null&&ow(t,e,n,Tv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ow(t,e,n,null,r)}}var Tv=null;function g_(t,e,r,n){if(Tv=null,t=bk(n),t=jl(t),t!==null)if(e=wc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=XL(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tv=t,null}function i$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tq()){case wk:return 1;case KL:return 4;case Pv:case rq:return 16;case ZL:return 536870912;default:return 16}default:return 16}}var yo=null,Ck=null,av=null;function s$(){if(av)return av;var t,e=Ck,r=e.length,n,a="value"in yo?yo.value:yo.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return av=a.slice(t,1<n?1-n:void 0)}function iv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cg(){return!0}function bE(){return!1}function ua(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cg:bE,this.isPropagationStopped=bE,this}return Jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cg)},persist:function(){},isPersistent:cg}),e}var Ud={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kk=ua(Ud),pm=Jt({},Ud,{view:0,detail:0}),mq=ua(pm),Q0,J0,Lh,Tx=Jt({},pm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ak,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lh&&(Lh&&t.type==="mousemove"?(Q0=t.screenX-Lh.screenX,J0=t.screenY-Lh.screenY):J0=Q0=0,Lh=t),Q0)},movementY:function(t){return"movementY"in t?t.movementY:J0}}),wE=ua(Tx),gq=Jt({},Tx,{dataTransfer:0}),vq=ua(gq),yq=Jt({},pm,{relatedTarget:0}),ew=ua(yq),xq=Jt({},Ud,{animationName:0,elapsedTime:0,pseudoElement:0}),bq=ua(xq),wq=Jt({},Ud,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_q=ua(wq),Sq=Jt({},Ud,{data:0}),_E=ua(Sq),jq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kq[t])?!!e[t]:!1}function Ak(){return Aq}var Nq=Jt({},pm,{key:function(t){if(t.key){var e=jq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ak,charCode:function(t){return t.type==="keypress"?iv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pq=ua(Nq),Eq=Jt({},Tx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SE=ua(Eq),Oq=Jt({},pm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ak}),Tq=ua(Oq),Mq=Jt({},Ud,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rq=ua(Mq),Iq=Jt({},Tx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dq=ua(Iq),Lq=[9,13,27,32],Nk=Ss&&"CompositionEvent"in window,wf=null;Ss&&"documentMode"in document&&(wf=document.documentMode);var $q=Ss&&"TextEvent"in window&&!wf,o$=Ss&&(!Nk||wf&&8<wf&&11>=wf),jE=" ",CE=!1;function l$(t,e){switch(t){case"keyup":return Lq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var su=!1;function Fq(t,e){switch(t){case"compositionend":return c$(e);case"keypress":return e.which!==32?null:(CE=!0,jE);case"textInput":return t=e.data,t===jE&&CE?null:t;default:return null}}function zq(t,e){if(su)return t==="compositionend"||!Nk&&l$(t,e)?(t=s$(),av=Ck=yo=null,su=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o$&&e.locale!=="ko"?null:e.data;default:return null}}var Bq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bq[t.type]:e==="textarea"}function u$(t,e,r,n){BL(n),e=Mv(e,"onChange"),0<e.length&&(r=new kk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var _f=null,Qf=null;function Wq(t){w$(t,0)}function Mx(t){var e=cu(t);if(RL(e))return t}function Hq(t,e){if(t==="change")return e}var d$=!1;if(Ss){var tw;if(Ss){var rw="oninput"in document;if(!rw){var AE=document.createElement("div");AE.setAttribute("oninput","return;"),rw=typeof AE.oninput=="function"}tw=rw}else tw=!1;d$=tw&&(!document.documentMode||9<document.documentMode)}function NE(){_f&&(_f.detachEvent("onpropertychange",h$),Qf=_f=null)}function h$(t){if(t.propertyName==="value"&&Mx(Qf)){var e=[];u$(e,Qf,t,bk(t)),YL(Wq,e)}}function Uq(t,e,r){t==="focusin"?(NE(),_f=e,Qf=r,_f.attachEvent("onpropertychange",h$)):t==="focusout"&&NE()}function Yq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mx(Qf)}function Xq(t,e){if(t==="click")return Mx(e)}function Vq(t,e){if(t==="input"||t==="change")return Mx(e)}function qq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hi=typeof Object.is=="function"?Object.is:qq;function Jf(t,e){if(hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Q1.call(e,a)||!hi(t[a],e[a]))return!1}return!0}function PE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function EE(t,e){var r=PE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=PE(r)}}function f$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?f$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p$(){for(var t=window,e=kv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=kv(t.document)}return e}function Pk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Gq(t){var e=p$(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&f$(r.ownerDocument.documentElement,r)){if(n!==null&&Pk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=EE(r,i);var s=EE(r,n);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kq=Ss&&"documentMode"in document&&11>=document.documentMode,ou=null,v_=null,Sf=null,y_=!1;function OE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;y_||ou==null||ou!==kv(n)||(n=ou,"selectionStart"in n&&Pk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sf&&Jf(Sf,n)||(Sf=n,n=Mv(v_,"onSelect"),0<n.length&&(e=new kk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ou)))}function ug(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var lu={animationend:ug("Animation","AnimationEnd"),animationiteration:ug("Animation","AnimationIteration"),animationstart:ug("Animation","AnimationStart"),transitionend:ug("Transition","TransitionEnd")},nw={},m$={};Ss&&(m$=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function Rx(t){if(nw[t])return nw[t];if(!lu[t])return t;var e=lu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in m$)return nw[t]=e[r];return t}var g$=Rx("animationend"),v$=Rx("animationiteration"),y$=Rx("animationstart"),x$=Rx("transitionend"),b$=new Map,TE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(t,e){b$.set(t,e),bc(e,[t])}for(var aw=0;aw<TE.length;aw++){var iw=TE[aw],Zq=iw.toLowerCase(),Qq=iw[0].toUpperCase()+iw.slice(1);Ko(Zq,"on"+Qq)}Ko(g$,"onAnimationEnd");Ko(v$,"onAnimationIteration");Ko(y$,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(x$,"onTransitionEnd");Ku("onMouseEnter",["mouseout","mouseover"]);Ku("onMouseLeave",["mouseout","mouseover"]);Ku("onPointerEnter",["pointerout","pointerover"]);Ku("onPointerLeave",["pointerout","pointerover"]);bc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bc("onBeforeInput",["compositionend","keypress","textInput","paste"]);bc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jq=new Set("cancel close invalid load scroll toggle".split(" ").concat(df));function ME(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ZV(n,e,void 0,t),t.currentTarget=null}function w$(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;ME(a,o,u),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;ME(a,o,u),i=l}}}if(Nv)throw t=f_,Nv=!1,f_=null,t}function Ut(t,e){var r=e[S_];r===void 0&&(r=e[S_]=new Set);var n=t+"__bubble";r.has(n)||(_$(e,t,2,!1),r.add(n))}function sw(t,e,r){var n=0;e&&(n|=4),_$(r,t,n,e)}var dg="_reactListening"+Math.random().toString(36).slice(2);function ep(t){if(!t[dg]){t[dg]=!0,PL.forEach(function(r){r!=="selectionchange"&&(Jq.has(r)||sw(r,!1,t),sw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dg]||(e[dg]=!0,sw("selectionchange",!1,e))}}function _$(t,e,r,n){switch(i$(e)){case 1:var a=fq;break;case 4:a=pq;break;default:a=jk}r=a.bind(null,e,r,t),a=void 0,!h_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function ow(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=jl(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}YL(function(){var u=i,d=bk(r),h=[];e:{var f=b$.get(t);if(f!==void 0){var p=kk,g=t;switch(t){case"keypress":if(iv(r)===0)break e;case"keydown":case"keyup":p=Pq;break;case"focusin":g="focus",p=ew;break;case"focusout":g="blur",p=ew;break;case"beforeblur":case"afterblur":p=ew;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Tq;break;case g$:case v$:case y$:p=bq;break;case x$:p=Rq;break;case"scroll":p=mq;break;case"wheel":p=Dq;break;case"copy":case"cut":case"paste":p=_q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=SE}var m=(e&4)!==0,v=!m&&t==="scroll",x=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,x!==null&&(w=qf(y,x),w!=null&&m.push(tp(y,w,b)))),v)break;y=y.return}0<m.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==u_&&(g=r.relatedTarget||r.fromElement)&&(jl(g)||g[js]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?jl(g):null,g!==null&&(v=wc(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=wE,w="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=SE,w="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?f:cu(p),b=g==null?f:cu(g),f=new m(w,y+"leave",p,r,d),f.target=v,f.relatedTarget=b,w=null,jl(d)===u&&(m=new m(x,y+"enter",g,r,d),m.target=b,m.relatedTarget=v,w=m),v=w,p&&g)t:{for(m=p,x=g,y=0,b=m;b;b=Lc(b))y++;for(b=0,w=x;w;w=Lc(w))b++;for(;0<y-b;)m=Lc(m),y--;for(;0<b-y;)x=Lc(x),b--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=Lc(m),x=Lc(x)}m=null}else m=null;p!==null&&RE(h,f,p,m,!1),g!==null&&v!==null&&RE(h,v,g,m,!0)}}e:{if(f=u?cu(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=Hq;else if(kE(f))if(d$)S=Vq;else{S=Yq;var k=Uq}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Xq);if(S&&(S=S(t,u))){u$(h,S,r,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&i_(f,"number",f.value)}switch(k=u?cu(u):window,t){case"focusin":(kE(k)||k.contentEditable==="true")&&(ou=k,v_=u,Sf=null);break;case"focusout":Sf=v_=ou=null;break;case"mousedown":y_=!0;break;case"contextmenu":case"mouseup":case"dragend":y_=!1,OE(h,r,d);break;case"selectionchange":if(Kq)break;case"keydown":case"keyup":OE(h,r,d)}var C;if(Nk)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else su?l$(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(o$&&r.locale!=="ko"&&(su||A!=="onCompositionStart"?A==="onCompositionEnd"&&su&&(C=s$()):(yo=d,Ck="value"in yo?yo.value:yo.textContent,su=!0)),k=Mv(u,A),0<k.length&&(A=new _E(A,t,null,r,d),h.push({event:A,listeners:k}),C?A.data=C:(C=c$(r),C!==null&&(A.data=C)))),(C=$q?Fq(t,r):zq(t,r))&&(u=Mv(u,"onBeforeInput"),0<u.length&&(d=new _E("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}w$(h,e)})}function tp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Mv(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=qf(t,r),i!=null&&n.unshift(tp(t,i,a)),i=qf(t,e),i!=null&&n.push(tp(t,i,a))),t=t.return}return n}function Lc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RE(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,a?(l=qf(r,i),l!=null&&s.unshift(tp(r,l,o))):a||(l=qf(r,i),l!=null&&s.push(tp(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var e9=/\r\n?/g,t9=/\u0000|\uFFFD/g;function IE(t){return(typeof t=="string"?t:""+t).replace(e9,`
`).replace(t9,"")}function hg(t,e,r){if(e=IE(e),IE(t)!==e&&r)throw Error(ge(425))}function Rv(){}var x_=null,b_=null;function w_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var __=typeof setTimeout=="function"?setTimeout:void 0,r9=typeof clearTimeout=="function"?clearTimeout:void 0,DE=typeof Promise=="function"?Promise:void 0,n9=typeof queueMicrotask=="function"?queueMicrotask:typeof DE<"u"?function(t){return DE.resolve(null).then(t).catch(a9)}:__;function a9(t){setTimeout(function(){throw t})}function lw(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Zf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Zf(e)}function Ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Yd=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Yd,rp="__reactProps$"+Yd,js="__reactContainer$"+Yd,S_="__reactEvents$"+Yd,i9="__reactListeners$"+Yd,s9="__reactHandles$"+Yd;function jl(t){var e=t[Ti];if(e)return e;for(var r=t.parentNode;r;){if(e=r[js]||r[Ti]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=LE(t);t!==null;){if(r=t[Ti])return r;t=LE(t)}return e}t=r,r=t.parentNode}return null}function mm(t){return t=t[Ti]||t[js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function Ix(t){return t[rp]||null}var j_=[],uu=-1;function Zo(t){return{current:t}}function Vt(t){0>uu||(t.current=j_[uu],j_[uu]=null,uu--)}function zt(t,e){uu++,j_[uu]=t.current,t.current=e}var Lo={},on=Zo(Lo),Fn=Zo(!1),Jl=Lo;function Zu(t,e){var r=t.type.contextTypes;if(!r)return Lo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function zn(t){return t=t.childContextTypes,t!=null}function Iv(){Vt(Fn),Vt(on)}function $E(t,e,r){if(on.current!==Lo)throw Error(ge(168));zt(on,e),zt(Fn,r)}function S$(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(ge(108,UV(t)||"Unknown",a));return Jt({},r,n)}function Dv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lo,Jl=on.current,zt(on,t),zt(Fn,Fn.current),!0}function FE(t,e,r){var n=t.stateNode;if(!n)throw Error(ge(169));r?(t=S$(t,e,Jl),n.__reactInternalMemoizedMergedChildContext=t,Vt(Fn),Vt(on),zt(on,t)):Vt(Fn),zt(Fn,r)}var is=null,Dx=!1,cw=!1;function j$(t){is===null?is=[t]:is.push(t)}function o9(t){Dx=!0,j$(t)}function Qo(){if(!cw&&is!==null){cw=!0;var t=0,e=jt;try{var r=is;for(jt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}is=null,Dx=!1}catch(a){throw is!==null&&(is=is.slice(t+1)),GL(wk,Qo),a}finally{jt=e,cw=!1}}return null}var du=[],hu=0,Lv=null,$v=0,wa=[],_a=0,ec=null,os=1,ls="";function fl(t,e){du[hu++]=$v,du[hu++]=Lv,Lv=t,$v=e}function C$(t,e,r){wa[_a++]=os,wa[_a++]=ls,wa[_a++]=ec,ec=t;var n=os;t=ls;var a=32-oi(n)-1;n&=~(1<<a),r+=1;var i=32-oi(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,os=1<<32-oi(e)+a|r<<a|n,ls=i+t}else os=1<<i|r<<a|n,ls=t}function Ek(t){t.return!==null&&(fl(t,1),C$(t,1,0))}function Ok(t){for(;t===Lv;)Lv=du[--hu],du[hu]=null,$v=du[--hu],du[hu]=null;for(;t===ec;)ec=wa[--_a],wa[_a]=null,ls=wa[--_a],wa[_a]=null,os=wa[--_a],wa[_a]=null}var na=null,ra=null,qt=!1,Ja=null;function k$(t,e){var r=Sa(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function zE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,na=t,ra=Ao(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,na=t,ra=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ec!==null?{id:os,overflow:ls}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Sa(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,na=t,ra=null,!0):!1;default:return!1}}function C_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function k_(t){if(qt){var e=ra;if(e){var r=e;if(!zE(t,e)){if(C_(t))throw Error(ge(418));e=Ao(r.nextSibling);var n=na;e&&zE(t,e)?k$(n,r):(t.flags=t.flags&-4097|2,qt=!1,na=t)}}else{if(C_(t))throw Error(ge(418));t.flags=t.flags&-4097|2,qt=!1,na=t}}}function BE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;na=t}function fg(t){if(t!==na)return!1;if(!qt)return BE(t),qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!w_(t.type,t.memoizedProps)),e&&(e=ra)){if(C_(t))throw A$(),Error(ge(418));for(;e;)k$(t,e),e=Ao(e.nextSibling)}if(BE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ra=Ao(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ra=null}}else ra=na?Ao(t.stateNode.nextSibling):null;return!0}function A$(){for(var t=ra;t;)t=Ao(t.nextSibling)}function Qu(){ra=na=null,qt=!1}function Tk(t){Ja===null?Ja=[t]:Ja.push(t)}var l9=Ms.ReactCurrentBatchConfig;function $h(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,t))}return t}function pg(t,e){throw t=Object.prototype.toString.call(e),Error(ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WE(t){var e=t._init;return e(t._payload)}function N$(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=Oo(x,y),x.index=0,x.sibling=null,x}function i(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,b,w){return y===null||y.tag!==6?(y=gw(b,x.mode,w),y.return=x,y):(y=a(y,b),y.return=x,y)}function l(x,y,b,w){var S=b.type;return S===iu?d(x,y,b.props.children,w,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qs&&WE(S)===y.type)?(w=a(y,b.props),w.ref=$h(x,y,b),w.return=x,w):(w=hv(b.type,b.key,b.props,null,x.mode,w),w.ref=$h(x,y,b),w.return=x,w)}function u(x,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=vw(b,x.mode,w),y.return=x,y):(y=a(y,b.children||[]),y.return=x,y)}function d(x,y,b,w,S){return y===null||y.tag!==7?(y=Xl(b,x.mode,w,S),y.return=x,y):(y=a(y,b),y.return=x,y)}function h(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=gw(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ng:return b=hv(y.type,y.key,y.props,null,x.mode,b),b.ref=$h(x,null,y),b.return=x,b;case au:return y=vw(y,x.mode,b),y.return=x,y;case Qs:var w=y._init;return h(x,w(y._payload),b)}if(cf(y)||Mh(y))return y=Xl(y,x.mode,b,null),y.return=x,y;pg(x,y)}return null}function f(x,y,b,w){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(x,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ng:return b.key===S?l(x,y,b,w):null;case au:return b.key===S?u(x,y,b,w):null;case Qs:return S=b._init,f(x,y,S(b._payload),w)}if(cf(b)||Mh(b))return S!==null?null:d(x,y,b,w,null);pg(x,b)}return null}function p(x,y,b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(b)||null,o(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ng:return x=x.get(w.key===null?b:w.key)||null,l(y,x,w,S);case au:return x=x.get(w.key===null?b:w.key)||null,u(y,x,w,S);case Qs:var k=w._init;return p(x,y,b,k(w._payload),S)}if(cf(w)||Mh(w))return x=x.get(b)||null,d(y,x,w,S,null);pg(y,w)}return null}function g(x,y,b,w){for(var S=null,k=null,C=y,A=y=0,N=null;C!==null&&A<b.length;A++){C.index>A?(N=C,C=null):N=C.sibling;var P=f(x,C,b[A],w);if(P===null){C===null&&(C=N);break}t&&C&&P.alternate===null&&e(x,C),y=i(P,y,A),k===null?S=P:k.sibling=P,k=P,C=N}if(A===b.length)return r(x,C),qt&&fl(x,A),S;if(C===null){for(;A<b.length;A++)C=h(x,b[A],w),C!==null&&(y=i(C,y,A),k===null?S=C:k.sibling=C,k=C);return qt&&fl(x,A),S}for(C=n(x,C);A<b.length;A++)N=p(C,x,A,b[A],w),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?A:N.key),y=i(N,y,A),k===null?S=N:k.sibling=N,k=N);return t&&C.forEach(function(E){return e(x,E)}),qt&&fl(x,A),S}function m(x,y,b,w){var S=Mh(b);if(typeof S!="function")throw Error(ge(150));if(b=S.call(b),b==null)throw Error(ge(151));for(var k=S=null,C=y,A=y=0,N=null,P=b.next();C!==null&&!P.done;A++,P=b.next()){C.index>A?(N=C,C=null):N=C.sibling;var E=f(x,C,P.value,w);if(E===null){C===null&&(C=N);break}t&&C&&E.alternate===null&&e(x,C),y=i(E,y,A),k===null?S=E:k.sibling=E,k=E,C=N}if(P.done)return r(x,C),qt&&fl(x,A),S;if(C===null){for(;!P.done;A++,P=b.next())P=h(x,P.value,w),P!==null&&(y=i(P,y,A),k===null?S=P:k.sibling=P,k=P);return qt&&fl(x,A),S}for(C=n(x,C);!P.done;A++,P=b.next())P=p(C,x,A,P.value,w),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?A:P.key),y=i(P,y,A),k===null?S=P:k.sibling=P,k=P);return t&&C.forEach(function(O){return e(x,O)}),qt&&fl(x,A),S}function v(x,y,b,w){if(typeof b=="object"&&b!==null&&b.type===iu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ng:e:{for(var S=b.key,k=y;k!==null;){if(k.key===S){if(S=b.type,S===iu){if(k.tag===7){r(x,k.sibling),y=a(k,b.props.children),y.return=x,x=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qs&&WE(S)===k.type){r(x,k.sibling),y=a(k,b.props),y.ref=$h(x,k,b),y.return=x,x=y;break e}r(x,k);break}else e(x,k);k=k.sibling}b.type===iu?(y=Xl(b.props.children,x.mode,w,b.key),y.return=x,x=y):(w=hv(b.type,b.key,b.props,null,x.mode,w),w.ref=$h(x,y,b),w.return=x,x=w)}return s(x);case au:e:{for(k=b.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=a(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=vw(b,x.mode,w),y.return=x,x=y}return s(x);case Qs:return k=b._init,v(x,y,k(b._payload),w)}if(cf(b))return g(x,y,b,w);if(Mh(b))return m(x,y,b,w);pg(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,b),y.return=x,x=y):(r(x,y),y=gw(b,x.mode,w),y.return=x,x=y),s(x)):r(x,y)}return v}var Ju=N$(!0),P$=N$(!1),Fv=Zo(null),zv=null,fu=null,Mk=null;function Rk(){Mk=fu=zv=null}function Ik(t){var e=Fv.current;Vt(Fv),t._currentValue=e}function A_(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Cu(t,e){zv=t,Mk=fu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function Ta(t){var e=t._currentValue;if(Mk!==t)if(t={context:t,memoizedValue:e,next:null},fu===null){if(zv===null)throw Error(ge(308));fu=t,zv.dependencies={lanes:0,firstContext:t}}else fu=fu.next=t;return e}var Cl=null;function Dk(t){Cl===null?Cl=[t]:Cl.push(t)}function E$(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,Dk(e)):(r.next=a.next,a.next=r),e.interleaved=r,Cs(t,n)}function Cs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Js=!1;function Lk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function No(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,pt&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Cs(t,r)}return a=n.interleaved,a===null?(e.next=e,Dk(n)):(e.next=a.next,a.next=e),n.interleaved=e,Cs(t,r)}function sv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_k(t,r)}}function HE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Bv(t,e,r,n){var a=t.updateQueue;Js=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=a.baseState;s=0,d=u=l=null,o=i;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,m=o;switch(f=e,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Jt({},h,f);break e;case 2:Js=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,s|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(l=h),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);rc|=s,t.lanes=s,t.memoizedState=h}}function UE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ge(191,a));a.call(n)}}}var gm={},Fi=Zo(gm),np=Zo(gm),ap=Zo(gm);function kl(t){if(t===gm)throw Error(ge(174));return t}function $k(t,e){switch(zt(ap,e),zt(np,t),zt(Fi,gm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:o_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=o_(e,t)}Vt(Fi),zt(Fi,e)}function ed(){Vt(Fi),Vt(np),Vt(ap)}function T$(t){kl(ap.current);var e=kl(Fi.current),r=o_(e,t.type);e!==r&&(zt(np,t),zt(Fi,r))}function Fk(t){np.current===t&&(Vt(Fi),Vt(np))}var Kt=Zo(0);function Wv(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uw=[];function zk(){for(var t=0;t<uw.length;t++)uw[t]._workInProgressVersionPrimary=null;uw.length=0}var ov=Ms.ReactCurrentDispatcher,dw=Ms.ReactCurrentBatchConfig,tc=0,Qt=null,yr=null,Nr=null,Hv=!1,jf=!1,ip=0,c9=0;function Xr(){throw Error(ge(321))}function Bk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!hi(t[r],e[r]))return!1;return!0}function Wk(t,e,r,n,a,i){if(tc=i,Qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ov.current=t===null||t.memoizedState===null?f9:p9,t=r(n,a),jf){i=0;do{if(jf=!1,ip=0,25<=i)throw Error(ge(301));i+=1,Nr=yr=null,e.updateQueue=null,ov.current=m9,t=r(n,a)}while(jf)}if(ov.current=Uv,e=yr!==null&&yr.next!==null,tc=0,Nr=yr=Qt=null,Hv=!1,e)throw Error(ge(300));return t}function Hk(){var t=ip!==0;return ip=0,t}function Ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?Qt.memoizedState=Nr=t:Nr=Nr.next=t,Nr}function Ma(){if(yr===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=yr.next;var e=Nr===null?Qt.memoizedState:Nr.next;if(e!==null)Nr=e,yr=t;else{if(t===null)throw Error(ge(310));yr=t,t={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Nr===null?Qt.memoizedState=Nr=t:Nr=Nr.next=t}return Nr}function sp(t,e){return typeof e=="function"?e(t):e}function hw(t){var e=Ma(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=yr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,u=i;do{var d=u.lane;if((tc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,s=n):l=l.next=h,Qt.lanes|=d,rc|=d}u=u.next}while(u!==null&&u!==i);l===null?s=n:l.next=o,hi(n,e.memoizedState)||(Dn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Qt.lanes|=i,rc|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function fw(t){var e=Ma(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);hi(i,e.memoizedState)||(Dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function M$(){}function R$(t,e){var r=Qt,n=Ma(),a=e(),i=!hi(n.memoizedState,a);if(i&&(n.memoizedState=a,Dn=!0),n=n.queue,Uk(L$.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Nr!==null&&Nr.memoizedState.tag&1){if(r.flags|=2048,op(9,D$.bind(null,r,n,a,e),void 0,null),Pr===null)throw Error(ge(349));tc&30||I$(r,e,a)}return a}function I$(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function D$(t,e,r,n){e.value=r,e.getSnapshot=n,$$(e)&&F$(t)}function L$(t,e,r){return r(function(){$$(e)&&F$(t)})}function $$(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hi(t,r)}catch{return!0}}function F$(t){var e=Cs(t,1);e!==null&&li(e,t,1,-1)}function YE(t){var e=Ai();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:t},e.queue=t,t=t.dispatch=h9.bind(null,Qt,t),[e.memoizedState,t]}function op(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function z$(){return Ma().memoizedState}function lv(t,e,r,n){var a=Ai();Qt.flags|=t,a.memoizedState=op(1|e,r,void 0,n===void 0?null:n)}function Lx(t,e,r,n){var a=Ma();n=n===void 0?null:n;var i=void 0;if(yr!==null){var s=yr.memoizedState;if(i=s.destroy,n!==null&&Bk(n,s.deps)){a.memoizedState=op(e,r,i,n);return}}Qt.flags|=t,a.memoizedState=op(1|e,r,i,n)}function XE(t,e){return lv(8390656,8,t,e)}function Uk(t,e){return Lx(2048,8,t,e)}function B$(t,e){return Lx(4,2,t,e)}function W$(t,e){return Lx(4,4,t,e)}function H$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function U$(t,e,r){return r=r!=null?r.concat([t]):null,Lx(4,4,H$.bind(null,e,t),r)}function Yk(){}function Y$(t,e){var r=Ma();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Bk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function X$(t,e){var r=Ma();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Bk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function V$(t,e,r){return tc&21?(hi(r,e)||(r=QL(),Qt.lanes|=r,rc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=r)}function u9(t,e){var r=jt;jt=r!==0&&4>r?r:4,t(!0);var n=dw.transition;dw.transition={};try{t(!1),e()}finally{jt=r,dw.transition=n}}function q$(){return Ma().memoizedState}function d9(t,e,r){var n=Eo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},G$(t))K$(e,r);else if(r=E$(t,e,r,n),r!==null){var a=_n();li(r,t,n,a),Z$(r,e,n)}}function h9(t,e,r){var n=Eo(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(G$(t))K$(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,hi(o,s)){var l=e.interleaved;l===null?(a.next=a,Dk(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}r=E$(t,e,a,n),r!==null&&(a=_n(),li(r,t,n,a),Z$(r,e,n))}}function G$(t){var e=t.alternate;return t===Qt||e!==null&&e===Qt}function K$(t,e){jf=Hv=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Z$(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_k(t,r)}}var Uv={readContext:Ta,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},f9={readContext:Ta,useCallback:function(t,e){return Ai().memoizedState=[t,e===void 0?null:e],t},useContext:Ta,useEffect:XE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,lv(4194308,4,H$.bind(null,e,t),r)},useLayoutEffect:function(t,e){return lv(4194308,4,t,e)},useInsertionEffect:function(t,e){return lv(4,2,t,e)},useMemo:function(t,e){var r=Ai();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ai();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=d9.bind(null,Qt,t),[n.memoizedState,t]},useRef:function(t){var e=Ai();return t={current:t},e.memoizedState=t},useState:YE,useDebugValue:Yk,useDeferredValue:function(t){return Ai().memoizedState=t},useTransition:function(){var t=YE(!1),e=t[0];return t=u9.bind(null,t[1]),Ai().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Qt,a=Ai();if(qt){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=e(),Pr===null)throw Error(ge(349));tc&30||I$(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,XE(L$.bind(null,n,i,t),[t]),n.flags|=2048,op(9,D$.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Ai(),e=Pr.identifierPrefix;if(qt){var r=ls,n=os;r=(n&~(1<<32-oi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ip++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=c9++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p9={readContext:Ta,useCallback:Y$,useContext:Ta,useEffect:Uk,useImperativeHandle:U$,useInsertionEffect:B$,useLayoutEffect:W$,useMemo:X$,useReducer:hw,useRef:z$,useState:function(){return hw(sp)},useDebugValue:Yk,useDeferredValue:function(t){var e=Ma();return V$(e,yr.memoizedState,t)},useTransition:function(){var t=hw(sp)[0],e=Ma().memoizedState;return[t,e]},useMutableSource:M$,useSyncExternalStore:R$,useId:q$,unstable_isNewReconciler:!1},m9={readContext:Ta,useCallback:Y$,useContext:Ta,useEffect:Uk,useImperativeHandle:U$,useInsertionEffect:B$,useLayoutEffect:W$,useMemo:X$,useReducer:fw,useRef:z$,useState:function(){return fw(sp)},useDebugValue:Yk,useDeferredValue:function(t){var e=Ma();return yr===null?e.memoizedState=t:V$(e,yr.memoizedState,t)},useTransition:function(){var t=fw(sp)[0],e=Ma().memoizedState;return[t,e]},useMutableSource:M$,useSyncExternalStore:R$,useId:q$,unstable_isNewReconciler:!1};function Xa(t,e){if(t&&t.defaultProps){e=Jt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function N_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Jt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $x={isMounted:function(t){return(t=t._reactInternals)?wc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=_n(),a=Eo(t),i=ms(n,a);i.payload=e,r!=null&&(i.callback=r),e=No(t,i,a),e!==null&&(li(e,t,a,n),sv(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=_n(),a=Eo(t),i=ms(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=No(t,i,a),e!==null&&(li(e,t,a,n),sv(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=_n(),n=Eo(t),a=ms(r,n);a.tag=2,e!=null&&(a.callback=e),e=No(t,a,n),e!==null&&(li(e,t,n,r),sv(e,t,n))}};function VE(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!Jf(r,n)||!Jf(a,i):!0}function Q$(t,e,r){var n=!1,a=Lo,i=e.contextType;return typeof i=="object"&&i!==null?i=Ta(i):(a=zn(e)?Jl:on.current,n=e.contextTypes,i=(n=n!=null)?Zu(t,a):Lo),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$x,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function qE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&$x.enqueueReplaceState(e,e.state,null)}function P_(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Lk(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=Ta(i):(i=zn(e)?Jl:on.current,a.context=Zu(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(N_(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&$x.enqueueReplaceState(a,a.state,null),Bv(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function td(t,e){try{var r="",n=e;do r+=HV(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function pw(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function E_(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var g9=typeof WeakMap=="function"?WeakMap:Map;function J$(t,e,r){r=ms(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Xv||(Xv=!0,z_=n),E_(t,e)},r}function eF(t,e,r){r=ms(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){E_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){E_(t,e),typeof n!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function GE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new g9;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=E9.bind(null,t,e,r),e.then(t,t))}function KE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZE(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ms(-1,1),e.tag=2,No(r,e,1))),r.lanes|=1),t)}var v9=Ms.ReactCurrentOwner,Dn=!1;function pn(t,e,r,n){e.child=t===null?P$(e,null,r,n):Ju(e,t.child,r,n)}function QE(t,e,r,n,a){r=r.render;var i=e.ref;return Cu(e,a),n=Wk(t,e,r,n,i,a),r=Hk(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ks(t,e,a)):(qt&&r&&Ek(e),e.flags|=1,pn(t,e,n,a),e.child)}function JE(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Jk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,tF(t,e,i,n,a)):(t=hv(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Jf,r(s,n)&&t.ref===e.ref)return ks(t,e,a)}return e.flags|=1,t=Oo(i,n),t.ref=e.ref,t.return=e,e.child=t}function tF(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(Jf(i,n)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,ks(t,e,a)}return O_(t,e,r,n,a)}function rF(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(mu,Qn),Qn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,zt(mu,Qn),Qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,zt(mu,Qn),Qn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,zt(mu,Qn),Qn|=n;return pn(t,e,a,r),e.child}function nF(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function O_(t,e,r,n,a){var i=zn(r)?Jl:on.current;return i=Zu(e,i),Cu(e,a),r=Wk(t,e,r,n,i,a),n=Hk(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ks(t,e,a)):(qt&&n&&Ek(e),e.flags|=1,pn(t,e,r,a),e.child)}function e2(t,e,r,n,a){if(zn(r)){var i=!0;Dv(e)}else i=!1;if(Cu(e,a),e.stateNode===null)cv(t,e),Q$(e,r,n),P_(e,r,n,a),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ta(u):(u=zn(r)?Jl:on.current,u=Zu(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&qE(e,s,n,u),Js=!1;var f=e.memoizedState;s.state=f,Bv(e,n,s,a),l=e.memoizedState,o!==n||f!==l||Fn.current||Js?(typeof d=="function"&&(N_(e,r,d,n),l=e.memoizedState),(o=Js||VE(e,r,o,n,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,O$(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Xa(e.type,o),s.props=u,h=e.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ta(l):(l=zn(r)?Jl:on.current,l=Zu(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||f!==l)&&qE(e,s,n,l),Js=!1,f=e.memoizedState,s.state=f,Bv(e,n,s,a);var g=e.memoizedState;o!==h||f!==g||Fn.current||Js?(typeof p=="function"&&(N_(e,r,p,n),g=e.memoizedState),(u=Js||VE(e,r,u,n,f,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return T_(t,e,r,n,i,a)}function T_(t,e,r,n,a,i){nF(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return a&&FE(e,r,!1),ks(t,e,i);n=e.stateNode,v9.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Ju(e,t.child,null,i),e.child=Ju(e,null,o,i)):pn(t,e,o,i),e.memoizedState=n.state,a&&FE(e,r,!0),e.child}function aF(t){var e=t.stateNode;e.pendingContext?$E(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$E(t,e.context,!1),$k(t,e.containerInfo)}function t2(t,e,r,n,a){return Qu(),Tk(a),e.flags|=256,pn(t,e,r,n),e.child}var M_={dehydrated:null,treeContext:null,retryLane:0};function R_(t){return{baseLanes:t,cachePool:null,transitions:null}}function iF(t,e,r){var n=e.pendingProps,a=Kt.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),zt(Kt,a&1),t===null)return k_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Bx(s,n,0,null),t=Xl(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=R_(r),e.memoizedState=M_,t):Xk(e,s));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return y9(t,e,s,n,o,a,r);if(i){i=n.fallback,s=e.mode,a=t.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Oo(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Oo(o,i):(i=Xl(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?R_(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=M_,n}return i=t.child,t=i.sibling,n=Oo(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Xk(t,e){return e=Bx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mg(t,e,r,n){return n!==null&&Tk(n),Ju(e,t.child,null,r),t=Xk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y9(t,e,r,n,a,i,s){if(r)return e.flags&256?(e.flags&=-257,n=pw(Error(ge(422))),mg(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=Bx({mode:"visible",children:n.children},a,0,null),i=Xl(i,a,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ju(e,t.child,null,s),e.child.memoizedState=R_(s),e.memoizedState=M_,i);if(!(e.mode&1))return mg(t,e,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(ge(419)),n=pw(i,n,void 0),mg(t,e,s,n)}if(o=(s&t.childLanes)!==0,Dn||o){if(n=Pr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Cs(t,a),li(n,t,a,-1))}return Qk(),n=pw(Error(ge(421))),mg(t,e,s,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=O9.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,ra=Ao(a.nextSibling),na=e,qt=!0,Ja=null,t!==null&&(wa[_a++]=os,wa[_a++]=ls,wa[_a++]=ec,os=t.id,ls=t.overflow,ec=e),e=Xk(e,n.children),e.flags|=4096,e)}function r2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),A_(t.return,e,r)}function mw(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function sF(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(pn(t,e,n.children,r),n=Kt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r2(t,r,e);else if(t.tag===19)r2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(zt(Kt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Wv(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),mw(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Wv(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}mw(e,!0,r,null,i);break;case"together":mw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ks(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),rc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,r=Oo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Oo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function x9(t,e,r){switch(e.tag){case 3:aF(e),Qu();break;case 5:T$(e);break;case 1:zn(e.type)&&Dv(e);break;case 4:$k(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;zt(Fv,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(zt(Kt,Kt.current&1),e.flags|=128,null):r&e.child.childLanes?iF(t,e,r):(zt(Kt,Kt.current&1),t=ks(t,e,r),t!==null?t.sibling:null);zt(Kt,Kt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return sF(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zt(Kt,Kt.current),n)break;return null;case 22:case 23:return e.lanes=0,rF(t,e,r)}return ks(t,e,r)}var oF,I_,lF,cF;oF=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};I_=function(){};lF=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,kl(Fi.current);var i=null;switch(r){case"input":a=n_(t,a),n=n_(t,n),i=[];break;case"select":a=Jt({},a,{value:void 0}),n=Jt({},n,{value:void 0}),i=[];break;case"textarea":a=s_(t,a),n=s_(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rv)}l_(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ut("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};cF=function(t,e,r,n){r!==n&&(e.flags|=4)};function Fh(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function b9(t,e,r){var n=e.pendingProps;switch(Ok(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(e),null;case 1:return zn(e.type)&&Iv(),Vr(e),null;case 3:return n=e.stateNode,ed(),Vt(Fn),Vt(on),zk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ja!==null&&(H_(Ja),Ja=null))),I_(t,e),Vr(e),null;case 5:Fk(e);var a=kl(ap.current);if(r=e.type,t!==null&&e.stateNode!=null)lF(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ge(166));return Vr(e),null}if(t=kl(Fi.current),fg(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ti]=e,n[rp]=i,t=(e.mode&1)!==0,r){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(a=0;a<df.length;a++)Ut(df[a],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":dE(n,i),Ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ut("invalid",n);break;case"textarea":fE(n,i),Ut("invalid",n)}l_(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&hg(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&hg(n.textContent,o,t),a=["children",""+o]):Xf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ut("scroll",n)}switch(r){case"input":ag(n),hE(n,i,!0);break;case"textarea":ag(n),pE(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Rv)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LL(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Ti]=e,t[rp]=n,oF(t,e,!1,!1),e.stateNode=t;e:{switch(s=c_(r,n),r){case"dialog":Ut("cancel",t),Ut("close",t),a=n;break;case"iframe":case"object":case"embed":Ut("load",t),a=n;break;case"video":case"audio":for(a=0;a<df.length;a++)Ut(df[a],t);a=n;break;case"source":Ut("error",t),a=n;break;case"img":case"image":case"link":Ut("error",t),Ut("load",t),a=n;break;case"details":Ut("toggle",t),a=n;break;case"input":dE(t,n),a=n_(t,n),Ut("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Jt({},n,{value:void 0}),Ut("invalid",t);break;case"textarea":fE(t,n),a=s_(t,n),Ut("invalid",t);break;default:a=n}l_(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?zL(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$L(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vf(t,l):typeof l=="number"&&Vf(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ut("scroll",t):l!=null&&gk(t,i,l,s))}switch(r){case"input":ag(t),hE(t,n,!1);break;case"textarea":ag(t),pE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Do(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?wu(t,!!n.multiple,i,!1):n.defaultValue!=null&&wu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Rv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vr(e),null;case 6:if(t&&e.stateNode!=null)cF(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ge(166));if(r=kl(ap.current),kl(Fi.current),fg(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ti]=e,(i=n.nodeValue!==r)&&(t=na,t!==null))switch(t.tag){case 3:hg(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hg(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ti]=e,e.stateNode=n}return Vr(e),null;case 13:if(Vt(Kt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qt&&ra!==null&&e.mode&1&&!(e.flags&128))A$(),Qu(),e.flags|=98560,i=!1;else if(i=fg(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ge(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ge(317));i[Ti]=e}else Qu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vr(e),i=!1}else Ja!==null&&(H_(Ja),Ja=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?br===0&&(br=3):Qk())),e.updateQueue!==null&&(e.flags|=4),Vr(e),null);case 4:return ed(),I_(t,e),t===null&&ep(e.stateNode.containerInfo),Vr(e),null;case 10:return Ik(e.type._context),Vr(e),null;case 17:return zn(e.type)&&Iv(),Vr(e),null;case 19:if(Vt(Kt),i=e.memoizedState,i===null)return Vr(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)Fh(i,!1);else{if(br!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wv(t),s!==null){for(e.flags|=128,Fh(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return zt(Kt,Kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&or()>rd&&(e.flags|=128,n=!0,Fh(i,!1),e.lanes=4194304)}else{if(!n)if(t=Wv(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Fh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!qt)return Vr(e),null}else 2*or()-i.renderingStartTime>rd&&r!==1073741824&&(e.flags|=128,n=!0,Fh(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=or(),e.sibling=null,r=Kt.current,zt(Kt,n?r&1|2:r&1),e):(Vr(e),null);case 22:case 23:return Zk(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Qn&1073741824&&(Vr(e),e.subtreeFlags&6&&(e.flags|=8192)):Vr(e),null;case 24:return null;case 25:return null}throw Error(ge(156,e.tag))}function w9(t,e){switch(Ok(e),e.tag){case 1:return zn(e.type)&&Iv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ed(),Vt(Fn),Vt(on),zk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fk(e),null;case 13:if(Vt(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ge(340));Qu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(Kt),null;case 4:return ed(),null;case 10:return Ik(e.type._context),null;case 22:case 23:return Zk(),null;case 24:return null;default:return null}}var gg=!1,Qr=!1,_9=typeof WeakSet=="function"?WeakSet:Set,Me=null;function pu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tr(t,e,n)}else r.current=null}function D_(t,e,r){try{r()}catch(n){tr(t,e,n)}}var n2=!1;function S9(t,e){if(x_=Ov,t=p$(),Pk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(o=s+a),h!==i||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===a&&(o=s),f===i&&++d===n&&(l=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(b_={focusedElem:t,selectionRange:r},Ov=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:Xa(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(w){tr(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return g=n2,n2=!1,g}function Cf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&D_(e,r,i)}a=a.next}while(a!==n)}}function Fx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function L_(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function uF(t){var e=t.alternate;e!==null&&(t.alternate=null,uF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ti],delete e[rp],delete e[S_],delete e[i9],delete e[s9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dF(t){return t.tag===5||t.tag===3||t.tag===4}function a2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rv));else if(n!==4&&(t=t.child,t!==null))for($_(t,e,r),t=t.sibling;t!==null;)$_(t,e,r),t=t.sibling}function F_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(F_(t,e,r),t=t.sibling;t!==null;)F_(t,e,r),t=t.sibling}var Lr=null,qa=!1;function Ws(t,e,r){for(r=r.child;r!==null;)hF(t,e,r),r=r.sibling}function hF(t,e,r){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(Ox,r)}catch{}switch(r.tag){case 5:Qr||pu(r,e);case 6:var n=Lr,a=qa;Lr=null,Ws(t,e,r),Lr=n,qa=a,Lr!==null&&(qa?(t=Lr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Lr.removeChild(r.stateNode));break;case 18:Lr!==null&&(qa?(t=Lr,r=r.stateNode,t.nodeType===8?lw(t.parentNode,r):t.nodeType===1&&lw(t,r),Zf(t)):lw(Lr,r.stateNode));break;case 4:n=Lr,a=qa,Lr=r.stateNode.containerInfo,qa=!0,Ws(t,e,r),Lr=n,qa=a;break;case 0:case 11:case 14:case 15:if(!Qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&D_(r,e,s),a=a.next}while(a!==n)}Ws(t,e,r);break;case 1:if(!Qr&&(pu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){tr(r,e,o)}Ws(t,e,r);break;case 21:Ws(t,e,r);break;case 22:r.mode&1?(Qr=(n=Qr)||r.memoizedState!==null,Ws(t,e,r),Qr=n):Ws(t,e,r);break;default:Ws(t,e,r)}}function i2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _9),e.forEach(function(n){var a=T9.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function $a(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Lr=o.stateNode,qa=!1;break e;case 3:Lr=o.stateNode.containerInfo,qa=!0;break e;case 4:Lr=o.stateNode.containerInfo,qa=!0;break e}o=o.return}if(Lr===null)throw Error(ge(160));hF(i,s,a),Lr=null,qa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){tr(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fF(e,t),e=e.sibling}function fF(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($a(e,t),ji(t),n&4){try{Cf(3,t,t.return),Fx(3,t)}catch(m){tr(t,t.return,m)}try{Cf(5,t,t.return)}catch(m){tr(t,t.return,m)}}break;case 1:$a(e,t),ji(t),n&512&&r!==null&&pu(r,r.return);break;case 5:if($a(e,t),ji(t),n&512&&r!==null&&pu(r,r.return),t.flags&32){var a=t.stateNode;try{Vf(a,"")}catch(m){tr(t,t.return,m)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&IL(a,i),c_(o,s);var u=c_(o,i);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?zL(a,h):d==="dangerouslySetInnerHTML"?$L(a,h):d==="children"?Vf(a,h):gk(a,d,h,u)}switch(o){case"input":a_(a,i);break;case"textarea":DL(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?wu(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?wu(a,!!i.multiple,i.defaultValue,!0):wu(a,!!i.multiple,i.multiple?[]:"",!1))}a[rp]=i}catch(m){tr(t,t.return,m)}}break;case 6:if($a(e,t),ji(t),n&4){if(t.stateNode===null)throw Error(ge(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(m){tr(t,t.return,m)}}break;case 3:if($a(e,t),ji(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zf(e.containerInfo)}catch(m){tr(t,t.return,m)}break;case 4:$a(e,t),ji(t);break;case 13:$a(e,t),ji(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Gk=or())),n&4&&i2(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Qr=(u=Qr)||d,$a(e,t),Qr=u):$a(e,t),ji(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Me=t,d=t.child;d!==null;){for(h=Me=d;Me!==null;){switch(f=Me,p=f.child,f.tag){case 0:case 11:case 14:case 15:Cf(4,f,f.return);break;case 1:pu(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){tr(n,r,m)}}break;case 5:pu(f,f.return);break;case 22:if(f.memoizedState!==null){o2(h);continue}}p!==null?(p.return=f,Me=p):o2(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=FL("display",s))}catch(m){tr(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){tr(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$a(e,t),ji(t),n&4&&i2(t);break;case 21:break;default:$a(e,t),ji(t)}}function ji(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(dF(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vf(a,""),n.flags&=-33);var i=a2(t);F_(t,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=a2(t);$_(t,o,s);break;default:throw Error(ge(161))}}catch(l){tr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j9(t,e,r){Me=t,pF(t)}function pF(t,e,r){for(var n=(t.mode&1)!==0;Me!==null;){var a=Me,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||gg;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Qr;o=gg;var u=Qr;if(gg=s,(Qr=l)&&!u)for(Me=a;Me!==null;)s=Me,l=s.child,s.tag===22&&s.memoizedState!==null?l2(a):l!==null?(l.return=s,Me=l):l2(a);for(;i!==null;)Me=i,pF(i),i=i.sibling;Me=a,gg=o,Qr=u}s2(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Me=i):s2(t)}}function s2(t){for(;Me!==null;){var e=Me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||Fx(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:Xa(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&UE(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}UE(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Zf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}Qr||e.flags&512&&L_(e)}catch(f){tr(e,e.return,f)}}if(e===t){Me=null;break}if(r=e.sibling,r!==null){r.return=e.return,Me=r;break}Me=e.return}}function o2(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Me=r;break}Me=e.return}}function l2(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fx(4,e)}catch(l){tr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(l){tr(e,a,l)}}var i=e.return;try{L_(e)}catch(l){tr(e,i,l)}break;case 5:var s=e.return;try{L_(e)}catch(l){tr(e,s,l)}}}catch(l){tr(e,e.return,l)}if(e===t){Me=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Me=o;break}Me=e.return}}var C9=Math.ceil,Yv=Ms.ReactCurrentDispatcher,Vk=Ms.ReactCurrentOwner,ka=Ms.ReactCurrentBatchConfig,pt=0,Pr=null,hr=null,Br=0,Qn=0,mu=Zo(0),br=0,lp=null,rc=0,zx=0,qk=0,kf=null,Rn=null,Gk=0,rd=1/0,ns=null,Xv=!1,z_=null,Po=null,vg=!1,xo=null,Vv=0,Af=0,B_=null,uv=-1,dv=0;function _n(){return pt&6?or():uv!==-1?uv:uv=or()}function Eo(t){return t.mode&1?pt&2&&Br!==0?Br&-Br:l9.transition!==null?(dv===0&&(dv=QL()),dv):(t=jt,t!==0||(t=window.event,t=t===void 0?16:i$(t.type)),t):1}function li(t,e,r,n){if(50<Af)throw Af=0,B_=null,Error(ge(185));fm(t,r,n),(!(pt&2)||t!==Pr)&&(t===Pr&&(!(pt&2)&&(zx|=r),br===4&&no(t,Br)),Bn(t,n),r===1&&pt===0&&!(e.mode&1)&&(rd=or()+500,Dx&&Qo()))}function Bn(t,e){var r=t.callbackNode;lq(t,e);var n=Ev(t,t===Pr?Br:0);if(n===0)r!==null&&vE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&vE(r),e===1)t.tag===0?o9(c2.bind(null,t)):j$(c2.bind(null,t)),n9(function(){!(pt&6)&&Qo()}),r=null;else{switch(JL(n)){case 1:r=wk;break;case 4:r=KL;break;case 16:r=Pv;break;case 536870912:r=ZL;break;default:r=Pv}r=_F(r,mF.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function mF(t,e){if(uv=-1,dv=0,pt&6)throw Error(ge(327));var r=t.callbackNode;if(ku()&&t.callbackNode!==r)return null;var n=Ev(t,t===Pr?Br:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=qv(t,n);else{e=n;var a=pt;pt|=2;var i=vF();(Pr!==t||Br!==e)&&(ns=null,rd=or()+500,Yl(t,e));do try{N9();break}catch(o){gF(t,o)}while(!0);Rk(),Yv.current=i,pt=a,hr!==null?e=0:(Pr=null,Br=0,e=br)}if(e!==0){if(e===2&&(a=p_(t),a!==0&&(n=a,e=W_(t,a))),e===1)throw r=lp,Yl(t,0),no(t,n),Bn(t,or()),r;if(e===6)no(t,n);else{if(a=t.current.alternate,!(n&30)&&!k9(a)&&(e=qv(t,n),e===2&&(i=p_(t),i!==0&&(n=i,e=W_(t,i))),e===1))throw r=lp,Yl(t,0),no(t,n),Bn(t,or()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(ge(345));case 2:pl(t,Rn,ns);break;case 3:if(no(t,n),(n&130023424)===n&&(e=Gk+500-or(),10<e)){if(Ev(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){_n(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=__(pl.bind(null,t,Rn,ns),e);break}pl(t,Rn,ns);break;case 4:if(no(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-oi(n);i=1<<s,s=e[s],s>a&&(a=s),n&=~i}if(n=a,n=or()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*C9(n/1960))-n,10<n){t.timeoutHandle=__(pl.bind(null,t,Rn,ns),n);break}pl(t,Rn,ns);break;case 5:pl(t,Rn,ns);break;default:throw Error(ge(329))}}}return Bn(t,or()),t.callbackNode===r?mF.bind(null,t):null}function W_(t,e){var r=kf;return t.current.memoizedState.isDehydrated&&(Yl(t,e).flags|=256),t=qv(t,e),t!==2&&(e=Rn,Rn=r,e!==null&&H_(e)),t}function H_(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function k9(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!hi(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function no(t,e){for(e&=~qk,e&=~zx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-oi(e),n=1<<r;t[r]=-1,e&=~n}}function c2(t){if(pt&6)throw Error(ge(327));ku();var e=Ev(t,0);if(!(e&1))return Bn(t,or()),null;var r=qv(t,e);if(t.tag!==0&&r===2){var n=p_(t);n!==0&&(e=n,r=W_(t,n))}if(r===1)throw r=lp,Yl(t,0),no(t,e),Bn(t,or()),r;if(r===6)throw Error(ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pl(t,Rn,ns),Bn(t,or()),null}function Kk(t,e){var r=pt;pt|=1;try{return t(e)}finally{pt=r,pt===0&&(rd=or()+500,Dx&&Qo())}}function nc(t){xo!==null&&xo.tag===0&&!(pt&6)&&ku();var e=pt;pt|=1;var r=ka.transition,n=jt;try{if(ka.transition=null,jt=1,t)return t()}finally{jt=n,ka.transition=r,pt=e,!(pt&6)&&Qo()}}function Zk(){Qn=mu.current,Vt(mu)}function Yl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,r9(r)),hr!==null)for(r=hr.return;r!==null;){var n=r;switch(Ok(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Iv();break;case 3:ed(),Vt(Fn),Vt(on),zk();break;case 5:Fk(n);break;case 4:ed();break;case 13:Vt(Kt);break;case 19:Vt(Kt);break;case 10:Ik(n.type._context);break;case 22:case 23:Zk()}r=r.return}if(Pr=t,hr=t=Oo(t.current,null),Br=Qn=e,br=0,lp=null,qk=zx=rc=0,Rn=kf=null,Cl!==null){for(e=0;e<Cl.length;e++)if(r=Cl[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Cl=null}return t}function gF(t,e){do{var r=hr;try{if(Rk(),ov.current=Uv,Hv){for(var n=Qt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Hv=!1}if(tc=0,Nr=yr=Qt=null,jf=!1,ip=0,Vk.current=null,r===null||r.return===null){br=1,lp=e,hr=null;break}e:{var i=t,s=r.return,o=r,l=e;if(e=Br,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=KE(s);if(p!==null){p.flags&=-257,ZE(p,s,o,i,e),p.mode&1&&GE(i,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){GE(i,u,e),Qk();break e}l=Error(ge(426))}}else if(qt&&o.mode&1){var v=KE(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ZE(v,s,o,i,e),Tk(td(l,o));break e}}i=l=td(l,o),br!==4&&(br=2),kf===null?kf=[i]:kf.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=J$(i,l,e);HE(i,x);break e;case 1:o=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=eF(i,o,e);HE(i,w);break e}}i=i.return}while(i!==null)}xF(r)}catch(S){e=S,hr===r&&r!==null&&(hr=r=r.return);continue}break}while(!0)}function vF(){var t=Yv.current;return Yv.current=Uv,t===null?Uv:t}function Qk(){(br===0||br===3||br===2)&&(br=4),Pr===null||!(rc&268435455)&&!(zx&268435455)||no(Pr,Br)}function qv(t,e){var r=pt;pt|=2;var n=vF();(Pr!==t||Br!==e)&&(ns=null,Yl(t,e));do try{A9();break}catch(a){gF(t,a)}while(!0);if(Rk(),pt=r,Yv.current=n,hr!==null)throw Error(ge(261));return Pr=null,Br=0,br}function A9(){for(;hr!==null;)yF(hr)}function N9(){for(;hr!==null&&!JV();)yF(hr)}function yF(t){var e=wF(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,e===null?xF(t):hr=e,Vk.current=null}function xF(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=w9(r,e),r!==null){r.flags&=32767,hr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{br=6,hr=null;return}}else if(r=b9(r,e,Qn),r!==null){hr=r;return}if(e=e.sibling,e!==null){hr=e;return}hr=e=t}while(e!==null);br===0&&(br=5)}function pl(t,e,r){var n=jt,a=ka.transition;try{ka.transition=null,jt=1,P9(t,e,r,n)}finally{ka.transition=a,jt=n}return null}function P9(t,e,r,n){do ku();while(xo!==null);if(pt&6)throw Error(ge(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ge(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(cq(t,i),t===Pr&&(hr=Pr=null,Br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vg||(vg=!0,_F(Pv,function(){return ku(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ka.transition,ka.transition=null;var s=jt;jt=1;var o=pt;pt|=4,Vk.current=null,S9(t,r),fF(r,t),Gq(b_),Ov=!!x_,b_=x_=null,t.current=r,j9(r),eq(),pt=o,jt=s,ka.transition=i}else t.current=r;if(vg&&(vg=!1,xo=t,Vv=a),i=t.pendingLanes,i===0&&(Po=null),nq(r.stateNode),Bn(t,or()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Xv)throw Xv=!1,t=z_,z_=null,t;return Vv&1&&t.tag!==0&&ku(),i=t.pendingLanes,i&1?t===B_?Af++:(Af=0,B_=t):Af=0,Qo(),null}function ku(){if(xo!==null){var t=JL(Vv),e=ka.transition,r=jt;try{if(ka.transition=null,jt=16>t?16:t,xo===null)var n=!1;else{if(t=xo,xo=null,Vv=0,pt&6)throw Error(ge(331));var a=pt;for(pt|=4,Me=t.current;Me!==null;){var i=Me,s=i.child;if(Me.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:Cf(8,d,i)}var h=d.child;if(h!==null)h.return=d,Me=h;else for(;Me!==null;){d=Me;var f=d.sibling,p=d.return;if(uF(d),d===u){Me=null;break}if(f!==null){f.return=p,Me=f;break}Me=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Me=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Me=s;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cf(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Me=x;break e}Me=i.return}}var y=t.current;for(Me=y;Me!==null;){s=Me;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Me=b;else e:for(s=y;Me!==null;){if(o=Me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Fx(9,o)}}catch(S){tr(o,o.return,S)}if(o===s){Me=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,Me=w;break e}Me=o.return}}if(pt=a,Qo(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(Ox,t)}catch{}n=!0}return n}finally{jt=r,ka.transition=e}}return!1}function u2(t,e,r){e=td(r,e),e=J$(t,e,1),t=No(t,e,1),e=_n(),t!==null&&(fm(t,1,e),Bn(t,e))}function tr(t,e,r){if(t.tag===3)u2(t,t,r);else for(;e!==null;){if(e.tag===3){u2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Po===null||!Po.has(n))){t=td(r,t),t=eF(e,t,1),e=No(e,t,1),t=_n(),e!==null&&(fm(e,1,t),Bn(e,t));break}}e=e.return}}function E9(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&r,Pr===t&&(Br&r)===r&&(br===4||br===3&&(Br&130023424)===Br&&500>or()-Gk?Yl(t,0):qk|=r),Bn(t,e)}function bF(t,e){e===0&&(t.mode&1?(e=og,og<<=1,!(og&130023424)&&(og=4194304)):e=1);var r=_n();t=Cs(t,e),t!==null&&(fm(t,e,r),Bn(t,r))}function O9(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),bF(t,r)}function T9(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(e),bF(t,r)}var wF;wF=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)Dn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Dn=!1,x9(t,e,r);Dn=!!(t.flags&131072)}else Dn=!1,qt&&e.flags&1048576&&C$(e,$v,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;cv(t,e),t=e.pendingProps;var a=Zu(e,on.current);Cu(e,r),a=Wk(null,e,n,t,a,r);var i=Hk();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(n)?(i=!0,Dv(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Lk(e),a.updater=$x,e.stateNode=a,a._reactInternals=e,P_(e,n,t,r),e=T_(null,e,n,!0,i,r)):(e.tag=0,qt&&i&&Ek(e),pn(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(cv(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=R9(n),t=Xa(n,t),a){case 0:e=O_(null,e,n,t,r);break e;case 1:e=e2(null,e,n,t,r);break e;case 11:e=QE(null,e,n,t,r);break e;case 14:e=JE(null,e,n,Xa(n.type,t),r);break e}throw Error(ge(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Xa(n,a),O_(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Xa(n,a),e2(t,e,n,a,r);case 3:e:{if(aF(e),t===null)throw Error(ge(387));n=e.pendingProps,i=e.memoizedState,a=i.element,O$(t,e),Bv(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=td(Error(ge(423)),e),e=t2(t,e,n,r,a);break e}else if(n!==a){a=td(Error(ge(424)),e),e=t2(t,e,n,r,a);break e}else for(ra=Ao(e.stateNode.containerInfo.firstChild),na=e,qt=!0,Ja=null,r=P$(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qu(),n===a){e=ks(t,e,r);break e}pn(t,e,n,r)}e=e.child}return e;case 5:return T$(e),t===null&&k_(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,w_(n,a)?s=null:i!==null&&w_(n,i)&&(e.flags|=32),nF(t,e),pn(t,e,s,r),e.child;case 6:return t===null&&k_(e),null;case 13:return iF(t,e,r);case 4:return $k(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ju(e,null,n,r):pn(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Xa(n,a),QE(t,e,n,a,r);case 7:return pn(t,e,e.pendingProps,r),e.child;case 8:return pn(t,e,e.pendingProps.children,r),e.child;case 12:return pn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,zt(Fv,n._currentValue),n._currentValue=s,i!==null)if(hi(i.value,s)){if(i.children===a.children&&!Fn.current){e=ks(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ms(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),A_(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ge(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),A_(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}pn(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Cu(e,r),a=Ta(a),n=n(a),e.flags|=1,pn(t,e,n,r),e.child;case 14:return n=e.type,a=Xa(n,e.pendingProps),a=Xa(n.type,a),JE(t,e,n,a,r);case 15:return tF(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Xa(n,a),cv(t,e),e.tag=1,zn(n)?(t=!0,Dv(e)):t=!1,Cu(e,r),Q$(e,n,a),P_(e,n,a,r),T_(null,e,n,!0,t,r);case 19:return sF(t,e,r);case 22:return rF(t,e,r)}throw Error(ge(156,e.tag))};function _F(t,e){return GL(t,e)}function M9(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(t,e,r,n){return new M9(t,e,r,n)}function Jk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R9(t){if(typeof t=="function")return Jk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yk)return 11;if(t===xk)return 14}return 2}function Oo(t,e){var r=t.alternate;return r===null?(r=Sa(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function hv(t,e,r,n,a,i){var s=2;if(n=t,typeof t=="function")Jk(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case iu:return Xl(r.children,a,i,e);case vk:s=8,a|=8;break;case J1:return t=Sa(12,r,e,a|2),t.elementType=J1,t.lanes=i,t;case e_:return t=Sa(13,r,e,a),t.elementType=e_,t.lanes=i,t;case t_:return t=Sa(19,r,e,a),t.elementType=t_,t.lanes=i,t;case TL:return Bx(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EL:s=10;break e;case OL:s=9;break e;case yk:s=11;break e;case xk:s=14;break e;case Qs:s=16,n=null;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=Sa(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Xl(t,e,r,n){return t=Sa(7,t,n,e),t.lanes=r,t}function Bx(t,e,r,n){return t=Sa(22,t,n,e),t.elementType=TL,t.lanes=r,t.stateNode={isHidden:!1},t}function gw(t,e,r){return t=Sa(6,t,null,e),t.lanes=r,t}function vw(t,e,r){return e=Sa(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I9(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Z0(0),this.expirationTimes=Z0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function eA(t,e,r,n,a,i,s,o,l){return t=new I9(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Sa(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lk(i),t}function D9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:au,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function SF(t){if(!t)return Lo;t=t._reactInternals;e:{if(wc(t)!==t||t.tag!==1)throw Error(ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ge(171))}if(t.tag===1){var r=t.type;if(zn(r))return S$(t,r,e)}return e}function jF(t,e,r,n,a,i,s,o,l){return t=eA(r,n,!0,t,a,i,s,o,l),t.context=SF(null),r=t.current,n=_n(),a=Eo(r),i=ms(n,a),i.callback=e??null,No(r,i,a),t.current.lanes=a,fm(t,a,n),Bn(t,n),t}function Wx(t,e,r,n){var a=e.current,i=_n(),s=Eo(a);return r=SF(r),e.context===null?e.context=r:e.pendingContext=r,e=ms(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=No(a,e,s),t!==null&&(li(t,a,s,i),sv(t,a,s)),s}function Gv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function tA(t,e){d2(t,e),(t=t.alternate)&&d2(t,e)}function L9(){return null}var CF=typeof reportError=="function"?reportError:function(t){console.error(t)};function rA(t){this._internalRoot=t}Hx.prototype.render=rA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ge(409));Wx(t,e,null,null)};Hx.prototype.unmount=rA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nc(function(){Wx(null,t,null,null)}),e[js]=null}};function Hx(t){this._internalRoot=t}Hx.prototype.unstable_scheduleHydration=function(t){if(t){var e=r$();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ro.length&&e!==0&&e<ro[r].priority;r++);ro.splice(r,0,t),r===0&&a$(t)}};function nA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ux(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h2(){}function $9(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Gv(s);i.call(u)}}var s=jF(e,n,t,0,null,!1,!1,"",h2);return t._reactRootContainer=s,t[js]=s.current,ep(t.nodeType===8?t.parentNode:t),nc(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Gv(l);o.call(u)}}var l=eA(t,0,!1,null,null,!1,!1,"",h2);return t._reactRootContainer=l,t[js]=l.current,ep(t.nodeType===8?t.parentNode:t),nc(function(){Wx(e,l,r,n)}),l}function Yx(t,e,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=Gv(s);o.call(l)}}Wx(e,s,t,a)}else s=$9(r,e,t,a,n);return Gv(s)}e$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=uf(e.pendingLanes);r!==0&&(_k(e,r|1),Bn(e,or()),!(pt&6)&&(rd=or()+500,Qo()))}break;case 13:nc(function(){var n=Cs(t,1);if(n!==null){var a=_n();li(n,t,1,a)}}),tA(t,1)}};Sk=function(t){if(t.tag===13){var e=Cs(t,134217728);if(e!==null){var r=_n();li(e,t,134217728,r)}tA(t,134217728)}};t$=function(t){if(t.tag===13){var e=Eo(t),r=Cs(t,e);if(r!==null){var n=_n();li(r,t,e,n)}tA(t,e)}};r$=function(){return jt};n$=function(t,e){var r=jt;try{return jt=t,e()}finally{jt=r}};d_=function(t,e,r){switch(e){case"input":if(a_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Ix(n);if(!a)throw Error(ge(90));RL(n),a_(n,a)}}}break;case"textarea":DL(t,r);break;case"select":e=r.value,e!=null&&wu(t,!!r.multiple,e,!1)}};HL=Kk;UL=nc;var F9={usingClientEntryPoint:!1,Events:[mm,cu,Ix,BL,WL,Kk]},zh={findFiberByHostInstance:jl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z9={bundleType:zh.bundleType,version:zh.version,rendererPackageName:zh.rendererPackageName,rendererConfig:zh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VL(t),t===null?null:t.stateNode},findFiberByHostInstance:zh.findFiberByHostInstance||L9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yg.isDisabled&&yg.supportsFiber)try{Ox=yg.inject(z9),$i=yg}catch{}}ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F9;ca.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nA(e))throw Error(ge(200));return D9(t,e,null,r)};ca.createRoot=function(t,e){if(!nA(t))throw Error(ge(299));var r=!1,n="",a=CF;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=eA(t,1,!1,null,null,r,!1,n,a),t[js]=e.current,ep(t.nodeType===8?t.parentNode:t),new rA(e)};ca.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):(t=Object.keys(t).join(","),Error(ge(268,t)));return t=VL(e),t=t===null?null:t.stateNode,t};ca.flushSync=function(t){return nc(t)};ca.hydrate=function(t,e,r){if(!Ux(e))throw Error(ge(200));return Yx(null,t,e,!0,r)};ca.hydrateRoot=function(t,e,r){if(!nA(t))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=CF;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=jF(e,null,t,1,r??null,a,!1,i,s),t[js]=e.current,ep(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Hx(e)};ca.render=function(t,e,r){if(!Ux(e))throw Error(ge(200));return Yx(null,t,e,!1,r)};ca.unmountComponentAtNode=function(t){if(!Ux(t))throw Error(ge(40));return t._reactRootContainer?(nc(function(){Yx(null,null,t,!1,function(){t._reactRootContainer=null,t[js]=null})}),!0):!1};ca.unstable_batchedUpdates=Kk;ca.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ux(r))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return Yx(t,e,r,!1,n)};ca.version="18.3.1-next-f1338f8080-20240426";function kF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kF)}catch(t){console.error(t)}}kF(),kL.exports=ca;var _c=kL.exports;const aA=Ct(_c);var AF,f2=_c;AF=f2.createRoot,f2.hydrateRoot;var p2=["light","dark"],B9="(prefers-color-scheme: dark)",W9=_.createContext(void 0),H9={setTheme:t=>{},themes:[]},U9=()=>{var t;return(t=_.useContext(W9))!=null?t:H9};_.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,attrs:o,nonce:l})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=a?p2.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,m=!1,v=!0)=>{let x=s?s[g]:g,y=m?g+"|| ''":`'${x}'`,b="";return a&&v&&!m&&p2.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?m||x?b+=`c.add(${y})`:b+="null":x&&(b+=`d[s](n,${y})`),b},p=t?`!function(){${d}${f(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${B9}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${f(s?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${f(s?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return _.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var Y9=t=>{switch(t){case"success":return q9;case"info":return K9;case"warning":return G9;case"error":return Z9;default:return null}},X9=Array(12).fill(0),V9=({visible:t})=>$.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},$.createElement("div",{className:"sonner-spinner"},X9.map((e,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),q9=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),G9=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),K9=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Z9=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Q9=()=>{let[t,e]=$.useState(document.hidden);return $.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},U_=1,J9=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...a}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:U_++,s=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...a,dismissible:o,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=e instanceof Promise?e:e(),i=n!==void 0;return a.then(async s=>{if(t7(s)&&!s.ok){i=!1;let o=typeof r.error=="function"?await r.error(`HTTP error! status: ${s.status}`):r.error,l=typeof r.description=="function"?await r.description(`HTTP error! status: ${s.status}`):r.description;this.create({id:n,type:"error",message:o,description:l})}else if(r.success!==void 0){i=!1;let o=typeof r.success=="function"?await r.success(s):r.success,l=typeof r.description=="function"?await r.description(s):r.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async s=>{if(r.error!==void 0){i=!1;let o=typeof r.error=="function"?await r.error(s):r.error,l=typeof r.description=="function"?await r.description(s):r.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=r.finally)==null||s.call(r)}),n},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||U_++;return this.create({jsx:e(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},Zn=new J9,e7=(t,e)=>{let r=(e==null?void 0:e.id)||U_++;return Zn.addToast({title:t,...e,id:r}),r},t7=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",r7=e7,n7=()=>Zn.toasts,ve=Object.assign(r7,{success:Zn.success,info:Zn.info,warning:Zn.warning,error:Zn.error,custom:Zn.custom,message:Zn.message,promise:Zn.promise,dismiss:Zn.dismiss,loading:Zn.loading},{getHistory:n7});function a7(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}a7(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xg(t){return t.label!==void 0}var i7=3,s7="32px",o7=4e3,l7=356,c7=14,u7=20,d7=200;function h7(...t){return t.filter(Boolean).join(" ")}var f7=t=>{var e,r,n,a,i,s,o,l,u,d;let{invert:h,toast:f,unstyled:p,interacting:g,setHeights:m,visibleToasts:v,heights:x,index:y,toasts:b,expanded:w,removeToast:S,defaultRichColors:k,closeButton:C,style:A,cancelButtonStyle:N,actionButtonStyle:P,className:E="",descriptionClassName:O="",duration:T,position:M,gap:L,loadingIcon:I,expandByDefault:D,classNames:R,icons:F,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:B,cn:q}=t,[ie,ne]=$.useState(!1),[Ne,fe]=$.useState(!1),[X,ae]=$.useState(!1),[G,Z]=$.useState(!1),[se,K]=$.useState(0),[Pe,Te]=$.useState(0),nt=$.useRef(null),tt=$.useRef(null),Ot=y===0,W=y+1<=v,V=f.type,J=f.dismissible!==!1,we=f.className||"",Y=f.descriptionClassName||"",Q=$.useMemo(()=>x.findIndex(qe=>qe.toastId===f.id)||0,[x,f.id]),xe=$.useMemo(()=>{var qe;return(qe=f.closeButton)!=null?qe:C},[f.closeButton,C]),Ie=$.useMemo(()=>f.duration||T||o7,[f.duration,T]),ft=$.useRef(0),Tt=$.useRef(0),wi=$.useRef(0),zs=$.useRef(null),[Ic,Oh]=M.split("-"),Jm=$.useMemo(()=>x.reduce((qe,Wt,Dt)=>Dt>=Q?qe:qe+Wt.height,0),[x,Q]),Th=Q9(),U0=f.invert||h,Dc=V==="loading";Tt.current=$.useMemo(()=>Q*L+Jm,[Q,Jm]),$.useEffect(()=>{ne(!0)},[]),$.useLayoutEffect(()=>{if(!ie)return;let qe=tt.current,Wt=qe.style.height;qe.style.height="auto";let Dt=qe.getBoundingClientRect().height;qe.style.height=Wt,Te(Dt),m(_i=>_i.find(Si=>Si.toastId===f.id)?_i.map(Si=>Si.toastId===f.id?{...Si,height:Dt}:Si):[{toastId:f.id,height:Dt,position:f.position},..._i])},[ie,f.title,f.description,m,f.id]);let Bs=$.useCallback(()=>{fe(!0),K(Tt.current),m(qe=>qe.filter(Wt=>Wt.toastId!==f.id)),setTimeout(()=>{S(f)},d7)},[f,S,m,Tt]);$.useEffect(()=>{if(f.promise&&V==="loading"||f.duration===1/0||f.type==="loading")return;let qe,Wt=Ie;return w||g||B&&Th?(()=>{if(wi.current<ft.current){let Dt=new Date().getTime()-ft.current;Wt=Wt-Dt}wi.current=new Date().getTime()})():Wt!==1/0&&(ft.current=new Date().getTime(),qe=setTimeout(()=>{var Dt;(Dt=f.onAutoClose)==null||Dt.call(f,f),Bs()},Wt)),()=>clearTimeout(qe)},[w,g,D,f,Ie,Bs,f.promise,V,B,Th]),$.useEffect(()=>{let qe=tt.current;if(qe){let Wt=qe.getBoundingClientRect().height;return Te(Wt),m(Dt=>[{toastId:f.id,height:Wt,position:f.position},...Dt]),()=>m(Dt=>Dt.filter(_i=>_i.toastId!==f.id))}},[m,f.id]),$.useEffect(()=>{f.delete&&Bs()},[Bs,f.delete]);function fV(){return F!=null&&F.loading?$.createElement("div",{className:"sonner-loader","data-visible":V==="loading"},F.loading):I?$.createElement("div",{className:"sonner-loader","data-visible":V==="loading"},I):$.createElement(V9,{visible:V==="loading"})}return $.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:tt,className:q(E,we,R==null?void 0:R.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[V],(r=f==null?void 0:f.classNames)==null?void 0:r[V]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:k,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":ie,"data-promise":!!f.promise,"data-removed":Ne,"data-visible":W,"data-y-position":Ic,"data-x-position":Oh,"data-index":y,"data-front":Ot,"data-swiping":X,"data-dismissible":J,"data-type":V,"data-invert":U0,"data-swipe-out":G,"data-expanded":!!(w||D&&ie),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${Ne?se:Tt.current}px`,"--initial-height":D?"auto":`${Pe}px`,...A,...f.style},onPointerDown:qe=>{Dc||!J||(nt.current=new Date,K(Tt.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(ae(!0),zs.current={x:qe.clientX,y:qe.clientY}))},onPointerUp:()=>{var qe,Wt,Dt,_i;if(G||!J)return;zs.current=null;let Si=Number(((qe=tt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),eg=new Date().getTime()-((Wt=nt.current)==null?void 0:Wt.getTime()),pV=Math.abs(Si)/eg;if(Math.abs(Si)>=u7||pV>.11){K(Tt.current),(Dt=f.onDismiss)==null||Dt.call(f,f),Bs(),Z(!0);return}(_i=tt.current)==null||_i.style.setProperty("--swipe-amount","0px"),ae(!1)},onPointerMove:qe=>{var Wt;if(!zs.current||!J)return;let Dt=qe.clientY-zs.current.y,_i=qe.clientX-zs.current.x,Si=(Ic==="top"?Math.min:Math.max)(0,Dt),eg=qe.pointerType==="touch"?10:2;Math.abs(Si)>eg?(Wt=tt.current)==null||Wt.style.setProperty("--swipe-amount",`${Dt}px`):Math.abs(_i)>eg&&(zs.current=null)}},xe&&!f.jsx?$.createElement("button",{"aria-label":z,"data-disabled":Dc,"data-close-button":!0,onClick:Dc||!J?()=>{}:()=>{var qe;Bs(),(qe=f.onDismiss)==null||qe.call(f,f)},className:q(R==null?void 0:R.closeButton,(a=f==null?void 0:f.classNames)==null?void 0:a.closeButton)},$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||$.isValidElement(f.title)?f.jsx||f.title:$.createElement($.Fragment,null,V||f.icon||f.promise?$.createElement("div",{"data-icon":"",className:q(R==null?void 0:R.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||fV():null,f.type!=="loading"?f.icon||(F==null?void 0:F[V])||Y9(V):null):null,$.createElement("div",{"data-content":"",className:q(R==null?void 0:R.content,(s=f==null?void 0:f.classNames)==null?void 0:s.content)},$.createElement("div",{"data-title":"",className:q(R==null?void 0:R.title,(o=f==null?void 0:f.classNames)==null?void 0:o.title)},f.title),f.description?$.createElement("div",{"data-description":"",className:q(O,Y,R==null?void 0:R.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),$.isValidElement(f.cancel)?f.cancel:f.cancel&&xg(f.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||N,onClick:qe=>{var Wt,Dt;xg(f.cancel)&&J&&((Dt=(Wt=f.cancel).onClick)==null||Dt.call(Wt,qe),Bs())},className:q(R==null?void 0:R.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,$.isValidElement(f.action)?f.action:f.action&&xg(f.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:qe=>{var Wt,Dt;xg(f.action)&&(qe.defaultPrevented||((Dt=(Wt=f.action).onClick)==null||Dt.call(Wt,qe),Bs()))},className:q(R==null?void 0:R.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function m2(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var p7=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:i,className:s,offset:o,theme:l="light",richColors:u,duration:d,style:h,visibleToasts:f=i7,toastOptions:p,dir:g=m2(),gap:m=c7,loadingIcon:v,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:b,cn:w=h7}=t,[S,k]=$.useState([]),C=$.useMemo(()=>Array.from(new Set([r].concat(S.filter(B=>B.position).map(B=>B.position)))),[S,r]),[A,N]=$.useState([]),[P,E]=$.useState(!1),[O,T]=$.useState(!1),[M,L]=$.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=$.useRef(null),D=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=$.useRef(null),F=$.useRef(!1),z=$.useCallback(B=>{var q;(q=S.find(ie=>ie.id===B.id))!=null&&q.delete||Zn.dismiss(B.id),k(ie=>ie.filter(({id:ne})=>ne!==B.id))},[S]);return $.useEffect(()=>Zn.subscribe(B=>{if(B.dismiss){k(q=>q.map(ie=>ie.id===B.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{aA.flushSync(()=>{k(q=>{let ie=q.findIndex(ne=>ne.id===B.id);return ie!==-1?[...q.slice(0,ie),{...q[ie],...B},...q.slice(ie+1)]:[B,...q]})})})}),[]),$.useEffect(()=>{if(l!=="system"){L(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:B})=>{L(B?"dark":"light")})},[l]),$.useEffect(()=>{S.length<=1&&E(!1)},[S]),$.useEffect(()=>{let B=q=>{var ie,ne;n.every(Ne=>q[Ne]||q.code===Ne)&&(E(!0),(ie=I.current)==null||ie.focus()),q.code==="Escape"&&(document.activeElement===I.current||(ne=I.current)!=null&&ne.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[n]),$.useEffect(()=>{if(I.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,F.current=!1)}},[I.current]),S.length?$.createElement("section",{"aria-label":`${y} ${D}`,tabIndex:-1},C.map((B,q)=>{var ie;let[ne,Ne]=B.split("-");return $.createElement("ol",{key:B,dir:g==="auto"?m2():g,tabIndex:-1,ref:I,className:s,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":ne,"data-x-position":Ne,style:{"--front-toast-height":`${((ie=A[0])==null?void 0:ie.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||s7,"--width":`${l7}px`,"--gap":`${m}px`,...h},onBlur:fe=>{F.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(F.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||F.current||(F.current=!0,R.current=fe.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{O||E(!1)},onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},S.filter(fe=>!fe.position&&q===0||fe.position===B).map((fe,X)=>{var ae,G;return $.createElement(f7,{key:fe.id,icons:x,index:X,toast:fe,defaultRichColors:u,duration:(ae=p==null?void 0:p.duration)!=null?ae:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:f,closeButton:(G=p==null?void 0:p.closeButton)!=null?G:i,interacting:O,position:B,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:z,toasts:S.filter(Z=>Z.position==fe.position),heights:A.filter(Z=>Z.position==fe.position),setHeights:N,expandByDefault:a,gap:m,loadingIcon:v,expanded:P,pauseWhenPageIsHidden:b,cn:w})}))})):null};const g2=({...t})=>{const{theme:e="system"}=U9();return c.jsx(p7,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function Ce(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function m7(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Xx(...t){return e=>t.forEach(r=>m7(r,e))}function lt(...t){return _.useCallback(Xx(...t),t)}function g7(t,e){const r=_.createContext(e),n=i=>{const{children:s,...o}=i,l=_.useMemo(()=>o,Object.values(o));return c.jsx(r.Provider,{value:l,children:s})};n.displayName=t+"Provider";function a(i){const s=_.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Rs(t,e=[]){let r=[];function n(i,s){const o=_.createContext(s),l=r.length;r=[...r,s];const u=h=>{var x;const{scope:f,children:p,...g}=h,m=((x=f==null?void 0:f[t])==null?void 0:x[l])||o,v=_.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[l])||o,g=_.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return a.scopeName=t,[n,v7(a,...e)]}function v7(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...o,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var Xn=_.forwardRef((t,e)=>{const{children:r,...n}=t,a=_.Children.toArray(r),i=a.find(y7);if(i){const s=i.props.children,o=a.map(l=>l===i?_.Children.count(s)>1?_.Children.only(null):_.isValidElement(s)?s.props.children:null:l);return c.jsx(Y_,{...n,ref:e,children:_.isValidElement(s)?_.cloneElement(s,void 0,o):null})}return c.jsx(Y_,{...n,ref:e,children:r})});Xn.displayName="Slot";var Y_=_.forwardRef((t,e)=>{const{children:r,...n}=t;if(_.isValidElement(r)){const a=b7(r);return _.cloneElement(r,{...x7(n,r.props),ref:e?Xx(e,a):a})}return _.Children.count(r)>1?_.Children.only(null):null});Y_.displayName="SlotClone";var NF=({children:t})=>c.jsx(c.Fragment,{children:t});function y7(t){return _.isValidElement(t)&&t.type===NF}function x7(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{i(...o),a(...o)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function b7(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var w7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],We=w7.reduce((t,e)=>{const r=_.forwardRef((n,a)=>{const{asChild:i,...s}=n,o=i?Xn:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(o,{...s,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function PF(t,e){t&&_c.flushSync(()=>t.dispatchEvent(e))}function fr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function _7(t,e=globalThis==null?void 0:globalThis.document){const r=fr(t);_.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var S7="DismissableLayer",X_="dismissableLayer.update",j7="dismissableLayer.pointerDownOutside",C7="dismissableLayer.focusOutside",v2,EF=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vm=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:o,...l}=t,u=_.useContext(EF),[d,h]=_.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),g=lt(e,C=>h(C)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=y>=x,S=N7(C=>{const A=C.target,N=[...u.branches].some(P=>P.contains(A));!w||N||(a==null||a(C),s==null||s(C),C.defaultPrevented||o==null||o())},f),k=P7(C=>{const A=C.target;[...u.branches].some(P=>P.contains(A))||(i==null||i(C),s==null||s(C),C.defaultPrevented||o==null||o())},f);return _7(C=>{y===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},f),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(v2=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),y2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=v2)}},[d,f,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),y2())},[d,u]),_.useEffect(()=>{const C=()=>p({});return document.addEventListener(X_,C),()=>document.removeEventListener(X_,C)},[]),c.jsx(We.div,{...l,ref:g,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,S.onPointerDownCapture)})});vm.displayName=S7;var k7="DismissableLayerBranch",A7=_.forwardRef((t,e)=>{const r=_.useContext(EF),n=_.useRef(null),a=lt(e,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(We.div,{...t,ref:a})});A7.displayName=k7;function N7(t,e=globalThis==null?void 0:globalThis.document){const r=fr(t),n=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let l=function(){OF(j7,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=l,e.addEventListener("click",a.current,{once:!0})):l()}else e.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function P7(t,e=globalThis==null?void 0:globalThis.document){const r=fr(t),n=_.useRef(!1);return _.useEffect(()=>{const a=i=>{i.target&&!n.current&&OF(C7,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function y2(){const t=new CustomEvent(X_);document.dispatchEvent(t)}function OF(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?PF(a,i):a.dispatchEvent(i)}var Or=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},E7=Hd.useId||(()=>{}),O7=0;function ci(t){const[e,r]=_.useState(E7());return Or(()=>{t||r(n=>n??String(O7++))},[t]),t||(e?`radix-${e}`:"")}const T7=["top","right","bottom","left"],$o=Math.min,ea=Math.max,Kv=Math.round,bg=Math.floor,Fo=t=>({x:t,y:t}),M7={left:"right",right:"left",bottom:"top",top:"bottom"},R7={start:"end",end:"start"};function V_(t,e,r){return ea(t,$o(e,r))}function As(t,e){return typeof t=="function"?t(e):t}function Ns(t){return t.split("-")[0]}function Xd(t){return t.split("-")[1]}function iA(t){return t==="x"?"y":"x"}function sA(t){return t==="y"?"height":"width"}function zo(t){return["top","bottom"].includes(Ns(t))?"y":"x"}function oA(t){return iA(zo(t))}function I7(t,e,r){r===void 0&&(r=!1);const n=Xd(t),a=oA(t),i=sA(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Zv(s)),[s,Zv(s)]}function D7(t){const e=Zv(t);return[q_(t),e,q_(e)]}function q_(t){return t.replace(/start|end/g,e=>R7[e])}function L7(t,e,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?a:n:e?n:a;case"left":case"right":return e?i:s;default:return[]}}function $7(t,e,r,n){const a=Xd(t);let i=L7(Ns(t),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),e&&(i=i.concat(i.map(q_)))),i}function Zv(t){return t.replace(/left|right|bottom|top/g,e=>M7[e])}function F7(t){return{top:0,right:0,bottom:0,left:0,...t}}function TF(t){return typeof t!="number"?F7(t):{top:t,right:t,bottom:t,left:t}}function Qv(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function x2(t,e,r){let{reference:n,floating:a}=t;const i=zo(e),s=oA(e),o=sA(s),l=Ns(e),u=i==="y",d=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,f=n[o]/2-a[o]/2;let p;switch(l){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-a.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Xd(e)){case"start":p[s]-=f*(r&&u?-1:1);break;case"end":p[s]+=f*(r&&u?-1:1);break}return p}const z7=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:h}=x2(u,n,l),f=n,p={},g=0;for(let m=0;m<o.length;m++){const{name:v,fn:x}=o[m],{x:y,y:b,data:w,reset:S}=await x({x:d,y:h,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:t,floating:e}});d=y??d,h=b??h,p={...p,[v]:{...p[v],...w}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:a}):S.rects),{x:d,y:h}=x2(u,f,l)),m=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:p}};async function cp(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=As(e,t),g=TF(p),v=o[f?h==="floating"?"reference":"floating":h],x=Qv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),y=h==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),w=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Qv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-S.top+g.top)/w.y,bottom:(S.bottom-x.bottom+g.bottom)/w.y,left:(x.left-S.left+g.left)/w.x,right:(S.right-x.right+g.right)/w.x}}const B7=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=As(t,e)||{};if(u==null)return{};const h=TF(d),f={x:r,y:n},p=oA(a),g=sA(p),m=await s.getDimensions(u),v=p==="y",x=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=i.reference[g]+i.reference[p]-f[p]-i.floating[g],S=f[p]-i.reference[p],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let C=k?k[b]:0;(!C||!await(s.isElement==null?void 0:s.isElement(k)))&&(C=o.floating[b]||i.floating[g]);const A=w/2-S/2,N=C/2-m[g]/2-1,P=$o(h[x],N),E=$o(h[y],N),O=P,T=C-m[g]-E,M=C/2-m[g]/2+A,L=V_(O,M,T),I=!l.arrow&&Xd(a)!=null&&M!==L&&i.reference[g]/2-(M<O?P:E)-m[g]/2<0,D=I?M<O?M-O:M-T:0;return{[p]:f[p]+D,data:{[p]:L,centerOffset:M-L-D,...I&&{alignmentOffset:D}},reset:I}}}),W7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=As(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Ns(a),y=zo(o),b=Ns(o)===o,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=f||(b||!m?[Zv(o)]:D7(o)),k=g!=="none";!f&&k&&S.push(...$7(o,m,g,w));const C=[o,...S],A=await cp(e,v),N=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&N.push(A[x]),h){const M=I7(a,s,w);N.push(A[M[0]],A[M[1]])}if(P=[...P,{placement:a,overflows:N}],!N.every(M=>M<=0)){var E,O;const M=(((E=i.flip)==null?void 0:E.index)||0)+1,L=C[M];if(L)return{data:{index:M,overflows:P},reset:{placement:L}};let I=(O=P.filter(D=>D.overflows[0]<=0).sort((D,R)=>D.overflows[1]-R.overflows[1])[0])==null?void 0:O.placement;if(!I)switch(p){case"bestFit":{var T;const D=(T=P.filter(R=>{if(k){const F=zo(R.placement);return F===y||F==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(F=>F>0).reduce((F,z)=>F+z,0)]).sort((R,F)=>R[1]-F[1])[0])==null?void 0:T[0];D&&(I=D);break}case"initialPlacement":I=o;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function b2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function w2(t){return T7.some(e=>t[e]>=0)}const H7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=As(t,e);switch(n){case"referenceHidden":{const i=await cp(e,{...a,elementContext:"reference"}),s=b2(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:w2(s)}}}case"escaped":{const i=await cp(e,{...a,altBoundary:!0}),s=b2(i,r.floating);return{data:{escapedOffsets:s,escaped:w2(s)}}}default:return{}}}}};async function U7(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=Ns(r),o=Xd(r),l=zo(r)==="y",u=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,h=As(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const Y7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=e,l=await U7(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:s}}}}},X7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x,y}=v;return{x,y}}},...l}=As(t,e),u={x:r,y:n},d=await cp(e,l),h=zo(Ns(a)),f=iA(h);let p=u[f],g=u[h];if(i){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=p+d[v],b=p-d[x];p=V_(y,p,b)}if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=g+d[v],b=g-d[x];g=V_(y,g,b)}const m=o.fn({...e,[f]:p,[h]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:i,[h]:s}}}}}},V7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=As(t,e),d={x:r,y:n},h=zo(a),f=iA(h);let p=d[f],g=d[h];const m=As(o,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=f==="y"?"height":"width",w=i.reference[f]-i.floating[b]+v.mainAxis,S=i.reference[f]+i.reference[b]-v.mainAxis;p<w?p=w:p>S&&(p=S)}if(u){var x,y;const b=f==="y"?"width":"height",w=["top","left"].includes(Ns(a)),S=i.reference[h]-i.floating[b]+(w&&((x=s.offset)==null?void 0:x[h])||0)+(w?0:v.crossAxis),k=i.reference[h]+i.reference[b]+(w?0:((y=s.offset)==null?void 0:y[h])||0)-(w?v.crossAxis:0);g<S?g=S:g>k&&(g=k)}return{[f]:p,[h]:g}}}},q7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:s,elements:o}=e,{apply:l=()=>{},...u}=As(t,e),d=await cp(e,u),h=Ns(a),f=Xd(a),p=zo(a)==="y",{width:g,height:m}=i.floating;let v,x;h==="top"||h==="bottom"?(v=h,x=f===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(x=h,v=f==="end"?"top":"bottom");const y=m-d.top-d.bottom,b=g-d.left-d.right,w=$o(m-d[v],y),S=$o(g-d[x],b),k=!e.middlewareData.shift;let C=w,A=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=y),k&&!f){const P=ea(d.left,0),E=ea(d.right,0),O=ea(d.top,0),T=ea(d.bottom,0);p?A=g-2*(P!==0||E!==0?P+E:ea(d.left,d.right)):C=m-2*(O!==0||T!==0?O+T:ea(d.top,d.bottom))}await l({...e,availableWidth:A,availableHeight:C});const N=await s.getDimensions(o.floating);return g!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function Vx(){return typeof window<"u"}function Vd(t){return MF(t)?(t.nodeName||"").toLowerCase():"#document"}function aa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qi(t){var e;return(e=(MF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MF(t){return Vx()?t instanceof Node||t instanceof aa(t).Node:!1}function fi(t){return Vx()?t instanceof Element||t instanceof aa(t).Element:!1}function Ui(t){return Vx()?t instanceof HTMLElement||t instanceof aa(t).HTMLElement:!1}function _2(t){return!Vx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof aa(t).ShadowRoot}function ym(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=pi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function G7(t){return["table","td","th"].includes(Vd(t))}function qx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function lA(t){const e=cA(),r=fi(t)?pi(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function K7(t){let e=Bo(t);for(;Ui(e)&&!nd(e);){if(lA(e))return e;if(qx(e))return null;e=Bo(e)}return null}function cA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nd(t){return["html","body","#document"].includes(Vd(t))}function pi(t){return aa(t).getComputedStyle(t)}function Gx(t){return fi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bo(t){if(Vd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_2(t)&&t.host||qi(t);return _2(e)?e.host:e}function RF(t){const e=Bo(t);return nd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ui(e)&&ym(e)?e:RF(e)}function up(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=RF(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),s=aa(a);if(i){const o=G_(s);return e.concat(s,s.visualViewport||[],ym(a)?a:[],o&&r?up(o):[])}return e.concat(a,up(a,[],r))}function G_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function IF(t){const e=pi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Ui(t),i=a?t.offsetWidth:r,s=a?t.offsetHeight:n,o=Kv(r)!==i||Kv(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function uA(t){return fi(t)?t:t.contextElement}function Au(t){const e=uA(t);if(!Ui(e))return Fo(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=IF(e);let s=(i?Kv(r.width):r.width)/n,o=(i?Kv(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Z7=Fo(0);function DF(t){const e=aa(t);return!cA()||!e.visualViewport?Z7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Q7(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==aa(t)?!1:e}function ac(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=uA(t);let s=Fo(1);e&&(n?fi(n)&&(s=Au(n)):s=Au(t));const o=Q7(i,r,n)?DF(i):Fo(0);let l=(a.left+o.x)/s.x,u=(a.top+o.y)/s.y,d=a.width/s.x,h=a.height/s.y;if(i){const f=aa(i),p=n&&fi(n)?aa(n):n;let g=f,m=G_(g);for(;m&&n&&p!==g;){const v=Au(m),x=m.getBoundingClientRect(),y=pi(m),b=x.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,w=x.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,h*=v.y,l+=b,u+=w,g=aa(m),m=G_(g)}}return Qv({width:d,height:h,x:l,y:u})}function J7(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",s=qi(n),o=e?qx(e.floating):!1;if(n===s||o&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Fo(1);const d=Fo(0),h=Ui(n);if((h||!h&&!i)&&((Vd(n)!=="body"||ym(s))&&(l=Gx(n)),Ui(n))){const f=ac(n);u=Au(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x,y:r.y*u.y-l.scrollTop*u.y+d.y}}function eG(t){return Array.from(t.getClientRects())}function K_(t,e){const r=Gx(t).scrollLeft;return e?e.left+r:ac(qi(t)).left+r}function tG(t){const e=qi(t),r=Gx(t),n=t.ownerDocument.body,a=ea(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=ea(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+K_(t);const o=-r.scrollTop;return pi(n).direction==="rtl"&&(s+=ea(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}function rG(t,e){const r=aa(t),n=qi(t),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;const u=cA();(!u||u&&e==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o,y:l}}function nG(t,e){const r=ac(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Ui(t)?Au(t):Fo(1),s=t.clientWidth*i.x,o=t.clientHeight*i.y,l=a*i.x,u=n*i.y;return{width:s,height:o,x:l,y:u}}function S2(t,e,r){let n;if(e==="viewport")n=rG(t,r);else if(e==="document")n=tG(qi(t));else if(fi(e))n=nG(e,r);else{const a=DF(t);n={...e,x:e.x-a.x,y:e.y-a.y}}return Qv(n)}function LF(t,e){const r=Bo(t);return r===e||!fi(r)||nd(r)?!1:pi(r).position==="fixed"||LF(r,e)}function aG(t,e){const r=e.get(t);if(r)return r;let n=up(t,[],!1).filter(o=>fi(o)&&Vd(o)!=="body"),a=null;const i=pi(t).position==="fixed";let s=i?Bo(t):t;for(;fi(s)&&!nd(s);){const o=pi(s),l=lA(s);!l&&o.position==="fixed"&&(a=null),(i?!l&&!a:!l&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||ym(s)&&!l&&LF(t,s))?n=n.filter(d=>d!==s):a=o,s=Bo(s)}return e.set(t,n),n}function iG(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const s=[...r==="clippingAncestors"?qx(e)?[]:aG(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,d)=>{const h=S2(e,d,a);return u.top=ea(h.top,u.top),u.right=$o(h.right,u.right),u.bottom=$o(h.bottom,u.bottom),u.left=ea(h.left,u.left),u},S2(e,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sG(t){const{width:e,height:r}=IF(t);return{width:e,height:r}}function oG(t,e,r){const n=Ui(e),a=qi(e),i=r==="fixed",s=ac(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const l=Fo(0);if(n||!n&&!i)if((Vd(e)!=="body"||ym(a))&&(o=Gx(e)),n){const p=ac(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else a&&(l.x=K_(a));let u=0,d=0;if(a&&!n&&!i){const p=a.getBoundingClientRect();d=p.top+o.scrollTop,u=p.left+o.scrollLeft-K_(a,p)}const h=s.left+o.scrollLeft-l.x-u,f=s.top+o.scrollTop-l.y-d;return{x:h,y:f,width:s.width,height:s.height}}function yw(t){return pi(t).position==="static"}function j2(t,e){if(!Ui(t)||pi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return qi(t)===r&&(r=r.ownerDocument.body),r}function $F(t,e){const r=aa(t);if(qx(t))return r;if(!Ui(t)){let a=Bo(t);for(;a&&!nd(a);){if(fi(a)&&!yw(a))return a;a=Bo(a)}return r}let n=j2(t,e);for(;n&&G7(n)&&yw(n);)n=j2(n,e);return n&&nd(n)&&yw(n)&&!lA(n)?r:n||K7(t)||r}const lG=async function(t){const e=this.getOffsetParent||$F,r=this.getDimensions,n=await r(t.floating);return{reference:oG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cG(t){return pi(t).direction==="rtl"}const uG={convertOffsetParentRelativeRectToViewportRelativeRect:J7,getDocumentElement:qi,getClippingRect:iG,getOffsetParent:$F,getElementRects:lG,getClientRects:eG,getDimensions:sG,getScale:Au,isElement:fi,isRTL:cG};function dG(t,e){let r=null,n;const a=qi(t);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(o||e(),!h||!f)return;const p=bg(d),g=bg(a.clientWidth-(u+h)),m=bg(a.clientHeight-(d+f)),v=bg(u),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-v+"px",threshold:ea(0,$o(1,l))||1};let b=!0;function w(S){const k=S[0].intersectionRatio;if(k!==l){if(!b)return s();k?s(!1,k):n=setTimeout(()=>{s(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(w,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,y)}r.observe(t)}return s(!0),i}function FF(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=uA(t),d=a||i?[...u?up(u):[],...up(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const h=u&&o?dG(u,r):null;let f=-1,p=null;s&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),r()}),u&&!l&&p.observe(u),p.observe(e));let g,m=l?ac(t):null;l&&v();function v(){const x=ac(t);m&&(x.x!==m.x||x.y!==m.y||x.width!==m.width||x.height!==m.height)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),h==null||h(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const hG=Y7,fG=X7,pG=W7,mG=q7,gG=H7,C2=B7,vG=V7,yG=(t,e,r)=>{const n=new Map,a={platform:uG,...r},i={...a.platform,_c:n};return z7(t,e,{...a,platform:i})};var fv=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Jv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Jv(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!Jv(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function zF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function k2(t,e){const r=zF(t);return Math.round(e*r)/r}function xw(t){const e=_.useRef(t);return fv(()=>{e.current=t}),e}function BF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,h]=_.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=_.useState(n);Jv(f,n)||p(n);const[g,m]=_.useState(null),[v,x]=_.useState(null),y=_.useCallback(R=>{R!==k.current&&(k.current=R,m(R))},[]),b=_.useCallback(R=>{R!==C.current&&(C.current=R,x(R))},[]),w=i||g,S=s||v,k=_.useRef(null),C=_.useRef(null),A=_.useRef(d),N=l!=null,P=xw(l),E=xw(a),O=xw(u),T=_.useCallback(()=>{if(!k.current||!C.current)return;const R={placement:e,strategy:r,middleware:f};E.current&&(R.platform=E.current),yG(k.current,C.current,R).then(F=>{const z={...F,isPositioned:O.current!==!1};M.current&&!Jv(A.current,z)&&(A.current=z,_c.flushSync(()=>{h(z)}))})},[f,e,r,E,O]);fv(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[u]);const M=_.useRef(!1);fv(()=>(M.current=!0,()=>{M.current=!1}),[]),fv(()=>{if(w&&(k.current=w),S&&(C.current=S),w&&S){if(P.current)return P.current(w,S,T);T()}},[w,S,T,P,N]);const L=_.useMemo(()=>({reference:k,floating:C,setReference:y,setFloating:b}),[y,b]),I=_.useMemo(()=>({reference:w,floating:S}),[w,S]),D=_.useMemo(()=>{const R={position:r,left:0,top:0};if(!I.floating)return R;const F=k2(I.floating,d.x),z=k2(I.floating,d.y);return o?{...R,transform:"translate("+F+"px, "+z+"px)",...zF(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:z}},[r,o,I.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:T,refs:L,elements:I,floatingStyles:D}),[d,T,L,I,D])}const xG=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?C2({element:n.current,padding:a}).fn(r):{}:n?C2({element:n,padding:a}).fn(r):{}}}},WF=(t,e)=>({...hG(t),options:[t,e]}),HF=(t,e)=>({...fG(t),options:[t,e]}),UF=(t,e)=>({...vG(t),options:[t,e]}),YF=(t,e)=>({...pG(t),options:[t,e]}),XF=(t,e)=>({...mG(t),options:[t,e]}),VF=(t,e)=>({...gG(t),options:[t,e]}),qF=(t,e)=>({...xG(t),options:[t,e]});var bG="Arrow",GF=_.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return c.jsx(We.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});GF.displayName=bG;var wG=GF;function _G(t,e=[]){let r=[];function n(i,s){const o=_.createContext(s),l=r.length;r=[...r,s];function u(h){const{scope:f,children:p,...g}=h,m=(f==null?void 0:f[t][l])||o,v=_.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||o,g=_.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=r.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return a.scopeName=t,[n,SG(a,...e)]}function SG(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...o,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function KF(t){const[e,r]=_.useState(void 0);return Or(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var dA="Popper",[ZF,qd]=_G(dA),[jG,QF]=ZF(dA),JF=t=>{const{__scopePopper:e,children:r}=t,[n,a]=_.useState(null);return c.jsx(jG,{scope:e,anchor:n,onAnchorChange:a,children:r})};JF.displayName=dA;var e4="PopperAnchor",t4=_.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=QF(e4,r),s=_.useRef(null),o=lt(e,s);return _.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:c.jsx(We.div,{...a,ref:o})});t4.displayName=e4;var hA="PopperContent",[CG,kG]=ZF(hA),r4=_.forwardRef((t,e)=>{var X,ae,G,Z,se,K;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,v=QF(hA,r),[x,y]=_.useState(null),b=lt(e,Pe=>y(Pe)),[w,S]=_.useState(null),k=KF(w),C=(k==null?void 0:k.width)??0,A=(k==null?void 0:k.height)??0,N=n+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],O=E.length>0,T={padding:P,boundary:E.filter(NG),altBoundary:O},{refs:M,floatingStyles:L,placement:I,isPositioned:D,middlewareData:R}=BF({strategy:"fixed",placement:N,whileElementsMounted:(...Pe)=>FF(...Pe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[WF({mainAxis:a+A,alignmentAxis:s}),l&&HF({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?UF():void 0,...T}),l&&YF({...T}),XF({...T,apply:({elements:Pe,rects:Te,availableWidth:nt,availableHeight:tt})=>{const{width:Ot,height:W}=Te.reference,V=Pe.floating.style;V.setProperty("--radix-popper-available-width",`${nt}px`),V.setProperty("--radix-popper-available-height",`${tt}px`),V.setProperty("--radix-popper-anchor-width",`${Ot}px`),V.setProperty("--radix-popper-anchor-height",`${W}px`)}}),w&&qF({element:w,padding:o}),PG({arrowWidth:C,arrowHeight:A}),f&&VF({strategy:"referenceHidden",...T})]}),[F,z]=i4(I),B=fr(g);Or(()=>{D&&(B==null||B())},[D,B]);const q=(X=R.arrow)==null?void 0:X.x,ie=(ae=R.arrow)==null?void 0:ae.y,ne=((G=R.arrow)==null?void 0:G.centerOffset)!==0,[Ne,fe]=_.useState();return Or(()=>{x&&fe(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:D?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(Z=R.transformOrigin)==null?void 0:Z.x,(se=R.transformOrigin)==null?void 0:se.y].join(" "),...((K=R.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(CG,{scope:r,placedSide:F,onArrowChange:S,arrowX:q,arrowY:ie,shouldHideArrow:ne,children:c.jsx(We.div,{"data-side":F,"data-align":z,...m,ref:b,style:{...m.style,animation:D?void 0:"none"}})})})});r4.displayName=hA;var n4="PopperArrow",AG={top:"bottom",right:"left",bottom:"top",left:"right"},a4=_.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=kG(n4,n),s=AG[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(wG,{...a,ref:r,style:{...a.style,display:"block"}})})});a4.displayName=n4;function NG(t){return t!==null}var PG=t=>({name:"transformOrigin",options:t,fn(e){var v,x,y;const{placement:r,rects:n,middlewareData:a}=e,s=((v=a.arrow)==null?void 0:v.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=i4(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=a.arrow)==null?void 0:x.x)??0)+o/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+l/2;let g="",m="";return u==="bottom"?(g=s?h:`${f}px`,m=`${-l}px`):u==="top"?(g=s?h:`${f}px`,m=`${n.floating.height+l}px`):u==="right"?(g=`${-l}px`,m=s?h:`${p}px`):u==="left"&&(g=`${n.floating.width+l}px`,m=s?h:`${p}px`),{data:{x:g,y:m}}}});function i4(t){const[e,r="center"]=t.split("-");return[e,r]}var fA=JF,pA=t4,mA=r4,gA=a4,EG="Portal",Kx=_.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[a,i]=_.useState(!1);Or(()=>i(!0),[]);const s=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?aA.createPortal(c.jsx(We.div,{...n,ref:e}),s):null});Kx.displayName=EG;function OG(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var Cn=t=>{const{present:e,children:r}=t,n=TG(e),a=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=lt(n.ref,MG(a));return typeof r=="function"||n.isPresent?_.cloneElement(a,{ref:i}):null};Cn.displayName="Presence";function TG(t){const[e,r]=_.useState(),n=_.useRef({}),a=_.useRef(t),i=_.useRef("none"),s=t?"mounted":"unmounted",[o,l]=OG(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=wg(n.current);i.current=o==="mounted"?u:"none"},[o]),Or(()=>{const u=n.current,d=a.current;if(d!==t){const f=i.current,p=wg(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,l]),Or(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const m=wg(n.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!a.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=p=>{p.target===e&&(i.current=wg(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:_.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function wg(t){return(t==null?void 0:t.animationName)||"none"}function MG(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Wo({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,a]=RG({defaultProp:e,onChange:r}),i=t!==void 0,s=i?t:n,o=fr(r),l=_.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&o(h)}else a(u)},[i,t,a,o]);return[s,l]}function RG({defaultProp:t,onChange:e}){const r=_.useState(t),[n]=r,a=_.useRef(n),i=fr(e);return _.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var IG="VisuallyHidden",vA=_.forwardRef((t,e)=>c.jsx(We.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));vA.displayName=IG;var DG=vA,[Zx,rze]=Rs("Tooltip",[qd]),Qx=qd(),s4="TooltipProvider",LG=700,Z_="tooltip.open",[$G,yA]=Zx(s4),o4=t=>{const{__scopeTooltip:e,delayDuration:r=LG,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,[s,o]=_.useState(!0),l=_.useRef(!1),u=_.useRef(0);return _.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx($G,{scope:e,isOpenDelayed:s,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};o4.displayName=s4;var Jx="Tooltip",[FG,eb]=Zx(Jx),l4=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:s,delayDuration:o}=t,l=yA(Jx,t.__scopeTooltip),u=Qx(e),[d,h]=_.useState(null),f=ci(),p=_.useRef(0),g=s??l.disableHoverableContent,m=o??l.delayDuration,v=_.useRef(!1),[x=!1,y]=Wo({prop:n,defaultProp:a,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(Z_))):l.onClose(),i==null||i(C)}}),b=_.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),w=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,y(!0)},[y]),S=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),k=_.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,y(!0),p.current=0},m)},[m,y]);return _.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),c.jsx(fA,{...u,children:c.jsx(FG,{scope:e,contentId:f,open:x,stateAttribute:b,trigger:d,onTriggerChange:h,onTriggerEnter:_.useCallback(()=>{l.isOpenDelayed?k():w()},[l.isOpenDelayed,k,w]),onTriggerLeave:_.useCallback(()=>{g?S():(window.clearTimeout(p.current),p.current=0)},[S,g]),onOpen:w,onClose:S,disableHoverableContent:g,children:r})})};l4.displayName=Jx;var Q_="TooltipTrigger",c4=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=eb(Q_,r),i=yA(Q_,r),s=Qx(r),o=_.useRef(null),l=lt(e,o,a.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),h=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(pA,{asChild:!0,...s,children:c.jsx(We.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:Ce(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ce(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ce(t.onBlur,a.onClose),onClick:Ce(t.onClick,a.onClose)})})});c4.displayName=Q_;var zG="TooltipPortal",[nze,BG]=Zx(zG,{forceMount:void 0}),ad="TooltipContent",u4=_.forwardRef((t,e)=>{const r=BG(ad,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,s=eb(ad,t.__scopeTooltip);return c.jsx(Cn,{present:n||s.open,children:s.disableHoverableContent?c.jsx(d4,{side:a,...i,ref:e}):c.jsx(WG,{side:a,...i,ref:e})})}),WG=_.forwardRef((t,e)=>{const r=eb(ad,t.__scopeTooltip),n=yA(ad,t.__scopeTooltip),a=_.useRef(null),i=lt(e,a),[s,o]=_.useState(null),{trigger:l,onClose:u}=r,d=a.current,{onPointerInTransitChange:h}=n,f=_.useCallback(()=>{o(null),h(!1)},[h]),p=_.useCallback((g,m)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},y=XG(x,v.getBoundingClientRect()),b=VG(x,y),w=qG(m.getBoundingClientRect()),S=KG([...b,...w]);o(S),h(!0)},[h]);return _.useEffect(()=>()=>f(),[f]),_.useEffect(()=>{if(l&&d){const g=v=>p(v,d),m=v=>p(v,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[l,d,p,f]),_.useEffect(()=>{if(s){const g=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},y=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),b=!GG(x,s);y?f():b&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,s,u,f]),c.jsx(d4,{...t,ref:i})}),[HG,UG]=Zx(Jx,{isInside:!1}),d4=_.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...o}=t,l=eb(ad,r),u=Qx(r),{onClose:d}=l;return _.useEffect(()=>(document.addEventListener(Z_,d),()=>document.removeEventListener(Z_,d)),[d]),_.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(vm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(mA,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(NF,{children:n}),c.jsx(HG,{scope:r,isInside:!0,children:c.jsx(DG,{id:l.contentId,role:"tooltip",children:a||n})})]})})});u4.displayName=ad;var h4="TooltipArrow",YG=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=Qx(r);return UG(h4,r).isInside?null:c.jsx(gA,{...a,...n,ref:e})});YG.displayName=h4;function XG(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function VG(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function qG(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function GG(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const o=e[i].x,l=e[i].y,u=e[s].x,d=e[s].y;l>n!=d>n&&r<(u-o)*(n-l)/(d-l)+o&&(a=!a)}return a}function KG(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ZG(e)}function ZG(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const i=e[e.length-1],s=e[e.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var QG=o4,JG=l4,eK=c4,f4=u4;function p4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=p4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function st(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=p4(t))&&(n&&(n+=" "),n+=e);return n}const xA="-",tK=t=>{const e=nK(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(xA);return o[0]===""&&o.length!==1&&o.shift(),m4(o,e)||rK(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},m4=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?m4(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(xA);return(s=e.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},A2=/^\[(.+)\]$/,rK=t=>{if(A2.test(t)){const e=A2.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},nK=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return iK(Object.entries(t.classGroups),r).forEach(([i,s])=>{J_(s,n,i,e)}),n},J_=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:N2(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(aK(a)){J_(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{J_(s,N2(e,i),r,n)})})},N2=(t,e)=>{let r=t;return e.split(xA).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},aK=t=>t.isThemeGetter,iK=(t,e)=>e?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,o])=>[e+s,o])):i);return[r,a]}):t,sK=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},g4="!",oK=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],i=e.length,s=o=>{const l=[];let u=0,d=0,h;for(let v=0;v<o.length;v++){let x=o[v];if(u===0){if(x===a&&(n||o.slice(v,v+i)===e)){l.push(o.slice(d,v)),d=v+i;continue}if(x==="/"){h=v;continue}}x==="["?u++:x==="]"&&u--}const f=l.length===0?o:o.substring(d),p=f.startsWith(g4),g=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:s}):s},lK=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},cK=t=>({cache:sK(t.cacheSize),parseClassName:oK(t),...tK(t)}),uK=/\s+/,dK=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,i=[],s=t.trim().split(uK);let o="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?f.substring(0,p):f);if(!m){if(!g){o=u+(o.length>0?" "+o:o);continue}if(m=n(f),!m){o=u+(o.length>0?" "+o:o);continue}g=!1}const v=lK(d).join(":"),x=h?v+g4:v,y=x+m;if(i.includes(y))continue;i.push(y);const b=a(m,g);for(let w=0;w<b.length;++w){const S=b[w];i.push(x+S)}o=u+(o.length>0?" "+o:o)}return o};function hK(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=v4(e))&&(n&&(n+=" "),n+=r);return n}const v4=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=v4(t[n]))&&(r&&(r+=" "),r+=e);return r};function fK(t,...e){let r,n,a,i=s;function s(l){const u=e.reduce((d,h)=>h(d),t());return r=cK(u),n=r.cache.get,a=r.cache.set,i=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=dK(l,r);return a(l,d),d}return function(){return i(hK.apply(null,arguments))}}const Ht=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},y4=/^\[(?:([a-z-]+):)?(.+)\]$/i,pK=/^\d+\/\d+$/,mK=new Set(["px","full","screen"]),gK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zi=t=>Nu(t)||mK.has(t)||pK.test(t),Hs=t=>Gd(t,"length",NK),Nu=t=>!!t&&!Number.isNaN(Number(t)),bw=t=>Gd(t,"number",Nu),Bh=t=>!!t&&Number.isInteger(Number(t)),wK=t=>t.endsWith("%")&&Nu(t.slice(0,-1)),Ge=t=>y4.test(t),Us=t=>gK.test(t),_K=new Set(["length","size","percentage"]),SK=t=>Gd(t,_K,x4),jK=t=>Gd(t,"position",x4),CK=new Set(["image","url"]),kK=t=>Gd(t,CK,EK),AK=t=>Gd(t,"",PK),Wh=()=>!0,Gd=(t,e,r)=>{const n=y4.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},NK=t=>vK.test(t)&&!yK.test(t),x4=()=>!1,PK=t=>xK.test(t),EK=t=>bK.test(t),OK=()=>{const t=Ht("colors"),e=Ht("spacing"),r=Ht("blur"),n=Ht("brightness"),a=Ht("borderColor"),i=Ht("borderRadius"),s=Ht("borderSpacing"),o=Ht("borderWidth"),l=Ht("contrast"),u=Ht("grayscale"),d=Ht("hueRotate"),h=Ht("invert"),f=Ht("gap"),p=Ht("gradientColorStops"),g=Ht("gradientColorStopPositions"),m=Ht("inset"),v=Ht("margin"),x=Ht("opacity"),y=Ht("padding"),b=Ht("saturate"),w=Ht("scale"),S=Ht("sepia"),k=Ht("skew"),C=Ht("space"),A=Ht("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",Ge,e],O=()=>[Ge,e],T=()=>["",Zi,Hs],M=()=>["auto",Nu,Ge],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ge],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Nu,Ge];return{cacheSize:500,separator:":",theme:{colors:[Wh],spacing:[Zi,Hs],blur:["none","",Us,Ge],brightness:B(),borderColor:[t],borderRadius:["none","","full",Us,Ge],borderSpacing:O(),borderWidth:T(),contrast:B(),grayscale:F(),hueRotate:B(),invert:F(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[wK,Hs],inset:E(),margin:E(),opacity:B(),padding:O(),saturate:B(),scale:B(),sepia:F(),skew:B(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Ge]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bh,Ge]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Bh,Ge]}],"grid-cols":[{"grid-cols":[Wh]}],"col-start-end":[{col:["auto",{span:["full",Bh,Ge]},Ge]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Wh]}],"row-start-end":[{row:["auto",{span:[Bh,Ge]},Ge]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,e]}],"min-w":[{"min-w":[Ge,e,"min","max","fit"]}],"max-w":[{"max-w":[Ge,e,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[Ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,Hs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bw]}],"font-family":[{font:[Wh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",Nu,bw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zi,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zi,Hs]}],"underline-offset":[{"underline-offset":["auto",Zi,Ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),jK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kK]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Zi,Ge]}],"outline-w":[{outline:[Zi,Hs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Zi,Hs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Us,AK]}],"shadow-color":[{shadow:[Wh]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Us,Ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Bh,Ge]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zi,Hs,bw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TK=fK(OK);function le(...t){return TK(st(t))}const eS=QG,MK=JG,RK=eK,b4=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(f4,{ref:n,sideOffset:e,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));b4.displayName=f4.displayName;var Kd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ic=typeof window>"u"||"Deno"in globalThis;function ya(){}function IK(t,e){return typeof t=="function"?t(e):t}function tS(t){return typeof t=="number"&&t>=0&&t!==1/0}function w4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Pu(t,e){return typeof t=="function"?t(e):t}function ei(t,e){return typeof t=="function"?t(e):t}function P2(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==bA(s,e.options))return!1}else if(!dp(e.queryKey,s))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||a&&a!==e.state.fetchStatus||i&&!i(e))}function E2(t,e){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(sc(e.options.mutationKey)!==sc(i))return!1}else if(!dp(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function bA(t,e){return((e==null?void 0:e.queryKeyHashFn)||sc)(t)}function sc(t){return JSON.stringify(t,(e,r)=>rS(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function dp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!dp(t[r],e[r])):!1}function _4(t,e){if(t===e)return t;const r=O2(t)&&O2(e);if(r||rS(t)&&rS(e)){const n=r?t:Object.keys(t),a=n.length,i=r?e:Object.keys(e),s=i.length,o=r?[]:{};let l=0;for(let u=0;u<s;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=_4(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return a===s&&l===a?t:o}return e}function ey(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function O2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rS(t){if(!T2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!T2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function T2(t){return Object.prototype.toString.call(t)==="[object Object]"}function DK(t){return new Promise(e=>{setTimeout(e,t)})}function nS(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?_4(t,e):e}function LK(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function $K(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var wA=Symbol();function S4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===wA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var $l,lo,Lu,iL,FK=(iL=class extends Kd{constructor(){super();Fe(this,$l);Fe(this,lo);Fe(this,Lu);Ee(this,Lu,e=>{if(!ic&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){H(this,lo)||this.setEventListener(H(this,Lu))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,lo))==null||e.call(this),Ee(this,lo,void 0))}setEventListener(e){var r;Ee(this,Lu,e),(r=H(this,lo))==null||r.call(this),Ee(this,lo,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){H(this,$l)!==e&&(Ee(this,$l,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof H(this,$l)=="boolean"?H(this,$l):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$l=new WeakMap,lo=new WeakMap,Lu=new WeakMap,iL),_A=new FK,$u,co,Fu,sL,zK=(sL=class extends Kd{constructor(){super();Fe(this,$u,!0);Fe(this,co);Fe(this,Fu);Ee(this,Fu,e=>{if(!ic&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){H(this,co)||this.setEventListener(H(this,Fu))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,co))==null||e.call(this),Ee(this,co,void 0))}setEventListener(e){var r;Ee(this,Fu,e),(r=H(this,co))==null||r.call(this),Ee(this,co,e(this.setOnline.bind(this)))}setOnline(e){H(this,$u)!==e&&(Ee(this,$u,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return H(this,$u)}},$u=new WeakMap,co=new WeakMap,Fu=new WeakMap,sL),ty=new zK;function aS(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function BK(t){return Math.min(1e3*2**t,3e4)}function j4(t){return(t??"online")==="online"?ty.isOnline():!0}var C4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ww(t){return t instanceof C4}function k4(t){let e=!1,r=0,n=!1,a;const i=aS(),s=m=>{var v;n||(f(new C4(m)),(v=t.abort)==null||v.call(t))},o=()=>{e=!0},l=()=>{e=!1},u=()=>_A.isFocused()&&(t.networkMode==="always"||ty.isOnline())&&t.canRun(),d=()=>j4(t.networkMode)&&t.canRun(),h=m=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,m),a==null||a(),i.resolve(m))},f=m=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var v;a=x=>{(n||u())&&m(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;a=void 0,n||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(n)return;let m;const v=r===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(h).catch(x=>{var k;if(n)return;const y=t.retry??(ic?0:3),b=t.retryDelay??BK,w=typeof b=="function"?b(r,x):b,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(e||!S){f(x);return}r++,(k=t.onFail)==null||k.call(t,r,x),DK(w).then(()=>u()?void 0:p()).then(()=>{e?f(x):g()})})};return{promise:i,cancel:s,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?g():p().then(g),i)}}function WK(){let t=[],e=0,r=o=>{o()},n=o=>{o()},a=o=>setTimeout(o,0);const i=o=>{e?t.push(o):a(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var xr=WK(),Fl,oL,A4=(oL=class{constructor(){Fe(this,Fl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tS(this.gcTime)&&Ee(this,Fl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ic?1/0:5*60*1e3))}clearGcTimeout(){H(this,Fl)&&(clearTimeout(H(this,Fl)),Ee(this,Fl,void 0))}},Fl=new WeakMap,oL),zu,Bu,va,Gr,lm,zl,Va,ts,lL,HK=(lL=class extends A4{constructor(e){super();Fe(this,Va);Fe(this,zu);Fe(this,Bu);Fe(this,va);Fe(this,Gr);Fe(this,lm);Fe(this,zl);Ee(this,zl,!1),Ee(this,lm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ee(this,va,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ee(this,zu,UK(this.options)),this.state=e.state??H(this,zu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=H(this,Gr))==null?void 0:e.promise}setOptions(e){this.options={...H(this,lm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,va).remove(this)}setData(e,r){const n=nS(this.state.data,e,this.options);return et(this,Va,ts).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){et(this,Va,ts).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,a;const r=(n=H(this,Gr))==null?void 0:n.promise;return(a=H(this,Gr))==null||a.cancel(e),r?r.then(ya).catch(ya):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,zu))}isActive(){return this.observers.some(e=>ei(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!w4(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=H(this,Gr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=H(this,Gr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),H(this,va).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(H(this,Gr)&&(H(this,zl)?H(this,Gr).cancel({revert:!0}):H(this,Gr).cancelRetry()),this.scheduleGc()),H(this,va).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||et(this,Va,ts).call(this,{type:"invalidate"})}fetch(e,r){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,Gr))return H(this,Gr).continueRetry(),H(this,Gr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ee(this,zl,!0),n.signal)})},i=()=>{const h=S4(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return a(f),Ee(this,zl,!1),this.options.persister?this.options.persister(h,f,this):h(f)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(s),(l=this.options.behavior)==null||l.onFetch(s,this),Ee(this,Bu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&et(this,Va,ts).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const o=h=>{var f,p,g,m;ww(h)&&h.silent||et(this,Va,ts).call(this,{type:"error",error:h}),ww(h)||((p=(f=H(this,va).config).onError)==null||p.call(f,h,this),(m=(g=H(this,va).config).onSettled)==null||m.call(g,this.state.data,h,this)),this.scheduleGc()};return Ee(this,Gr,k4({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,p,g,m;if(h===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){o(v);return}(p=(f=H(this,va).config).onSuccess)==null||p.call(f,h,this),(m=(g=H(this,va).config).onSettled)==null||m.call(g,h,this.state.error,this),this.scheduleGc()},onError:o,onFail:(h,f)=>{et(this,Va,ts).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{et(this,Va,ts).call(this,{type:"pause"})},onContinue:()=>{et(this,Va,ts).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),H(this,Gr).start()}},zu=new WeakMap,Bu=new WeakMap,va=new WeakMap,Gr=new WeakMap,lm=new WeakMap,zl=new WeakMap,Va=new WeakSet,ts=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...N4(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return ww(a)&&a.revert&&H(this,Bu)?{...H(this,Bu),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),xr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),H(this,va).notify({query:this,type:"updated",action:e})})},lL);function N4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function UK(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ni,cL,YK=(cL=class extends Kd{constructor(e={}){super();Fe(this,Ni);this.config=e,Ee(this,Ni,new Map)}build(e,r,n){const a=r.queryKey,i=r.queryHash??bA(a,r);let s=this.get(i);return s||(s=new HK({cache:this,queryKey:a,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){H(this,Ni).has(e.queryHash)||(H(this,Ni).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=H(this,Ni).get(e.queryHash);r&&(e.destroy(),r===e&&H(this,Ni).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,Ni).get(e)}getAll(){return[...H(this,Ni).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>P2(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>P2(e,n)):r}notify(e){xr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){xr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ni=new WeakMap,cL),Pi,hn,Bl,Ei,Xs,uL,XK=(uL=class extends A4{constructor(e){super();Fe(this,Ei);Fe(this,Pi);Fe(this,hn);Fe(this,Bl);this.mutationId=e.mutationId,Ee(this,hn,e.mutationCache),Ee(this,Pi,[]),this.state=e.state||P4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){H(this,Pi).includes(e)||(H(this,Pi).push(e),this.clearGcTimeout(),H(this,hn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ee(this,Pi,H(this,Pi).filter(r=>r!==e)),this.scheduleGc(),H(this,hn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){H(this,Pi).length||(this.state.status==="pending"?this.scheduleGc():H(this,hn).remove(this))}continue(){var e;return((e=H(this,Bl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,i,s,o,l,u,d,h,f,p,g,m,v,x,y,b,w,S,k,C;Ee(this,Bl,k4({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,N)=>{et(this,Ei,Xs).call(this,{type:"failed",failureCount:A,error:N})},onPause:()=>{et(this,Ei,Xs).call(this,{type:"pause"})},onContinue:()=>{et(this,Ei,Xs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,hn).canRun(this)}));const r=this.state.status==="pending",n=!H(this,Bl).canStart();try{if(!r){et(this,Ei,Xs).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(a=H(this,hn).config).onMutate)==null?void 0:i.call(a,e,this));const N=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));N!==this.state.context&&et(this,Ei,Xs).call(this,{type:"pending",context:N,variables:e,isPaused:n})}const A=await H(this,Bl).start();return await((u=(l=H(this,hn).config).onSuccess)==null?void 0:u.call(l,A,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,A,e,this.state.context)),await((p=(f=H(this,hn).config).onSettled)==null?void 0:p.call(f,A,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,A,null,e,this.state.context)),et(this,Ei,Xs).call(this,{type:"success",data:A}),A}catch(A){try{throw await((x=(v=H(this,hn).config).onError)==null?void 0:x.call(v,A,e,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,A,e,this.state.context)),await((S=(w=H(this,hn).config).onSettled)==null?void 0:S.call(w,void 0,A,this.state.variables,this.state.context,this)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,A,e,this.state.context)),A}finally{et(this,Ei,Xs).call(this,{type:"error",error:A})}}finally{H(this,hn).runNext(this)}}},Pi=new WeakMap,hn=new WeakMap,Bl=new WeakMap,Ei=new WeakSet,Xs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xr.batch(()=>{H(this,Pi).forEach(n=>{n.onMutationUpdate(e)}),H(this,hn).notify({mutation:this,type:"updated",action:e})})},uL);function P4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kn,cm,dL,VK=(dL=class extends Kd{constructor(e={}){super();Fe(this,Kn);Fe(this,cm);this.config=e,Ee(this,Kn,new Map),Ee(this,cm,Date.now())}build(e,r,n){const a=new XK({mutationCache:this,mutationId:++tg(this,cm)._,options:e.defaultMutationOptions(r),state:n});return this.add(a),a}add(e){const r=_g(e),n=H(this,Kn).get(r)??[];n.push(e),H(this,Kn).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=_g(e);if(H(this,Kn).has(r)){const a=(n=H(this,Kn).get(r))==null?void 0:n.filter(i=>i!==e);a&&(a.length===0?H(this,Kn).delete(r):H(this,Kn).set(r,a))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=H(this,Kn).get(_g(e)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=H(this,Kn).get(_g(e)))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){xr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...H(this,Kn).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>E2(r,n))}findAll(e={}){return this.getAll().filter(r=>E2(e,r))}notify(e){xr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return xr.batch(()=>Promise.all(e.map(r=>r.continue().catch(ya))))}},Kn=new WeakMap,cm=new WeakMap,dL);function _g(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function M2(t){return{onFetch:(e,r)=>{var d,h,f,p,g;const n=e.options,a=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],s=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},x=S4(e.options,e.fetchOptions),y=async(b,w,S)=>{if(m)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const k={queryKey:e.queryKey,pageParam:w,direction:S?"backward":"forward",meta:e.options.meta};v(k);const C=await x(k),{maxPages:A}=e.options,N=S?$K:LK;return{pages:N(b.pages,C,A),pageParams:N(b.pageParams,w,A)}};if(a&&i.length){const b=a==="backward",w=b?qK:R2,S={pages:i,pageParams:s},k=w(n,S);o=await y(S,k,b)}else{const b=t??i.length;do{const w=l===0?s[0]??n.initialPageParam:R2(n,o);if(l>0&&w==null)break;o=await y(o,w),l++}while(l<b)}return o};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function R2(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function qK(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var er,uo,ho,Wu,Hu,fo,Uu,Yu,hL,GK=(hL=class{constructor(t={}){Fe(this,er);Fe(this,uo);Fe(this,ho);Fe(this,Wu);Fe(this,Hu);Fe(this,fo);Fe(this,Uu);Fe(this,Yu);Ee(this,er,t.queryCache||new YK),Ee(this,uo,t.mutationCache||new VK),Ee(this,ho,t.defaultOptions||{}),Ee(this,Wu,new Map),Ee(this,Hu,new Map),Ee(this,fo,0)}mount(){tg(this,fo)._++,H(this,fo)===1&&(Ee(this,Uu,_A.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,er).onFocus())})),Ee(this,Yu,ty.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,er).onOnline())})))}unmount(){var t,e;tg(this,fo)._--,H(this,fo)===0&&((t=H(this,Uu))==null||t.call(this),Ee(this,Uu,void 0),(e=H(this,Yu))==null||e.call(this),Ee(this,Yu,void 0))}isFetching(t){return H(this,er).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,uo).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=H(this,er).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=H(this,er).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Pu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return H(this,er).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=H(this,er).get(n.queryHash),i=a==null?void 0:a.state.data,s=IK(e,i);if(s!==void 0)return H(this,er).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return xr.batch(()=>H(this,er).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=H(this,er).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=H(this,er);xr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=H(this,er),n={type:"active",...t};return xr.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=xr.batch(()=>H(this,er).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(ya).catch(ya)}invalidateQueries(t={},e={}){return xr.batch(()=>{if(H(this,er).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=xr.batch(()=>H(this,er).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ya)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ya)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=H(this,er).build(this,e);return r.isStaleByTime(Pu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ya).catch(ya)}fetchInfiniteQuery(t){return t.behavior=M2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ya).catch(ya)}ensureInfiniteQueryData(t){return t.behavior=M2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ty.isOnline()?H(this,uo).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,er)}getMutationCache(){return H(this,uo)}getDefaultOptions(){return H(this,ho)}setDefaultOptions(t){Ee(this,ho,t)}setQueryDefaults(t,e){H(this,Wu).set(sc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,Wu).values()];let r={};return e.forEach(n=>{dp(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){H(this,Hu).set(sc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,Hu).values()];let r={};return e.forEach(n=>{dp(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,ho).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===wA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,ho).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,er).clear(),H(this,uo).clear()}},er=new WeakMap,uo=new WeakMap,ho=new WeakMap,Wu=new WeakMap,Hu=new WeakMap,fo=new WeakMap,Uu=new WeakMap,Yu=new WeakMap,hL),On,ct,um,fn,Wl,Xu,po,Oi,dm,Vu,qu,Hl,Ul,mo,Gu,xt,hf,iS,sS,oS,lS,cS,uS,dS,E4,fL,KK=(fL=class extends Kd{constructor(e,r){super();Fe(this,xt);Fe(this,On);Fe(this,ct);Fe(this,um);Fe(this,fn);Fe(this,Wl);Fe(this,Xu);Fe(this,po);Fe(this,Oi);Fe(this,dm);Fe(this,Vu);Fe(this,qu);Fe(this,Hl);Fe(this,Ul);Fe(this,mo);Fe(this,Gu,new Set);this.options=r,Ee(this,On,e),Ee(this,Oi,null),Ee(this,po,aS()),this.options.experimental_prefetchInRender||H(this,po).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,ct).addObserver(this),I2(H(this,ct),this.options)?et(this,xt,hf).call(this):this.updateResult(),et(this,xt,lS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hS(H(this,ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hS(H(this,ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,et(this,xt,cS).call(this),et(this,xt,uS).call(this),H(this,ct).removeObserver(this)}setOptions(e,r){const n=this.options,a=H(this,ct);if(this.options=H(this,On).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ei(this.options.enabled,H(this,ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");et(this,xt,dS).call(this),H(this,ct).setOptions(this.options),n._defaulted&&!ey(this.options,n)&&H(this,On).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,ct),observer:this});const i=this.hasListeners();i&&D2(H(this,ct),a,this.options,n)&&et(this,xt,hf).call(this),this.updateResult(r),i&&(H(this,ct)!==a||ei(this.options.enabled,H(this,ct))!==ei(n.enabled,H(this,ct))||Pu(this.options.staleTime,H(this,ct))!==Pu(n.staleTime,H(this,ct)))&&et(this,xt,iS).call(this);const s=et(this,xt,sS).call(this);i&&(H(this,ct)!==a||ei(this.options.enabled,H(this,ct))!==ei(n.enabled,H(this,ct))||s!==H(this,mo))&&et(this,xt,oS).call(this,s)}getOptimisticResult(e){const r=H(this,On).getQueryCache().build(H(this,On),e),n=this.createResult(r,e);return QK(this,n)&&(Ee(this,fn,n),Ee(this,Xu,this.options),Ee(this,Wl,H(this,ct).state)),n}getCurrentResult(){return H(this,fn)}trackResult(e,r){const n={};return Object.keys(e).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),e[a])})}),n}trackProp(e){H(this,Gu).add(e)}getCurrentQuery(){return H(this,ct)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=H(this,On).defaultQueryOptions(e),n=H(this,On).getQueryCache().build(H(this,On),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return et(this,xt,hf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,fn)))}createResult(e,r){var A;const n=H(this,ct),a=this.options,i=H(this,fn),s=H(this,Wl),o=H(this,Xu),u=e!==n?e.state:H(this,um),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const N=this.hasListeners(),P=!N&&I2(e,r),E=N&&D2(e,n,r,a);(P||E)&&(h={...h,...N4(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=h;if(r.select&&h.data!==void 0)if(i&&h.data===(s==null?void 0:s.data)&&r.select===H(this,dm))p=H(this,Vu);else try{Ee(this,dm,r.select),p=r.select(h.data),p=nS(i==null?void 0:i.data,p,r),Ee(this,Vu,p),Ee(this,Oi,null)}catch(N){Ee(this,Oi,N)}else p=h.data;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let N;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))N=i.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((A=H(this,qu))==null?void 0:A.state.data,H(this,qu)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),Ee(this,Oi,null)}catch(P){Ee(this,Oi,P)}N!==void 0&&(v="success",p=nS(i==null?void 0:i.data,N,r),f=!0)}H(this,Oi)&&(g=H(this,Oi),p=H(this,Vu),m=Date.now(),v="error");const x=h.fetchStatus==="fetching",y=v==="pending",b=v==="error",w=y&&x,S=p!==void 0,C={status:v,fetchStatus:h.fetchStatus,isPending:y,isSuccess:v==="success",isError:b,isInitialLoading:w,isLoading:w,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:b&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&S,isStale:SA(e,r),refetch:this.refetch,promise:H(this,po)};if(this.options.experimental_prefetchInRender){const N=O=>{C.status==="error"?O.reject(C.error):C.data!==void 0&&O.resolve(C.data)},P=()=>{const O=Ee(this,po,C.promise=aS());N(O)},E=H(this,po);switch(E.status){case"pending":e.queryHash===n.queryHash&&N(E);break;case"fulfilled":(C.status==="error"||C.data!==E.value)&&P();break;case"rejected":(C.status!=="error"||C.error!==E.reason)&&P();break}}return C}updateResult(e){const r=H(this,fn),n=this.createResult(H(this,ct),this.options);if(Ee(this,Wl,H(this,ct).state),Ee(this,Xu,this.options),H(this,Wl).data!==void 0&&Ee(this,qu,H(this,ct)),ey(n,r))return;Ee(this,fn,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!H(this,Gu).size)return!0;const l=new Set(o??H(this,Gu));return this.options.throwOnError&&l.add("error"),Object.keys(H(this,fn)).some(u=>{const d=u;return H(this,fn)[d]!==r[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(a.listeners=!0),et(this,xt,E4).call(this,{...a,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&et(this,xt,lS).call(this)}},On=new WeakMap,ct=new WeakMap,um=new WeakMap,fn=new WeakMap,Wl=new WeakMap,Xu=new WeakMap,po=new WeakMap,Oi=new WeakMap,dm=new WeakMap,Vu=new WeakMap,qu=new WeakMap,Hl=new WeakMap,Ul=new WeakMap,mo=new WeakMap,Gu=new WeakMap,xt=new WeakSet,hf=function(e){et(this,xt,dS).call(this);let r=H(this,ct).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ya)),r},iS=function(){et(this,xt,cS).call(this);const e=Pu(this.options.staleTime,H(this,ct));if(ic||H(this,fn).isStale||!tS(e))return;const n=w4(H(this,fn).dataUpdatedAt,e)+1;Ee(this,Hl,setTimeout(()=>{H(this,fn).isStale||this.updateResult()},n))},sS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,ct)):this.options.refetchInterval)??!1},oS=function(e){et(this,xt,uS).call(this),Ee(this,mo,e),!(ic||ei(this.options.enabled,H(this,ct))===!1||!tS(H(this,mo))||H(this,mo)===0)&&Ee(this,Ul,setInterval(()=>{(this.options.refetchIntervalInBackground||_A.isFocused())&&et(this,xt,hf).call(this)},H(this,mo)))},lS=function(){et(this,xt,iS).call(this),et(this,xt,oS).call(this,et(this,xt,sS).call(this))},cS=function(){H(this,Hl)&&(clearTimeout(H(this,Hl)),Ee(this,Hl,void 0))},uS=function(){H(this,Ul)&&(clearInterval(H(this,Ul)),Ee(this,Ul,void 0))},dS=function(){const e=H(this,On).getQueryCache().build(H(this,On),this.options);if(e===H(this,ct))return;const r=H(this,ct);Ee(this,ct,e),Ee(this,um,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},E4=function(e){xr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(H(this,fn))}),H(this,On).getQueryCache().notify({query:H(this,ct),type:"observerResultsUpdated"})})},fL);function ZK(t,e){return ei(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function I2(t,e){return ZK(t,e)||t.state.data!==void 0&&hS(t,e,e.refetchOnMount)}function hS(t,e,r){if(ei(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&SA(t,e)}return!1}function D2(t,e,r,n){return(t!==e||ei(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&SA(t,r)}function SA(t,e){return ei(e.enabled,t)!==!1&&t.isStaleByTime(Pu(e.staleTime,t))}function QK(t,e){return!ey(t.getCurrentResult(),e)}var go,vo,Tn,ss,_s,pv,fS,pL,JK=(pL=class extends Kd{constructor(r,n){super();Fe(this,_s);Fe(this,go);Fe(this,vo);Fe(this,Tn);Fe(this,ss);Ee(this,go,r),this.setOptions(n),this.bindMethods(),et(this,_s,pv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=H(this,go).defaultMutationOptions(r),ey(this.options,n)||H(this,go).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,Tn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&sc(n.mutationKey)!==sc(this.options.mutationKey)?this.reset():((a=H(this,Tn))==null?void 0:a.state.status)==="pending"&&H(this,Tn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=H(this,Tn))==null||r.removeObserver(this)}onMutationUpdate(r){et(this,_s,pv).call(this),et(this,_s,fS).call(this,r)}getCurrentResult(){return H(this,vo)}reset(){var r;(r=H(this,Tn))==null||r.removeObserver(this),Ee(this,Tn,void 0),et(this,_s,pv).call(this),et(this,_s,fS).call(this)}mutate(r,n){var a;return Ee(this,ss,n),(a=H(this,Tn))==null||a.removeObserver(this),Ee(this,Tn,H(this,go).getMutationCache().build(H(this,go),this.options)),H(this,Tn).addObserver(this),H(this,Tn).execute(r)}},go=new WeakMap,vo=new WeakMap,Tn=new WeakMap,ss=new WeakMap,_s=new WeakSet,pv=function(){var n;const r=((n=H(this,Tn))==null?void 0:n.state)??P4();Ee(this,vo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},fS=function(r){xr.batch(()=>{var n,a,i,s,o,l,u,d;if(H(this,ss)&&this.hasListeners()){const h=H(this,vo).variables,f=H(this,vo).context;(r==null?void 0:r.type)==="success"?((a=(n=H(this,ss)).onSuccess)==null||a.call(n,r.data,h,f),(s=(i=H(this,ss)).onSettled)==null||s.call(i,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((l=(o=H(this,ss)).onError)==null||l.call(o,r.error,h,f),(d=(u=H(this,ss)).onSettled)==null||d.call(u,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(H(this,vo))})})},pL),O4=_.createContext(void 0),jA=t=>{const e=_.useContext(O4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},L2=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(O4.Provider,{value:t,children:e})),T4=_.createContext(!1),eZ=()=>_.useContext(T4);T4.Provider;function tZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var rZ=_.createContext(tZ()),nZ=()=>_.useContext(rZ);function M4(t,e){return typeof t=="function"?t(...e):!!t}function R4(){}var aZ=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},iZ=t=>{_.useEffect(()=>{t.clearReset()},[t])},sZ=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&M4(r,[t.error,n]),oZ=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},lZ=(t,e)=>t.isLoading&&t.isFetching&&!e,cZ=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,$2=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function uZ(t,e,r){var d,h,f,p,g;const n=jA(),a=eZ(),i=nZ(),s=n.defaultQueryOptions(t);(h=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,s),s._optimisticResults=a?"isRestoring":"optimistic",oZ(s),aZ(s,i),iZ(i);const o=!n.getQueryCache().get(s.queryHash),[l]=_.useState(()=>new e(n,s)),u=l.getOptimisticResult(s);if(_.useSyncExternalStore(_.useCallback(m=>{const v=a?()=>{}:l.subscribe(xr.batchCalls(m));return l.updateResult(),v},[l,a]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),_.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),cZ(s,u))throw $2(s,l,i);if(sZ({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw u.error;if((p=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,s,u),s.experimental_prefetchInRender&&!ic&&lZ(u,a)){const m=o?$2(s,l,i):(g=n.getQueryCache().get(s.queryHash))==null?void 0:g.promise;m==null||m.catch(R4).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function I4(t,e){return uZ(t,KK)}function Sg(t,e){const r=jA(),[n]=_.useState(()=>new JK(r,t));_.useEffect(()=>{n.setOptions(t)},[n,t]);const a=_.useSyncExternalStore(_.useCallback(s=>n.subscribe(xr.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=_.useCallback((s,o)=>{n.mutate(s,o).catch(R4)},[n]);if(a.error&&M4(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hp.apply(this,arguments)}var bo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bo||(bo={}));const F2="popstate";function dZ(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:s,hash:o}=n.location;return pS("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:L4(a)}return fZ(e,r,null,t)}function Sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function D4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hZ(){return Math.random().toString(36).substr(2,8)}function z2(t,e){return{usr:t.state,key:t.key,idx:e}}function pS(t,e,r,n){return r===void 0&&(r=null),hp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zd(e):e,{state:r,key:e&&e.key||n||hZ()})}function L4(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function fZ(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=bo.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(hp({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function h(){o=bo.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:o,location:m.location,delta:x})}function f(v,x){o=bo.Push;let y=pS(m.location,v,x);u=d()+1;let b=z2(y,u),w=m.createHref(y);try{s.pushState(b,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(w)}i&&l&&l({action:o,location:m.location,delta:1})}function p(v,x){o=bo.Replace;let y=pS(m.location,v,x);u=d();let b=z2(y,u),w=m.createHref(y);s.replaceState(b,"",w),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:L4(v);return y=y.replace(/ $/,"%20"),Sr(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let m={get action(){return o},get location(){return t(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(F2,h),l=v,()=>{a.removeEventListener(F2,h),l=null}},createHref(v){return e(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(v){return s.go(v)}};return m}var B2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(B2||(B2={}));function pZ(t,e,r){return r===void 0&&(r="/"),mZ(t,e,r,!1)}function mZ(t,e,r,n){let a=typeof e=="string"?Zd(e):e,i=z4(a.pathname||"/",r);if(i==null)return null;let s=$4(t);gZ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=AZ(i);o=CZ(s[l],u,n)}return o}function $4(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Sr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Vl([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Sr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$4(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:SZ(u,i.index),routesMeta:d})};return t.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of F4(i.path))a(i,s,l)}),e}function F4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=F4(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function gZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:jZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vZ=/^:[\w-]+$/,yZ=3,xZ=2,bZ=1,wZ=10,_Z=-2,W2=t=>t==="*";function SZ(t,e){let r=t.split("/"),n=r.length;return r.some(W2)&&(n+=_Z),e&&(n+=xZ),r.filter(a=>!W2(a)).reduce((a,i)=>a+(vZ.test(i)?yZ:i===""?bZ:wZ),n)}function jZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function CZ(t,e,r){let{routesMeta:n}=t,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=H2({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=H2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),s.push({params:a,pathname:Vl([i,h.pathname]),pathnameBase:MZ(Vl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Vl([i,h.pathnameBase]))}return s}function H2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=kZ(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=o[h]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[h];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function kZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),D4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function AZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return D4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function z4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function NZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Zd(t):t;return{pathname:r?r.startsWith("/")?r:PZ(r,e):e,search:RZ(n),hash:IZ(a)}}function PZ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function _w(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function OZ(t,e){let r=EZ(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function TZ(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Zd(t):(a=hp({},t),Sr(!a.pathname||!a.pathname.includes("?"),_w("?","pathname","search",a)),Sr(!a.pathname||!a.pathname.includes("#"),_w("#","pathname","hash",a)),Sr(!a.search||!a.search.includes("#"),_w("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let h=e.length-1;if(!n&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=NZ(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Vl=t=>t.join("/").replace(/\/\/+/g,"/"),MZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const B4=["post","put","patch","delete"];new Set(B4);const LZ=["get",...B4];new Set(LZ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fp.apply(this,arguments)}const CA=_.createContext(null),$Z=_.createContext(null),tb=_.createContext(null),rb=_.createContext(null),Qd=_.createContext({outlet:null,matches:[],isDataRoute:!1}),W4=_.createContext(null);function nb(){return _.useContext(rb)!=null}function ab(){return nb()||Sr(!1),_.useContext(rb).location}function H4(t){_.useContext(tb).static||_.useLayoutEffect(t)}function xm(){let{isDataRoute:t}=_.useContext(Qd);return t?ZZ():FZ()}function FZ(){nb()||Sr(!1);let t=_.useContext(CA),{basename:e,future:r,navigator:n}=_.useContext(tb),{matches:a}=_.useContext(Qd),{pathname:i}=ab(),s=JSON.stringify(OZ(a,r.v7_relativeSplatPath)),o=_.useRef(!1);return H4(()=>{o.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=TZ(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vl([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,i,t])}function zZ(t,e){return BZ(t,e)}function BZ(t,e,r,n){nb()||Sr(!1);let{navigator:a}=_.useContext(tb),{matches:i}=_.useContext(Qd),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ab(),d;if(e){var h;let v=typeof e=="string"?Zd(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||Sr(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=pZ(t,{pathname:p}),m=XZ(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Vl([l,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Vl([l,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return e&&m?_.createElement(rb.Provider,{value:{location:fp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bo.Pop}},m):m}function WZ(){let t=KZ(),e=DZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:a},r):null,null)}const HZ=_.createElement(WZ,null);class UZ extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement(Qd.Provider,{value:this.props.routeContext},_.createElement(W4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YZ(t){let{routeContext:e,match:r,children:n}=t,a=_.useContext(CA);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Qd.Provider,{value:e},n)}function XZ(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Sr(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,f)=>{let p,g=!1,m=null,v=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,m=h.route.errorElement||HZ,l&&(u<0&&f===0?(g=!0,v=null):u===f&&(g=!0,v=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,f+1)),y=()=>{let b;return p?b=m:g?b=v:h.route.Component?b=_.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,_.createElement(YZ,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(UZ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var U4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(U4||{}),ry=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ry||{});function VZ(t){let e=_.useContext(CA);return e||Sr(!1),e}function qZ(t){let e=_.useContext($Z);return e||Sr(!1),e}function GZ(t){let e=_.useContext(Qd);return e||Sr(!1),e}function Y4(t){let e=GZ(),r=e.matches[e.matches.length-1];return r.route.id||Sr(!1),r.route.id}function KZ(){var t;let e=_.useContext(W4),r=qZ(ry.UseRouteError),n=Y4(ry.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function ZZ(){let{router:t}=VZ(U4.UseNavigateStable),e=Y4(ry.UseNavigateStable),r=_.useRef(!1);return H4(()=>{r.current=!0}),_.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,fp({fromRouteId:e},i)))},[t,e])}function sr(t){Sr(!1)}function QZ(t){let{basename:e="/",children:r=null,location:n,navigationType:a=bo.Pop,navigator:i,static:s=!1,future:o}=t;nb()&&Sr(!1);let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:s,future:fp({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Zd(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,m=_.useMemo(()=>{let v=z4(d,l);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:g},navigationType:a}},[l,d,h,f,p,g,a]);return m==null?null:_.createElement(tb.Provider,{value:u},_.createElement(rb.Provider,{children:r,value:m}))}function U2(t){let{children:e,location:r}=t;return zZ(mS(e),r)}new Promise(()=>{});function mS(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(n,a)=>{if(!_.isValidElement(n))return;let i=[...e,a];if(n.type===_.Fragment){r.push.apply(r,mS(n.props.children,i));return}n.type!==sr&&Sr(!1),!n.props.index||!n.props.children||Sr(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=mS(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function JZ(t,e){let r=gS(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const eQ="6";try{window.__reactRouterVersion=eQ}catch{}const tQ="startTransition",Y2=Hd[tQ];function X2(t){let{basename:e,children:r,future:n,window:a}=t,i=_.useRef();i.current==null&&(i.current=dZ({window:a,v5Compat:!0}));let s=i.current,[o,l]=_.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=_.useCallback(h=>{u&&Y2?Y2(()=>l(h)):l(h)},[l,u]);return _.useLayoutEffect(()=>s.listen(d),[s,d]),_.createElement(QZ,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}var V2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(V2||(V2={}));var q2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(q2||(q2={}));function X4(t){let e=_.useRef(gS(t)),r=_.useRef(!1),n=ab(),a=_.useMemo(()=>JZ(n.search,r.current?null:e.current),[n.search]),i=xm(),s=_.useCallback((o,l)=>{const u=gS(typeof o=="function"?o(a):o);r.current=!0,i("?"+u,l)},[i,a]);return[a,s]}const G2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,K2=st,Jd=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return K2(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const f=G2(d)||G2(h);return a[u][f]}),o=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...o}[m]):{...i,...o}[m]===v})?[...u,h,f]:u},[]);return K2(t,s,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V4=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>_.createElement("svg",{ref:l,...nQ,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:V4("lucide",a),...o},[...s.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const r=_.forwardRef(({className:n,...a},i)=>_.createElement(aQ,{ref:i,iconNode:e,className:V4(`lucide-${rQ(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=Oe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=Oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=Oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Oe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Oe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=Oe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Oe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Oe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=Oe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=Oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=Oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=Oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=Oe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=Oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=Oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=Oe("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=Oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Oe("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Oe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=Oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=Oe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=Oe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=Oe("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Oe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=Oe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=Oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=Oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=Oe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=Oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=Oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=Oe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=Oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Oe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Oe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=Oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=Oe("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=Oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),jw=768;function EQ(){const[t,e]=_.useState(void 0);return _.useEffect(()=>{const r=window.matchMedia(`(max-width: ${jw-1}px)`),n=()=>{e(window.innerWidth<jw)};return r.addEventListener("change",n),e(window.innerWidth<jw),()=>r.removeEventListener("change",n)},[]),!!t}const ny=Jd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10 rounded-full"}},defaultVariants:{variant:"default",size:"default"}}),de=_.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const s=n?Xn:"button";return c.jsx(s,{className:le(ny({variant:e,size:r,className:t})),ref:i,...a})});de.displayName="Button";const De=_.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));De.displayName="Input";function aO(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function OQ(...t){return e=>{let r=!1;const n=t.map(a=>{const i=aO(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():aO(t[a],null)}}}}function TQ(t){const e=MQ(t),r=_.forwardRef((n,a)=>{const{children:i,...s}=n,o=_.Children.toArray(i),l=o.find(IQ);if(l){const u=l.props.children,d=o.map(h=>h===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...s,ref:a,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function MQ(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const s=LQ(a),o=DQ(i,a.props);return a.type!==_.Fragment&&(o.ref=n?OQ(n,s):s),_.cloneElement(a,o)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RQ=Symbol("radix.slottable");function IQ(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RQ}function DQ(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function LQ(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var $Q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],FQ=$Q.reduce((t,e)=>{const r=TQ(`Primitive.${e}`),n=_.forwardRef((a,i)=>{const{asChild:s,...o}=a,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),zQ="Separator",iO="horizontal",BQ=["horizontal","vertical"],rz=_.forwardRef((t,e)=>{const{decorative:r,orientation:n=iO,...a}=t,i=WQ(n)?n:iO,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(FQ.div,{"data-orientation":i,...o,...a,ref:e})});rz.displayName=zQ;function WQ(t){return BQ.includes(t)}var nz=rz;const PA=_.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>c.jsx(nz,{ref:a,decorative:r,orientation:e,className:le("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));PA.displayName=nz.displayName;var Cw="focusScope.autoFocusOnMount",kw="focusScope.autoFocusOnUnmount",sO={bubbles:!1,cancelable:!0},HQ="FocusScope",ib=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=t,[o,l]=_.useState(null),u=fr(a),d=fr(i),h=_.useRef(null),f=lt(e,m=>l(m)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let m=function(b){if(p.paused||!o)return;const w=b.target;o.contains(w)?h.current=w:Vs(h.current,{select:!0})},v=function(b){if(p.paused||!o)return;const w=b.relatedTarget;w!==null&&(o.contains(w)||Vs(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Vs(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const y=new MutationObserver(x);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),y.disconnect()}}},[n,o,p.paused]),_.useEffect(()=>{if(o){lO.add(p);const m=document.activeElement;if(!o.contains(m)){const x=new CustomEvent(Cw,sO);o.addEventListener(Cw,u),o.dispatchEvent(x),x.defaultPrevented||(UQ(GQ(az(o)),{select:!0}),document.activeElement===m&&Vs(o))}return()=>{o.removeEventListener(Cw,u),setTimeout(()=>{const x=new CustomEvent(kw,sO);o.addEventListener(kw,d),o.dispatchEvent(x),x.defaultPrevented||Vs(m??document.body,{select:!0}),o.removeEventListener(kw,d),lO.remove(p)},0)}}},[o,u,d,p]);const g=_.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const y=m.currentTarget,[b,w]=YQ(y);b&&w?!m.shiftKey&&x===w?(m.preventDefault(),r&&Vs(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Vs(w,{select:!0})):x===y&&m.preventDefault()}},[r,n,p.paused]);return c.jsx(We.div,{tabIndex:-1,...s,ref:f,onKeyDown:g})});ib.displayName=HQ;function UQ(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Vs(n,{select:e}),document.activeElement!==r)return}function YQ(t){const e=az(t),r=oO(e,t),n=oO(e.reverse(),t);return[r,n]}function az(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function oO(t,e){for(const r of t)if(!XQ(r,{upTo:e}))return r}function XQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function VQ(t){return t instanceof HTMLInputElement&&"select"in t}function Vs(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&VQ(t)&&e&&t.select()}}var lO=qQ();function qQ(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=cO(t,e),t.unshift(e)},remove(e){var r;t=cO(t,e),(r=t[0])==null||r.resume()}}}function cO(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function GQ(t){return t.filter(e=>e.tagName!=="A")}var Aw=0;function EA(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uO()),document.body.insertAdjacentElement("beforeend",t[1]??uO()),Aw++,()=>{Aw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Aw--}},[])}function uO(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var tn=function(){return tn=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},tn.apply(this,arguments)};function OA(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function iz(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var Nf="right-scroll-bar-position",Pf="width-before-scroll-bar",KQ="with-scroll-bars-hidden",ZQ="--removed-body-scroll-bar-size";function Nw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function QQ(t,e){var r=_.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var JQ=typeof window<"u"?_.useLayoutEffect:_.useEffect,dO=new WeakMap;function sz(t,e){var r=QQ(null,function(n){return t.forEach(function(a){return Nw(a,n)})});return JQ(function(){var n=dO.get(r);if(n){var a=new Set(n),i=new Set(t),s=r.current;a.forEach(function(o){i.has(o)||Nw(o,null)}),i.forEach(function(o){a.has(o)||Nw(o,s)})}dO.set(r,t)},[t]),r}function eJ(t){return t}function tJ(t,e){e===void 0&&(e=eJ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var s=e(i,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(i),s=r}var l=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function oz(t){t===void 0&&(t={});var e=tJ(null);return e.options=tn({async:!0,ssr:!1},t),e}var lz=function(t){var e=t.sideCar,r=OA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,tn({},r))};lz.isSideCarExport=!0;function cz(t,e){return t.useMedium(e),lz}var uz=oz(),Pw=function(){},sb=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:Pw,onWheelCapture:Pw,onTouchMoveCapture:Pw}),a=n[0],i=n[1],s=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,g=t.inert,m=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,y=t.gapMode,b=OA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,S=sz([r,e]),k=tn(tn({},b),a);return _.createElement(_.Fragment,null,d&&_.createElement(w,{sideCar:uz,removeScrollBar:u,shards:h,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:y}),s?_.cloneElement(_.Children.only(o),tn(tn({},k),{ref:S})):_.createElement(x,tn({},k,{className:l,ref:S}),o))});sb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sb.classNames={fullWidth:Pf,zeroRight:Nf};var rJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rJ();return e&&t.setAttribute("nonce",e),t}function aJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function iJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var sJ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=nJ())&&(aJ(e,r),iJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},oJ=function(){var t=sJ();return function(e,r){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},TA=function(){var t=oJ(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},lJ={left:0,top:0,right:0,gap:0},Ew=function(t){return parseInt(t||"",10)||0},cJ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Ew(r),Ew(n),Ew(a)]},uJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lJ;var e=cJ(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},dJ=TA(),Ou="data-scroll-locked",hJ=function(t,e,r,n){var a=t.left,i=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(KQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Ou,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nf,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Pf,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Nf," .").concat(Nf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Pf," .").concat(Pf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ou,`] {
    `).concat(ZQ,": ").concat(o,`px;
  }
`)},hO=function(){var t=parseInt(document.body.getAttribute(Ou)||"0",10);return isFinite(t)?t:0},fJ=function(){_.useEffect(function(){return document.body.setAttribute(Ou,(hO()+1).toString()),function(){var t=hO()-1;t<=0?document.body.removeAttribute(Ou):document.body.setAttribute(Ou,t.toString())}},[])},dz=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;fJ();var i=_.useMemo(function(){return uJ(a)},[a]);return _.createElement(dJ,{styles:hJ(i,!e,a,r?"":"!important")})},wS=!1;if(typeof window<"u")try{var Cg=Object.defineProperty({},"passive",{get:function(){return wS=!0,!0}});window.addEventListener("test",Cg,Cg),window.removeEventListener("test",Cg,Cg)}catch{wS=!1}var $c=wS?{passive:!1}:!1,pJ=function(t){return t.tagName==="TEXTAREA"},hz=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!pJ(t)&&r[e]==="visible")},mJ=function(t){return hz(t,"overflowY")},gJ=function(t){return hz(t,"overflowX")},fO=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=fz(t,n);if(a){var i=pz(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},vJ=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},yJ=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},fz=function(t,e){return t==="v"?mJ(e):gJ(e)},pz=function(t,e){return t==="v"?vJ(e):yJ(e)},xJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},bJ=function(t,e,r,n,a){var i=xJ(t,window.getComputedStyle(e).direction),s=i*n,o=r.target,l=e.contains(o),u=!1,d=s>0,h=0,f=0;do{var p=pz(t,o),g=p[0],m=p[1],v=p[2],x=m-v-i*g;(g||x)&&fz(t,o)&&(h+=x,f+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},kg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pO=function(t){return[t.deltaX,t.deltaY]},mO=function(t){return t&&"current"in t?t.current:t},wJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_J=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SJ=0,Fc=[];function jJ(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),a=_.useState(SJ++)[0],i=_.useState(TA)[0],s=_.useRef(t);_.useEffect(function(){s.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var m=iz([t.lockRef.current],(t.shards||[]).map(mO),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=_.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var x=kg(m),y=r.current,b="deltaX"in m?m.deltaX:y[0]-x[0],w="deltaY"in m?m.deltaY:y[1]-x[1],S,k=m.target,C=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in m&&C==="h"&&k.type==="range")return!1;var A=fO(C,k);if(!A)return!0;if(A?S=C:(S=C==="v"?"h":"v",A=fO(C,k)),!A)return!1;if(!n.current&&"changedTouches"in m&&(b||w)&&(n.current=S),!S)return!0;var N=n.current||S;return bJ(N,v,m,N==="h"?b:w,!0)},[]),l=_.useCallback(function(m){var v=m;if(!(!Fc.length||Fc[Fc.length-1]!==i)){var x="deltaY"in v?pO(v):kg(v),y=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&wJ(S.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(mO).filter(Boolean).filter(function(S){return S.contains(v.target)}),w=b.length>0?o(v,b[0]):!s.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),u=_.useCallback(function(m,v,x,y){var b={name:m,delta:v,target:x,should:y,shadowParent:CJ(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),d=_.useCallback(function(m){r.current=kg(m),n.current=void 0},[]),h=_.useCallback(function(m){u(m.type,pO(m),m.target,o(m,t.lockRef.current))},[]),f=_.useCallback(function(m){u(m.type,kg(m),m.target,o(m,t.lockRef.current))},[]);_.useEffect(function(){return Fc.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,$c),document.addEventListener("touchmove",l,$c),document.addEventListener("touchstart",d,$c),function(){Fc=Fc.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,$c),document.removeEventListener("touchmove",l,$c),document.removeEventListener("touchstart",d,$c)}},[]);var p=t.removeScrollBar,g=t.inert;return _.createElement(_.Fragment,null,g?_.createElement(i,{styles:_J(a)}):null,p?_.createElement(dz,{gapMode:t.gapMode}):null)}function CJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kJ=cz(uz,jJ);var ob=_.forwardRef(function(t,e){return _.createElement(sb,tn({},t,{ref:e,sideCar:kJ}))});ob.classNames=sb.classNames;var AJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},zc=new WeakMap,Ag=new WeakMap,Ng={},Ow=0,mz=function(t){return t&&(t.host||mz(t.parentNode))},NJ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=mz(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},PJ=function(t,e,r,n){var a=NJ(e,Array.isArray(t)?t:[t]);Ng[r]||(Ng[r]=new WeakMap);var i=Ng[r],s=[],o=new Set,l=new Set(a),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(n),g=p!==null&&p!=="false",m=(zc.get(f)||0)+1,v=(i.get(f)||0)+1;zc.set(f,m),i.set(f,v),s.push(f),m===1&&g&&Ag.set(f,!0),v===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(e),o.clear(),Ow++,function(){s.forEach(function(h){var f=zc.get(h)-1,p=i.get(h)-1;zc.set(h,f),i.set(h,p),f||(Ag.has(h)||h.removeAttribute(n),Ag.delete(h)),p||h.removeAttribute(r)}),Ow--,Ow||(zc=new WeakMap,zc=new WeakMap,Ag=new WeakMap,Ng={})}},lb=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=AJ(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),PJ(n,a,r,"aria-hidden")):function(){return null}},MA="Dialog",[gz,ize]=Rs(MA),[EJ,yi]=gz(MA),vz=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=t,o=_.useRef(null),l=_.useRef(null),[u=!1,d]=Wo({prop:n,defaultProp:a,onChange:i});return c.jsx(EJ,{scope:e,triggerRef:o,contentRef:l,contentId:ci(),titleId:ci(),descriptionId:ci(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(h=>!h),[d]),modal:s,children:r})};vz.displayName=MA;var yz="DialogTrigger",xz=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=yi(yz,r),i=lt(e,a.triggerRef);return c.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":DA(a.open),...n,ref:i,onClick:Ce(t.onClick,a.onOpenToggle)})});xz.displayName=yz;var RA="DialogPortal",[OJ,bz]=gz(RA,{forceMount:void 0}),wz=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=yi(RA,e);return c.jsx(OJ,{scope:e,forceMount:r,children:_.Children.map(n,s=>c.jsx(Cn,{present:r||i.open,children:c.jsx(Kx,{asChild:!0,container:a,children:s})}))})};wz.displayName=RA;var ay="DialogOverlay",_z=_.forwardRef((t,e)=>{const r=bz(ay,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=yi(ay,t.__scopeDialog);return i.modal?c.jsx(Cn,{present:n||i.open,children:c.jsx(TJ,{...a,ref:e})}):null});_z.displayName=ay;var TJ=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=yi(ay,r);return c.jsx(ob,{as:Xn,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(We.div,{"data-state":DA(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),lc="DialogContent",Sz=_.forwardRef((t,e)=>{const r=bz(lc,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=yi(lc,t.__scopeDialog);return c.jsx(Cn,{present:n||i.open,children:i.modal?c.jsx(MJ,{...a,ref:e}):c.jsx(RJ,{...a,ref:e})})});Sz.displayName=lc;var MJ=_.forwardRef((t,e)=>{const r=yi(lc,t.__scopeDialog),n=_.useRef(null),a=lt(e,r.contentRef,n);return _.useEffect(()=>{const i=n.current;if(i)return lb(i)},[]),c.jsx(jz,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,i=>{const s=i.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&i.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,i=>i.preventDefault())})}),RJ=_.forwardRef((t,e)=>{const r=yi(lc,t.__scopeDialog),n=_.useRef(!1),a=_.useRef(!1);return c.jsx(jz,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),jz=_.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=t,o=yi(lc,r),l=_.useRef(null),u=lt(e,l);return EA(),c.jsxs(c.Fragment,{children:[c.jsx(ib,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c.jsx(vm,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":DA(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(IJ,{titleId:o.titleId}),c.jsx(LJ,{contentRef:l,descriptionId:o.descriptionId})]})]})}),IA="DialogTitle",Cz=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=yi(IA,r);return c.jsx(We.h2,{id:a.titleId,...n,ref:e})});Cz.displayName=IA;var kz="DialogDescription",Az=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=yi(kz,r);return c.jsx(We.p,{id:a.descriptionId,...n,ref:e})});Az.displayName=kz;var Nz="DialogClose",Pz=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=yi(Nz,r);return c.jsx(We.button,{type:"button",...n,ref:e,onClick:Ce(t.onClick,()=>a.onOpenChange(!1))})});Pz.displayName=Nz;function DA(t){return t?"open":"closed"}var Ez="DialogTitleWarning",[sze,Oz]=g7(Ez,{contentName:lc,titleName:IA,docsSlug:"dialog"}),IJ=({titleId:t})=>{const e=Oz(Ez),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},DJ="DialogDescriptionWarning",LJ=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Oz(DJ).contentName}}.`;return _.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Tz=vz,$J=xz,Mz=wz,cb=_z,ub=Sz,db=Cz,hb=Az,Rz=Pz;const FJ=Tz,zJ=Mz,Iz=_.forwardRef(({className:t,...e},r)=>c.jsx(cb,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Iz.displayName=cb.displayName;const BJ=Jd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Dz=_.forwardRef(({side:t="right",className:e,children:r,...n},a)=>c.jsxs(zJ,{children:[c.jsx(Iz,{}),c.jsxs(ub,{ref:a,className:le(BJ({side:t}),e),...n,children:[r,c.jsxs(Rz,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(Na,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dz.displayName=ub.displayName;const WJ=_.forwardRef(({className:t,...e},r)=>c.jsx(db,{ref:r,className:le("text-lg font-semibold text-foreground",t),...e}));WJ.displayName=db.displayName;const HJ=_.forwardRef(({className:t,...e},r)=>c.jsx(hb,{ref:r,className:le("text-sm text-muted-foreground",t),...e}));HJ.displayName=hb.displayName;function gO({className:t,...e}){return c.jsx("div",{className:le("animate-pulse rounded-md bg-muted",t),...e})}const UJ="sidebar:state",YJ=60*60*24*7,XJ="16rem",VJ="18rem",qJ="3rem",GJ="b",Lz=_.createContext(null);function fb(){const t=_.useContext(Lz);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const $z=_.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:a,children:i,...s},o)=>{const l=EQ(),[u,d]=_.useState(!1),[h,f]=_.useState(t),p=e??h,g=_.useCallback(y=>{const b=typeof y=="function"?y(p):y;r?r(b):f(b),document.cookie=`${UJ}=${b}; path=/; max-age=${YJ}`},[r,p]),m=_.useCallback(()=>l?d(y=>!y):g(y=>!y),[l,g,d]);_.useEffect(()=>{const y=b=>{b.key===GJ&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),m())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[m]);const v=p?"expanded":"collapsed",x=_.useMemo(()=>({state:v,open:p,setOpen:g,isMobile:l,openMobile:u,setOpenMobile:d,toggleSidebar:m}),[v,p,g,l,u,d,m]);return c.jsx(Lz.Provider,{value:x,children:c.jsx(eS,{delayDuration:0,children:c.jsx("div",{style:{"--sidebar-width":XJ,"--sidebar-width-icon":qJ,...a},className:le("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:o,...s,children:i})})})});$z.displayName="SidebarProvider";const _S=_.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},s)=>{const{isMobile:o,state:l,openMobile:u,setOpenMobile:d}=fb();return r==="none"?c.jsx("div",{className:le("flex h-full w-[--sidebar-width] flex-col bg-white border-r border-gray-200 text-gray-900",n),ref:s,...i,children:a}):o?c.jsx(FJ,{open:u,onOpenChange:d,...i,children:c.jsx(Dz,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-white border-r border-gray-200 p-0 text-gray-900 [&>button]:hidden",style:{"--sidebar-width":VJ},side:t,children:c.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):c.jsxs("div",{ref:s,className:"group peer hidden md:block text-gray-900","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":e,"data-side":t,children:[c.jsx("div",{className:le("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),c.jsx("div",{className:le("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l border-gray-200",n),...i,children:c.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-gray-200 group-data-[variant=floating]:shadow bg-white",children:a})})]})});_S.displayName="Sidebar";const Fz=_.forwardRef(({className:t,onClick:e,...r},n)=>{const{toggleSidebar:a}=fb();return c.jsxs(de,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:le("h-7 w-7 text-gray-600 hover:text-gray-900 hover:bg-gray-100",t),onClick:i=>{e==null||e(i),a()},...r,children:[c.jsx(bQ,{}),c.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Fz.displayName="SidebarTrigger";const KJ=_.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:n}=fb();return c.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:le("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-gray-300 group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-gray-100","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});KJ.displayName="SidebarRail";const ZJ=_.forwardRef(({className:t,...e},r)=>c.jsx("main",{ref:r,className:le("relative flex min-h-svh flex-1 flex-col bg-gray-50","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));ZJ.displayName="SidebarInset";const QJ=_.forwardRef(({className:t,...e},r)=>c.jsx(De,{ref:r,"data-sidebar":"input",className:le("h-8 w-full bg-white shadow-none focus-visible:ring-2 focus-visible:ring-blue-500 border-gray-200",t),...e}));QJ.displayName="SidebarInput";const SS=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"header",className:le("flex flex-col gap-2 p-4 border-b border-gray-200",t),...e}));SS.displayName="SidebarHeader";const JJ=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"footer",className:le("flex flex-col gap-2 p-4 border-t border-gray-200",t),...e}));JJ.displayName="SidebarFooter";const eee=_.forwardRef(({className:t,...e},r)=>c.jsx(PA,{ref:r,"data-sidebar":"separator",className:le("mx-2 w-auto bg-gray-200",t),...e}));eee.displayName="SidebarSeparator";const jS=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"content",className:le("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden p-2",t),...e}));jS.displayName="SidebarContent";const CS=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"group",className:le("relative flex w-full min-w-0 flex-col p-2",t),...e}));CS.displayName="SidebarGroup";const kS=_.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const a=e?Xn:"div";return c.jsx(a,{ref:n,"data-sidebar":"group-label",className:le("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-semibold text-gray-600 outline-none ring-blue-500 transition-[margin,opacity] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});kS.displayName="SidebarGroupLabel";const tee=_.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const a=e?Xn:"button";return c.jsx(a,{ref:n,"data-sidebar":"group-action",className:le("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-gray-500 outline-none ring-blue-500 transition-transform hover:bg-gray-100 hover:text-gray-700 focus-visible:ring-2 peer-hover/menu-button:text-gray-700 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...r})});tee.displayName="SidebarGroupAction";const AS=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"group-content",className:le("w-full text-sm",t),...e}));AS.displayName="SidebarGroupContent";const NS=_.forwardRef(({className:t,...e},r)=>c.jsx("ul",{ref:r,"data-sidebar":"menu",className:le("flex w-full min-w-0 flex-col gap-1",t),...e}));NS.displayName="SidebarMenu";const PS=_.forwardRef(({className:t,...e},r)=>c.jsx("li",{ref:r,"data-sidebar":"menu-item",className:le("group/menu-item relative",t),...e}));PS.displayName="SidebarMenuItem";const ree=Jd("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-blue-500 transition-[width,height,padding] hover:bg-gray-100 hover:text-gray-900 focus-visible:ring-2 active:bg-gray-100 active:text-gray-900 disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-blue-50 data-[active=true]:font-medium data-[active=true]:text-blue-900 data-[state=open]:hover:bg-gray-100 data-[state=open]:hover:text-gray-900 group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-gray-100 hover:text-gray-900",outline:"bg-white shadow-[0_0_0_1px_rgb(229_231_235)] hover:bg-gray-100 hover:text-gray-900 hover:shadow-[0_0_0_1px_rgb(156_163_175)]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ES=_.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:a,className:i,...s},o)=>{const l=t?Xn:"button",{isMobile:u,state:d}=fb(),h=c.jsx(l,{ref:o,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:le(ree({variant:r,size:n}),i),...s});return a?(typeof a=="string"&&(a={children:a}),c.jsxs(MK,{children:[c.jsx(RK,{asChild:!0,children:h}),c.jsx(b4,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):h});ES.displayName="SidebarMenuButton";const nee=_.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...n},a)=>{const i=e?Xn:"button";return c.jsx(i,{ref:a,"data-sidebar":"menu-action",className:le("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-gray-500 outline-none ring-blue-500 transition-transform hover:bg-gray-100 hover:text-gray-700 focus-visible:ring-2 peer-hover/menu-button:text-gray-700 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-blue-700 md:opacity-0",t),...n})});nee.displayName="SidebarMenuAction";const aee=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:le("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-gray-600 select-none pointer-events-none","peer-hover/menu-button:text-gray-700 peer-data-[active=true]/menu-button:text-blue-700","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));aee.displayName="SidebarMenuBadge";const iee=_.forwardRef(({className:t,showIcon:e=!1,...r},n)=>{const a=_.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return c.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:le("rounded-md h-8 flex gap-2 px-2 items-center",t),...r,children:[e&&c.jsx(gO,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),c.jsx(gO,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});iee.displayName="SidebarMenuSkeleton";const see=_.forwardRef(({className:t,...e},r)=>c.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:le("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-gray-200 px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));see.displayName="SidebarMenuSub";const oee=_.forwardRef(({...t},e)=>c.jsx("li",{ref:e,...t}));oee.displayName="SidebarMenuSubItem";const lee=_.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:n,...a},i)=>{const s=t?Xn:"a";return c.jsx(s,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:le("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-gray-700 outline-none ring-blue-500 hover:bg-gray-100 hover:text-gray-900 focus-visible:ring-2 active:bg-gray-100 active:text-gray-900 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-gray-500","data-[active=true]:bg-gray-100 data-[active=true]:text-gray-900",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});lee.displayName="SidebarMenuSubButton";const cee="modulepreload",uee=function(t){return"/"+t},vO={},_m=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=uee(l),l in vO)return;vO[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":cee,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},dee=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_m(async()=>{const{default:n}=await Promise.resolve().then(()=>rh);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class LA extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class hee extends LA{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yO extends LA{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xO extends LA{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var OS;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(OS||(OS={}));var fee=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class pee{constructor(e,{headers:r={},customFetch:n,region:a=OS.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=dee(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return fee(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:d}).catch(m=>{throw new hee(m)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new yO(h);if(!h.ok)throw new xO(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield h.json():p==="application/octet-stream"?g=yield h.blob():p==="text/event-stream"?g=h:p==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof xO||a instanceof yO?a.context:void 0}}})}}var In={},$A={},pb={},Sm={},mb={},gb={},mee=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sd=mee();const gee=sd.fetch,zz=sd.fetch.bind(sd),Bz=sd.Headers,vee=sd.Request,yee=sd.Response,rh=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bz,Request:vee,Response:yee,default:zz,fetch:gee},Symbol.toStringTag,{value:"Module"})),xee=ck(rh);var vb={};Object.defineProperty(vb,"__esModule",{value:!0});let bee=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};vb.default=bee;var Wz=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gb,"__esModule",{value:!0});const wee=Wz(xee),_ee=Wz(vb);let See=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=wee.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,l;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&m===""?(f=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new _ee.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};gb.default=See;var jee=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mb,"__esModule",{value:!0});const Cee=jee(gb);let kee=class extends Cee.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};mb.default=kee;var Aee=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sm,"__esModule",{value:!0});const Nee=Aee(mb);let Pee=class extends Nee.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Sm.default=Pee;var Eee=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pb,"__esModule",{value:!0});const Hh=Eee(Sm);let Oee=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new Hh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Hh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Hh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Hh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Hh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};pb.default=Oee;var yb={},xb={};Object.defineProperty(xb,"__esModule",{value:!0});xb.version=void 0;xb.version="0.0.0-automated";Object.defineProperty(yb,"__esModule",{value:!0});yb.DEFAULT_HEADERS=void 0;const Tee=xb;yb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Tee.version}`};var Hz=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($A,"__esModule",{value:!0});const Mee=Hz(pb),Ree=Hz(Sm),Iee=yb;let Dee=class Uz{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},Iee.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new Mee.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Uz(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(s="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Ree.default({method:s,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};$A.default=Dee;var nh=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(In,"__esModule",{value:!0});In.PostgrestError=In.PostgrestBuilder=In.PostgrestTransformBuilder=In.PostgrestFilterBuilder=In.PostgrestQueryBuilder=In.PostgrestClient=void 0;const Yz=nh($A);In.PostgrestClient=Yz.default;const Xz=nh(pb);In.PostgrestQueryBuilder=Xz.default;const Vz=nh(Sm);In.PostgrestFilterBuilder=Vz.default;const qz=nh(mb);In.PostgrestTransformBuilder=qz.default;const Gz=nh(gb);In.PostgrestBuilder=Gz.default;const Kz=nh(vb);In.PostgrestError=Kz.default;var Lee=In.default={PostgrestClient:Yz.default,PostgrestQueryBuilder:Xz.default,PostgrestFilterBuilder:Vz.default,PostgrestTransformBuilder:qz.default,PostgrestBuilder:Gz.default,PostgrestError:Kz.default};const{PostgrestClient:$ee,PostgrestQueryBuilder:hze,PostgrestFilterBuilder:fze,PostgrestTransformBuilder:pze,PostgrestBuilder:mze,PostgrestError:gze}=Lee;function Fee(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const zee=Fee(),Bee="2.11.15",Wee=`realtime-js/${Bee}`,Hee="1.0.0",Zz=1e4,Uee=1e3;var Ef;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ef||(Ef={}));var qr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qr||(qr={}));var Ga;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ga||(Ga={}));var TS;(function(t){t.websocket="websocket"})(TS||(TS={}));var _l;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_l||(_l={}));class Yee{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+a));s=s+a;const l=n.decode(e.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Qz{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Lt||(Lt={}));const bO=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=Xee(s,t,e,a),i),{})},Xee=(t,e,r,n)=>{const a=e.find(o=>o.name===t),i=a==null?void 0:a.type,s=r[t];return i&&!n.includes(i)?Jz(i,s):MS(s)},Jz=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Kee(e,r)}switch(t){case Lt.bool:return Vee(e);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return qee(e);case Lt.json:case Lt.jsonb:return Gee(e);case Lt.timestamp:return Zee(e);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return MS(e);default:return MS(e)}},MS=t=>t,Vee=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qee=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Gee=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Kee=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>Jz(e,o))}return t},Zee=t=>typeof t=="string"?t.replace(" ","T"):t,e5=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Tw{constructor(e,r,n={},a=Zz){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wO;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wO||(wO={}));class Of{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Of.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=Of.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Of.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const h=i[u];if(h){const f=d.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),m=h.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(o[u]=g),m.length>0&&(l[u]=m)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const h=e[o].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[o].unshift(...f)}n(o,d,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,a(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _O;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_O||(_O={}));var SO;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(SO||(SO={}));var as;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(as||(as={}));class FA{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=qr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tw(this,Ga.join,this.params,this.timeout),this.rejoinTimer=new Qz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ga.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Of(this),this.broadcastEndpointURL=e5(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==qr.closed){const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(as.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(as.CLOSED));const l={},u={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(as.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let m=0;m<p;m++){const v=f[m],{filter:{event:x,schema:y,table:b,filter:w}}=v,S=d&&d[m];if(S&&S.event===x&&S.schema===y&&S.table===b&&S.filter===w)g.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),this.state=qr.errored,e==null||e(as.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(as.SUBSCRIBED);return}}).receive("error",d=>{this.state=qr.errored,e==null||e(as.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(as.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ga.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Tw(this,Ga.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Tw(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Ga;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let f=this._onMessage(s,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(f,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var g,m,v,x,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const w=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return w&&((m=r.ids)===null||m===void 0?void 0:m.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:v,commit_timestamp:x,type:y,errors:b}=g;f=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===qr.closed}_isJoined(){return this.state===qr.joined}_isJoining(){return this.state===qr.joining}_isLeaving(){return this.state===qr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&FA.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ga.close,{},e)}_onError(e){this._on(Ga.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=bO(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=bO(e.columns,e.old_record)),r}}const jO=()=>{},Qee=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jee{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zz,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jO,this.ref=0,this.logger=jO,this.conn=null,this.sendBuffer=[],this.serializer=new Yee,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>_m(async()=>{const{default:l}=await Promise.resolve().then(()=>rh);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${TS.websocket}`,this.httpEndpoint=e5(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qz(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=zee),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Hee}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ef.connecting:return _l.Connecting;case Ef.open:return _l.Open;case Ef.closing:return _l.Closing;default:return _l.Closed}}isConnected(){return this.connectionState()===_l.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new FA(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Wee};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ga.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Uee,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ga.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Qee],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class zA extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function kr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ete extends zA{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class RS extends zA{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var tte=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const t5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_m(async()=>{const{default:n}=await Promise.resolve().then(()=>rh);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},rte=()=>tte(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _m(()=>Promise.resolve().then(()=>rh),void 0)).Response:Response}),IS=t=>{if(Array.isArray(t))return t.map(r=>IS(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=IS(n)}),e};var Sc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Mw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nte=(t,e,r)=>Sc(void 0,void 0,void 0,function*(){const n=yield rte();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new ete(Mw(a),t.status||500))}).catch(a=>{e(new RS(Mw(a),a))}):e(new RS(Mw(t),t))}),ate=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function jm(t,e,r,n,a,i){return Sc(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,ate(e,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>nte(l,o,n))})})}function iy(t,e,r,n){return Sc(this,void 0,void 0,function*(){return jm(t,"GET",e,r,n)})}function eo(t,e,r,n,a){return Sc(this,void 0,void 0,function*(){return jm(t,"POST",e,n,a,r)})}function ite(t,e,r,n,a){return Sc(this,void 0,void 0,function*(){return jm(t,"PUT",e,n,a,r)})}function ste(t,e,r,n){return Sc(this,void 0,void 0,function*(){return jm(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function r5(t,e,r,n,a){return Sc(this,void 0,void 0,function*(){return jm(t,"DELETE",e,n,a,r)})}var Nn=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const ote={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lte{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=t5(a)}uploadOrUpdate(e,r,n,a){return Nn(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},CO),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(kr(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Nn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:CO.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(kr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Nn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield eo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new zA("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Nn(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(kr(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Nn(this,void 0,void 0,function*(){try{return{data:{path:(yield eo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(kr(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Nn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield eo(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(kr(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Nn(this,void 0,void 0,function*(){try{const a=yield eo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(kr(a))return{data:null,error:a};throw a}})}download(e,r){return Nn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield iy(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(kr(o))return{data:null,error:o};throw o}})}info(e){return Nn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield iy(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:IS(n),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}exists(e){return Nn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ste(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(kr(n)&&n instanceof RS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield r5(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Nn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ote),r),{prefix:e||""});return{data:yield eo(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(kr(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const cte="2.7.1",ute={"X-Client-Info":`storage-js/${cte}`};var Bc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class dte{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},ute),r),this.fetch=t5(n)}listBuckets(){return Bc(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(kr(e))return{data:null,error:e};throw e}})}getBucket(e){return Bc(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Bc(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Bc(this,void 0,void 0,function*(){try{return{data:yield ite(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Bc(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Bc(this,void 0,void 0,function*(){try{return{data:yield r5(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}}class hte extends dte{constructor(e,r={},n){super(e,r,n)}from(e){return new lte(this.url,this.headers,e,this.fetch)}}const fte="2.50.3";let ff="";typeof Deno<"u"?ff="deno":typeof document<"u"?ff="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ff="react-native":ff="node";const pte={"X-Client-Info":`supabase-js-${ff}/${fte}`},mte={headers:pte},gte={schema:"public"},vte={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yte={};var xte=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const bte=t=>{let e;return t?e=t:typeof fetch>"u"?e=zz:e=fetch,(...r)=>e(...r)},wte=()=>typeof Headers>"u"?Bz:Headers,_te=(t,e,r)=>{const n=bte(r),a=wte();return(i,s)=>xte(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var Ste=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function jte(t){return t.endsWith("/")?t:t+"/"}function Cte(t,e){var r,n;const{db:a,auth:i,realtime:s,global:o}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ste(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const n5="2.70.0",ru=30*1e3,DS=3,Rw=DS*ru,kte="http://localhost:9999",Ate="supabase.auth.token",Nte={"X-Client-Info":`gotrue-js/${n5}`},LS="X-Supabase-Api-Version",a5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pte=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ete=6e5;class BA extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ote extends BA{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Tte(t){return Xe(t)&&t.name==="AuthApiError"}class i5 extends BA{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class tl extends BA{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class qs extends tl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mte(t){return Xe(t)&&t.name==="AuthSessionMissingError"}class Pg extends tl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eg extends tl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Og extends tl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rte(t){return Xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class kO extends tl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $S extends tl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Iw(t){return Xe(t)&&t.name==="AuthRetryableFetchError"}class AO extends tl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Tf extends tl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),NO=` 	
\r=`.split(""),Ite=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<NO.length;e+=1)t[NO[e].charCodeAt(0)]=-2;for(let e=0;e<sy.length;e+=1)t[sy[e].charCodeAt(0)]=e;return t})();function PO(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(sy[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(sy[n]),e.queuedBits-=6}}function s5(t,e,r){const n=Ite[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function EO(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{$te(s,n,r)};for(let s=0;s<t.length;s+=1)s5(t.charCodeAt(s),a,i);return e.join("")}function Dte(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Lte(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Dte(n,e)}}function $te(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Fte(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)s5(t.charCodeAt(a),r,n);return new Uint8Array(e)}function zte(t){const e=[];return Lte(t,r=>e.push(r)),new Uint8Array(e)}function Bte(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>PO(a,r,n)),PO(null,r,n),e.join("")}function Wte(t){return Math.round(Date.now()/1e3)+t}function Hte(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const za=()=>typeof window<"u"&&typeof document<"u",dl={tested:!1,writable:!1},Mf=()=>{if(!za())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dl.tested)return dl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),dl.tested=!0,dl.writable=!0}catch{dl.tested=!0,dl.writable=!1}return dl.writable};function Ute(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const o5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_m(async()=>{const{default:n}=await Promise.resolve().then(()=>rh);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Yte=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",l5=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Tg=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mg=async(t,e)=>{await t.removeItem(e)};class bb{constructor(){this.promise=new bb.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}bb.promiseConstructor=Promise;function Dw(t){const e=t.split(".");if(e.length!==3)throw new Tf("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Pte.test(e[n]))throw new Tf("JWT not in base64url format");return{header:JSON.parse(EO(e[0])),payload:JSON.parse(EO(e[1])),signature:Fte(e[2]),raw:{header:e[0],payload:e[1]}}}async function Xte(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Vte(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function qte(t){return("0"+t.toString(16)).substr(-2)}function Gte(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,qte).join("")}async function Kte(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Zte(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Kte(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wc(t,e,r=!1){const n=Gte();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await l5(t,`${e}-code-verifier`,a);const i=await Zte(n);return[i,n===i?"plain":"s256"]}const Qte=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jte(t){const e=t.headers.get(LS);if(!e||!e.match(Qte))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ere(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tre(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rre=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hc(t){if(!rre.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var nre=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const ml=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),are=[502,503,504];async function OO(t){var e;if(!Yte(t))throw new $S(ml(t),0);if(are.includes(t.status))throw new $S(ml(t),t.status);let r;try{r=await t.json()}catch(i){throw new i5(ml(i),i)}let n;const a=Jte(t);if(a&&a.getTime()>=a5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new AO(ml(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new qs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new AO(ml(r),t.status,r.weak_password.reasons);throw new Ote(ml(r),t.status||500,n)}const ire=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function at(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[LS]||(i[LS]=a5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await sre(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function sre(t,e,r,n,a,i){const s=ire(e,n,a,i);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new $S(ml(l),0)}if(o.ok||await OO(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await OO(l)}}function rs(t){var e;let r=null;ure(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Wte(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function TO(t){const e=rs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ao(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ore(t){return{data:t,error:null}}function lre(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=nre(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function cre(t){return t}function ure(t){return t.access_token&&t.refresh_token&&t.expires_in}const Lw=["global","local","others"];var dre=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class hre{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=o5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Lw[0]){if(Lw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lw.join(", ")}`);try{return await at(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await at(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ao})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=dre(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await at(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:lre,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await at(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ao})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await at(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:cre});if(d.error)throw d.error;const h=await d.json(),f=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Hc(e);try{return await at(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ao})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Hc(e);try{return await at(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ao})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Hc(e);try{return await at(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ao})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Hc(e.userId);try{const{data:r,error:n}=await at(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Hc(e.userId),Hc(e.id);try{return{data:await at(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}}const fre={getItem:t=>Mf()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Mf()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Mf()&&globalThis.localStorage.removeItem(t)}};function MO(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function pre(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Uc={debug:!!(globalThis&&Mf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mre extends c5{}async function gre(t,e,r){Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mre(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Uc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}pre();const vre={url:kte,storageKey:Ate,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nte,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function RO(t,e,r){return await r()}class pp{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pp.nextInstanceID,pp.nextInstanceID+=1,this.instanceID>0&&za()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},vre),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new hre({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=o5(a.fetch),this.lock=a.lock||RO,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:za()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=gre:this.lock=RO,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Mf()?this.storage=fre:(this.memoryStorage={},this.storage=MO(this.memoryStorage)):(this.memoryStorage={},this.storage=MO(this.memoryStorage)),za()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${n5}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Ute(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),za()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Rte(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Xe(r)?{error:r}:{error:new i5("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:rs}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Xe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Wc(this.storage,this.storageKey)),i=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:rs})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rs})}else throw new Eg("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:o}=e;r=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:TO})}else if("phone"in e){const{phone:i,password:s,options:o}=e;r=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:TO})}else throw new Eg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Pg}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Xe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,s,o,l,u,d,h,f,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:x,statement:y,options:b}=e;let w;if(za())if(typeof x=="object")w=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=k}}try{const{data:v,error:x}=await at(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Bte(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:rs});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Pg}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Xe(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await Tg(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await at(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:rs});if(await Mg(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Pg}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Xe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,o=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rs}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Pg}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Xe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wc(this.storage,this.storageKey));const{error:h}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Eg("You must provide either an email or phone number.")}catch(o){if(Xe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await at(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:rs});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Wc(this.storage,this.storageKey)),await at(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:ore})}catch(i){if(Xe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new qs;const{error:a}=await at(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await at(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:o}=await at(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new Eg("You must provide either an email or phone number and a type")}catch(r){if(Xe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Tg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Rw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ao}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qs}:await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ao})})}catch(r){if(Xe(r))return Mte(r)&&(await this._removeSession(),await Mg(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new qs;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Wc(this.storage,this.storageKey));const{data:u,error:d}=await at(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:ao});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qs;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=Dw(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Xe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new qs;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Xe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!za())throw new Og("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Og(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Og("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kO("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!s||!u)throw new Og("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=ru&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Xe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Tg(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(Tte(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Mg(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Hte(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Wc(this.storage,this.storageKey,!0));try{return await at(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Xe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await at(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return za()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Xe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await at(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Vte(async a=>(a>0&&await Xte(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await at(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rs})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Iw(i)&&Date.now()+s-n<ru})}catch(n){if(this._debug(r,"error",n),Xe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),za()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Tg(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Rw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Rw}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Iw(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new qs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new bb;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new qs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Xe(i)){const s={session:null,error:i};return Iw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await l5(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Mg(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&za()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ru);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/ru);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ru}ms, refresh threshold is ${DS} ticks`),a<=DS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof c5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!za()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Wc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await at(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await at(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await at(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await at(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Dw(a.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n||(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+Ete>Date.now()))return n;const{data:a,error:i}=await at(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new Tf("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(s=>s.kid===e),!n)throw new Tf("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:l}}=Dw(n);if(ere(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const u=tre(a.alg),d=await this.fetchJwk(a.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,s,zte(`${o}.${l}`)))throw new Tf("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}}pp.nextInstanceID=0;const yre=pp;class xre extends yre{constructor(e){super(e)}}var bre=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class wre{constructor(e,r,n){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=jte(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:gte,realtime:yte,auth:Object.assign(Object.assign({},vte),{storageKey:u}),global:mte},h=Cte(n??{},d);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=_te(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new $ee(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new pee(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hte(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return bre(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xre({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Jee(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u5=(t,e,r)=>new wre(t,e,r),_re="https://mxayhrzpyfycmptwulke.supabase.co",Sre="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im14YXlocnpweWZ5Y21wdHd1bGtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzMDQ2MjUsImV4cCI6MjA2Mzg4MDYyNX0.YtaimKZbbIVIBM-3ke-nrzxGyp7RHZvTvvdzFPdgFoc",ue=u5(_re,Sre,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),d5=_.createContext(void 0),Cm=()=>{const t=_.useContext(d5);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},jre=({children:t})=>{const[e,r]=_.useState(null),[n,a]=_.useState(null),[i,s]=_.useState(!0);_.useEffect(()=>{const{data:{subscription:h}}=ue.auth.onAuthStateChange((f,p)=>{a(p),r((p==null?void 0:p.user)??null),s(!1)});return ue.auth.getSession().then(({data:{session:f}})=>{a(f),r((f==null?void 0:f.user)??null),s(!1)}),()=>h.unsubscribe()},[]);const d={user:e,session:n,loading:i,signUp:async(h,f,p,g)=>{const m=`${window.location.origin}/`,{error:v}=await ue.auth.signUp({email:h,password:f,options:{emailRedirectTo:m,data:{first_name:p,last_name:g}}});return{error:v}},signIn:async(h,f)=>{const{error:p}=await ue.auth.signInWithPassword({email:h,password:f});return{error:p}},signOut:async()=>{const{error:h}=await ue.auth.signOut();return{error:h}}};return c.jsx(d5.Provider,{value:d,children:t})};function h5(){const[t,e]=_.useState(null),[r,n]=_.useState(!0),{user:a}=Cm();return _.useEffect(()=>{(async()=>{if(!a){e(null),n(!1);return}try{const{data:l,error:u}=await ue.from("user_roles").select("role").eq("user_id",a.id).single();if(u)console.error("Error fetching user role:",u),e("user");else{const d=l==null?void 0:l.role;e(d==="administrator"?"administrator":"user")}}catch(l){console.error("Error fetching user role:",l),e("user")}finally{n(!1)}})()},[a]),{role:t,loading:r,isAdministrator:t==="administrator",isUser:t==="user"}}const Cre=[{title:"Pronóstico de Demanda",url:"/demand-forecast",icon:ia},{title:"Análisis What-If",url:"/what-if-analysis",icon:vS},{title:"Proyecciones de Inventario",url:"/inventory-projections",icon:NQ},{title:"Gestión de Compras",url:"/purchase-management",icon:NA},{title:"Colaboración Comercial",url:"/commercial-collaboration",icon:Er},{title:"Revisión Plan Comercial",url:"/commercial-approve",icon:Er},{title:"Dashboard Revisiones Comerciales",url:"/commercial-reviewed",icon:jQ},{title:"Dashboard de KPIs",url:"/kpi-dashboard",icon:oc}],kre=[{title:"Catálogo de Productos",url:"/products-catalog",icon:CQ},{title:"Catálogo de Clientes",url:"/customers-catalog",icon:Er},{title:"Catálogo de Ubicaciones",url:"/locations-catalog",icon:cs},{title:"Análisis de Inventario",url:"/inventory-analysis",icon:Zt},{title:"Reportes Avanzados",url:"/advanced-reports",icon:mQ},{title:"Configuración de la Compañía",url:"/company-config",icon:cs},{title:"Gestión de Usuarios",url:"/user-management",icon:tz},{title:"Asignación de Proveedores",url:"/vendor-assignments",icon:cs},{title:"Búsquedas rápidas",url:"/saved-searches",icon:nO},{title:"Configuración del Sistema",url:"/system-config",icon:nO},{title:"Base de Datos",url:"/database-management",icon:uQ}];function Are(){const t=xm(),e=ab(),{isAdministrator:r,loading:n}=h5(),[a,i]=_.useState(null);return _.useEffect(()=>{(async()=>{try{const{data:o,error:l}=await ue.from("company_config").select("company_name, company_logo").limit(1).single();if(l){console.error("Error fetching company config:",l);return}o&&i(o)}catch(o){console.error("Error fetching company config:",o)}})()},[]),n?c.jsxs(_S,{className:"border-r border-gray-200 bg-white",children:[c.jsx(SS,{className:"border-b border-gray-200",style:{backgroundColor:"#f3f4f6"},children:c.jsxs("div",{className:"flex items-center gap-2 px-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-600 text-white font-semibold text-sm",children:"M8"}),c.jsx("span",{className:"font-semibold text-gray-900",children:"Platform"})]})}),c.jsx(jS,{className:"bg-white",children:c.jsx("div",{className:"p-4",children:"Cargando..."})})]}):c.jsxs(_S,{className:"border-r border-gray-200 bg-white",children:[c.jsx(SS,{className:"border-b border-gray-200",style:{backgroundColor:"#f3f4f6"},children:c.jsxs("div",{className:"flex items-center gap-2 px-2",children:[a!=null&&a.company_logo?c.jsx("img",{src:a.company_logo,alt:a.company_name||"Company Logo",onError:s=>{console.error("Error loading company logo:",a.company_logo),s.currentTarget.style.display="none";const o=s.currentTarget.nextElementSibling;o&&(o.style.display="flex")},className:"h-10w-10 object-contain rounded-lg"}):c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-600 text-white font-semibold text-sm",children:"M8"}),c.jsx("div",{className:"hidden h-8 w-8 items-center justify-center rounded-lg bg-blue-600 text-white font-semibold text-sm",children:"M8"})]})}),c.jsxs(jS,{className:"bg-white",children:[c.jsxs(CS,{children:[c.jsx(kS,{className:"text-gray-600 font-semibold",children:"Planificación"}),c.jsx(AS,{children:c.jsx(NS,{children:Cre.map(s=>c.jsx(PS,{children:c.jsxs(ES,{onClick:()=>t(s.url),isActive:e.pathname===s.url,className:"w-full justify-start text-gray-700 hover:text-gray-900 hover:bg-gray-100 data-[active=true]:bg-blue-50 data-[active=true]:text-blue-900 data-[active=true]:border-r-2 data-[active=true]:border-blue-600",children:[c.jsx(s.icon,{className:"h-4 w-4"}),c.jsx("span",{className:"font-medium",children:s.title})]})},s.title))})})]}),r&&c.jsxs(CS,{children:[c.jsx(kS,{className:"text-gray-600 font-semibold",children:"Administración"}),c.jsx(AS,{children:c.jsx(NS,{children:kre.map(s=>c.jsx(PS,{children:c.jsxs(ES,{onClick:()=>t(s.url),isActive:e.pathname===s.url,className:"w-full justify-start text-gray-700 hover:text-gray-900 hover:bg-orange-100 data-[active=true]:bg-orange-100 data-[active=true]:text-orange-900 data-[active=true]:border-r-2 data-[active=true]:border-orange-600",children:[c.jsx(s.icon,{className:"h-4 w-4"}),c.jsx("span",{className:"font-medium",children:s.title})]})},s.title))})})]})]})]})}function Nre(t,e=[]){let r=[];function n(i,s){const o=_.createContext(s),l=r.length;r=[...r,s];function u(h){const{scope:f,children:p,...g}=h,m=(f==null?void 0:f[t][l])||o,v=_.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||o,g=_.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=r.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return a.scopeName=t,[n,Pre(a,...e)]}function Pre(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...o,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function WA(t){const e=t+"CollectionProvider",[r,n]=Nre(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:g,children:m}=p,v=$.useRef(null),x=$.useRef(new Map).current;return c.jsx(a,{scope:g,itemMap:x,collectionRef:v,children:m})};s.displayName=e;const o=t+"CollectionSlot",l=$.forwardRef((p,g)=>{const{scope:m,children:v}=p,x=i(o,m),y=lt(g,x.collectionRef);return c.jsx(Xn,{ref:y,children:v})});l.displayName=o;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=$.forwardRef((p,g)=>{const{scope:m,children:v,...x}=p,y=$.useRef(null),b=lt(g,y),w=i(u,m);return $.useEffect(()=>(w.itemMap.set(y,{ref:y,...x}),()=>void w.itemMap.delete(y))),c.jsx(Xn,{[d]:"",ref:b,children:v})});h.displayName=u;function f(p){const g=i(t+"CollectionConsumer",p);return $.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((w,S)=>x.indexOf(w.ref.current)-x.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:s,Slot:l,ItemSlot:h},f,n]}var Ere=_.createContext(void 0);function km(t){const e=_.useContext(Ere);return t||e||"ltr"}function Ore(t,e=[]){let r=[];function n(i,s){const o=_.createContext(s),l=r.length;r=[...r,s];function u(h){const{scope:f,children:p,...g}=h,m=(f==null?void 0:f[t][l])||o,v=_.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||o,g=_.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=r.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return a.scopeName=t,[n,Tre(a,...e)]}function Tre(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...o,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var $w="rovingFocusGroup.onEntryFocus",Mre={bubbles:!1,cancelable:!0},wb="RovingFocusGroup",[FS,f5,Rre]=WA(wb),[Ire,_b]=Ore(wb,[Rre]),[Dre,Lre]=Ire(wb),p5=_.forwardRef((t,e)=>c.jsx(FS.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(FS.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx($re,{...t,ref:e})})}));p5.displayName=wb;var $re=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=_.useRef(null),p=lt(e,f),g=km(i),[m=null,v]=Wo({prop:s,defaultProp:o,onChange:l}),[x,y]=_.useState(!1),b=fr(u),w=f5(r),S=_.useRef(!1),[k,C]=_.useState(0);return _.useEffect(()=>{const A=f.current;if(A)return A.addEventListener($w,b),()=>A.removeEventListener($w,b)},[b]),c.jsx(Dre,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:_.useCallback(A=>v(A),[v]),onItemShiftTab:_.useCallback(()=>y(!0),[]),onFocusableItemAdd:_.useCallback(()=>C(A=>A+1),[]),onFocusableItemRemove:_.useCallback(()=>C(A=>A-1),[]),children:c.jsx(We.div,{tabIndex:x||k===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{S.current=!0}),onFocus:Ce(t.onFocus,A=>{const N=!S.current;if(A.target===A.currentTarget&&N&&!x){const P=new CustomEvent($w,Mre);if(A.currentTarget.dispatchEvent(P),!P.defaultPrevented){const E=w().filter(I=>I.focusable),O=E.find(I=>I.active),T=E.find(I=>I.id===m),L=[O,T,...E].filter(Boolean).map(I=>I.ref.current);v5(L,d)}}S.current=!1}),onBlur:Ce(t.onBlur,()=>y(!1))})})}),m5="RovingFocusGroupItem",g5=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...s}=t,o=ci(),l=i||o,u=Lre(m5,r),d=u.currentTabStopId===l,h=f5(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return _.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),c.jsx(FS.ItemSlot,{scope:r,id:l,focusable:n,active:a,children:c.jsx(We.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:Ce(t.onMouseDown,g=>{n?u.onItemFocus(l):g.preventDefault()}),onFocus:Ce(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:Ce(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=Bre(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=h().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const y=x.indexOf(g.currentTarget);x=u.loop?Wre(x,y+1):x.slice(y+1)}setTimeout(()=>v5(x))}})})})});g5.displayName=m5;var Fre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zre(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Bre(t,e,r){const n=zre(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Fre[n]}function v5(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Wre(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var y5=p5,x5=g5,zS=["Enter"," "],Hre=["ArrowDown","PageUp","Home"],b5=["ArrowUp","PageDown","End"],Ure=[...Hre,...b5],Yre={ltr:[...zS,"ArrowRight"],rtl:[...zS,"ArrowLeft"]},Xre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Am="Menu",[mp,Vre,qre]=WA(Am),[jc,w5]=Rs(Am,[qre,qd,_b]),Sb=qd(),_5=_b(),[Gre,Cc]=jc(Am),[Kre,Nm]=jc(Am),S5=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=t,o=Sb(e),[l,u]=_.useState(null),d=_.useRef(!1),h=fr(i),f=km(a);return _.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),c.jsx(fA,{...o,children:c.jsx(Gre,{scope:e,open:r,onOpenChange:h,content:l,onContentChange:u,children:c.jsx(Kre,{scope:e,onClose:_.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:s,children:n})})})};S5.displayName=Am;var Zre="MenuAnchor",HA=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=Sb(r);return c.jsx(pA,{...a,...n,ref:e})});HA.displayName=Zre;var UA="MenuPortal",[Qre,j5]=jc(UA,{forceMount:void 0}),C5=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:a}=t,i=Cc(UA,e);return c.jsx(Qre,{scope:e,forceMount:r,children:c.jsx(Cn,{present:r||i.open,children:c.jsx(Kx,{asChild:!0,container:a,children:n})})})};C5.displayName=UA;var Pa="MenuContent",[Jre,YA]=jc(Pa),k5=_.forwardRef((t,e)=>{const r=j5(Pa,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Cc(Pa,t.__scopeMenu),s=Nm(Pa,t.__scopeMenu);return c.jsx(mp.Provider,{scope:t.__scopeMenu,children:c.jsx(Cn,{present:n||i.open,children:c.jsx(mp.Slot,{scope:t.__scopeMenu,children:s.modal?c.jsx(ene,{...a,ref:e}):c.jsx(tne,{...a,ref:e})})})})}),ene=_.forwardRef((t,e)=>{const r=Cc(Pa,t.__scopeMenu),n=_.useRef(null),a=lt(e,n);return _.useEffect(()=>{const i=n.current;if(i)return lb(i)},[]),c.jsx(XA,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ce(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),tne=_.forwardRef((t,e)=>{const r=Cc(Pa,t.__scopeMenu);return c.jsx(XA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),XA=_.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...m}=t,v=Cc(Pa,r),x=Nm(Pa,r),y=Sb(r),b=_5(r),w=Vre(r),[S,k]=_.useState(null),C=_.useRef(null),A=lt(e,C,v.onContentChange),N=_.useRef(0),P=_.useRef(""),E=_.useRef(0),O=_.useRef(null),T=_.useRef("right"),M=_.useRef(0),L=g?ob:_.Fragment,I=g?{as:Xn,allowPinchZoom:!0}:void 0,D=F=>{var X,ae;const z=P.current+F,B=w().filter(G=>!G.disabled),q=document.activeElement,ie=(X=B.find(G=>G.ref.current===q))==null?void 0:X.textValue,ne=B.map(G=>G.textValue),Ne=fne(ne,z,ie),fe=(ae=B.find(G=>G.textValue===Ne))==null?void 0:ae.ref.current;(function G(Z){P.current=Z,window.clearTimeout(N.current),Z!==""&&(N.current=window.setTimeout(()=>G(""),1e3))})(z),fe&&setTimeout(()=>fe.focus())};_.useEffect(()=>()=>window.clearTimeout(N.current),[]),EA();const R=_.useCallback(F=>{var B,q;return T.current===((B=O.current)==null?void 0:B.side)&&mne(F,(q=O.current)==null?void 0:q.area)},[]);return c.jsx(Jre,{scope:r,searchRef:P,onItemEnter:_.useCallback(F=>{R(F)&&F.preventDefault()},[R]),onItemLeave:_.useCallback(F=>{var z;R(F)||((z=C.current)==null||z.focus(),k(null))},[R]),onTriggerLeave:_.useCallback(F=>{R(F)&&F.preventDefault()},[R]),pointerGraceTimerRef:E,onPointerGraceIntentChange:_.useCallback(F=>{O.current=F},[]),children:c.jsx(L,{...I,children:c.jsx(ib,{asChild:!0,trapped:a,onMountAutoFocus:Ce(i,F=>{var z;F.preventDefault(),(z=C.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:c.jsx(vm,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:c.jsx(y5,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:Ce(l,F=>{x.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(mA,{role:"menu","aria-orientation":"vertical","data-state":W5(v.open),"data-radix-menu-content":"",dir:x.dir,...y,...m,ref:A,style:{outline:"none",...m.style},onKeyDown:Ce(m.onKeyDown,F=>{const B=F.target.closest("[data-radix-menu-content]")===F.currentTarget,q=F.ctrlKey||F.altKey||F.metaKey,ie=F.key.length===1;B&&(F.key==="Tab"&&F.preventDefault(),!q&&ie&&D(F.key));const ne=C.current;if(F.target!==ne||!Ure.includes(F.key))return;F.preventDefault();const fe=w().filter(X=>!X.disabled).map(X=>X.ref.current);b5.includes(F.key)&&fe.reverse(),dne(fe)}),onBlur:Ce(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(N.current),P.current="")}),onPointerMove:Ce(t.onPointerMove,gp(F=>{const z=F.target,B=M.current!==F.clientX;if(F.currentTarget.contains(z)&&B){const q=F.clientX>M.current?"right":"left";T.current=q,M.current=F.clientX}}))})})})})})})});k5.displayName=Pa;var rne="MenuGroup",VA=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(We.div,{role:"group",...n,ref:e})});VA.displayName=rne;var nne="MenuLabel",A5=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(We.div,{...n,ref:e})});A5.displayName=nne;var oy="MenuItem",IO="menu.itemSelect",jb=_.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=_.useRef(null),s=Nm(oy,t.__scopeMenu),o=YA(oy,t.__scopeMenu),l=lt(e,i),u=_.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(IO,{bubbles:!0,cancelable:!0});h.addEventListener(IO,p=>n==null?void 0:n(p),{once:!0}),PF(h,f),f.defaultPrevented?u.current=!1:s.onClose()}};return c.jsx(N5,{...a,ref:l,disabled:r,onClick:Ce(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:Ce(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Ce(t.onKeyDown,h=>{const f=o.searchRef.current!=="";r||f&&h.key===" "||zS.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});jb.displayName=oy;var N5=_.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,s=YA(oy,r),o=_5(r),l=_.useRef(null),u=lt(e,l),[d,h]=_.useState(!1),[f,p]=_.useState("");return _.useEffect(()=>{const g=l.current;g&&p((g.textContent??"").trim())},[i.children]),c.jsx(mp.ItemSlot,{scope:r,disabled:n,textValue:a??f,children:c.jsx(x5,{asChild:!0,...o,focusable:!n,children:c.jsx(We.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ce(t.onPointerMove,gp(g=>{n?s.onItemLeave(g):(s.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(t.onPointerLeave,gp(g=>s.onItemLeave(g))),onFocus:Ce(t.onFocus,()=>h(!0)),onBlur:Ce(t.onBlur,()=>h(!1))})})})}),ane="MenuCheckboxItem",P5=_.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return c.jsx(R5,{scope:t.__scopeMenu,checked:r,children:c.jsx(jb,{role:"menuitemcheckbox","aria-checked":ly(r)?"mixed":r,...a,ref:e,"data-state":GA(r),onSelect:Ce(a.onSelect,()=>n==null?void 0:n(ly(r)?!0:!r),{checkForDefaultPrevented:!1})})})});P5.displayName=ane;var E5="MenuRadioGroup",[ine,sne]=jc(E5,{value:void 0,onValueChange:()=>{}}),O5=_.forwardRef((t,e)=>{const{value:r,onValueChange:n,...a}=t,i=fr(n);return c.jsx(ine,{scope:t.__scopeMenu,value:r,onValueChange:i,children:c.jsx(VA,{...a,ref:e})})});O5.displayName=E5;var T5="MenuRadioItem",M5=_.forwardRef((t,e)=>{const{value:r,...n}=t,a=sne(T5,t.__scopeMenu),i=r===a.value;return c.jsx(R5,{scope:t.__scopeMenu,checked:i,children:c.jsx(jb,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":GA(i),onSelect:Ce(n.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,r)},{checkForDefaultPrevented:!1})})})});M5.displayName=T5;var qA="MenuItemIndicator",[R5,one]=jc(qA,{checked:!1}),I5=_.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=one(qA,r);return c.jsx(Cn,{present:n||ly(i.checked)||i.checked===!0,children:c.jsx(We.span,{...a,ref:e,"data-state":GA(i.checked)})})});I5.displayName=qA;var lne="MenuSeparator",D5=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(We.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});D5.displayName=lne;var cne="MenuArrow",L5=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=Sb(r);return c.jsx(gA,{...a,...n,ref:e})});L5.displayName=cne;var une="MenuSub",[vze,$5]=jc(une),pf="MenuSubTrigger",F5=_.forwardRef((t,e)=>{const r=Cc(pf,t.__scopeMenu),n=Nm(pf,t.__scopeMenu),a=$5(pf,t.__scopeMenu),i=YA(pf,t.__scopeMenu),s=_.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=_.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return _.useEffect(()=>d,[d]),_.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),l(null)}},[o,l]),c.jsx(HA,{asChild:!0,...u,children:c.jsx(N5,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":W5(r.open),...t,ref:Xx(e,a.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ce(t.onPointerMove,gp(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ce(t.onPointerLeave,gp(h=>{var p,g;d();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",x=v?-5:5,y=f[v?"left":"right"],b=f[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:y,y:f.bottom}],side:m}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(t.onKeyDown,h=>{var p;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||Yre[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});F5.displayName=pf;var z5="MenuSubContent",B5=_.forwardRef((t,e)=>{const r=j5(Pa,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Cc(Pa,t.__scopeMenu),s=Nm(Pa,t.__scopeMenu),o=$5(z5,t.__scopeMenu),l=_.useRef(null),u=lt(e,l);return c.jsx(mp.Provider,{scope:t.__scopeMenu,children:c.jsx(Cn,{present:n||i.open,children:c.jsx(mp.Slot,{scope:t.__scopeMenu,children:c.jsx(XA,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;s.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ce(t.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:Ce(t.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=Xre[s.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});B5.displayName=z5;function W5(t){return t?"open":"closed"}function ly(t){return t==="indeterminate"}function GA(t){return ly(t)?"indeterminate":t?"checked":"unchecked"}function dne(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function hne(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function fne(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=hne(t,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const l=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function pne(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const o=e[i].x,l=e[i].y,u=e[s].x,d=e[s].y;l>n!=d>n&&r<(u-o)*(n-l)/(d-l)+o&&(a=!a)}return a}function mne(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return pne(r,e)}function gp(t){return e=>e.pointerType==="mouse"?t(e):void 0}var gne=S5,vne=HA,yne=C5,xne=k5,bne=VA,wne=A5,_ne=jb,Sne=P5,jne=O5,Cne=M5,kne=I5,Ane=D5,Nne=L5,Pne=F5,Ene=B5,KA="DropdownMenu",[One,yze]=Rs(KA,[w5]),kn=w5(),[Tne,H5]=One(KA),U5=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=kn(e),u=_.useRef(null),[d=!1,h]=Wo({prop:a,defaultProp:i,onChange:s});return c.jsx(Tne,{scope:e,triggerId:ci(),triggerRef:u,contentId:ci(),open:d,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(f=>!f),[h]),modal:o,children:c.jsx(gne,{...l,open:d,onOpenChange:h,dir:n,modal:o,children:r})})};U5.displayName=KA;var Y5="DropdownMenuTrigger",X5=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=H5(Y5,r),s=kn(r);return c.jsx(vne,{asChild:!0,...s,children:c.jsx(We.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Xx(e,i.triggerRef),onPointerDown:Ce(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:Ce(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});X5.displayName=Y5;var Mne="DropdownMenuPortal",V5=t=>{const{__scopeDropdownMenu:e,...r}=t,n=kn(e);return c.jsx(yne,{...n,...r})};V5.displayName=Mne;var q5="DropdownMenuContent",G5=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=H5(q5,r),i=kn(r),s=_.useRef(!1);return c.jsx(xne,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:e,onCloseAutoFocus:Ce(t.onCloseAutoFocus,o=>{var l;s.current||(l=a.triggerRef.current)==null||l.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!a.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G5.displayName=q5;var Rne="DropdownMenuGroup",Ine=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(bne,{...a,...n,ref:e})});Ine.displayName=Rne;var Dne="DropdownMenuLabel",K5=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(wne,{...a,...n,ref:e})});K5.displayName=Dne;var Lne="DropdownMenuItem",Z5=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(_ne,{...a,...n,ref:e})});Z5.displayName=Lne;var $ne="DropdownMenuCheckboxItem",Q5=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(Sne,{...a,...n,ref:e})});Q5.displayName=$ne;var Fne="DropdownMenuRadioGroup",zne=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(jne,{...a,...n,ref:e})});zne.displayName=Fne;var Bne="DropdownMenuRadioItem",J5=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(Cne,{...a,...n,ref:e})});J5.displayName=Bne;var Wne="DropdownMenuItemIndicator",e3=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(kne,{...a,...n,ref:e})});e3.displayName=Wne;var Hne="DropdownMenuSeparator",t3=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(Ane,{...a,...n,ref:e})});t3.displayName=Hne;var Une="DropdownMenuArrow",Yne=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(Nne,{...a,...n,ref:e})});Yne.displayName=Une;var Xne="DropdownMenuSubTrigger",r3=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(Pne,{...a,...n,ref:e})});r3.displayName=Xne;var Vne="DropdownMenuSubContent",n3=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=kn(r);return c.jsx(Ene,{...a,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});n3.displayName=Vne;var qne=U5,Gne=X5,Kne=V5,a3=G5,i3=K5,s3=Z5,o3=Q5,l3=J5,c3=e3,u3=t3,d3=r3,h3=n3;const Zne=qne,Qne=Gne,Jne=_.forwardRef(({className:t,inset:e,children:r,...n},a)=>c.jsxs(d3,{ref:a,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,c.jsx(eh,{className:"ml-auto h-4 w-4"})]}));Jne.displayName=d3.displayName;const eae=_.forwardRef(({className:t,...e},r)=>c.jsx(h3,{ref:r,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));eae.displayName=h3.displayName;const f3=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(Kne,{children:c.jsx(a3,{ref:n,sideOffset:e,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));f3.displayName=a3.displayName;const p3=_.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(s3,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));p3.displayName=s3.displayName;const tae=_.forwardRef(({className:t,children:e,checked:r,...n},a)=>c.jsxs(o3,{ref:a,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(c3,{children:c.jsx(kA,{className:"h-4 w-4"})})}),e]}));tae.displayName=o3.displayName;const rae=_.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(l3,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(c3,{children:c.jsx(cQ,{className:"h-2 w-2 fill-current"})})}),e]}));rae.displayName=l3.displayName;const m3=_.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(i3,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));m3.displayName=i3.displayName;const g3=_.forwardRef(({className:t,...e},r)=>c.jsx(u3,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));g3.displayName=u3.displayName;var ZA="Avatar",[nae,xze]=Rs(ZA),[aae,v3]=nae(ZA),y3=_.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=_.useState("idle");return c.jsx(aae,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:c.jsx(We.span,{...n,ref:e})})});y3.displayName=ZA;var x3="AvatarImage",b3=_.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,s=v3(x3,r),o=iae(n,i.referrerPolicy),l=fr(u=>{a(u),s.onImageLoadingStatusChange(u)});return Or(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?c.jsx(We.img,{...i,ref:e,src:n}):null});b3.displayName=x3;var w3="AvatarFallback",_3=_.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=v3(w3,r),[s,o]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(l)}},[n]),s&&i.imageLoadingStatus!=="loaded"?c.jsx(We.span,{...a,ref:e}):null});_3.displayName=w3;function iae(t,e){const[r,n]=_.useState("idle");return Or(()=>{if(!t){n("error");return}let a=!0;const i=new window.Image,s=o=>()=>{a&&n(o)};return n("loading"),i.onload=s("loaded"),i.onerror=s("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{a=!1}},[t,e]),r}var S3=y3,j3=b3,C3=_3;const k3=_.forwardRef(({className:t,...e},r)=>c.jsx(S3,{ref:r,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));k3.displayName=S3.displayName;const sae=_.forwardRef(({className:t,...e},r)=>c.jsx(j3,{ref:r,className:le("aspect-square h-full w-full",t),...e}));sae.displayName=j3.displayName;const A3=_.forwardRef(({className:t,...e},r)=>c.jsx(C3,{ref:r,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));A3.displayName=C3.displayName;function oae(){var o;const{user:t,signOut:e}=Cm(),{role:r,isAdministrator:n}=h5(),a=async()=>{const{error:l}=await e();l?ve.error("Error al cerrar sesión"):ve.success("Sesión cerrada exitosamente")};if(!t)return null;const i=()=>(t.email||"").substring(0,2).toUpperCase(),s=()=>r==="administrator"?"Administrador":"Usuario";return c.jsxs(Zne,{children:[c.jsx(Qne,{asChild:!0,children:c.jsx(de,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:c.jsx(k3,{className:"h-8 w-8",children:c.jsx(A3,{children:i()})})})}),c.jsxs(f3,{className:"w-56",align:"end",forceMount:!0,children:[c.jsx(m3,{className:"font-normal",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("p",{className:"text-sm font-medium leading-none",children:((o=t.user_metadata)==null?void 0:o.first_name)||"Usuario"}),c.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email}),c.jsxs("div",{className:"flex items-center gap-1 pt-1",children:[n&&c.jsx(ez,{className:"h-3 w-3 text-blue-600"}),c.jsx("p",{className:"text-xs text-blue-600 font-medium",children:s()})]})]})}),c.jsx(g3,{}),c.jsxs(p3,{onClick:a,children:[c.jsx(gQ,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Cerrar Sesión"})]})]})]})}function lae(){return c.jsxs("header",{className:"flex h-16 shrink-0 items-center justify-between border-b border-gray-200 px-4 bg-white ml-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fz,{}),c.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"M8 Platform"})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx(oae,{})})]})}const ee=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ee.displayName="Card";const pe=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:le("flex flex-col space-y-1.5 p-6",t),...e}));pe.displayName="CardHeader";const me=_.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:le("text-2xl font-semibold leading-none tracking-tight",t),...e}));me.displayName="CardTitle";const N3=_.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:le("text-sm text-muted-foreground",t),...e}));N3.displayName="CardDescription";const te=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:le("p-6 pt-0",t),...e}));te.displayName="CardContent";const cae=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:le("flex items-center p-6 pt-0",t),...e}));cae.displayName="CardFooter";function BS(t,[e,r]){return Math.min(r,Math.max(e,t))}function uae(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var QA="ScrollArea",[P3,bze]=Rs(QA),[dae,Ia]=P3(QA),E3=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=t,[o,l]=_.useState(null),[u,d]=_.useState(null),[h,f]=_.useState(null),[p,g]=_.useState(null),[m,v]=_.useState(null),[x,y]=_.useState(0),[b,w]=_.useState(0),[S,k]=_.useState(!1),[C,A]=_.useState(!1),N=lt(e,E=>l(E)),P=km(a);return c.jsx(dae,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:o,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:A,onCornerWidthChange:y,onCornerHeightChange:w,children:c.jsx(We.div,{dir:P,...s,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});E3.displayName=QA;var O3="ScrollAreaViewport",T3=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:i,...s}=t,o=Ia(O3,r),l=_.useRef(null),u=lt(e,l,o.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),c.jsx(We.div,{"data-radix-scroll-area-viewport":"",...s,asChild:a,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:wae({asChild:a,children:n},d=>c.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});T3.displayName=O3;var Gi="ScrollAreaScrollbar",JA=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Ia(Gi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,o=t.orientation==="horizontal";return _.useEffect(()=>(o?i(!0):s(!0),()=>{o?i(!1):s(!1)}),[o,i,s]),a.type==="hover"?c.jsx(hae,{...n,ref:e,forceMount:r}):a.type==="scroll"?c.jsx(fae,{...n,ref:e,forceMount:r}):a.type==="auto"?c.jsx(M3,{...n,ref:e,forceMount:r}):a.type==="always"?c.jsx(eN,{...n,ref:e}):null});JA.displayName=Gi;var hae=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Ia(Gi,t.__scopeScrollArea),[i,s]=_.useState(!1);return _.useEffect(()=>{const o=a.scrollArea;let l=0;if(o){const u=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),c.jsx(Cn,{present:r||i,children:c.jsx(M3,{"data-state":i?"visible":"hidden",...n,ref:e})})}),fae=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Ia(Gi,t.__scopeScrollArea),i=t.orientation==="horizontal",s=kb(()=>l("SCROLL_END"),100),[o,l]=uae("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,a.scrollHideDelay,l]),_.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(l("SCROLL"),s()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,i,l,s]),c.jsx(Cn,{present:r||o!=="hidden",children:c.jsx(eN,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ce(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ce(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),M3=_.forwardRef((t,e)=>{const r=Ia(Gi,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,s]=_.useState(!1),o=t.orientation==="horizontal",l=kb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(o?u:d)}},10);return od(r.viewport,l),od(r.content,l),c.jsx(Cn,{present:n||i,children:c.jsx(eN,{"data-state":i?"visible":"hidden",...a,ref:e})})}),eN=_.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=Ia(Gi,t.__scopeScrollArea),i=_.useRef(null),s=_.useRef(0),[o,l]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=$3(o.viewport,o.content),d={...n,sizes:o,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:f=>s.current=f};function h(f,p){return xae(f,s.current,o,p)}return r==="horizontal"?c.jsx(pae,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,p=DO(f,o,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):r==="vertical"?c.jsx(mae,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,p=DO(f,o);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),pae=_.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Ia(Gi,t.__scopeScrollArea),[s,o]=_.useState(),l=_.useRef(null),u=lt(e,l,i.onScrollbarXChange);return _.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(I3,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Cb(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),z3(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:uy(s.paddingLeft),paddingEnd:uy(s.paddingRight)}})}})}),mae=_.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Ia(Gi,t.__scopeScrollArea),[s,o]=_.useState(),l=_.useRef(null),u=lt(e,l,i.onScrollbarYChange);return _.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(I3,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Cb(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),z3(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:uy(s.paddingTop),paddingEnd:uy(s.paddingBottom)}})}})}),[gae,R3]=P3(Gi),I3=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,p=Ia(Gi,r),[g,m]=_.useState(null),v=lt(e,N=>m(N)),x=_.useRef(null),y=_.useRef(""),b=p.viewport,w=n.content-n.viewport,S=fr(d),k=fr(l),C=kb(h,10);function A(N){if(x.current){const P=N.clientX-x.current.left,E=N.clientY-x.current.top;u({x:P,y:E})}}return _.useEffect(()=>{const N=P=>{const E=P.target;(g==null?void 0:g.contains(E))&&S(P,w)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,g,w,S]),_.useEffect(k,[n,k]),od(g,C),od(p.content,C),c.jsx(gae,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:fr(i),onThumbPointerUp:fr(s),onThumbPositionChange:k,onThumbPointerDown:fr(o),children:c.jsx(We.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:Ce(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(N))}),onPointerMove:Ce(t.onPointerMove,A),onPointerUp:Ce(t.onPointerUp,N=>{const P=N.target;P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),cy="ScrollAreaThumb",D3=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=R3(cy,t.__scopeScrollArea);return c.jsx(Cn,{present:r||a.hasThumb,children:c.jsx(vae,{ref:e,...n})})}),vae=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=Ia(cy,r),s=R3(cy,r),{onThumbPositionChange:o}=s,l=lt(e,h=>s.onThumbChange(h)),u=_.useRef(),d=kb(()=>{u.current&&(u.current(),u.current=void 0)},100);return _.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const p=bae(h,o);u.current=p,o()}};return o(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,o]),c.jsx(We.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ce(t.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,m=h.clientY-p.top;s.onThumbPointerDown({x:g,y:m})}),onPointerUp:Ce(t.onPointerUp,s.onThumbPointerUp)})});D3.displayName=cy;var tN="ScrollAreaCorner",L3=_.forwardRef((t,e)=>{const r=Ia(tN,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(yae,{...t,ref:e}):null});L3.displayName=tN;var yae=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=Ia(tN,r),[i,s]=_.useState(0),[o,l]=_.useState(0),u=!!(i&&o);return od(a.scrollbarX,()=>{var h;const d=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(d),l(d)}),od(a.scrollbarY,()=>{var h;const d=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?c.jsx(We.div,{...n,ref:e,style:{width:i,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function uy(t){return t?parseInt(t,10):0}function $3(t,e){const r=t/e;return isNaN(r)?0:r}function Cb(t){const e=$3(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function xae(t,e,r,n="ltr"){const a=Cb(r),i=a/2,s=e||i,o=a-s,l=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return F3([l,u],h)(t)}function DO(t,e,r="ltr"){const n=Cb(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,s=e.content-e.viewport,o=i-n,l=r==="ltr"?[0,s]:[s*-1,0],u=BS(t,l);return F3([0,s],[0,o])(u)}function F3(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function z3(t,e){return t>0&&t<e}var bae=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},s=r.left!==i.left,o=r.top!==i.top;(s||o)&&e(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function kb(t,e){const r=fr(t),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function od(t,e){const r=fr(e);Or(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}function wae(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const a=_.Children.only(n);return _.cloneElement(a,{children:typeof e=="function"?e(a.props.children):e})}var B3=E3,_ae=T3,Sae=L3;const kc=_.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(B3,{ref:n,className:le("relative overflow-hidden",t),...r,children:[c.jsx(_ae,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(rN,{}),c.jsx(Sae,{})]}));kc.displayName=B3.displayName;const rN=_.forwardRef(({className:t,orientation:e="vertical",...r},n)=>c.jsx(JA,{ref:n,orientation:e,className:le("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:c.jsx(D3,{className:"relative flex-1 rounded-full bg-border"})}));rN.displayName=JA.displayName;function jae(){const[t,e]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState(null),[s,o]=_.useState(!1),{user:l}=Cm();_.useEffect(()=>{l&&u()},[l]),_.useEffect(()=>{a&&d(a)},[a]);const u=async()=>{try{const{data:g,error:m}=await ue.from("chatbot_conversations").select("*").order("updated_at",{ascending:!1});!m&&g&&(n(g),g.length>0&&!a&&i(g[0].id))}catch(g){console.error("Error loading conversations:",g)}},d=async g=>{try{const{data:m,error:v}=await ue.from("chatbot_messages").select("*").eq("conversation_id",g).order("created_at",{ascending:!0});!v&&m&&e(m.map(x=>({...x,message_type:x.message_type})))}catch(m){console.error("Error loading messages:",m)}},h=async(g="Nueva Conversación")=>{if(!l)return null;try{const{data:m,error:v}=await ue.from("chatbot_conversations").insert({user_id:l.id,conversation_title:g,context_filters:{}}).select().single();if(!v&&m)return n(x=>[m,...x]),i(m.id),e([]),m.id}catch(m){console.error("Error creating conversation:",m)}return null},f=async(g,m)=>{if(!((!a||!l)&&!await h())){o(!0);try{const{data:v,error:x}=await ue.from("chatbot_messages").insert({conversation_id:a,message_type:"user",content:g,metadata:{context_filters:m}}).select().single();if(x)throw x;e(S=>[...S,{...v,message_type:v.message_type}]);const y=await p(g,m),{data:b,error:w}=await ue.from("chatbot_messages").insert({conversation_id:a,message_type:"assistant",content:y.content,metadata:y.metadata}).select().single();if(w)throw w;e(S=>[...S,{...b,message_type:b.message_type}])}catch(v){console.error("Error sending message:",v)}finally{o(!1)}}},p=async(g,m)=>{const v=g.toLowerCase();return v.includes("recomendación")||v.includes("recomienda")?{content:`Basándome en tus datos actuales${m!=null&&m.productId?` para el producto ${m.productId}`:""}, te recomiendo:

1. **Revisar precisión del pronóstico**: Si está por debajo del 80%, considera ajustar los parámetros del modelo.

2. **Monitorear volatilidad**: Alta variabilidad requiere mayor stock de seguridad.

3. **Análizar tendencias**: ${(m==null?void 0:m.trend)==="increasing"?"La tendencia creciente sugiere incrementar pronósticos futuros.":"Mantén un seguimiento cercano de los cambios de demanda."}

¿Te gustaría que analice algún producto específico o genere un escenario what-if?`,metadata:{type:"recommendation",context:m}}:v.includes("analisis")||v.includes("análisis")?{content:`Realizando análisis de tus datos de pronóstico...

**Métricas clave encontradas:**
- Precisión promedio: 78%
- Productos con alta volatilidad: 12
- Tendencia general: Estable con ligero crecimiento

**Áreas de oportunidad:**
1. Mejorar precisión en productos de alta rotación
2. Ajustar stock de seguridad para productos volátiles
3. Implementar promociones para productos de baja rotación

¿Quieres que profundice en algún aspecto específico?`,metadata:{type:"analysis",metrics:{accuracy:78,volatile_products:12}}}:v.includes("escenario")||v.includes("what-if")?{content:`Te puedo ayudar a crear escenarios what-if para:

📈 **Ajustes de pronóstico**: Incrementar/decrementar demanda
🎯 **Impacto promocional**: Simular efecto de promociones
📦 **Disrupciones de suministro**: Evaluar riesgos de desabasto
🔄 **Cambios estacionales**: Modelar variaciones por temporada

Para crear un escenario, ve a la pestaña "IA Asistente" y usa el Constructor de Escenarios, o dime qué tipo de escenario te interesa analizar.`,metadata:{type:"scenario_help"}}:{content:`¡Hola! Soy tu asistente de pronósticos inteligente. Puedo ayudarte con:

🎯 **Análisis de datos**: Revisar precisión, tendencias y outliers
📊 **Recomendaciones**: Sugerir mejoras basadas en tus datos
🔮 **Escenarios What-If**: Simular diferentes situaciones
📈 **Optimización**: Identificar oportunidades de mejora

¿En qué puedo ayudarte hoy? Puedes preguntarme sobre análisis, recomendaciones, o escenarios específicos.`,metadata:{type:"greeting"}}};return{messages:t,conversations:r,currentConversation:a,loading:s,sendMessage:f,createNewConversation:h,setCurrentConversation:i,loadConversations:u}}function Cae({contextFilters:t}){const[e,r]=_.useState(!1),[n,a]=_.useState(""),i=_.useRef(null),{messages:s,loading:o,sendMessage:l,createNewConversation:u}=jae(),d=()=>{var g;(g=i.current)==null||g.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{d()},[s]);const h=async()=>{if(!n.trim()||o)return;const g=n.trim();a(""),await l(g,t)},f=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),h())},p=g=>new Date(g).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});return e?c.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:c.jsxs(ee,{className:"w-96 h-[500px] shadow-2xl",children:[c.jsxs(pe,{className:"pb-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jg,{className:"h-5 w-5 text-blue-600"}),c.jsx(me,{className:"text-sm",children:"Asistente IA de Pronósticos"})]}),c.jsx(de,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:c.jsx(Na,{className:"h-4 w-4"})})]}),t&&(t.productId||t.locationId)&&c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Contexto: ",t.productId," ",t.locationId&&`- ${t.locationId}`]})]}),c.jsxs(te,{className:"flex flex-col h-[400px] p-0",children:[c.jsx(kc,{className:"flex-1 px-4",children:c.jsxs("div",{className:"space-y-4 py-4",children:[s.length===0&&c.jsx("div",{className:"flex items-center justify-center h-32 text-muted-foreground",children:c.jsxs("div",{className:"text-center",children:[c.jsx(jg,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),c.jsx("p",{className:"text-sm",children:"¡Hola! ¿En qué puedo ayudarte?"})]})}),s.map(g=>c.jsxs("div",{className:le("flex gap-3",g.message_type==="user"?"justify-end":"justify-start"),children:[g.message_type==="assistant"&&c.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:c.jsx(jg,{className:"h-4 w-4 text-blue-600"})}),c.jsxs("div",{className:le("max-w-[80%] rounded-lg p-3 text-sm",g.message_type==="user"?"bg-blue-600 text-white ml-auto":"bg-gray-100 text-gray-900"),children:[c.jsx("div",{className:"whitespace-pre-wrap",children:g.content}),c.jsx("div",{className:le("text-xs mt-1 opacity-70",g.message_type==="user"?"text-blue-100":"text-gray-500"),children:p(g.created_at)})]}),g.message_type==="user"&&c.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:c.jsx(AQ,{className:"h-4 w-4 text-white"})})]},g.id)),o&&c.jsxs("div",{className:"flex gap-3 justify-start",children:[c.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:c.jsx(jg,{className:"h-4 w-4 text-blue-600"})}),c.jsx("div",{className:"bg-gray-100 rounded-lg p-3 text-sm",children:c.jsx(tO,{className:"h-4 w-4 animate-spin"})})]}),c.jsx("div",{ref:i})]})}),c.jsxs("div",{className:"border-t p-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(De,{value:n,onChange:g=>a(g.target.value),onKeyPress:f,placeholder:"Escribe tu mensaje...",disabled:o,className:"flex-1"}),c.jsx(de,{onClick:h,disabled:!n.trim()||o,size:"sm",children:o?c.jsx(tO,{className:"h-4 w-4 animate-spin"}):c.jsx(_Q,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex gap-1 mt-2",children:[c.jsx(de,{variant:"outline",size:"sm",onClick:()=>l("dame recomendaciones",t),disabled:o,className:"text-xs h-7",children:"Recomendaciones"}),c.jsx(de,{variant:"outline",size:"sm",onClick:()=>l("analiza mis datos",t),disabled:o,className:"text-xs h-7",children:"Análisis"}),c.jsx(de,{variant:"outline",size:"sm",onClick:()=>l("crear escenario",t),disabled:o,className:"text-xs h-7",children:"Escenarios"})]})]})]})]})}):c.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:c.jsx(de,{onClick:()=>r(!0),size:"lg",className:"h-14 w-14 rounded-full bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:c.jsx(vQ,{className:"h-6 w-6"})})})}function kae({children:t}){return c.jsx($z,{children:c.jsxs("div",{className:"min-h-screen flex w-full bg-muted/20",children:[c.jsx(Are,{}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsx(lae,{}),c.jsx("main",{className:"flex-1 overflow-auto bg-stone-100",children:c.jsx("div",{className:"w-full px-6 py-4 max-w-none bg-[#fdfdfd]/[0.61]",children:t})})]}),c.jsx(Cae,{})]})})}const Aae=Jd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _e({className:t,variant:e,...r}){return c.jsx("div",{className:le(Aae({variant:e}),t),...r})}var nN="Tabs",[Nae,wze]=Rs(nN,[_b]),W3=_b(),[Pae,aN]=Nae(nN),H3=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=km(o),[h,f]=Wo({prop:n,onChange:a,defaultProp:i});return c.jsx(Pae,{scope:r,baseId:ci(),value:h,onValueChange:f,orientation:s,dir:d,activationMode:l,children:c.jsx(We.div,{dir:d,"data-orientation":s,...u,ref:e})})});H3.displayName=nN;var U3="TabsList",Y3=_.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=aN(U3,r),s=W3(r);return c.jsx(y5,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:c.jsx(We.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});Y3.displayName=U3;var X3="TabsTrigger",V3=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,s=aN(X3,r),o=W3(r),l=K3(s.baseId,n),u=Z3(s.baseId,n),d=n===s.value;return c.jsx(x5,{asChild:!0,...o,focusable:!a,active:d,children:c.jsx(We.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:e,onMouseDown:Ce(t.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?s.onValueChange(n):h.preventDefault()}),onKeyDown:Ce(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(n)}),onFocus:Ce(t.onFocus,()=>{const h=s.activationMode!=="manual";!d&&!a&&h&&s.onValueChange(n)})})})});V3.displayName=X3;var q3="TabsContent",G3=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=t,o=aN(q3,r),l=K3(o.baseId,n),u=Z3(o.baseId,n),d=n===o.value,h=_.useRef(d);return _.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),c.jsx(Cn,{present:a||d,children:({present:f})=>c.jsx(We.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});G3.displayName=q3;function K3(t,e){return`${t}-trigger-${e}`}function Z3(t,e){return`${t}-content-${e}`}var Eae=H3,Q3=Y3,J3=V3,eB=G3;const ah=Eae,Ac=_.forwardRef(({className:t,...e},r)=>c.jsx(Q3,{ref:r,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ac.displayName=Q3.displayName;const Rt=_.forwardRef(({className:t,...e},r)=>c.jsx(J3,{ref:r,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Rt.displayName=J3.displayName;const Nt=_.forwardRef(({className:t,...e},r)=>c.jsx(eB,{ref:r,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Nt.displayName=eB.displayName;function Ab(){const[t,e]=_.useState(null),[r,n]=_.useState([]),[a,i]=_.useState([]),[s,o]=_.useState(!0);_.useEffect(()=>{l()},[]);const l=async()=>{try{o(!0);const{data:{user:h}}=await ue.auth.getUser();if(!h){ve.error("Usuario no autenticado");return}const{data:f,error:p}=await ue.from("commercial_team_profiles").select("*").eq("user_id",h.id).maybeSingle();p?console.error("Error fetching profile:",p):f&&e(f);const{data:g,error:m}=await ue.from("customer_assignments").select("*").eq("commercial_user_id",h.id);m?console.error("Error fetching assignments:",m):n(g||[]);const{data:v,error:x}=await ue.from("market_intelligence").select("*").eq("commercial_user_id",h.id).order("created_at",{ascending:!1});x?console.error("Error fetching intelligence:",x):i(v||[])}catch(h){console.error("Error fetching commercial data:",h),ve.error("Error al cargar datos comerciales")}finally{o(!1)}};return{profile:t,assignments:r,marketIntelligence:a,loading:s,updateProfile:async h=>{try{const{data:{user:f}}=await ue.auth.getUser();if(!f)return ve.error("Usuario no autenticado"),!1;const{error:p}=await ue.from("commercial_team_profiles").upsert({user_id:f.id,...h,updated_at:new Date().toISOString()});if(p)throw p;return ve.success("Perfil actualizado exitosamente"),await l(),!0}catch(f){return console.error("Error updating profile:",f),ve.error("Error al actualizar perfil"),!1}},addMarketIntelligence:async h=>{try{const{data:{user:f}}=await ue.auth.getUser();return f?(console.log("Would add market intelligence:",h),ve.success("Inteligencia de mercado agregada (simulado)"),i(p=>[{...h,id:Date.now().toString(),commercial_user_id:f.id,created_at:new Date().toISOString()},...p]),!0):(ve.error("Usuario no autenticado"),!1)}catch(f){return console.error("Error adding market intelligence:",f),ve.error("Error al agregar inteligencia de mercado"),!1}},refetch:l}}function ih(t,e,r){const[n,a]=_.useState([]),[i,s]=_.useState([]),[o,l]=_.useState(!0);_.useEffect(()=>{t&&r?u():(a([]),s([]),l(!1))},[t,e,r]);const u=async()=>{try{l(!0);let p=ue.from("forecast_data").select("*").order("postdate",{ascending:!1});t&&(p=p.eq("product_id",t)),e&&(p=p.eq("location_id",e)),r&&(p=p.eq("customer_id",r));const{data:g,error:m}=await p;if(m)throw m;const v=(g||[]).map(x=>({...x,collaboration_status:x.collaboration_status||"pending_review"}));if(a(v),g&&g.length>0){const x=g.map(w=>w.id),{data:y,error:b}=await ue.from("forecast_collaboration_comments").select("*").in("forecast_data_id",x).order("created_at",{ascending:!0});b?console.error("Error fetching comments:",b):s(y||[])}}catch(p){console.error("Error fetching collaboration data:",p),ve.error("Error al cargar datos de colaboración")}finally{l(!1)}};return{forecastData:n,comments:i,loading:o,updateForecastCollaboration:async(p,g)=>{try{const{data:{user:m}}=await ue.auth.getUser();if(!m)return ve.error("Usuario no autenticado"),!1;const{error:v}=await ue.from("forecast_data").update({...g,commercial_reviewed_by:m.id,commercial_reviewed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",p);if(v)throw v;return ve.success("Colaboración actualizada exitosamente"),await u(),!0}catch(m){return console.error("Error updating forecast collaboration:",m),ve.error("Error al actualizar colaboración"),!1}},addComment:async(p,g,m="information")=>{try{const{data:{user:v}}=await ue.auth.getUser();if(!v)return ve.error("Usuario no autenticado"),!1;const{error:x}=await ue.from("forecast_collaboration_comments").insert({forecast_data_id:p,user_id:v.id,comment_text:g,comment_type:m});if(x)throw x;return ve.success("Comentario agregado"),await u(),!0}catch(v){return console.error("Error adding comment:",v),ve.error("Error al agregar comentario"),!1}},refetch:u,fetchFilteredDataByProductIds:async p=>{try{const{data:g,error:m}=await ue.from("forecast_data").select("*").in("product_id",p);if(m)throw m;a(g||[])}catch(g){console.error("Error fetching filtered data:",g),ve.error("Error al cargar datos filtrados")}}}}const Yr=Tz,sh=$J,Oae=Mz,tB=_.forwardRef(({className:t,...e},r)=>c.jsx(cb,{ref:r,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));tB.displayName=cb.displayName;const Tr=_.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(Oae,{children:[c.jsx(tB,{}),c.jsxs(ub,{ref:n,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(Rz,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Na,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Tr.displayName=ub.displayName;const Mr=({className:t,...e})=>c.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Mr.displayName="DialogHeader";const Rr=_.forwardRef(({className:t,...e},r)=>c.jsx(db,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",t),...e}));Rr.displayName=db.displayName;const Tae=_.forwardRef(({className:t,...e},r)=>c.jsx(hb,{ref:r,className:le("text-sm text-muted-foreground",t),...e}));Tae.displayName=hb.displayName;function LO(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mae(...t){return e=>{let r=!1;const n=t.map(a=>{const i=LO(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():LO(t[a],null)}}}}function Rae(t){const e=Iae(t),r=_.forwardRef((n,a)=>{const{children:i,...s}=n,o=_.Children.toArray(i),l=o.find(Lae);if(l){const u=l.props.children,d=o.map(h=>h===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...s,ref:a,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function Iae(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const s=Fae(a),o=$ae(i,a.props);return a.type!==_.Fragment&&(o.ref=n?Mae(n,s):s),_.cloneElement(a,o)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Dae=Symbol("radix.slottable");function Lae(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Dae}function $ae(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function Fae(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var zae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bae=zae.reduce((t,e)=>{const r=Rae(`Primitive.${e}`),n=_.forwardRef((a,i)=>{const{asChild:s,...o}=a,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Wae="Label",rB=_.forwardRef((t,e)=>c.jsx(Bae.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));rB.displayName=Wae;var nB=rB;const Hae=Jd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=_.forwardRef(({className:t,...e},r)=>c.jsx(nB,{ref:r,className:le(Hae(),t),...e}));Le.displayName=nB.displayName;function aB(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Uae=[" ","Enter","ArrowUp","ArrowDown"],Yae=[" ","Enter"],Pm="Select",[Nb,Pb,Xae]=WA(Pm),[oh,_ze]=Rs(Pm,[Xae,qd]),Eb=qd(),[Vae,rl]=oh(Pm),[qae,Gae]=oh(Pm),iB=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:g}=t,m=Eb(e),[v,x]=_.useState(null),[y,b]=_.useState(null),[w,S]=_.useState(!1),k=km(u),[C=!1,A]=Wo({prop:n,defaultProp:a,onChange:i}),[N,P]=Wo({prop:s,defaultProp:o,onChange:l}),E=_.useRef(null),O=v?g||!!v.closest("form"):!0,[T,M]=_.useState(new Set),L=Array.from(T).map(I=>I.props.value).join(";");return c.jsx(fA,{...m,children:c.jsxs(Vae,{required:p,scope:e,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:ci(),value:N,onValueChange:P,open:C,onOpenChange:A,dir:k,triggerPointerDownPosRef:E,disabled:f,children:[c.jsx(Nb.Provider,{scope:e,children:c.jsx(qae,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(I=>{M(D=>new Set(D).add(I))},[]),onNativeOptionRemove:_.useCallback(I=>{M(D=>{const R=new Set(D);return R.delete(I),R})},[]),children:r})}),O?c.jsxs(EB,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:N,onChange:I=>P(I.target.value),disabled:f,form:g,children:[N===void 0?c.jsx("option",{value:""}):null,Array.from(T)]},L):null]})})};iB.displayName=Pm;var sB="SelectTrigger",oB=_.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=Eb(r),s=rl(sB,r),o=s.disabled||n,l=lt(e,s.onTriggerChange),u=Pb(r),d=_.useRef("touch"),[h,f,p]=OB(m=>{const v=u().filter(b=>!b.disabled),x=v.find(b=>b.value===s.value),y=TB(v,m,x);y!==void 0&&s.onValueChange(y.value)}),g=m=>{o||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return c.jsx(pA,{asChild:!0,...i,children:c.jsx(We.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":PB(s.value)?"":void 0,...a,ref:l,onClick:Ce(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:Ce(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Ce(a.onKeyDown,m=>{const v=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(v&&m.key===" ")&&Uae.includes(m.key)&&(g(),m.preventDefault())})})})});oB.displayName=sB;var lB="SelectValue",cB=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...o}=t,l=rl(lB,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=lt(e,l.onValueNodeChange);return Or(()=>{u(d)},[u,d]),c.jsx(We.span,{...o,ref:h,style:{pointerEvents:"none"},children:PB(l.value)?c.jsx(c.Fragment,{children:s}):i})});cB.displayName=lB;var Kae="SelectIcon",uB=_.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return c.jsx(We.span,{"aria-hidden":!0,...a,ref:e,children:n||"▼"})});uB.displayName=Kae;var Zae="SelectPortal",dB=t=>c.jsx(Kx,{asChild:!0,...t});dB.displayName=Zae;var cc="SelectContent",hB=_.forwardRef((t,e)=>{const r=rl(cc,t.__scopeSelect),[n,a]=_.useState();if(Or(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?_c.createPortal(c.jsx(fB,{scope:t.__scopeSelect,children:c.jsx(Nb.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(pB,{...t,ref:e})});hB.displayName=cc;var Ya=10,[fB,nl]=oh(cc),Qae="SelectContentImpl",pB=_.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=t,y=rl(cc,r),[b,w]=_.useState(null),[S,k]=_.useState(null),C=lt(e,X=>w(X)),[A,N]=_.useState(null),[P,E]=_.useState(null),O=Pb(r),[T,M]=_.useState(!1),L=_.useRef(!1);_.useEffect(()=>{if(b)return lb(b)},[b]),EA();const I=_.useCallback(X=>{const[ae,...G]=O().map(K=>K.ref.current),[Z]=G.slice(-1),se=document.activeElement;for(const K of X)if(K===se||(K==null||K.scrollIntoView({block:"nearest"}),K===ae&&S&&(S.scrollTop=0),K===Z&&S&&(S.scrollTop=S.scrollHeight),K==null||K.focus(),document.activeElement!==se))return},[O,S]),D=_.useCallback(()=>I([A,b]),[I,A,b]);_.useEffect(()=>{T&&D()},[T,D]);const{onOpenChange:R,triggerPointerDownPosRef:F}=y;_.useEffect(()=>{if(b){let X={x:0,y:0};const ae=Z=>{var se,K;X={x:Math.abs(Math.round(Z.pageX)-(((se=F.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((K=F.current)==null?void 0:K.y)??0))}},G=Z=>{X.x<=10&&X.y<=10?Z.preventDefault():b.contains(Z.target)||R(!1),document.removeEventListener("pointermove",ae),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",G,{capture:!0})}}},[b,R,F]),_.useEffect(()=>{const X=()=>R(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[R]);const[z,B]=OB(X=>{const ae=O().filter(se=>!se.disabled),G=ae.find(se=>se.ref.current===document.activeElement),Z=TB(ae,X,G);Z&&setTimeout(()=>Z.ref.current.focus())}),q=_.useCallback((X,ae,G)=>{const Z=!L.current&&!G;(y.value!==void 0&&y.value===ae||Z)&&(N(X),Z&&(L.current=!0))},[y.value]),ie=_.useCallback(()=>b==null?void 0:b.focus(),[b]),ne=_.useCallback((X,ae,G)=>{const Z=!L.current&&!G;(y.value!==void 0&&y.value===ae||Z)&&E(X)},[y.value]),Ne=n==="popper"?WS:mB,fe=Ne===WS?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return c.jsx(fB,{scope:r,content:b,viewport:S,onViewportChange:k,itemRefCallback:q,selectedItem:A,onItemLeave:ie,itemTextRefCallback:ne,focusSelectedItem:D,selectedItemText:P,position:n,isPositioned:T,searchRef:z,children:c.jsx(ob,{as:Xn,allowPinchZoom:!0,children:c.jsx(ib,{asChild:!0,trapped:y.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Ce(a,X=>{var ae;(ae=y.trigger)==null||ae.focus({preventScroll:!0}),X.preventDefault()}),children:c.jsx(vm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(Ne,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:X=>X.preventDefault(),...x,...fe,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ce(x.onKeyDown,X=>{const ae=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ae&&X.key.length===1&&B(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Z=O().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const se=X.target,K=Z.indexOf(se);Z=Z.slice(K+1)}setTimeout(()=>I(Z)),X.preventDefault()}})})})})})})});pB.displayName=Qae;var Jae="SelectItemAlignedPosition",mB=_.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=rl(cc,r),s=nl(cc,r),[o,l]=_.useState(null),[u,d]=_.useState(null),h=lt(e,C=>d(C)),f=Pb(r),p=_.useRef(!1),g=_.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=s,b=_.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&m&&v&&x){const C=i.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(i.dir!=="rtl"){const se=P.left-A.left,K=N.left-se,Pe=C.left-K,Te=C.width+Pe,nt=Math.max(Te,A.width),tt=window.innerWidth-Ya,Ot=BS(K,[Ya,Math.max(Ya,tt-nt)]);o.style.minWidth=Te+"px",o.style.left=Ot+"px"}else{const se=A.right-P.right,K=window.innerWidth-N.right-se,Pe=window.innerWidth-C.right-K,Te=C.width+Pe,nt=Math.max(Te,A.width),tt=window.innerWidth-Ya,Ot=BS(K,[Ya,Math.max(Ya,tt-nt)]);o.style.minWidth=Te+"px",o.style.right=Ot+"px"}const E=f(),O=window.innerHeight-Ya*2,T=m.scrollHeight,M=window.getComputedStyle(u),L=parseInt(M.borderTopWidth,10),I=parseInt(M.paddingTop,10),D=parseInt(M.borderBottomWidth,10),R=parseInt(M.paddingBottom,10),F=L+I+T+R+D,z=Math.min(v.offsetHeight*5,F),B=window.getComputedStyle(m),q=parseInt(B.paddingTop,10),ie=parseInt(B.paddingBottom,10),ne=C.top+C.height/2-Ya,Ne=O-ne,fe=v.offsetHeight/2,X=v.offsetTop+fe,ae=L+I+X,G=F-ae;if(ae<=ne){const se=E.length>0&&v===E[E.length-1].ref.current;o.style.bottom="0px";const K=u.clientHeight-m.offsetTop-m.offsetHeight,Pe=Math.max(Ne,fe+(se?ie:0)+K+D),Te=ae+Pe;o.style.height=Te+"px"}else{const se=E.length>0&&v===E[0].ref.current;o.style.top="0px";const Pe=Math.max(ne,L+m.offsetTop+(se?q:0)+fe)+G;o.style.height=Pe+"px",m.scrollTop=ae-ne+m.offsetTop}o.style.margin=`${Ya}px 0`,o.style.minHeight=z+"px",o.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,o,u,m,v,x,i.dir,n]);Or(()=>b(),[b]);const[w,S]=_.useState();Or(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=_.useCallback(C=>{C&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return c.jsx(tie,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:c.jsx(We.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});mB.displayName=Jae;var eie="SelectPopperPosition",WS=_.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ya,...i}=t,s=Eb(r);return c.jsx(mA,{...s,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});WS.displayName=eie;var[tie,iN]=oh(cc,{}),HS="SelectViewport",gB=_.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=nl(HS,r),s=iN(HS,r),o=lt(e,i.onViewportChange),l=_.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(Nb.Slot,{scope:r,children:c.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ce(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=s;if(f!=null&&f.current&&h){const p=Math.abs(l.current-d.scrollTop);if(p>0){const g=window.innerHeight-Ya*2,m=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),x=Math.max(m,v);if(x<g){const y=x+p,b=Math.min(g,y),w=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});gB.displayName=HS;var vB="SelectGroup",[rie,nie]=oh(vB),aie=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=ci();return c.jsx(rie,{scope:r,id:a,children:c.jsx(We.div,{role:"group","aria-labelledby":a,...n,ref:e})})});aie.displayName=vB;var yB="SelectLabel",xB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=nie(yB,r);return c.jsx(We.div,{id:a.id,...n,ref:e})});xB.displayName=yB;var dy="SelectItem",[iie,bB]=oh(dy),wB=_.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=t,o=rl(dy,r),l=nl(dy,r),u=o.value===n,[d,h]=_.useState(i??""),[f,p]=_.useState(!1),g=lt(e,y=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,y,n,a)}),m=ci(),v=_.useRef("touch"),x=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(iie,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:_.useCallback(y=>{h(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(Nb.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:c.jsx(We.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:g,onFocus:Ce(s.onFocus,()=>p(!0)),onBlur:Ce(s.onBlur,()=>p(!1)),onClick:Ce(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Ce(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Ce(s.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:Ce(s.onPointerMove,y=>{var b;v.current=y.pointerType,a?(b=l.onItemLeave)==null||b.call(l):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(s.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Ce(s.onKeyDown,y=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&y.key===" "||(Yae.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});wB.displayName=dy;var mf="SelectItemText",_B=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,s=rl(mf,r),o=nl(mf,r),l=bB(mf,r),u=Gae(mf,r),[d,h]=_.useState(null),f=lt(e,x=>h(x),l.onItemTextChange,x=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,x,l.value,l.disabled)}),p=d==null?void 0:d.textContent,g=_.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Or(()=>(m(g),()=>v(g)),[m,v,g]),c.jsxs(c.Fragment,{children:[c.jsx(We.span,{id:l.textId,...i,ref:f}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?_c.createPortal(i.children,s.valueNode):null]})});_B.displayName=mf;var SB="SelectItemIndicator",jB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return bB(SB,r).isSelected?c.jsx(We.span,{"aria-hidden":!0,...n,ref:e}):null});jB.displayName=SB;var US="SelectScrollUpButton",CB=_.forwardRef((t,e)=>{const r=nl(US,t.__scopeSelect),n=iN(US,t.__scopeSelect),[a,i]=_.useState(!1),s=lt(e,n.onScrollButtonChange);return Or(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?c.jsx(AB,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});CB.displayName=US;var YS="SelectScrollDownButton",kB=_.forwardRef((t,e)=>{const r=nl(YS,t.__scopeSelect),n=iN(YS,t.__scopeSelect),[a,i]=_.useState(!1),s=lt(e,n.onScrollButtonChange);return Or(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?c.jsx(AB,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});kB.displayName=YS;var AB=_.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=nl("SelectScrollButton",r),s=_.useRef(null),o=Pb(r),l=_.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),Or(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(We.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Ce(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:Ce(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:Ce(a.onPointerLeave,()=>{l()})})}),sie="SelectSeparator",NB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(We.div,{"aria-hidden":!0,...n,ref:e})});NB.displayName=sie;var XS="SelectArrow",oie=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Eb(r),i=rl(XS,r),s=nl(XS,r);return i.open&&s.position==="popper"?c.jsx(gA,{...a,...n,ref:e}):null});oie.displayName=XS;function PB(t){return t===""||t===void 0}var EB=_.forwardRef((t,e)=>{const{value:r,...n}=t,a=_.useRef(null),i=lt(e,a),s=aB(r);return _.useEffect(()=>{const o=a.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==r&&d){const h=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(h)}},[s,r]),c.jsx(vA,{asChild:!0,children:c.jsx("select",{...n,ref:i,defaultValue:r})})});EB.displayName="BubbleSelect";function OB(t){const e=fr(t),r=_.useRef(""),n=_.useRef(0),a=_.useCallback(s=>{const o=r.current+s;e(o),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),i=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function TB(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=lie(t,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const l=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function lie(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var cie=iB,MB=oB,uie=cB,die=uB,hie=dB,RB=hB,fie=gB,IB=xB,DB=wB,pie=_B,mie=jB,LB=CB,$B=kB,FB=NB;const xn=cie,bn=uie,an=_.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(MB,{ref:n,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(die,{asChild:!0,children:c.jsx(bm,{className:"h-4 w-4 opacity-50"})})]}));an.displayName=MB.displayName;const zB=_.forwardRef(({className:t,...e},r)=>c.jsx(LB,{ref:r,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(lQ,{className:"h-4 w-4"})}));zB.displayName=LB.displayName;const BB=_.forwardRef(({className:t,...e},r)=>c.jsx($B,{ref:r,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(bm,{className:"h-4 w-4"})}));BB.displayName=$B.displayName;const sn=_.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>c.jsx(hie,{children:c.jsxs(RB,{ref:a,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(zB,{}),c.jsx(fie,{className:le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(BB,{})]})}));sn.displayName=RB.displayName;const gie=_.forwardRef(({className:t,...e},r)=>c.jsx(IB,{ref:r,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));gie.displayName=IB.displayName;const it=_.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(DB,{ref:n,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(mie,{children:c.jsx(kA,{className:"h-4 w-4"})})}),c.jsx(pie,{children:e})]}));it.displayName=DB.displayName;const vie=_.forwardRef(({className:t,...e},r)=>c.jsx(FB,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));vie.displayName=FB.displayName;const Nc=_.forwardRef(({className:t,...e},r)=>c.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Nc.displayName="Textarea";function WB({profile:t,onClose:e}){var l;const{updateProfile:r}=Ab(),[n,a]=_.useState({territory:(t==null?void 0:t.territory)||"",region:(t==null?void 0:t.region)||"",specialization:(t==null?void 0:t.specialization)||"",phone:(t==null?void 0:t.phone)||"",manager_level:(t==null?void 0:t.manager_level)||"junior",customer_segments:((l=t==null?void 0:t.customer_segments)==null?void 0:l.join(", "))||""}),[i,s]=_.useState(!1),o=async u=>{u.preventDefault(),s(!0);const d=await r({...n,customer_segments:n.customer_segments.split(",").map(h=>h.trim()).filter(h=>h)});s(!1),d&&e()};return c.jsx(Yr,{open:!0,onOpenChange:e,children:c.jsxs(Tr,{className:"max-w-md",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:t?"Editar Perfil Comercial":"Crear Perfil Comercial"})}),c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"territory",children:"Territorio"}),c.jsx(De,{id:"territory",value:n.territory,onChange:u=>a({...n,territory:u.target.value}),placeholder:"Ej: Norte, Sur, Centro",required:!0})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"region",children:"Región"}),c.jsx(De,{id:"region",value:n.region,onChange:u=>a({...n,region:u.target.value}),placeholder:"Ej: CDMX, Guadalajara",required:!0})]})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"specialization",children:"Especialización"}),c.jsx(De,{id:"specialization",value:n.specialization,onChange:u=>a({...n,specialization:u.target.value}),placeholder:"Ej: Retail, B2B, Exportación"})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"manager_level",children:"Nivel de Gestión"}),c.jsxs(xn,{value:n.manager_level,onValueChange:u=>a({...n,manager_level:u}),children:[c.jsx(an,{children:c.jsx(bn,{})}),c.jsxs(sn,{children:[c.jsx(it,{value:"junior",children:"Junior"}),c.jsx(it,{value:"senior",children:"Senior"}),c.jsx(it,{value:"director",children:"Director"})]})]})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"phone",children:"Teléfono"}),c.jsx(De,{id:"phone",value:n.phone,onChange:u=>a({...n,phone:u.target.value}),placeholder:"+52 55 1234 5678"})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"customer_segments",children:"Segmentos de Cliente"}),c.jsx(Nc,{id:"customer_segments",value:n.customer_segments,onChange:u=>a({...n,customer_segments:u.target.value}),placeholder:"Retail, Mayoreo, Institucional (separados por comas)",rows:2})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[c.jsx(de,{type:"button",variant:"outline",onClick:e,children:"Cancelar"}),c.jsx(de,{type:"submit",disabled:i,children:i?"Guardando...":"Guardar"})]})]})]})})}function HB({assignments:t,onClose:e}){const{addMarketIntelligence:r}=Ab(),[n,a]=_.useState({customer_id:"",product_id:"",location_id:"",intelligence_type:"competitive",impact_assessment:"neutral",confidence_level:"medium",time_horizon:"short_term",description:"",quantitative_impact:"",effective_from:"",effective_to:""}),[i,s]=_.useState(!1),o=async l=>{l.preventDefault(),s(!0);const u=await r({...n,quantitative_impact:n.quantitative_impact?parseFloat(n.quantitative_impact):null,effective_from:n.effective_from||null,effective_to:n.effective_to||null});s(!1),u&&e()};return c.jsx(Yr,{open:!0,onOpenChange:e,children:c.jsxs(Tr,{className:"max-w-md",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:"Agregar Inteligencia de Mercado"})}),c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"customer_id",children:"Cliente"}),c.jsxs(xn,{value:n.customer_id,onValueChange:l=>a({...n,customer_id:l}),children:[c.jsx(an,{children:c.jsx(bn,{placeholder:"Seleccionar cliente"})}),c.jsx(sn,{children:t.map(l=>c.jsx(it,{value:l.customer_id,children:l.customer_id},l.customer_id))})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"product_id",children:"Producto ID"}),c.jsx(De,{id:"product_id",value:n.product_id,onChange:l=>a({...n,product_id:l.target.value}),placeholder:"ID del producto"})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"location_id",children:"Ubicación ID"}),c.jsx(De,{id:"location_id",value:n.location_id,onChange:l=>a({...n,location_id:l.target.value}),placeholder:"ID de ubicación"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"intelligence_type",children:"Tipo"}),c.jsxs(xn,{value:n.intelligence_type,onValueChange:l=>a({...n,intelligence_type:l}),children:[c.jsx(an,{children:c.jsx(bn,{})}),c.jsxs(sn,{children:[c.jsx(it,{value:"competitive",children:"Competitivo"}),c.jsx(it,{value:"promotional",children:"Promocional"}),c.jsx(it,{value:"seasonal",children:"Estacional"}),c.jsx(it,{value:"economic",children:"Económico"}),c.jsx(it,{value:"regulatory",children:"Regulatorio"})]})]})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"impact_assessment",children:"Impacto"}),c.jsxs(xn,{value:n.impact_assessment,onValueChange:l=>a({...n,impact_assessment:l}),children:[c.jsx(an,{children:c.jsx(bn,{})}),c.jsxs(sn,{children:[c.jsx(it,{value:"positive",children:"Positivo"}),c.jsx(it,{value:"negative",children:"Negativo"}),c.jsx(it,{value:"neutral",children:"Neutral"})]})]})]})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"description",children:"Descripción"}),c.jsx(Nc,{id:"description",value:n.description,onChange:l=>a({...n,description:l.target.value}),placeholder:"Describe la inteligencia de mercado...",rows:3,required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[c.jsx(de,{type:"button",variant:"outline",onClick:e,children:"Cancelar"}),c.jsx(de,{type:"submit",disabled:i,children:i?"Guardando...":"Guardar"})]})]})]})})}const ln=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:le("w-full caption-bottom text-sm",t),...e})}));ln.displayName="Table";const cn=_.forwardRef(({className:t,...e},r)=>c.jsx("thead",{ref:r,className:le("[&_tr]:border-b",t),...e}));cn.displayName="TableHeader";const un=_.forwardRef(({className:t,...e},r)=>c.jsx("tbody",{ref:r,className:le("[&_tr:last-child]:border-0",t),...e}));un.displayName="TableBody";const yie=_.forwardRef(({className:t,...e},r)=>c.jsx("tfoot",{ref:r,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));yie.displayName="TableFooter";const Qe=_.forwardRef(({className:t,...e},r)=>c.jsx("tr",{ref:r,className:le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Qe.displayName="TableRow";const je=_.forwardRef(({className:t,...e},r)=>c.jsx("th",{ref:r,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));je.displayName="TableHead";const he=_.forwardRef(({className:t,...e},r)=>c.jsx("td",{ref:r,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));he.displayName="TableCell";const xie=_.forwardRef(({className:t,...e},r)=>c.jsx("caption",{ref:r,className:le("mt-4 text-sm text-muted-foreground",t),...e}));xie.displayName="TableCaption";const bie=({data:t,comments:e})=>{const{updateForecastCollaboration:r}=ih();_.useState({});const[n,a]=_.useState({}),[i,s]=_.useState(null),[o,l]=_.useState(null),u=(v,x)=>{const y=g(v);l({date:v,commercial_input:x,commercial_confidence:y.commercial_confidence||"",commercial_notes:y.commercial_notes||"",commercial_reviewed_by:y.commercial_reviewed_by||"",commercial_reviewed_at:y.commercial_reviewed_at||"",market_intelligence:y.market_intelligence||"",promotional_activity:y.promotional_activity||"",competitive_impact:y.competitive_impact||""}),s(v)},d=async()=>{if(!o)return;const{date:v,...x}=o,y=g(v);y.id&&await r(y.id,{...x,commercial_input:parseFloat(x.commercial_input)||0,collaboration_status:"reviewed"})&&(a(w=>({...w,[`input-${v}`]:parseFloat(x.commercial_input)||0})),s(null),l(null))},h=()=>{s(null),l(null)},f=()=>{const v=new Date,x=new Date(v.getFullYear(),v.getMonth()-2,1),y=new Date(v.getFullYear(),v.getMonth()+5,31);return t.filter(b=>{const w=new Date(b.postdate);return w>=x&&w<=y}).map(b=>b.postdate)},p=[...new Set(f())].sort(),g=v=>t.find(x=>x.postdate===v)||{},m=v=>new Date(v).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});return!t||t.length===0?c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsx("p",{className:"text-center text-muted-foreground",children:"No hay datos disponibles para mostrar en la tabla pivote."})})}):c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Tabla Pivote - Colaboración de Pronósticos"})}),c.jsx(te,{children:c.jsx("div",{className:"relative overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{className:"w-48 font-semibold sticky left-0 bg-slate-100 dark:bg-slate-800 z-10 border-r",children:"Métrica"}),p.map(v=>c.jsx(je,{className:"text-center min-w-32",children:m(v)},v))]})}),c.jsxs(un,{children:[c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium bg-slate-100 dark:bg-slate-800 sticky left-0 z-10 border-r",children:"Pronóstico IA"}),p.map(v=>{const x=g(v);return c.jsx(he,{className:"text-center",children:x.forecast||"-"},v)})]}),c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium bg-slate-100 dark:bg-slate-800 sticky left-0 z-10 border-r",children:"Plan Comercial"}),p.map(v=>{const x=g(v);return c.jsx(he,{className:"text-center",children:x.sales_plan||"-"},v)})]}),c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium bg-slate-100 dark:bg-slate-800 sticky left-0 z-10 border-r",children:"Mi Input"}),p.map(v=>{const x=g(v),y=n[`input-${v}`]!==void 0?n[`input-${v}`]:x.commercial_input;return c.jsx(he,{className:"text-center p-1 bg-orange-100",children:c.jsx("div",{className:"cursor-pointer hover:bg-muted/50 p-1 rounded",onClick:()=>u(v,(y==null?void 0:y.toString())||""),children:y||"-"})},v)})]})]})]})})}),i&&o&&c.jsx(Yr,{open:!0,onOpenChange:()=>s(null),children:c.jsxs(Tr,{className:"max-w-lg",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:"Editar Mi Input"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Input Comercial"}),c.jsx(De,{value:o.commercial_input||"",onChange:v=>l(x=>x&&{...x,commercial_input:v.target.value}),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confianza Comercial"}),c.jsxs("select",{value:o.commercial_confidence||"",onChange:v=>l(x=>x&&{...x,commercial_confidence:v.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[c.jsx("option",{value:"",children:"Seleccionar"}),c.jsx("option",{value:"low",children:"Baja"}),c.jsx("option",{value:"medium",children:"Media"}),c.jsx("option",{value:"high",children:"Alta"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notas Comerciales"}),c.jsx(Nc,{value:o.commercial_notes||"",onChange:v=>l(x=>x&&{...x,commercial_notes:v.target.value}),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Inteligencia de Mercado"}),c.jsx(De,{value:o.market_intelligence||"",onChange:v=>l(x=>x&&{...x,market_intelligence:v.target.value}),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Actividad Promocional"}),c.jsx(De,{value:o.promotional_activity||"",onChange:v=>l(x=>x&&{...x,promotional_activity:v.target.value}),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Impacto Competitivo"}),c.jsx(De,{value:o.competitive_impact||"",onChange:v=>l(x=>x&&{...x,competitive_impact:v.target.value}),className:"mt-1"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(de,{variant:"outline",onClick:h,children:"Cancelar"}),c.jsx(de,{onClick:d,children:"Guardar"})]})]})]})})]})};function wie({data:t,comments:e}){const{updateForecastCollaboration:r,addComment:n}=ih();_.useState(null),_.useState({});const[a,i]=_.useState(null),[s,o]=_.useState(""),l=async d=>{if(!s.trim())return;await n(d,s)&&o("")},u=d=>e.filter(h=>h.forecast_data_id===d);return t.length===0?c.jsx(ee,{children:c.jsxs(te,{className:"p-8 text-center",children:[c.jsx(AA,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sin pronósticos asignados"}),c.jsx("p",{className:"text-muted-foreground",children:"No hay pronósticos pendientes de revisión en este momento."})]})}):c.jsxs(c.Fragment,{children:[c.jsx(bie,{data:t,comments:e}),a&&c.jsx(Yr,{open:!0,onOpenChange:()=>i(null),children:c.jsxs(Tr,{className:"max-w-2xl",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:"Comentarios de Colaboración"})}),c.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:u(a).length===0?c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Sin comentarios aún"}):u(a).map(d=>c.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx(_e,{variant:"outline",children:d.comment_type}),c.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(d.created_at).toLocaleString()})]}),c.jsx("p",{className:"text-sm",children:d.comment_text})]},d.id))}),c.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[c.jsx(Nc,{value:s,onChange:d=>o(d.target.value),placeholder:"Agregar comentario...",rows:3}),c.jsx("div",{className:"flex justify-end",children:c.jsx(de,{onClick:()=>l(a),disabled:!s.trim(),children:"Agregar Comentario"})})]})]})})]})}function Ob({isOpen:t,onClose:e,onSelect:r}){const[n,a]=_.useState([]),[i,s]=_.useState([]),[o,l]=_.useState(""),[u,d]=_.useState(!1),[h,f]=_.useState(new Set);_.useEffect(()=>{t&&p()},[t]);const p=async()=>{try{d(!0);const{data:w,error:S}=await ue.from("products").select("product_id, product_name, category_name, subcategory_name, category_id, subcategory_id").order("product_name");if(S)throw S;const k=w||[];a(k),g(k)}catch(w){console.error("Error fetching products:",w)}finally{d(!1)}},g=w=>{const S=[],k=new Map,C=new Map;w.forEach(A=>{const N=A.category_id||A.category_name||"Sin Categoría";let P=k.get(N);P||(P={id:N,name:A.category_name||"Sin Categoría",type:"category",children:[]},k.set(N,P),S.push(P));const E=`${N}-${A.subcategory_id||A.subcategory_name||"Sin Subcategoría"}`;let O=C.get(E);O||(O={id:E,name:A.subcategory_name||"Sin Subcategoría",type:"subcategory",children:[]},C.set(E,O),P.children.push(O));const T={id:A.product_id,name:A.product_name||A.product_id,type:"product",product_id:A.product_id};O.children.push(T)}),s(S)},m=w=>{const S=new Set(h);S.has(w)?S.delete(w):S.add(w),f(S)},v=w=>{r(w),e(),l("")},x=(w,S)=>S?w.reduce((k,C)=>{var A;if(C.type==="product"){if(C.name.toLowerCase().includes(S.toLowerCase())||(A=C.product_id)!=null&&A.toLowerCase().includes(S.toLowerCase()))return[...k,C]}else if(C.children){const N=x(C.children,S);if(N.length>0)return[...k,{...C,children:N}];if(C.name.toLowerCase().includes(S.toLowerCase()))return[...k,C]}return k},[]):w,y=(w,S=0)=>{const k=h.has(w.id),C=w.children&&w.children.length>0,A=S*20;return c.jsxs("div",{children:[c.jsxs("div",{className:`flex items-center p-2 hover:bg-gray-50 cursor-pointer ${w.type==="product"?"text-sm":"font-medium"}`,style:{paddingLeft:`${A+8}px`},onClick:()=>{w.type==="product"&&w.product_id?v(w.product_id):C&&m(w.id)},children:[C&&c.jsx("div",{className:"mr-2",children:k?c.jsx(bm,{className:"h-4 w-4"}):c.jsx(eh,{className:"h-4 w-4"})}),w.type==="product"&&c.jsx(Zt,{className:"h-4 w-4 mr-2 text-blue-500"}),c.jsx("span",{className:"flex-1",children:w.name}),w.type==="category"&&c.jsx(_e,{variant:"outline",className:"ml-2 text-xs",children:"Categoría"}),w.type==="subcategory"&&c.jsx(_e,{variant:"outline",className:"ml-2 text-xs",children:"Subcategoría"}),w.type==="product"&&c.jsx(_e,{variant:"outline",className:"ml-2 text-xs",children:w.product_id})]}),C&&k&&c.jsx("div",{children:w.children.map(N=>y(N,S+1))})]},w.id)},b=x(i,o);return c.jsx(Yr,{open:t,onOpenChange:e,children:c.jsxs(Tr,{className:"max-w-2xl max-h-[80vh]",children:[c.jsx(Mr,{children:c.jsxs(Rr,{className:"flex items-center gap-2",children:[c.jsx(Zt,{className:"h-5 w-5"}),"Seleccionar Producto"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(De,{type:"text",placeholder:"Buscar por nombre, ID o categoría...",value:o,onChange:w=>l(w.target.value),className:"pl-10"})]}),c.jsx(kc,{className:"h-96 border rounded-md",children:u?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cargando productos..."})}):b.length===0?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"text-sm text-muted-foreground",children:o?"No se encontraron productos":"No hay productos disponibles"})}):c.jsx("div",{className:"p-2",children:b.map(w=>y(w))})}),c.jsx("div",{className:"flex justify-end gap-2",children:c.jsx(de,{variant:"outline",onClick:e,children:"Cancelar"})})]})]})})}function Tb({isOpen:t,onClose:e,onSelect:r}){const[n,a]=_.useState([]),[i,s]=_.useState([]),[o,l]=_.useState(""),[u,d]=_.useState(!1),[h,f]=_.useState(new Set);_.useEffect(()=>{t&&p()},[t]);const p=async()=>{try{d(!0);const{data:w,error:S}=await ue.from("locations").select("location_id, location_name, level_1, level_2, level_3, level_4, type").order("location_name");if(S)throw S;const k=w||[];a(k),g(k)}catch(w){console.error("Error fetching locations:",w)}finally{d(!1)}},g=w=>{const S=[],k=new Map;w.forEach(C=>{const A=C.level_1||"Sin Localidad";let N=k.get(A);N||(N={id:A,name:C.level_1||"Sin Localidad",level:"level_1",type:"category",children:[]},k.set(A,N),S.push(N));const P={id:C.location_id,name:C.location_name||C.location_id,level:"location",type:"location",location_id:C.location_id};N.children.push(P)}),s(S)},m=w=>{const S=new Set(h);S.has(w)?S.delete(w):S.add(w),f(S)},v=w=>{r(w),e(),l("")},x=(w,S)=>S?w.reduce((k,C)=>{var A;if(C.type==="location"){if(C.name.toLowerCase().includes(S.toLowerCase())||(A=C.location_id)!=null&&A.toLowerCase().includes(S.toLowerCase()))return[...k,C]}else if(C.children){const N=x(C.children,S);if(N.length>0)return[...k,{...C,children:N}];if(C.name.toLowerCase().includes(S.toLowerCase()))return[...k,C]}return k},[]):w,y=(w,S=0)=>{const k=h.has(w.id),C=w.children&&w.children.length>0,A=S*20;return c.jsxs("div",{children:[c.jsxs("div",{className:`flex items-center p-2 hover:bg-gray-50 cursor-pointer ${w.type==="location"?"text-sm":"font-medium"}`,style:{paddingLeft:`${A+8}px`},onClick:()=>{w.type==="location"&&w.location_id?v(w.location_id):C&&m(w.id)},children:[C&&c.jsx("div",{className:"mr-2",children:k?c.jsx(bm,{className:"h-4 w-4"}):c.jsx(eh,{className:"h-4 w-4"})}),w.type==="location"&&c.jsx(Zt,{className:"h-4 w-4 mr-2 text-blue-500"}),c.jsx("span",{className:"flex-1",children:w.name}),w.type==="category"&&c.jsx(_e,{variant:"outline",className:"ml-2 text-xs",children:"Compañía"}),w.type==="subcategory"&&c.jsx(_e,{variant:"outline",className:"ml-2 text-xs",children:"Subcategoría"}),w.type==="location"&&c.jsx(_e,{variant:"outline",className:"ml-2 text-xs",children:w.location_id})]}),C&&k&&c.jsx("div",{children:w.children.map(N=>y(N,S+1))})]},w.id)},b=x(i,o);return c.jsx(Yr,{open:t,onOpenChange:e,children:c.jsxs(Tr,{className:"max-w-2xl max-h-[80vh]",children:[c.jsx(Mr,{children:c.jsxs(Rr,{className:"flex items-center gap-2",children:[c.jsx(Zt,{className:"h-5 w-5"}),"Seleccionar Ubicación"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(De,{type:"text",placeholder:"Buscar por nombre, ID o categoría...",value:o,onChange:w=>l(w.target.value),className:"pl-10"})]}),c.jsx(kc,{className:"h-96 border rounded-md",children:u?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cargando ubicaciones..."})}):b.length===0?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"text-sm text-muted-foreground",children:o?"No se encontraron ubicaciones":"No hay ubicaciones disponibles"})}):c.jsx("div",{className:"p-2",children:b.map(w=>y(w))})}),c.jsx("div",{className:"flex justify-end gap-2",children:c.jsx(de,{onClick:e,children:"Cancelar"})})]})]})})}function Mb({isOpen:t,onClose:e,onSelect:r,selectedCustomerId:n}){const[a,i]=_.useState([]),[s,o]=_.useState(""),[l,u]=_.useState(!0);_.useEffect(()=>{t&&d()},[t,s]);const d=async()=>{u(!0);try{console.log("Fetching customers...");let p=ue.from("customers").select("*").order("customer_name");s&&(p=p.or(`customer_name.ilike.%${s}%,customer_id.ilike.%${s}%`));const{data:g,error:m}=await p;if(m)throw m;console.log("Customers data:",g);const v=(g||[]).map(x=>{var y;return{id:x.customer_id||((y=x.id)==null?void 0:y.toString()),customer_id:x.customer_id,customer_name:x.customer_name||"Sin nombre",level_1:x.level_1,level_1_name:x.level_1_name,level_2:x.level_2,level_2_name:x.level_2_name}});i(v)}catch(p){console.error("Error fetching customers:",p),i([])}finally{u(!1)}},h=p=>{r(p),e()},f=p=>{const g=n===p.id;return c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:le("flex items-center py-3 px-3 cursor-pointer hover:bg-gray-100 rounded transition-colors border-b border-gray-100",g&&"bg-blue-100 text-blue-800"),onClick:()=>h(p.id),children:[c.jsx("div",{className:"mr-3",children:c.jsx("div",{className:"h-4 w-4 flex items-center justify-center",children:c.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})})}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsxs("div",{className:le("text-sm font-medium truncate",g&&"font-semibold"),children:[p.customer_id," - ",p.customer_name]})})]})},p.id)};return c.jsx(Yr,{open:t,onOpenChange:e,children:c.jsxs(Tr,{className:"max-w-2xl max-h-[80vh]",children:[c.jsx(Mr,{children:c.jsxs(Rr,{className:"flex items-center",children:[c.jsx(Er,{className:"w-5 h-5 mr-2 text-blue-500"}),"Seleccionar Cliente"]})}),c.jsxs("div",{className:"flex flex-col h-[500px]",children:[c.jsx("div",{className:"mb-4 flex-shrink-0",children:c.jsxs("div",{className:"relative",children:[c.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(De,{type:"text",placeholder:"Buscar clientes por nombre, ID o nivel...",value:s,onChange:p=>o(p.target.value),className:"pl-10"})]})}),c.jsx(kc,{className:"flex-1",children:l?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),"Cargando clientes..."]}):a.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Er,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s?"No se encontraron clientes":"No hay clientes disponibles"]}):c.jsx("div",{className:"space-y-1",children:a.map(p=>f(p))})}),c.jsx("div",{className:"flex justify-end pt-4 border-t",children:c.jsx(de,{variant:"outline",onClick:e,children:"Cancelar"})})]})]})})}function _ie(){const[t,e]=_.useState(!1),[r,n]=_.useState(!1),[a,i]=_.useState(""),[s,o]=_.useState(""),[l,u]=_.useState(""),[d,h]=_.useState(!1),[f,p]=_.useState(!1),[g,m]=_.useState(!1),{profile:v,assignments:x,marketIntelligence:y,loading:b}=Ab(),{forecastData:w,comments:S,loading:k}=ih(a,s,l);w.filter(T=>T.collaboration_status==="pending_review").length;const C=w.filter(T=>T.collaboration_status==="reviewed").length,A=S.length;y.filter(T=>T.status==="submitted").length;const N=T=>{i(T)},P=T=>{o(T)},E=T=>{u(T)},O=()=>{i(""),o(""),u("")};return b||k?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Er,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando dashboard comercial..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard Comercial"}),c.jsx("p",{className:"text-muted-foreground",children:"Colaboración en pronósticos e inteligencia de mercado"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(de,{onClick:()=>e(!0),variant:"outline",children:[c.jsx(Er,{className:"h-4 w-4 mr-2"}),"Perfil"]}),c.jsxs(de,{onClick:()=>n(!0),children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Inteligencia de Mercado"]})]})]}),!v,c.jsxs(ah,{defaultValue:"forecasts",className:"w-full",children:[c.jsxs(Ac,{className:"grid w-full grid-cols-4",children:[c.jsx(Rt,{value:"forecasts",children:"Colaboración en Pronósticos"}),c.jsx(Rt,{value:"customers",children:"Mis Clientes"}),c.jsx(Rt,{value:"intelligence",children:"Inteligencia de Mercado"}),c.jsx(Rt,{value:"performance",children:"Rendimiento"})]}),c.jsxs(Nt,{value:"forecasts",className:"space-y-4 mt-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Filtros"})}),c.jsx(te,{children:c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs(de,{variant:"outline",onClick:()=>h(!0),className:"flex items-center gap-2",children:[c.jsx(Zt,{className:"h-4 w-4"}),a?`Producto: ${a}`:"Seleccionar Producto"]}),c.jsxs(de,{variant:"outline",onClick:()=>p(!0),className:"flex items-center gap-2",children:[c.jsx(wm,{className:"h-4 w-4"}),s?`Ubicación: ${s}`:"Seleccionar Ubicación"]}),c.jsxs(de,{variant:"outline",onClick:()=>m(!0),className:"flex items-center gap-2",children:[c.jsx(q4,{className:"h-4 w-4"}),l?`Cliente: ${l}`:"Seleccionar Cliente"]}),c.jsxs(de,{variant:"outline",onClick:O,className:"flex items-center gap-2",children:[c.jsx(Na,{className:"h-4 w-4"}),"Limpiar Filtros"]})]})})]}),c.jsx(wie,{data:w,comments:S})]}),c.jsx(Nt,{value:"customers",className:"space-y-4 mt-6",children:c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Clientes Asignados"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona tus cuentas clave y territorios"})]}),c.jsx(te,{children:x.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Er,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sin asignaciones"}),c.jsx("p",{className:"text-muted-foreground",children:"Contacta al administrador para configurar tus clientes asignados."})]}):c.jsx("div",{className:"space-y-3",children:x.map(T=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:T.customer_id}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Desde: ",new Date(T.start_date).toLocaleDateString()]})]}),c.jsx(_e,{variant:T.assignment_type==="primary"?"default":"secondary",children:T.assignment_type})]},T.id))})})]})}),c.jsx(Nt,{value:"intelligence",className:"space-y-4 mt-6",children:c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Inteligencia de Mercado"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Insights y análisis de mercado compartidos"})]}),c.jsx(te,{children:y.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Aa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sin inteligencia de mercado"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Comparte insights para mejorar la precisión de los pronósticos."}),c.jsxs(de,{onClick:()=>n(!0),children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Agregar Insight"]})]}):c.jsx("div",{className:"space-y-3",children:y.map(T=>c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_e,{variant:"outline",children:T.intelligence_type}),c.jsx(_e,{variant:T.impact_assessment==="positive"?"default":T.impact_assessment==="negative"?"destructive":"secondary",children:T.impact_assessment})]}),c.jsx(_e,{variant:"outline",children:T.status})]}),c.jsxs("h4",{className:"font-medium mb-1",children:["Cliente: ",T.customer_id]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:T.description}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Horizonte: ",T.time_horizon," | Confianza: ",T.confidence_level]})]},T.id))})})]})}),c.jsx(Nt,{value:"performance",className:"space-y-4 mt-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Colaboración Este Mes"})}),c.jsx(te,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Revisiones Completadas"}),c.jsx("span",{className:"font-semibold",children:C})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Comentarios Agregados"}),c.jsx("span",{className:"font-semibold",children:A})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Inteligencia Compartida"}),c.jsx("span",{className:"font-semibold",children:y.length})]})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Estado de Territorio"})}),c.jsx(te,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Territorio"}),c.jsx("span",{className:"font-semibold",children:(v==null?void 0:v.territory)||"No definido"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Región"}),c.jsx("span",{className:"font-semibold",children:(v==null?void 0:v.region)||"No definida"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Especialización"}),c.jsx("span",{className:"font-semibold",children:(v==null?void 0:v.specialization)||"General"})]})]})})]})]})})]}),t&&c.jsx(WB,{profile:v,onClose:()=>e(!1)}),r&&c.jsx(HB,{assignments:x,onClose:()=>n(!1)}),c.jsx(Ob,{isOpen:d,onClose:()=>h(!1),onSelect:T=>{N(T),h(!1)}}),c.jsx(Tb,{isOpen:f,onClose:()=>p(!1),onSelect:T=>{P(T),p(!1)}}),c.jsx(Mb,{isOpen:g,onClose:()=>m(!1),onSelect:T=>{E(T),m(!1)},selectedCustomerId:l})]})}function Sie(){return c.jsx(_ie,{})}const jie=()=>(xm(),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"}));function Cie({selectedProductId:t,selectedLocationId:e,selectedCustomerId:r,onDataUpdate:n}){const[a,i]=_.useState([]),[s,o]=_.useState(!1),[l,u]=_.useState({}),[d,h]=_.useState({});_.useEffect(()=>{t?f():i([])},[t,e,r]),_.useEffect(()=>{n&&n(a)},[a,n]);const f=async()=>{try{o(!0),await p()}catch(N){console.error("Error fetching forecast data:",N)}finally{o(!1)}},p=async()=>{try{let N=ue.from("forecast_with_fitted_history").select("product_id,location_id,customer_id,postdate,forecast,actual,sales_plan,demand_planner,forecast_ly,upper_bound,lower_bound,commercial_input,fitted_history").eq("product_id",t).order("postdate");e&&(N=N.eq("location_id",e)),r&&(N=N.eq("customer_id",r));const{data:P,error:E}=await N;if(E){console.error("Error fetching forecast data for manual aggregation:",E);return}const O=new Map;(P||[]).forEach(M=>{const L=M.postdate;O.has(L)||O.set(L,{postdate:L,forecast:0,actual:0,sales_plan:0,demand_planner:0,forecast_ly:0,upper_bound:0,lower_bound:0,commercial_input:0,fitted_history:0});const I=O.get(L);I.forecast=(I.forecast||0)+(M.forecast||0),I.actual=(I.actual||0)+(M.actual||0),I.sales_plan=(I.sales_plan||0)+(M.sales_plan||0),I.demand_planner=(I.demand_planner||0)+(M.demand_planner||0),I.forecast_ly=(I.forecast_ly||0)+(M.forecast_ly||0),I.commercial_input=(I.commercial_input||0)+(M.commercial_input||0),I.fitted_history=(I.fitted_history||0)+(M.fitted_history||0)});const T=Array.from(O.values()).sort((M,L)=>new Date(M.postdate).getTime()-new Date(L.postdate).getTime());console.log("Aggregated forecast data:",T),i(T)}catch(N){console.error("Error in manual aggregation:",N)}},g=async(N,P)=>{if(!r||P!==""&&!/^\d*\.?\d*$/.test(P))return;const E=P===""?null:parseFloat(P),O=`${N}`;u(T=>({...T,[O]:E}))},m=async N=>{if(!r||!t)return;const P=`${N}`,E=l[P];if(E!==void 0){h(O=>({...O,[P]:!0}));try{let O=ue.from("forecast_data").update({demand_planner:E}).eq("postdate",N).eq("product_id",t).eq("customer_id",r);e&&(O=O.eq("location_id",e));const{error:T}=await O;if(T)throw T;i(M=>M.map(L=>L.postdate===N?{...L,demand_planner:E}:L)),u(M=>{const L={...M};return delete L[P],L}),ve.success("Valor guardado exitosamente")}catch(O){console.error("Error saving demand planner value:",O),ve.error("Error al guardar el valor")}finally{h(O=>({...O,[P]:!1}))}}},v=(N,P)=>{N.key==="Enter"&&(m(P),N.currentTarget.blur())},x=N=>{const P=`${N}`;l.hasOwnProperty(P)&&m(N)},y=(N,P)=>{const E=`${N}`;return l.hasOwnProperty(E)?l[E]:P},{tableData:b,uniqueDates:w}=_.useMemo(()=>{if(!a.length)return{tableData:[],uniqueDates:[]};const N=[...new Set(a.map(O=>O.postdate))].sort();return{tableData:[{series:"Actual",type:"actual"},{series:"Forecast",type:"forecast"},{series:"Objetivo de ventas",type:"sales_plan"},{series:"Demand Planner",type:"demand_planner"},{series:"Forecast LY",type:"forecast_ly"},{series:"Plan Comercial",type:"commercial_input"},{series:"Historia ajustada",type:"fitted_history"}].map(O=>{const T={...O};return N.forEach(M=>{const L=a.find(I=>I.postdate===M);L?T[M]=L[O.type]:T[M]=null}),T}),uniqueDates:N}},[a]),S=N=>N==null?"-":new Intl.NumberFormat("en-US").format(N),k=()=>{if(!a.length){ve.error("No hay datos para exportar");return}const P=[["Serie",...w].join(",")];b.forEach(L=>{const I=[L.series,...w.map(D=>{const R=L[D];return R!=null?R.toString():""})];P.push(I.join(","))});const E=P.join(`
`),O=new Blob([E],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),M=URL.createObjectURL(O);T.setAttribute("href",M),T.setAttribute("download",`datos_pronostico_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T),ve.success("Archivo CSV descargado exitosamente")},C=()=>{const N={};return w.forEach(P=>{const E=new Date(P).getFullYear().toString();N[E]||(N[E]=[]),N[E].push(P)}),N};if(!t)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-medium text-muted-foreground",children:"Selecciona producto para ver los datos"}),c.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"El producto es obligatorio para cargar la información"})]})});if(s)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-medium",children:"Cargando datos de pronóstico..."}),c.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Filtros: Producto ",t,e&&`, Ubicación ${e}`,r&&`, Proveedor ${r}`]})]})});if(!a.length)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-medium text-muted-foreground",children:"No se encontraron datos de pronóstico"}),c.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Filtros aplicados: Producto ",t,e&&`, Ubicación ${e}`,r&&`, Proveedor ${r}`]})]})});const A=C();return c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"mb-4 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Datos agregados por fecha - Mostrando totales por postdate",e&&` para ubicación ${e}`,r?` filtrado por proveedor ${r}`:" (todos los proveedores)"]}),!r&&c.jsx("div",{className:"text-sm text-orange-600 mt-1",children:"⚠️ Selecciona un proveedor para editar los valores del Demand Planner"}),r&&c.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"💡 Presiona Enter o haz clic fuera del campo para guardar los cambios"})]}),c.jsxs(de,{variant:"outline",size:"sm",onClick:k,className:"flex items-center gap-2",children:[c.jsx(J4,{className:"h-4 w-4"}),"Descargar CSV"]})]}),c.jsxs(kc,{className:"w-full",children:[c.jsx("div",{className:"relative",children:c.jsxs("table",{className:"w-full min-w-fit border-collapse border",children:[c.jsxs("thead",{children:[c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left py-2 px-3 bg-gray-50 font-medium min-w-[168px] sticky left-0 z-10 border-r",children:"Series"}),Object.entries(A).map(([N,P])=>c.jsx("th",{className:"text-center py-2 px-3 bg-gray-50 font-medium border-r",colSpan:P.length,children:N},N))]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left py-2 px-3 bg-gray-50 font-medium sticky left-0 z-10 border-r"}),w.map(N=>c.jsx("th",{className:"text-center py-1 px-3 bg-gray-50 text-xs min-w-28 border-r",children:N},N))]})]}),c.jsx("tbody",{children:b.map((N,P)=>c.jsxs("tr",{className:`border-b hover:bg-muted/50 ${P===0?"bg-blue-50":P===3?"bg-orange-50":P%2===0?"bg-blue-50":P===5?"bg-green-50":"bg-white"}`,children:[c.jsx("td",{className:"font-medium bg-gray-50 sticky left-0 z-10 whitespace-nowrap border-r",children:N.series}),w.map(E=>{const O=`${E}`,T=d[O],M=P===6&&b[0]&&N[E]!==b[0][E];return c.jsx("td",{className:`py-2 px-4 text-right text-sm min-w-28 border-r ${M?"bg-red-200":""}`,children:N.series==="Demand Planner"?r?c.jsxs("div",{className:"relative",children:[c.jsx(De,{type:"text",value:y(E,N[E])||"",onChange:L=>g(E,L.target.value),onKeyPress:L=>v(L,E),onBlur:()=>x(E),className:"h-8 w-full text-right text-sm border-none bg-transparent p-2 focus:bg-white focus:border-input",placeholder:"0",title:"Presiona Enter o haz clic fuera para guardar",disabled:T}),T&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50",children:c.jsx("div",{className:"w-3 h-3 border border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):c.jsx("div",{className:"h-8 w-full text-right text-sm p-2 text-gray-400 bg-gray-50 rounded",children:S(N[E])}):S(N[E])},E)})]},N.series))})]})}),c.jsx(rN,{orientation:"horizontal"})]})]})}var UB={};/*!
 * ApexCharts v4.7.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function YB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qB(n.key),n)}}function Ae(t,e,r){return e&&$O(t.prototype,e),r&&$O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gf(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=sN(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function Em(t){var e=XB();return function(){var r,n=fy(t);if(e){var a=fy(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(i,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YB(i)}(this,r)}}function hy(t,e,r){return(e=qB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fy(t)}function Om(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qS(t,e)}function XB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XB=function(){return!!t})()}function FO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(r),!0).forEach(function(n){hy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qS(t,e){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},qS(t,e)}function VB(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var i,s,o,l,u=[],d=!0,h=!1;try{if(o=(a=a.call(r)).next,n===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=o.call(a)).done)&&(u.push(i.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}(t,e)||sN(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wr(t){return function(e){if(Array.isArray(e))return VS(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||sN(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qB(t){var e=function(r,n){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var i=a.call(r,n||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return typeof e=="symbol"?e:e+""}function ld(t){return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function sN(t,e){if(t){if(typeof t=="string")return VS(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VS(t,e):void 0}}var U=function(){function t(){ke(this,t)}return Ae(t,[{key:"shadeRGBColor",value:function(e,r){var n=r.split(","),a=e<0?0:255,i=e<0?-1*e:e,s=parseInt(n[0].slice(4),10),o=parseInt(n[1],10),l=parseInt(n[2],10);return"rgb("+(Math.round((a-s)*i)+s)+","+(Math.round((a-o)*i)+o)+","+(Math.round((a-l)*i)+l)+")"}},{key:"shadeHexColor",value:function(e,r){var n=parseInt(r.slice(1),16),a=e<0?0:255,i=e<0?-1*e:e,s=n>>16,o=n>>8&255,l=255&n;return"#"+(16777216+65536*(Math.round((a-s)*i)+s)+256*(Math.round((a-o)*i)+o)+(Math.round((a-l)*i)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,r){return t.isColorHex(r)?this.shadeHexColor(e,r):this.shadeRGBColor(e,r)}}],[{key:"bind",value:function(e,r){return function(){return e.apply(r,arguments)}}},{key:"isObject",value:function(e){return e&&ld(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,r){return Object.prototype.toString.call(r)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var r,n=[];for(r=0;r<e.length;r++)n[r]=e[r];return n}},{key:"extend",value:function(e,r){var n=this;typeof Object.assign!="function"&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(i),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])}return s});var a=Object.assign({},e);return this.isObject(e)&&this.isObject(r)&&Object.keys(r).forEach(function(i){n.isObject(r[i])&&i in e?a[i]=n.extend(e[i],r[i]):Object.assign(a,hy({},i,r[i]))}),a}},{key:"extendArray",value:function(e,r){var n=[];return e.map(function(a){n.push(t.extend(r,a))}),e=n}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||ld(e)!=="object")return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){r=[],n.set(e,r);for(var a=0;a<e.length;a++)r[a]=this.clone(e[a],n)}else if(e instanceof Date)r=new Date(e.getTime());else for(var i in r={},n.set(e,r),e)e.hasOwnProperty(i)&&(r[i]=this.clone(e[i],n));return r}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,r){return Math.pow(r,Math.floor(Math.log(e)/Math.log(r)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(r))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var r=getComputedStyle(e,null),n=e.clientHeight,a=e.clientWidth;return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),[a-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var r=e.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:e.clientWidth,height:e.clientHeight,x:r.left,y:r.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(r,n){return Array.isArray(n)&&(n=n.reduce(function(a,i){return a.length>i.length?a:i})),r.length>n.length?r:n},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var a=0;a<n.length;a++)n[a]=parseInt(n[a].length===1?n[a]+n[a]:n[a],16);return r!==void 0&&n.push(r),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,r){for(var n=[],a=2*Math.PI/r,i=0;i<r;i++){var s={};s.x=e*Math.sin(i*a),s.y=-e*Math.cos(i*a),n.push(s)}return n}},{key:"polarToCartesian",value:function(e,r,n,a){var i=(a-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:r+n*Math.sin(i)}}},{key:"escapeString",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=e.toString().slice();return n=n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,r)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,r,n){if(n>=e.length)for(var a=n-e.length+1;a--;)e.push(void 0);return e.splice(n,0,e.splice(r,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,r){for(;(e=e.parentElement)&&!e.classList.contains(r););return e}},{key:"setELstyles",value:function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e.style.key=r[n])}},{key:"preciseAddition",value:function(e,r){var n=(String(e).split(".")[1]||"").length,a=(String(r).split(".")[1]||"").length,i=Math.pow(10,Math.max(n,a));return(Math.round(e*i)+Math.round(r*i))/i}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}},{key:"getGCD",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,r))));for(e=Math.round(Math.abs(e)*a),r=Math.round(Math.abs(r)*a);r;){var i=r;r=e%r,e=i}return e/a}},{key:"getPrimeFactors",value:function(e){for(var r=[],n=2;e>=2;)e%n==0?(r.push(n),e/=n):n++;return r}},{key:"mod",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,r))));return(e=Math.round(Math.abs(e)*a))%(r=Math.round(Math.abs(r)*a))/a}}]),t}(),lh=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"animateLine",value:function(e,r,n,a){e.attr(r).animate(a).attr(n)}},{key:"animateMarker",value:function(e,r,n,a){e.attr({opacity:0}).animate(r).attr({opacity:1}).after(function(){a()})}},{key:"animateRect",value:function(e,r,n,a,i){e.attr(r).animate(a).attr(n).after(function(){return i()})}},{key:"animatePathsGradually",value:function(e){var r=e.el,n=e.realIndex,a=e.j,i=e.fill,s=e.pathFrom,o=e.pathTo,l=e.speed,u=e.delay,d=this.w,h=0;d.config.chart.animations.animateGradually.enabled&&(h=d.config.chart.animations.animateGradually.delay),d.config.chart.animations.dynamicAnimation.enabled&&d.globals.dataChanged&&d.config.chart.type!=="bar"&&(h=0),this.morphSVG(r,n,a,d.config.chart.type!=="line"||d.globals.comboCharts?i:"stroke",s,o,l,u*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var r=e.el;r.classList.remove("apexcharts-element-hidden"),r.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var r=this.w;r.globals.animationEnded||(r.globals.animationEnded=!0,this.showDelayedElements(),typeof r.config.chart.events.animationEnd=="function"&&r.config.chart.events.animationEnd(this.ctx,{el:e,w:r}))}},{key:"morphSVG",value:function(e,r,n,a,i,s,o,l){var u=this,d=this.w;i||(i=e.attr("pathFrom")),s||(s=e.attr("pathTo"));var h=function(f){return d.config.chart.type==="radar"&&(o=1),"M 0 ".concat(d.globals.gridHeight)};(!i||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=h()),(!s.trim()||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=h()),d.globals.shouldAnimate||(o=1),e.plot(i).animate(1,l).plot(i).animate(o,l).plot(s).after(function(){U.isNumber(n)?n===d.globals.series[d.globals.maxValsInArrayIndex].length-2&&d.globals.shouldAnimate&&u.animationCompleted(e):a!=="none"&&d.globals.shouldAnimate&&(!d.globals.comboCharts&&r===d.globals.series.length-1||d.globals.comboCharts)&&u.animationCompleted(e),u.showDelayedElements()})}}]),t}();const GS={},GB=[];function Je(t,e){if(Array.isArray(t))for(const r of t)Je(r,e);else if(typeof t!="object")KB(Object.getOwnPropertyNames(e)),GS[t]=Object.assign(GS[t]||{},e);else for(const r in t)Je(r,t[r])}function Pn(t){return GS[t]||{}}function KB(t){GB.push(...t)}function oN(t,e){let r;const n=t.length,a=[];for(r=0;r<n;r++)a.push(e(t[r]));return a}function Fw(t){return t%360*Math.PI/180}function ch(t){return t.charAt(0).toUpperCase()+t.slice(1)}function uh(t,e,r,n){return e!=null&&r!=null||(n=n||t.bbox(),e==null?e=n.width/n.height*r:r==null&&(r=n.height/n.width*e)),{width:e,height:r}}function KS(t,e){const r=t.origin;let n=t.ox!=null?t.ox:t.originX!=null?t.originX:"center",a=t.oy!=null?t.oy:t.originY!=null?t.originY:"center";r!=null&&([n,a]=Array.isArray(r)?r:typeof r=="object"?[r.x,r.y]:[r,r]);const i=typeof n=="string",s=typeof a=="string";if(i||s){const{height:o,width:l,x:u,y:d}=e.bbox();i&&(n=n.includes("left")?u:n.includes("right")?u+l:u+l/2),s&&(a=a.includes("top")?d:a.includes("bottom")?d+o:d+o/2)}return[n,a]}const kie=new Set(["desc","metadata","title"]),ZS=t=>kie.has(t.nodeName),ZB=(t,e,r={})=>{const n={...e};for(const a in n)n[a].valueOf()===r[a]&&delete n[a];Object.keys(n).length?t.node.setAttribute("data-svgjs",JSON.stringify(n)):(t.node.removeAttribute("data-svgjs"),t.node.removeAttribute("svgjs:data"))},lN="http://www.w3.org/2000/svg",zw="http://www.w3.org/2000/xmlns/",dh="http://www.w3.org/1999/xlink",dt={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Tm(){return dt.window}let cN=class{};const ql={},uN="___SYMBOL___ROOT___";function vp(t,e=lN){return dt.document.createElementNS(e,t)}function vn(t,e=!1){if(t instanceof cN)return t;if(typeof t=="object")return Bw(t);if(t==null)return new ql[uN];if(typeof t=="string"&&t.charAt(0)!=="<")return Bw(dt.document.querySelector(t));const r=e?dt.document.createElement("div"):vp("svg");return r.innerHTML=t,t=Bw(r.firstChild),r.removeChild(r.firstChild),t}function Et(t,e){return e&&(e instanceof dt.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:vp(t)}function xa(t){if(!t)return null;if(t.instance instanceof cN)return t.instance;if(t.nodeName==="#document-fragment")return new ql.Fragment(t);let e=ch(t.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":ql[e]||(e="Dom"),new ql[e](t)}let Bw=xa;function ht(t,e=t.name,r=!1){return ql[e]=t,r&&(ql[uN]=t),KB(Object.getOwnPropertyNames(t.prototype)),t}let Aie=1e3;function QB(t){return"Svgjs"+ch(t)+Aie++}function JB(t){for(let e=t.children.length-1;e>=0;e--)JB(t.children[e]);return t.id&&(t.id=QB(t.nodeName)),t}function $e(t,e){let r,n;for(n=(t=Array.isArray(t)?t:[t]).length-1;n>=0;n--)for(r in e)t[n].prototype[r]=e[r]}function Pt(t){return function(...e){const r=e[e.length-1];return!r||r.constructor!==Object||r instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(r)}}Je("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=vn(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=vn(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=vn(t)).before(this),this},insertAfter:function(t){return(t=vn(t)).after(this),this}});const eW=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Nie=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Pie=/rgb\((\d+),(\d+),(\d+)\)/,Eie=/(#[a-z_][a-z0-9\-_]*)/i,Oie=/\)\s*,?\s*/,Tie=/\s/g,zO=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,BO=/^rgb\(/,WO=/^(\s+)?$/,HO=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mie=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Is=/[\s,]+/,dN=/[MLHVCSQTAZ]/i;function Rie(t){const e=Math.round(t),r=Math.max(0,Math.min(255,e)).toString(16);return r.length===1?"0"+r:r}function Yc(t,e){for(let r=e.length;r--;)if(t[e[r]]==null)return!1;return!0}function Ww(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}Je("Dom",{classes:function(){const t=this.attr("class");return t==null?[]:t.trim().split(Is)},hasClass:function(t){return this.classes().indexOf(t)!==-1},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),Je("Dom",{css:function(t,e){const r={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(n){return!!n.length}).forEach(function(n){const a=n.split(/\s*:\s*/);r[a[0]]=a[1]}),r;if(arguments.length<2){if(Array.isArray(t)){for(const n of t){const a=n;r[n]=this.node.style.getPropertyValue(a)}return r}if(typeof t=="string")return this.node.style.getPropertyValue(t);if(typeof t=="object")for(const n in t)this.node.style.setProperty(n,t[n]==null||WO.test(t[n])?"":t[n])}return arguments.length===2&&this.node.style.setProperty(t,e==null||WO.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),Je("Dom",{data:function(t,e,r){if(t==null)return this.data(oN(function(n,a){let i;const s=n.length,o=[];for(i=0;i<s;i++)a(n[i])&&o.push(n[i]);return o}(this.node.attributes,n=>n.nodeName.indexOf("data-")===0),n=>n.nodeName.slice(5)));if(t instanceof Array){const n={};for(const a of t)n[a]=this.data(a);return n}if(typeof t=="object")for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch{return this.attr("data-"+t)}else this.attr("data-"+t,e===null?null:r===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),Je("Dom",{remember:function(t,e){if(typeof arguments[0]=="object")for(const r in t)this.remember(r,t[r]);else{if(arguments.length===1)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class bt{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof bt||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",r){const{random:n,round:a,sin:i,PI:s}=Math;if(e==="vibrant"){const o=24*n()+57,l=38*n()+45,u=360*n();return new bt(o,l,u,"lch")}if(e==="sine"){const o=a(80*i(2*s*(r=r??n())/.5+.01)+150),l=a(50*i(2*s*r/.5+4.6)+200),u=a(100*i(2*s*r/.5+2.3)+150);return new bt(o,l,u)}if(e==="pastel"){const o=8*n()+86,l=17*n()+9,u=360*n();return new bt(o,l,u,"lch")}if(e==="dark"){const o=10+10*n(),l=50*n()+86,u=360*n();return new bt(o,l,u,"lch")}if(e==="rgb"){const o=255*n(),l=255*n(),u=255*n();return new bt(o,l,u)}if(e==="lab"){const o=100*n(),l=256*n()-128,u=256*n()-128;return new bt(o,l,u,"lab")}if(e==="grey"){const o=255*n();return new bt(o,o,o)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(zO.test(e)||BO.test(e))}cmyk(){const{_a:e,_b:r,_c:n}=this.rgb(),[a,i,s]=[e,r,n].map(l=>l/255),o=Math.min(1-a,1-i,1-s);return o===1?new bt(0,0,0,1,"cmyk"):new bt((1-a-o)/(1-o),(1-i-o)/(1-o),(1-s-o)/(1-o),o,"cmyk")}hsl(){const{_a:e,_b:r,_c:n}=this.rgb(),[a,i,s]=[e,r,n].map(f=>f/255),o=Math.max(a,i,s),l=Math.min(a,i,s),u=(o+l)/2,d=o===l,h=o-l;return new bt(360*(d?0:o===a?((i-s)/h+(i<s?6:0))/6:o===i?((s-a)/h+2)/6:o===s?((a-i)/h+4)/6:0),100*(d?0:u>.5?h/(2-o-l):h/(o+l)),100*u,"hsl")}init(e=0,r=0,n=0,a=0,i="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if(typeof e=="number")i=typeof a=="string"?a:i,a=typeof a=="string"?0:a,Object.assign(this,{_a:e,_b:r,_c:n,_d:a,space:i});else if(e instanceof Array)this.space=r||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const h=function(f,p){const g=Yc(f,"rgb")?{_a:f.r,_b:f.g,_c:f.b,_d:0,space:"rgb"}:Yc(f,"xyz")?{_a:f.x,_b:f.y,_c:f.z,_d:0,space:"xyz"}:Yc(f,"hsl")?{_a:f.h,_b:f.s,_c:f.l,_d:0,space:"hsl"}:Yc(f,"lab")?{_a:f.l,_b:f.a,_c:f.b,_d:0,space:"lab"}:Yc(f,"lch")?{_a:f.l,_b:f.c,_c:f.h,_d:0,space:"lch"}:Yc(f,"cmyk")?{_a:f.c,_b:f.m,_c:f.y,_d:f.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return g.space=p||g.space,g}(e,r);Object.assign(this,h)}else if(typeof e=="string")if(BO.test(e)){const h=e.replace(Tie,""),[f,p,g]=Pie.exec(h).slice(1,4).map(m=>parseInt(m));Object.assign(this,{_a:f,_b:p,_c:g,_d:0,space:"rgb"})}else{if(!zO.test(e))throw Error("Unsupported string format, can't construct Color");{const h=m=>parseInt(m,16),[,f,p,g]=Nie.exec(function(m){return m.length===4?["#",m.substring(1,2),m.substring(1,2),m.substring(2,3),m.substring(2,3),m.substring(3,4),m.substring(3,4)].join(""):m}(e)).map(h);Object.assign(this,{_a:f,_b:p,_c:g,_d:0,space:"rgb"})}}const{_a:s,_b:o,_c:l,_d:u}=this,d=this.space==="rgb"?{r:s,g:o,b:l}:this.space==="xyz"?{x:s,y:o,z:l}:this.space==="hsl"?{h:s,s:o,l}:this.space==="lab"?{l:s,a:o,b:l}:this.space==="lch"?{l:s,c:o,h:l}:this.space==="cmyk"?{c:s,m:o,y:l,k:u}:{};Object.assign(this,d)}lab(){const{x:e,y:r,z:n}=this.xyz();return new bt(116*r-16,500*(e-r),200*(r-n),"lab")}lch(){const{l:e,a:r,b:n}=this.lab(),a=Math.sqrt(r**2+n**2);let i=180*Math.atan2(n,r)/Math.PI;return i<0&&(i*=-1,i=360-i),new bt(e,a,i,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:r,y:n,z:a}=this;if(this.space==="lab"||this.space==="lch"){let{l:p,a:g,b:m}=this;if(this.space==="lch"){const{c:k,h:C}=this,A=Math.PI/180;g=k*Math.cos(A*C),m=k*Math.sin(A*C)}const v=(p+16)/116,x=g/500+v,y=v-m/200,b=16/116,w=.008856,S=7.787;r=.95047*(x**3>w?x**3:(x-b)/S),n=1*(v**3>w?v**3:(v-b)/S),a=1.08883*(y**3>w?y**3:(y-b)/S)}const i=3.2406*r+-1.5372*n+-.4986*a,s=-.9689*r+1.8758*n+.0415*a,o=.0557*r+-.204*n+1.057*a,l=Math.pow,u=.0031308,d=i>u?1.055*l(i,1/2.4)-.055:12.92*i,h=s>u?1.055*l(s,1/2.4)-.055:12.92*s,f=o>u?1.055*l(o,1/2.4)-.055:12.92*o;return new bt(255*d,255*h,255*f)}if(this.space==="hsl"){let{h:r,s:n,l:a}=this;if(r/=360,n/=100,a/=100,n===0)return a*=255,new bt(a,a,a);const i=a<.5?a*(1+n):a+n-a*n,s=2*a-i,o=255*Ww(s,i,r+1/3),l=255*Ww(s,i,r),u=255*Ww(s,i,r-1/3);return new bt(o,l,u)}if(this.space==="cmyk"){const{c:r,m:n,y:a,k:i}=this,s=255*(1-Math.min(1,r*(1-i)+i)),o=255*(1-Math.min(1,n*(1-i)+i)),l=255*(1-Math.min(1,a*(1-i)+i));return new bt(s,o,l)}return this;var e}toArray(){const{_a:e,_b:r,_c:n,_d:a,space:i}=this;return[e,r,n,a,i]}toHex(){const[e,r,n]=this._clamped().map(Rie);return`#${e}${r}${n}`}toRgb(){const[e,r,n]=this._clamped();return`rgb(${e},${r},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:r,_c:n}=this.rgb(),[a,i,s]=[e,r,n].map(v=>v/255),o=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,l=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,d=(.4124*o+.3576*l+.1805*u)/.95047,h=(.2126*o+.7152*l+.0722*u)/1,f=(.0193*o+.1192*l+.9505*u)/1.08883,p=d>.008856?Math.pow(d,1/3):7.787*d+16/116,g=h>.008856?Math.pow(h,1/3):7.787*h+16/116,m=f>.008856?Math.pow(f,1/3):7.787*f+16/116;return new bt(p,g,m,"xyz")}_clamped(){const{_a:e,_b:r,_c:n}=this.rgb(),{max:a,min:i,round:s}=Math;return[e,r,n].map(o=>a(0,i(s(o),255)))}}let _t=class tW{constructor(...e){this.init(...e)}clone(){return new tW(this)}init(e,r){const i=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:r};return this.x=i.x==null?0:i.x,this.y=i.y==null?0:i.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){rt.isMatrixLike(e)||(e=new rt(e));const{x:r,y:n}=this;return this.x=e.a*r+e.c*n+e.e,this.y=e.b*r+e.d*n+e.f,this}};function Xc(t,e,r){return Math.abs(e-t)<1e-6}let rt=class mr{constructor(...e){this.init(...e)}static formatTransforms(e){const r=e.flip==="both"||e.flip===!0,n=e.flip&&(r||e.flip==="x")?-1:1,a=e.flip&&(r||e.flip==="y")?-1:1,i=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,s=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,o=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,l=e.scale&&e.scale.length?e.scale[1]*a:isFinite(e.scale)?e.scale*a:isFinite(e.scaleY)?e.scaleY*a:a,u=e.shear||0,d=e.rotate||e.theta||0,h=new _t(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),f=h.x,p=h.y,g=new _t(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),m=g.x,v=g.y,x=new _t(e.translate||e.tx||e.translateX,e.ty||e.translateY),y=x.x,b=x.y,w=new _t(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:o,scaleY:l,skewX:i,skewY:s,shear:u,theta:d,rx:w.x,ry:w.y,tx:y,ty:b,ox:f,oy:p,px:m,py:v}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,r,n){const a=e.a*r.a+e.c*r.b,i=e.b*r.a+e.d*r.b,s=e.a*r.c+e.c*r.d,o=e.b*r.c+e.d*r.d,l=e.e+e.a*r.e+e.c*r.f,u=e.f+e.b*r.e+e.d*r.f;return n.a=a,n.b=i,n.c=s,n.d=o,n.e=l,n.f=u,n}around(e,r,n){return this.clone().aroundO(e,r,n)}aroundO(e,r,n){const a=e||0,i=r||0;return this.translateO(-a,-i).lmultiplyO(n).translateO(a,i)}clone(){return new mr(this)}decompose(e=0,r=0){const n=this.a,a=this.b,i=this.c,s=this.d,o=this.e,l=this.f,u=n*s-a*i,d=u>0?1:-1,h=d*Math.sqrt(n*n+a*a),f=Math.atan2(d*a,d*n),p=180/Math.PI*f,g=Math.cos(f),m=Math.sin(f),v=(n*i+a*s)/u,x=i*h/(v*n-a)||s*h/(v*a+n);return{scaleX:h,scaleY:x,shear:v,rotate:p,translateX:o-e+e*g*h+r*(v*g*h-m*x),translateY:l-r+e*m*h+r*(v*m*h+g*x),originX:e,originY:r,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const r=new mr(e);return Xc(this.a,r.a)&&Xc(this.b,r.b)&&Xc(this.c,r.c)&&Xc(this.d,r.d)&&Xc(this.e,r.e)&&Xc(this.f,r.f)}flip(e,r){return this.clone().flipO(e,r)}flipO(e,r){return e==="x"?this.scaleO(-1,1,r,0):e==="y"?this.scaleO(1,-1,0,r):this.scaleO(-1,-1,e,r||e)}init(e){const r=mr.fromArray([1,0,0,1,0,0]);return e=e instanceof Ur?e.matrixify():typeof e=="string"?mr.fromArray(e.split(Is).map(parseFloat)):Array.isArray(e)?mr.fromArray(e):typeof e=="object"&&mr.isMatrixLike(e)?e:typeof e=="object"?new mr().transform(e):arguments.length===6?mr.fromArray([].slice.call(arguments)):r,this.a=e.a!=null?e.a:r.a,this.b=e.b!=null?e.b:r.b,this.c=e.c!=null?e.c:r.c,this.d=e.d!=null?e.d:r.d,this.e=e.e!=null?e.e:r.e,this.f=e.f!=null?e.f:r.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,r=this.b,n=this.c,a=this.d,i=this.e,s=this.f,o=e*a-r*n;if(!o)throw new Error("Cannot invert "+this);const l=a/o,u=-r/o,d=-n/o,h=e/o,f=-(l*i+d*s),p=-(u*i+h*s);return this.a=l,this.b=u,this.c=d,this.d=h,this.e=f,this.f=p,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const r=e instanceof mr?e:new mr(e);return mr.matrixMultiply(r,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const r=e instanceof mr?e:new mr(e);return mr.matrixMultiply(this,r,this)}rotate(e,r,n){return this.clone().rotateO(e,r,n)}rotateO(e,r=0,n=0){e=Fw(e);const a=Math.cos(e),i=Math.sin(e),{a:s,b:o,c:l,d:u,e:d,f:h}=this;return this.a=s*a-o*i,this.b=o*a+s*i,this.c=l*a-u*i,this.d=u*a+l*i,this.e=d*a-h*i+n*i-r*a+r,this.f=h*a+d*i-r*i-n*a+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,r=e,n=0,a=0){arguments.length===3&&(a=n,n=r,r=e);const{a:i,b:s,c:o,d:l,e:u,f:d}=this;return this.a=i*e,this.b=s*r,this.c=o*e,this.d=l*r,this.e=u*e-n*e+n,this.f=d*r-a*r+a,this}shear(e,r,n){return this.clone().shearO(e,r,n)}shearO(e,r=0,n=0){const{a,b:i,c:s,d:o,e:l,f:u}=this;return this.a=a+i*e,this.c=s+o*e,this.e=l+u*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,r=e,n=0,a=0){arguments.length===3&&(a=n,n=r,r=e),e=Fw(e),r=Fw(r);const i=Math.tan(e),s=Math.tan(r),{a:o,b:l,c:u,d,e:h,f}=this;return this.a=o+l*i,this.b=l+o*s,this.c=u+d*i,this.d=d+u*s,this.e=h+f*i-a*i,this.f=f+h*s-n*s,this}skewX(e,r,n){return this.skew(e,0,r,n)}skewY(e,r,n){return this.skew(0,e,r,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(mr.isMatrixLike(e))return new mr(e).multiplyO(this);const r=mr.formatTransforms(e),{x:n,y:a}=new _t(r.ox,r.oy).transform(this),i=new mr().translateO(r.rx,r.ry).lmultiplyO(this).translateO(-n,-a).scaleO(r.scaleX,r.scaleY).skewO(r.skewX,r.skewY).shearO(r.shear).rotateO(r.theta).translateO(n,a);if(isFinite(r.px)||isFinite(r.py)){const s=new _t(n,a).transform(i),o=isFinite(r.px)?r.px-s.x:0,l=isFinite(r.py)?r.py-s.y:0;i.translateO(o,l)}return i.translateO(r.tx,r.ty),i}translate(e,r){return this.clone().translateO(e,r)}translateO(e,r){return this.e+=e||0,this.f+=r||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function io(){if(!io.nodes){const t=vn().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;io.nodes={svg:t,path:e}}if(!io.nodes.svg.node.parentNode){const t=dt.document.body||dt.document.documentElement;io.nodes.svg.addTo(t)}return io.nodes}function rW(t){return!(t.width||t.height||t.x||t.y)}ht(rt,"Matrix");class ar{constructor(...e){this.init(...e)}addOffset(){return this.x+=dt.window.pageXOffset,this.y+=dt.window.pageYOffset,new ar(this)}init(e){return e=typeof e=="string"?e.split(Is).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return rW(this)}merge(e){const r=Math.min(this.x,e.x),n=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width)-r,i=Math.max(this.y+this.height,e.y+e.height)-n;return new ar(r,n,a,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof rt||(e=new rt(e));let r=1/0,n=-1/0,a=1/0,i=-1/0;return[new _t(this.x,this.y),new _t(this.x2,this.y),new _t(this.x,this.y2),new _t(this.x2,this.y2)].forEach(function(s){s=s.transform(e),r=Math.min(r,s.x),n=Math.max(n,s.x),a=Math.min(a,s.y),i=Math.max(i,s.y)}),new ar(r,a,n-r,i-a)}}function UO(t,e,r){let n;try{if(n=e(t.node),rW(n)&&(a=t.node)!==dt.document&&!(dt.document.documentElement.contains||function(i){for(;i.parentNode;)i=i.parentNode;return i===dt.document}).call(dt.document.documentElement,a))throw new Error("Element not in the dom")}catch{n=r(t)}var a;return n}Je({viewbox:{viewbox(t,e,r,n){return t==null?new ar(this.attr("viewBox")):this.attr("viewBox",new ar(t,e,r,n))},zoom(t,e){let{width:r,height:n}=this.attr(["width","height"]);if((r||n)&&typeof r!="string"&&typeof n!="string"||(r=this.node.clientWidth,n=this.node.clientHeight),!r||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const a=this.viewbox(),i=r/a.width,s=n/a.height,o=Math.min(i,s);if(t==null)return o;let l=o/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new _t(r/2/i+a.x,n/2/s+a.y);const u=new ar(a).transform(new rt({scale:l,origin:e}));return this.viewbox(u)}}}),ht(ar,"Box");let uc=class extends Array{constructor(e=[],...r){if(super(e,...r),typeof e=="number")return this;this.length=0,this.push(...e)}};$e([uc],{each(t,...e){return typeof t=="function"?this.map((r,n,a)=>t.call(r,r,n,a)):this.map(r=>r[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const Iie=["toArray","constructor","each"];function Pc(t,e){return new uc(oN((e||dt.document).querySelectorAll(t),function(r){return xa(r)}))}uc.extend=function(t){t=t.reduce((e,r)=>(Iie.includes(r)||r[0]==="_"||(r in Array.prototype&&(e["$"+r]=Array.prototype[r]),e[r]=function(...n){return this.each(r,...n)}),e),{}),$e([uc],t)};let Die=0;const nW={};function aW(t){let e=t.getEventHolder();return e===dt.window&&(e=nW),e.events||(e.events={}),e.events}function hN(t){return t.getEventTarget()}function us(t,e,r,n,a){const i=r.bind(n||t),s=vn(t),o=aW(s),l=hN(s);e=Array.isArray(e)?e:e.split(Is),r._svgjsListenerId||(r._svgjsListenerId=++Die),e.forEach(function(u){const d=u.split(".")[0],h=u.split(".")[1]||"*";o[d]=o[d]||{},o[d][h]=o[d][h]||{},o[d][h][r._svgjsListenerId]=i,l.addEventListener(d,i,a||!1)})}function ja(t,e,r,n){const a=vn(t),i=aW(a),s=hN(a);(typeof r!="function"||(r=r._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Is)).forEach(function(o){const l=o&&o.split(".")[0],u=o&&o.split(".")[1];let d,h;if(r)i[l]&&i[l][u||"*"]&&(s.removeEventListener(l,i[l][u||"*"][r],n||!1),delete i[l][u||"*"][r]);else if(l&&u){if(i[l]&&i[l][u]){for(h in i[l][u])ja(s,[l,u].join("."),h);delete i[l][u]}}else if(u)for(o in i)for(d in i[o])u===d&&ja(s,[o,u].join("."));else if(l){if(i[l]){for(d in i[l])ja(s,[l,d].join("."));delete i[l]}}else{for(o in i)ja(s,o);(function(f){let p=f.getEventHolder();p===dt.window&&(p=nW),p.events&&(p.events={})})(a)}})}class Mm extends cN{addEventListener(){}dispatch(e,r,n){return function(a,i,s,o){const l=hN(a);return i instanceof dt.window.Event||(i=new dt.window.CustomEvent(i,{detail:s,cancelable:!0,...o})),l.dispatchEvent(i),i}(this,e,r,n)}dispatchEvent(e){const r=this.getEventHolder().events;if(!r)return!0;const n=r[e.type];for(const a in n)for(const i in n[a])n[a][i](e);return!e.defaultPrevented}fire(e,r,n){return this.dispatch(e,r,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,r,n){return ja(this,e,r,n),this}on(e,r,n,a){return us(this,e,r,n,a),this}removeEventListener(){}}function YO(){}ht(Mm,"EventTarget");const Hw=400,Lie=">",$ie=0,Fie={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class dc extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Is).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class He{constructor(...e){this.init(...e)}convert(e){return new He(this.value,e)}divide(e){return e=new He(e),new He(this/e,this.unit||e.unit)}init(e,r){return r=Array.isArray(e)?e[1]:r,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=r||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(r=e.match(eW))&&(this.value=parseFloat(r[1]),r[5]==="%"?this.value/=100:r[5]==="s"&&(this.value*=1e3),this.unit=r[5]):e instanceof He&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new He(e),new He(this-e,this.unit||e.unit)}plus(e){return e=new He(e),new He(this+e,this.unit||e.unit)}times(e){return e=new He(e),new He(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const zie=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),iW=[];class Ho extends Mm{constructor(e,r){super(),this.node=e,this.type=e.nodeName,r&&e!==r&&this.attr(r)}add(e,r){return(e=vn(e)).removeNamespace&&this.node instanceof dt.window.SVGElement&&e.removeNamespace(),r==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[r]&&this.node.insertBefore(e.node,this.node.childNodes[r]),this}addTo(e,r){return vn(e).put(this,r)}children(){return new uc(oN(this.node.children,function(e){return xa(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,r=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return r&&(n=JB(n)),new this.constructor(n)}each(e,r){const n=this.children();let a,i;for(a=0,i=n.length;a<i;a++)e.apply(n[a],[a,n]),r&&n[a].each(e,r);return this}element(e,r){return this.put(new Ho(vp(e),r))}first(){return xa(this.node.firstChild)}get(e){return xa(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,r){return this.xml(e,r,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=QB(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return xa(this.node.lastChild)}matches(e){const r=this.node,n=r.matches||r.matchesSelector||r.msMatchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector||null;return n&&n.call(r,e)}parent(e){let r=this;if(!r.node.parentNode)return null;if(r=xa(r.node.parentNode),!e)return r;do if(typeof e=="string"?r.matches(e):r instanceof e)return r;while(r=xa(r.node.parentNode));return r}put(e,r){return e=vn(e),this.add(e,r),e}putIn(e,r){return vn(e).add(this,r)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=vn(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,r=null){const n=10**e,a=this.attr(r);for(const i in a)typeof a[i]=="number"&&(a[i]=Math.round(a[i]*n)/n);return this.attr(a),this}svg(e,r){return this.xml(e,r,lN)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const r=this.parent();if(!r)return this.addTo(e);const n=r.index(this);return r.put(e,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,r,n){if(typeof e=="boolean"&&(n=r,r=e,e=null),e==null||typeof e=="function"){r=r==null||r,this.writeDataToDom();let o=this;if(e!=null){if(o=xa(o.node.cloneNode(!0)),r){const l=e(o);if(o=l||o,l===!1)return""}o.each(function(){const l=e(this),u=l||this;l===!1?this.remove():l&&this!==u&&this.replace(u)},!0)}return r?o.node.outerHTML:o.node.innerHTML}r=r!=null&&r;const a=vp("wrapper",n),i=dt.document.createDocumentFragment();a.innerHTML=e;for(let o=a.children.length;o--;)i.appendChild(a.firstElementChild);const s=this.parent();return r?this.replace(i)&&s:this.add(i)}}$e(Ho,{attr:function(t,e,r){if(t==null){t={},e=this.node.attributes;for(const n of e)t[n.nodeName]=HO.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return t}if(t instanceof Array)return t.reduce((n,a)=>(n[a]=this.attr(a),n),{});if(typeof t=="object"&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(e===null)this.node.removeAttribute(t);else{if(e==null)return(e=this.node.getAttribute(t))==null?Fie[t]:HO.test(e)?parseFloat(e):e;typeof(e=iW.reduce((n,a)=>a(t,n,this),e))=="number"?e=new He(e):zie.has(t)&&bt.isColor(e)?e=new bt(e):e.constructor===Array&&(e=new dc(e)),t==="leading"?this.leading&&this.leading(e):typeof r=="string"?this.node.setAttributeNS(r,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||t!=="font-size"&&t!=="x"||this.rebuild()}return this},find:function(t){return Pc(t,this.node)},findOne:function(t){return xa(this.node.querySelector(t))}}),ht(Ho,"Dom");let Ur=class extends Ho{constructor(e,r){super(e,r),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(e.getAttribute("data-svgjs"))??JSON.parse(e.getAttribute("svgjs:data"))??{})}center(e,r){return this.cx(e).cy(r)}cx(e){return e==null?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return e==null?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){const e=this.root();return e&&e.defs()}dmove(e,r){return this.dx(e).dy(r)}dx(e=0){return this.x(new He(e).plus(this.x()))}dy(e=0){return this.y(new He(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,r){return this.x(e).y(r)}parents(e=this.root()){const r=typeof e=="string";r||(e=vn(e));const n=new uc;let a=this;for(;(a=a.parent())&&a.node!==dt.document&&a.nodeName!=="#document-fragment"&&(n.push(a),r||a.node!==e.node)&&(!r||!a.matches(e));)if(a.node===this.root().node)return null;return n}reference(e){if(!(e=this.attr(e)))return null;const r=(e+"").match(Eie);return r?vn(r[1]):null}root(){const e=this.parent(function(r){return ql[r]}(uN));return e&&e.root()}setData(e){return this.dom=e,this}size(e,r){const n=uh(this,e,r);return this.width(new He(n.width)).height(new He(n.height))}width(e){return this.attr("width",e)}writeDataToDom(){return ZB(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}};$e(Ur,{bbox:function(){const t=UO(this,e=>e.getBBox(),e=>{try{const r=e.clone().addTo(io().svg).show(),n=r.node.getBBox();return r.remove(),n}catch(r){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${r.toString()}`)}});return new ar(t)},rbox:function(t){const e=UO(this,n=>n.getBoundingClientRect(),n=>{throw new Error(`Getting rbox of element "${n.node.nodeName}" is not possible`)}),r=new ar(e);return t?r.transform(t.screenCTM().inverseO()):r.addOffset()},inside:function(t,e){const r=this.bbox();return t>r.x&&e>r.y&&t<r.x+r.width&&e<r.y+r.height},point:function(t,e){return new _t(t,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new rt(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new rt(e)}return new rt(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new rt}}}),ht(Ur,"Element");const Uh={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return e==="color"?t:t+"-"+e}};["fill","stroke"].forEach(function(t){const e={};let r;e[t]=function(n){if(n===void 0)return this.attr(t);if(typeof n=="string"||n instanceof bt||bt.isRgb(n)||n instanceof Ur)this.attr(t,n);else for(r=Uh[t].length-1;r>=0;r--)n[Uh[t][r]]!=null&&this.attr(Uh.prefix(t,Uh[t][r]),n[Uh[t][r]]);return this},Je(["Element","Runner"],e)}),Je(["Element","Runner"],{matrix:function(t,e,r,n,a,i){return t==null?new rt(this):this.attr("transform",new rt(t,e,r,n,a,i))},rotate:function(t,e,r){return this.transform({rotate:t,ox:e,oy:r},!0)},skew:function(t,e,r,n){return arguments.length===1||arguments.length===3?this.transform({skew:t,ox:e,oy:r},!0):this.transform({skew:[t,e],ox:r,oy:n},!0)},shear:function(t,e,r){return this.transform({shear:t,ox:e,oy:r},!0)},scale:function(t,e,r,n){return arguments.length===1||arguments.length===3?this.transform({scale:t,ox:e,oy:r},!0):this.transform({scale:[t,e],ox:r,oy:n},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return"xybothtrue".indexOf(t)===-1&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),Je("radius",{radius:function(t,e=t){return(this._element||this).type==="radialGradient"?this.attr("r",new He(t)):this.rx(t).ry(e)}}),Je("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new _t(this.node.getPointAtLength(t))}}),Je(["Element","Runner"],{font:function(t,e){if(typeof t=="object"){for(e in t)this.font(e,t[e]);return this}return t==="leading"?this.leading(e):t==="anchor"?this.attr("text-anchor",e):t==="size"||t==="family"||t==="weight"||t==="stretch"||t==="variant"||t==="style"?this.attr("font-"+t,e):this.attr(t,e)}});Je("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(t,e){return t[e]=function(r){return r===null?this.off(e):this.on(e,r),this},t},{})),Je("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Oie).slice(0,-1).map(function(e){const r=e.trim().split("(");return[r[0],r[1].split(Is).map(function(n){return parseFloat(n)})]}).reverse().reduce(function(e,r){return r[0]==="matrix"?e.lmultiply(rt.fromArray(r[1])):e[r[0]].apply(e,r[1])},new rt)},toParent:function(t,e){if(this===t)return this;if(ZS(this.node))return this.addTo(t,e);const r=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(n.multiply(r)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(t==null||typeof t=="string"){const n=new rt(this).decompose();return t==null?n:n[t]}rt.isMatrixLike(t)||(t={...t,origin:KS(t,this)});const r=new rt(e===!0?this:e||!1).transform(t);return this.attr("transform",r)}});class An extends Ur{flatten(){return this.each(function(){if(this instanceof An)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),r=e.index(this)){return r=r===-1?e.children().length:r,this.each(function(n,a){return a[a.length-n-1].toParent(e,r)}),this.remove()}}ht(An,"Container");class Rb extends An{constructor(e,r=e){super(Et("defs",e),r)}flatten(){return this}ungroup(){return this}}ht(Rb,"Defs");let da=class extends Ur{};function fN(t){return this.attr("rx",t)}function pN(t){return this.attr("ry",t)}function sW(t){return t==null?this.cx()-this.rx():this.cx(t+this.rx())}function oW(t){return t==null?this.cy()-this.ry():this.cy(t+this.ry())}function lW(t){return this.attr("cx",t)}function cW(t){return this.attr("cy",t)}function uW(t){return t==null?2*this.rx():this.rx(new He(t).divide(2))}function dW(t){return t==null?2*this.ry():this.ry(new He(t).divide(2))}ht(da,"Shape");var Bie=Object.freeze({__proto__:null,cx:lW,cy:cW,height:dW,rx:fN,ry:pN,width:uW,x:sW,y:oW});class mv extends da{constructor(e,r=e){super(Et("ellipse",e),r)}size(e,r){const n=uh(this,e,r);return this.rx(new He(n.width).divide(2)).ry(new He(n.height).divide(2))}}$e(mv,Bie),Je("Container",{ellipse:Pt(function(t=0,e=t){return this.put(new mv).size(t,e).move(0,0)})}),ht(mv,"Ellipse");let hW=class extends Ho{constructor(e=dt.document.createDocumentFragment()){super(e)}xml(e,r,n){if(typeof e=="boolean"&&(n=r,r=e,e=null),e==null||typeof e=="function"){const a=new Ho(vp("wrapper",n));return a.add(this.node.cloneNode(!0)),a.xml(!1,n)}return super.xml(e,!1,n)}};function fW(t,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new He(t),fy:new He(e)}):this.attr({x1:new He(t),y1:new He(e)})}function pW(t,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new He(t),cy:new He(e)}):this.attr({x2:new He(t),y2:new He(e)})}ht(hW,"Fragment");var Wie=Object.freeze({__proto__:null,from:fW,to:pW});class Rf extends An{constructor(e,r){super(Et(e+"Gradient",typeof e=="string"?null:e),r)}attr(e,r,n){return e==="transform"&&(e="gradientTransform"),super.attr(e,r,n)}bbox(){return new ar}targets(){return Pc("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}$e(Rf,Wie),Je({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:Pt(function(t,e){return this.put(new Rf(t)).update(e)})}}),ht(Rf,"Gradient");class yp extends An{constructor(e,r=e){super(Et("pattern",e),r)}attr(e,r,n){return e==="transform"&&(e="patternTransform"),super.attr(e,r,n)}bbox(){return new ar}targets(){return Pc("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Je({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:Pt(function(t,e,r){return this.put(new yp).update(r).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}}),ht(yp,"Pattern");let gv=class extends da{constructor(t,e=t){super(Et("image",t),e)}load(t,e){if(!t)return this;const r=new dt.window.Image;return us(r,"load",function(n){const a=this.parent(yp);this.width()===0&&this.height()===0&&this.size(r.width,r.height),a instanceof yp&&a.width()===0&&a.height()===0&&a.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),us(r,"load error",function(){ja(r)}),this.attr("href",r.src=t,dh)}};var XO;XO=function(t,e,r){return t!=="fill"&&t!=="stroke"||Mie.test(e)&&(e=r.root().defs().image(e)),e instanceof gv&&(e=r.root().defs().pattern(0,0,n=>{n.add(e)})),e},iW.push(XO),Je({Container:{image:Pt(function(t,e){return this.put(new gv).size(0,0).load(t,e)})}}),ht(gv,"Image");class Uo extends dc{bbox(){let e=-1/0,r=-1/0,n=1/0,a=1/0;return this.forEach(function(i){e=Math.max(i[0],e),r=Math.max(i[1],r),n=Math.min(i[0],n),a=Math.min(i[1],a)}),new ar(n,a,e-n,r-a)}move(e,r){const n=this.bbox();if(e-=n.x,r-=n.y,!isNaN(e)&&!isNaN(r))for(let a=this.length-1;a>=0;a--)this[a]=[this[a][0]+e,this[a][1]+r];return this}parse(e=[0,0]){const r=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Is).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,a=e.length;n<a;n+=2)r.push([e[n],e[n+1]]);return r}size(e,r){let n;const a=this.bbox();for(n=this.length-1;n>=0;n--)a.width&&(this[n][0]=(this[n][0]-a.x)*e/a.width+a.x),a.height&&(this[n][1]=(this[n][1]-a.y)*r/a.height+a.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let r=0,n=this.length;r<n;r++)e.push(this[r].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){rt.isMatrixLike(e)||(e=new rt(e));for(let r=this.length;r--;){const[n,a]=this[r];this[r][0]=e.a*n+e.c*a+e.e,this[r][1]=e.b*n+e.d*a+e.f}return this}}const Hie=Uo;var mN=Object.freeze({__proto__:null,MorphArray:Hie,height:function(t){const e=this.bbox();return t==null?e.height:this.size(e.width,t)},width:function(t){const e=this.bbox();return t==null?e.width:this.size(t,e.height)},x:function(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}});let Al=class extends da{constructor(t,e=t){super(Et("line",t),e)}array(){return new Uo([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,r,n){return t==null?this.array():(t=e!==void 0?{x1:t,y1:e,x2:r,y2:n}:new Uo(t).toLine(),this.attr(t))}size(t,e){const r=uh(this,t,e);return this.attr(this.array().size(r.width,r.height).toLine())}};$e(Al,mN),Je({Container:{line:Pt(function(...t){return Al.prototype.plot.apply(this.put(new Al),t[0]!=null?t:[0,0,0,0])})}}),ht(Al,"Line");let vv=class extends An{constructor(t,e=t){super(Et("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}};function gu(t,e){return function(r){return r==null?this[t]:(this[t]=r,e&&e.call(this),this)}}Je({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:Pt(function(t,e,r){return this.put(new vv).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(r)})},marker:{marker(t,e,r,n){let a=["marker"];return t!=="all"&&a.push(t),a=a.join("-"),t=arguments[1]instanceof vv?arguments[1]:this.defs().marker(e,r,n),this.attr(a,t)}}}),ht(vv,"Marker");const Uie={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,r,n){return function(a){return a<0?t>0?e/t*a:r>0?n/r*a:0:a>1?r<1?(1-n)/(1-r)*a+(n-r)/(1-r):t<1?(1-e)/(1-t)*a+(e-t)/(1-t):1:3*a*(1-a)**2*e+3*a**2*(1-a)*n+a**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let r=t;return e==="none"?--r:e==="both"&&++r,(n,a=!1)=>{let i=Math.floor(n*t);const s=n*i%1==0;return e!=="start"&&e!=="both"||++i,a&&s&&--i,n>=0&&i<0&&(i=0),n<=1&&i>r&&(i=r),i/r}}};class gN{done(){return!1}}class QS extends gN{constructor(e=Lie){super(),this.ease=Uie[e]||e}step(e,r,n){return typeof e!="number"?n<1?e:r:e+(r-e)*this.ease(n)}}class py extends gN{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,r,n,a){return this.stepper(e,r,n,a)}}function VO(){const t=(this._duration||500)/1e3,e=this._overshoot||0,r=Math.PI,n=Math.log(e/100+1e-10),a=-n/Math.sqrt(r*r+n*n),i=3.9/(a*t);this.d=2*a*i,this.k=i*i}$e(class extends py{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,r,n){if(typeof t=="string")return t;if(n.done=r===1/0,r===1/0)return e;if(r===0)return t;r>100&&(r=16),r/=1e3;const a=n.velocity||0,i=-this.d*a-this.k*(t-e),s=t+a*r+i*r*r/2;return n.velocity=a+i*r,n.done=Math.abs(e-s)+Math.abs(a)<.002,n.done?e:s}},{duration:gu("_duration",VO),overshoot:gu("_overshoot",VO)});$e(class extends py{constructor(t=.1,e=.01,r=0,n=1e3){super(),this.p(t).i(e).d(r).windup(n)}step(t,e,r,n){if(typeof t=="string")return t;if(n.done=r===1/0,r===1/0)return e;if(r===0)return t;const a=e-t;let i=(n.integral||0)+a*r;const s=(a-(n.error||0))/r,o=this._windup;return o!==!1&&(i=Math.max(-o,Math.min(i,o))),n.error=a,n.integral=i,n.done=Math.abs(a)<.001,n.done?e:t+(this.P*a+this.I*i+this.D*s)}},{windup:gu("_windup"),p:gu("P"),i:gu("I"),d:gu("D")});const Yie={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},JS={M:function(t,e,r){return e.x=r.x=t[0],e.y=r.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,r){return e.x=r.x,e.y=r.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},Uw="mlhvqtcsaz".split("");for(let t=0,e=Uw.length;t<e;++t)JS[Uw[t]]=function(r){return function(n,a,i){if(r==="H")n[0]=n[0]+a.x;else if(r==="V")n[0]=n[0]+a.y;else if(r==="A")n[5]=n[5]+a.x,n[6]=n[6]+a.y;else for(let s=0,o=n.length;s<o;++s)n[s]=n[s]+(s%2?a.y:a.x);return JS[r](n,a,i)}}(Uw[t].toUpperCase());function ej(t){return t.segment.length&&t.segment.length-1===Yie[t.segment[0].toUpperCase()]}function Xie(t,e){t.inNumber&&gl(t,!1);const r=dN.test(e);if(r)t.segment=[e];else{const n=t.lastCommand,a=n.toLowerCase(),i=n===a;t.segment=[a==="m"?i?"l":"L":n]}return t.inSegment=!0,t.lastCommand=t.segment[0],r}function gl(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,ej(t)&&tj(t)}function tj(t){t.inSegment=!1,t.absolute&&(t.segment=function(e){const r=e.segment[0];return JS[r](e.segment.slice(1),e.p,e.p0)}(t)),t.segments.push(t.segment)}function Vie(t){if(!t.segment.length)return!1;const e=t.segment[0].toUpperCase()==="A",r=t.segment.length;return e&&(r===4||r===5)}function qie(t){return t.lastToken.toUpperCase()==="E"}const Gie=new Set([" ",",","	",`
`,"\r","\f"]);class ai extends dc{bbox(){return io().path.setAttribute("d",this.toString()),new ar(io.nodes.path.getBBox())}move(e,r){const n=this.bbox();if(e-=n.x,r-=n.y,!isNaN(e)&&!isNaN(r))for(let a,i=this.length-1;i>=0;i--)a=this[i][0],a==="M"||a==="L"||a==="T"?(this[i][1]+=e,this[i][2]+=r):a==="H"?this[i][1]+=e:a==="V"?this[i][1]+=r:a==="C"||a==="S"||a==="Q"?(this[i][1]+=e,this[i][2]+=r,this[i][3]+=e,this[i][4]+=r,a==="C"&&(this[i][5]+=e,this[i][6]+=r)):a==="A"&&(this[i][6]+=e,this[i][7]+=r);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(r,n=!0){let a=0,i="";const s={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:n,p0:new _t,p:new _t};for(;s.lastToken=i,i=r.charAt(a++);)if(s.inSegment||!Xie(s,i))if(i!==".")if(isNaN(parseInt(i)))if(Gie.has(i))s.inNumber&&gl(s,!1);else if(i!=="-"&&i!=="+")if(i.toUpperCase()!=="E"){if(dN.test(i)){if(s.inNumber)gl(s,!1);else{if(!ej(s))throw new Error("parser Error");tj(s)}--a}}else s.number+=i,s.hasExponent=!0;else{if(s.inNumber&&!qie(s)){gl(s,!1),--a;continue}s.number+=i,s.inNumber=!0}else{if(s.number==="0"||Vie(s)){s.inNumber=!0,s.number=i,gl(s,!0);continue}s.inNumber=!0,s.number+=i}else{if(s.pointSeen||s.hasExponent){gl(s,!1),--a;continue}s.inNumber=!0,s.pointSeen=!0,s.number+=i}return s.inNumber&&gl(s,!1),s.inSegment&&ej(s)&&tj(s),s.segments}(e)}size(e,r){const n=this.bbox();let a,i;for(n.width=n.width===0?1:n.width,n.height=n.height===0?1:n.height,a=this.length-1;a>=0;a--)i=this[a][0],i==="M"||i==="L"||i==="T"?(this[a][1]=(this[a][1]-n.x)*e/n.width+n.x,this[a][2]=(this[a][2]-n.y)*r/n.height+n.y):i==="H"?this[a][1]=(this[a][1]-n.x)*e/n.width+n.x:i==="V"?this[a][1]=(this[a][1]-n.y)*r/n.height+n.y:i==="C"||i==="S"||i==="Q"?(this[a][1]=(this[a][1]-n.x)*e/n.width+n.x,this[a][2]=(this[a][2]-n.y)*r/n.height+n.y,this[a][3]=(this[a][3]-n.x)*e/n.width+n.x,this[a][4]=(this[a][4]-n.y)*r/n.height+n.y,i==="C"&&(this[a][5]=(this[a][5]-n.x)*e/n.width+n.x,this[a][6]=(this[a][6]-n.y)*r/n.height+n.y)):i==="A"&&(this[a][1]=this[a][1]*e/n.width,this[a][2]=this[a][2]*r/n.height,this[a][6]=(this[a][6]-n.x)*e/n.width+n.x,this[a][7]=(this[a][7]-n.y)*r/n.height+n.y);return this}toString(){return function(e){let r="";for(let n=0,a=e.length;n<a;n++)r+=e[n][0],e[n][1]!=null&&(r+=e[n][1],e[n][2]!=null&&(r+=" ",r+=e[n][2],e[n][3]!=null&&(r+=" ",r+=e[n][3],r+=" ",r+=e[n][4],e[n][5]!=null&&(r+=" ",r+=e[n][5],r+=" ",r+=e[n][6],e[n][7]!=null&&(r+=" ",r+=e[n][7])))));return r+" "}(this)}}const mW=t=>{const e=typeof t;return e==="number"?He:e==="string"?bt.isColor(t)?bt:Is.test(t)?dN.test(t)?ai:dc:eW.test(t)?He:rj:nj.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?dc:e==="object"?xp:rj};class vl{constructor(e){this._stepper=e||new QS("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,r){return e&&r},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(mW(e));let r=new this._type(e);return this._type===bt&&(r=this._to?r[this._to[4]]():this._from?r[this._from[4]]():r),this._type===xp&&(r=this._to?r.align(this._to):this._from?r.align(this._from):r),r=r.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(r.length)).map(Object).map(function(n){return n.done=!0,n}),r}}class rj{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Rm{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Rm.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Rm.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Kie=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class xp{constructor(...e){this.init(...e)}align(e){const r=this.values;for(let n=0,a=r.length;n<a;++n){if(r[n+1]===e[n+1]){if(r[n+1]===bt&&e[n+7]!==r[n+7]){const o=e[n+7],l=new bt(this.values.splice(n+3,5))[o]().toArray();this.values.splice(n+3,0,...l)}n+=r[n+2]+2;continue}if(!e[n+1])return this;const i=new e[n+1]().toArray(),s=r[n+2]+3;r.splice(n,s,e[n],e[n+1],e[n+2],...i),n+=r[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const r=[];for(const n in e){const a=mW(e[n]),i=new a(e[n]).toArray();r.push([n,a,i.length,...i])}return r.sort(Kie),this.values=r.reduce((n,a)=>n.concat(a),[]),this}toArray(){return this.values}valueOf(){const e={},r=this.values;for(;r.length;){const n=r.shift(),a=r.shift(),i=r.shift(),s=r.splice(0,i);e[n]=new a(s)}return e}}const nj=[rj,Rm,xp];class Tu extends da{constructor(e,r=e){super(Et("path",e),r)}array(){return this._array||(this._array=new ai(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,r){return this.attr("d",this.array().move(e,r))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new ai(e))}size(e,r){const n=uh(this,e,r);return this.attr("d",this.array().size(n.width,n.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}Tu.prototype.MorphArray=ai,Je({Container:{path:Pt(function(t){return this.put(new Tu).plot(t||new ai)})}}),ht(Tu,"Path");var gW=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Uo(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return t==null?this.array():this.clear().attr("points",typeof t=="string"?t:this._array=new Uo(t))},size:function(t,e){const r=uh(this,t,e);return this.attr("points",this.array().size(r.width,r.height))}});class Nl extends da{constructor(e,r=e){super(Et("polygon",e),r)}}Je({Container:{polygon:Pt(function(t){return this.put(new Nl).plot(t||new Uo)})}}),$e(Nl,mN),$e(Nl,gW),ht(Nl,"Polygon");class Pl extends da{constructor(e,r=e){super(Et("polyline",e),r)}}Je({Container:{polyline:Pt(function(t){return this.put(new Pl).plot(t||new Uo)})}}),$e(Pl,mN),$e(Pl,gW),ht(Pl,"Polyline");class yv extends da{constructor(e,r=e){super(Et("rect",e),r)}}$e(yv,{rx:fN,ry:pN}),Je({Container:{rect:Pt(function(t,e){return this.put(new yv).size(t,e)})}}),ht(yv,"Rect");class Yw{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const r=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(r.prev=this._last,this._last.next=r,this._last=r):(this._last=r,this._first=r),r}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const yt={nextDraw:null,frames:new Yw,timeouts:new Yw,immediates:new Yw,timer:()=>dt.window.performance||dt.window.Date,transforms:[],frame(t){const e=yt.frames.push({run:t});return yt.nextDraw===null&&(yt.nextDraw=dt.window.requestAnimationFrame(yt._draw)),e},timeout(t,e){e=e||0;const r=yt.timer().now()+e,n=yt.timeouts.push({run:t,time:r});return yt.nextDraw===null&&(yt.nextDraw=dt.window.requestAnimationFrame(yt._draw)),n},immediate(t){const e=yt.immediates.push(t);return yt.nextDraw===null&&(yt.nextDraw=dt.window.requestAnimationFrame(yt._draw)),e},cancelFrame(t){t!=null&&yt.frames.remove(t)},clearTimeout(t){t!=null&&yt.timeouts.remove(t)},cancelImmediate(t){t!=null&&yt.immediates.remove(t)},_draw(t){let e=null;const r=yt.timeouts.last();for(;(e=yt.timeouts.shift())&&(t>=e.time?e.run():yt.timeouts.push(e),e!==r););let n=null;const a=yt.frames.last();for(;n!==a&&(n=yt.frames.shift());)n.run(t);let i=null;for(;i=yt.immediates.shift();)i();yt.nextDraw=yt.timeouts.first()||yt.frames.first()?dt.window.requestAnimationFrame(yt._draw):null}},Zie=function(t){const e=t.start,r=t.runner.duration();return{start:e,duration:r,end:e+r,runner:t.runner}},Qie=function(){const t=dt.window;return(t.performance||t.Date).now()};class vW extends Mm{constructor(e=Qie){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),r=e?e.runner.duration():0;return(e?e.start:this._time)+r}getEndTimeOfTimeline(){const e=this._runners.map(r=>r.start+r.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const r=this.speed();if(e==null)return this.speed(-r);const n=Math.abs(r);return this.speed(e?-n:n)}schedule(e,r,n){if(e==null)return this._runners.map(Zie);let a=0;const i=this.getEndTime();if(r=r||0,n==null||n==="last"||n==="after")a=i;else if(n==="absolute"||n==="start")a=r,r=0;else if(n==="now")a=this._time;else if(n==="relative"){const l=this.getRunnerInfoById(e.id);l&&(a=l.start+r,r=0)}else{if(n!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();a=l?l.start:this._time}}e.unschedule(),e.timeline(this);const s=e.persist(),o={persist:s===null?this._persist:s,start:a+r,runner:e};return this._lastRunnerId=e.id,this._runners.push(o),this._runners.sort((l,u)=>l.start-u.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const r=this._runnerIds.indexOf(e.id);return r<0||(this._runners.splice(r,1),this._runnerIds.splice(r,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return yt.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=yt.frame(this._step)),this)}_stepFn(e=!1){const r=this._timeSource();let n=r-this._lastSourceTime;e&&(n=0);const a=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=r,e||(this._time+=a,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let s=this._runners.length;s--;){const o=this._runners[s],l=o.runner;this._time-o.start<=0&&l.reset()}let i=!1;for(let s=0,o=this._runners.length;s<o;s++){const l=this._runners[s],u=l.runner;let d=a;const h=this._time-l.start;if(h<=0){i=!0;continue}h<d&&(d=h),u.active()&&(u.step(d).done?l.persist!==!0&&u.duration()-u.time()+this._time+l.persist<this._time&&(u.unschedule(),--s,--o):i=!0)}return i&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Je({Element:{timeline:function(t){return t==null?(this._timeline=this._timeline||new vW,this._timeline):(this._timeline=t,this)}}});class sa extends Mm{constructor(e){super(),this.id=sa.id++,e=typeof(e=e??Hw)=="function"?new py(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof py,this._stepper=this._isDeclarative?e:new QS,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new rt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,r,n){let a=1,i=!1,s=0;return r=r??$ie,n=n||"last",typeof(e=e??Hw)!="object"||e instanceof gN||(r=e.delay??r,n=e.when??n,i=e.swing||i,a=e.times??a,s=e.wait??s,e=e.duration??Hw),{duration:e,delay:r,swing:i,times:a,wait:s,when:n}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,r,n){const a=sa.sanitise(e,r,n),i=new sa(a.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(a).schedule(a.delay,a.when)}clearTransform(){return this.transforms=new rt,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new QS(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,r,n){return typeof e=="object"&&(r=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=r||!1,this._wait=n||0,this._times===!0&&(this._times=1/0),this}loops(e){const r=this._duration+this._wait;if(e==null){const i=Math.floor(this._time/r),s=(this._time-i*r)/this._duration;return Math.min(i+s,this._times)}const n=e%1,a=r*Math.floor(e)+this._duration*n;return this.time(a)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const r=this._time,n=this._duration,a=this._wait,i=this._times,s=this._swing,o=this._reverse;let l;if(e==null){const h=function(p){const g=s*Math.floor(p%(2*(a+n))/(a+n)),m=g&&!o||!g&&o,v=Math.pow(-1,m)*(p%(a+n))/n+m;return Math.max(Math.min(v,1),0)},f=i*(a+n)-a;return l=r<=0?Math.round(h(1e-5)):r<f?h(r):Math.round(h(f-1e-5)),l}const u=Math.floor(this.loops()),d=s&&u%2==0;return l=u+(d&&!o||o&&d?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,r,n,a){return this._queue.push({initialiser:e||YO,runner:r||YO,retarget:n,isTransform:a,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,r,n){if(e instanceof vW||(n=r,r=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,r,n),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const r=this.position(),n=this._lastPosition!==r&&this._time>=0;this._lastPosition=r;const a=this.duration(),i=this._lastTime<=0&&this._time>0,s=this._lastTime<a&&this._time>=a;this._lastTime=this._time,i&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!s&&this._time>=a,this._reseted=!1;let l=!1;return(n||o)&&(this._initialise(n),this.transforms=new rt,l=this._run(o?e:r),this.fire("step",this)),this.done=this.done||l&&o,s&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const r=e-this._time;return this.step(r),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let r=0,n=this._queue.length;r<n;++r){const a=this._queue[r],i=this._isDeclarative||!a.initialised&&e;e=!a.finished,i&&e&&(a.initialiser.call(this),a.initialised=!0)}}_rememberMorpher(e,r){if(this._history[e]={morpher:r,caller:this._queue[this._queue.length-1]},this._isDeclarative){const n=this.timeline();n&&n.play()}}_run(e){let r=!0;for(let n=0,a=this._queue.length;n<a;++n){const i=this._queue[n],s=i.runner.call(this,e);i.finished=i.finished||s===!0,r=r&&i.finished}return r}_tryRetarget(e,r,n){if(this._history[e]){if(!this._history[e].caller.initialised){const i=this._queue.indexOf(this._history[e].caller);return this._queue.splice(i,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,r,n):this._history[e].morpher.to(r),this._history[e].caller.finished=!1;const a=this.timeline();return a&&a.play(),!0}return!1}}sa.id=0;class my{constructor(e=new rt,r=-1,n=!0){this.transforms=e,this.id=r,this.done=n}clearTransformsFromQueue(){}}$e([sa,my],{mergeWith(t){return new my(t.transforms.lmultiply(this.transforms),t.id)}});const yW=(t,e)=>t.lmultiplyO(e),xW=t=>t.transforms;function Jie(){const t=this._transformationRunners.runners.map(xW).reduce(yW,new rt);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class ese{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const r=e.id+1;return this.runners.push(e),this.ids.push(r),this}clearBefore(e){const r=this.ids.indexOf(e+1)||1;return this.ids.splice(0,r,0),this.runners.splice(0,r,new my).forEach(n=>n.clearTransformsFromQueue()),this}edit(e,r){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,r),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let r=0;r<this.runners.length;++r){const n=this.runners[r];if(e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(n.id);const a=n.mergeWith(e);this.edit(e.id,a),e=a,--r}else e=n}return this}remove(e){const r=this.ids.indexOf(e+1);return this.ids.splice(r,1),this.runners.splice(r,1),this}}Je({Element:{animate(t,e,r){const n=sa.sanitise(t,e,r),a=this.timeline();return new sa(n.duration).loop(n).element(this).timeline(a.play()).schedule(n.delay,n.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(xW).reduce(yW,new rt)},_addRunner(t){this._transformationRunners.add(t),yt.cancelImmediate(this._frameId),this._frameId=yt.immediate(Jie.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new ese().add(new my(new rt(this))))}}});$e(sa,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,r){if(typeof e=="string")return this.styleAttr(t,{[e]:r});let n=e;if(this._tryRetarget(t,n))return this;let a=new vl(this._stepper).to(n),i=Object.keys(n);return this.queue(function(){a=a.from(this.element()[t](i))},function(s){return this.element()[t](a.at(s).valueOf()),a.done()},function(s){const o=Object.keys(s),l=(u=i,o.filter(h=>!u.includes(h)));var u;if(l.length){const h=this.element()[t](l),f=new xp(a.from()).valueOf();Object.assign(f,h),a.from(f)}const d=new xp(a.to()).valueOf();Object.assign(d,s),a.to(d),i=o,n=s}),this._rememberMorpher(t,a),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let r=new vl(this._stepper).to(new He(t));return this.queue(function(){r=r.from(this.element().zoom())},function(n){return this.element().zoom(r.at(n),e),r.done()},function(n,a){e=a,r.to(n)}),this._rememberMorpher("zoom",r),this},transform(t,e,r){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const n=rt.isMatrixLike(t);r=t.affine!=null?t.affine:r??!n;const a=new vl(this._stepper).type(r?Rm:rt);let i,s,o,l,u;return this.queue(function(){s=s||this.element(),i=i||KS(t,s),u=new rt(e?void 0:s),s._addRunner(this),e||s._clearTransformRunnersBefore(this)},function(d){e||this.clearTransform();const{x:h,y:f}=new _t(i).transform(s._currentTransform(this));let p=new rt({...t,origin:[h,f]}),g=this._isDeclarative&&o?o:u;if(r){p=p.decompose(h,f),g=g.decompose(h,f);const v=p.rotate,x=g.rotate,y=[v-360,v,v+360],b=y.map(k=>Math.abs(k-x)),w=Math.min(...b),S=b.indexOf(w);p.rotate=y[S]}e&&(n||(p.rotate=t.rotate||0),this._isDeclarative&&l&&(g.rotate=l)),a.from(g),a.to(p);const m=a.at(d);return l=m.rotate,o=new rt(m),this.addTransform(o),s._addRunner(this),a.done()},function(d){(d.origin||"center").toString()!==(t.origin||"center").toString()&&(i=KS(d,s)),t={...d,origin:i}},!0),this._isDeclarative&&this._rememberMorpher("transform",a),this},x(t){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},ax(t){return this._queueNumber("ax",t)},ay(t){return this._queueNumber("ay",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new He(e),this._tryRetarget(t,e))return this;const r=new vl(this._stepper).to(e);let n=null;return this.queue(function(){n=this.element()[t](),r.from(n),r.to(n+e)},function(a){return this.element()[t](r.at(a)),r.done()},function(a){r.to(n+new He(a))}),this._rememberMorpher(t,r),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const r=new vl(this._stepper).to(e);return this.queue(function(){r.from(this.element()[t]())},function(n){return this.element()[t](r.at(n)),r.done()}),this._rememberMorpher(t,r),this},_queueNumber(t,e){return this._queueObject(t,new He(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},amove(t,e){return this.ax(t).ay(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let r;return t&&e||(r=this._element.bbox()),t||(t=r.width/r.height*e),e||(e=r.height/r.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,r,n){if(arguments.length===4)return this.plot([t,e,r,n]);if(this._tryRetarget("plot",t))return this;const a=new vl(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){a.from(this._element.array())},function(i){return this._element.plot(a.at(i)),a.done()}),this._rememberMorpher("plot",a),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,r,n){return this._queueObject("viewbox",new ar(t,e,r,n))},update(t){return typeof t!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",t.offset),this)}}),$e(sa,{rx:fN,ry:pN,from:fW,to:pW}),ht(sa,"Runner");class aj extends An{constructor(e,r=e){super(Et("svg",e),r),this.namespace()}defs(){return this.isRoot()?xa(this.node.querySelector("defs"))||this.put(new Rb):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof dt.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:lN,version:"1.1"}).attr("xmlns:xlink",dh,zw):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,zw).attr("xmlns:svgjs",null,zw)}root(){return this.isRoot()?this:super.root()}}Je({Container:{nested:Pt(function(){return this.put(new aj)})}}),ht(aj,"Svg",!0);let ij=class extends An{constructor(t,e=t){super(Et("symbol",t),e)}};Je({Container:{symbol:Pt(function(){return this.put(new ij)})}}),ht(ij,"Symbol");var bW=Object.freeze({__proto__:null,amove:function(t,e){return this.ax(t).ay(e)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},build:function(t){return this._build=!!t,this},center:function(t,e,r=this.bbox()){return this.cx(t,r).cy(e,r)},cx:function(t,e=this.bbox()){return t==null?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return t==null?e.cy:this.attr("y",this.attr("y")+t-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(t,e,r=this.bbox()){return this.x(t,r).y(e,r)},plain:function(t){return this._build===!1&&this.clear(),this.node.appendChild(dt.document.createTextNode(t)),this},x:function(t,e=this.bbox()){return t==null?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return t==null?e.y:this.attr("y",this.attr("y")+t-e.y)}});class ii extends da{constructor(e,r=e){super(Et("text",e),r),this.dom.leading=this.dom.leading??new He(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new He(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const r=this;let n=0;const a=this.dom.leading;this.each(function(i){if(ZS(this.node))return;const s=dt.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=a*new He(s);this.dom.newLined&&(this.attr("x",r.attr("x")),this.text()===`
`?n+=o:(this.attr("dy",i?o+n:0),n=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new He(e.leading||1.3),this}writeDataToDom(){return ZB(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const r=this.node.childNodes;let n=0;e="";for(let a=0,i=r.length;a<i;++a)r[a].nodeName==="textPath"||ZS(r[a])?a===0&&(n=a+1):(a!==n&&r[a].nodeType!==3&&xa(r[a]).dom.newLined===!0&&(e+=`
`),e+=r[a].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let r=0,n=(e=(e+"").split(`
`)).length;r<n;r++)this.newLine(e[r]);return this.build(!1).rebuild()}}$e(ii,bW),Je({Container:{text:Pt(function(t=""){return this.put(new ii).text(t)}),plain:Pt(function(t=""){return this.put(new ii).plain(t)})}}),ht(ii,"Text");class xv extends da{constructor(e,r=e){super(Et("tspan",e),r),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof ii))return this;const r=e.index(this),n=dt.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=e.dom.leading*new He(n);return this.dy(r?a:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}$e(xv,bW),Je({Tspan:{tspan:Pt(function(t=""){const e=new xv;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),ht(xv,"Tspan");class Xw extends da{constructor(e,r=e){super(Et("circle",e),r)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new He(e).divide(2))}}$e(Xw,{x:sW,y:oW,cx:lW,cy:cW,width:uW,height:dW}),Je({Container:{circle:Pt(function(t=0){return this.put(new Xw).size(t).move(0,0)})}}),ht(Xw,"Circle");class Vw extends An{constructor(e,r=e){super(Et("clipPath",e),r)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Pc("svg [clip-path*="+this.id()+"]")}}Je({Container:{clip:Pt(function(){return this.defs().put(new Vw)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof Vw?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),ht(Vw,"ClipPath");class qO extends Ur{constructor(e,r=e){super(Et("foreignObject",e),r)}}Je({Container:{foreignObject:Pt(function(t,e){return this.put(new qO).size(t,e)})}}),ht(qO,"ForeignObject");var wW=Object.freeze({__proto__:null,dmove:function(t,e){return this.children().forEach(r=>{let n;try{n=r.node instanceof Tm().SVGSVGElement?new ar(r.attr(["x","y","width","height"])):r.bbox()}catch{return}const a=new rt(r),i=a.translate(t,e).transform(a.inverse()),s=new _t(n.x,n.y).transform(i);r.move(s.x,s.y)}),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return t==null?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,r=this.bbox()){const n=t-r.x,a=e-r.y;return this.dmove(n,a)},size:function(t,e,r=this.bbox()){const n=uh(this,t,e,r),a=n.width/r.width,i=n.height/r.height;return this.children().forEach(s=>{const o=new _t(r).transform(new rt(s).inverse());s.scale(a,i,o.x,o.y)}),this},width:function(t,e=this.bbox()){return t==null?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return t==null?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return t==null?e.y:this.move(e.x,t,e)}});class To extends An{constructor(e,r=e){super(Et("g",e),r)}}$e(To,wW),Je({Container:{group:Pt(function(){return this.put(new To)})}}),ht(To,"G");let Rg=class extends An{constructor(e,r=e){super(Et("a",e),r)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,dh)}};$e(Rg,wW),Je({Container:{link:Pt(function(t){return this.put(new Rg).to(t)})},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const r=e.index(t);return e.add(this,r),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new Rg,this.wrap(e)),typeof t=="function"?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&t.node.nodeName.toLowerCase()==="a"?t:null}}}),ht(Rg,"A");class qw extends An{constructor(e,r=e){super(Et("mask",e),r)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Pc("svg [mask*="+this.id()+"]")}}Je({Container:{mask:Pt(function(){return this.defs().put(new qw)})},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof qw?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),ht(qw,"Mask");class GO extends Ur{constructor(e,r=e){super(Et("stop",e),r)}update(e){return(typeof e=="number"||e instanceof He)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new He(e.offset)),this}}Je({Gradient:{stop:function(t,e,r){return this.put(new GO).update(t,e,r)}}}),ht(GO,"Stop");class Gw extends Ur{constructor(e,r=e){super(Et("style",e),r)}addText(e=""){return this.node.textContent+=e,this}font(e,r,n={}){return this.rule("@font-face",{fontFamily:e,src:r,...n})}rule(e,r){return this.addText(function(n,a){if(!n)return"";if(!a)return n;let i=n+"{";for(const s in a)i+=s.replace(/([A-Z])/g,function(o,l){return"-"+l.toLowerCase()})+":"+a[s]+";";return i+="}",i}(e,r))}}Je("Dom",{style(t,e){return this.put(new Gw).rule(t,e)},fontface(t,e,r){return this.put(new Gw).font(t,e,r)}}),ht(Gw,"Style");class Kw extends ii{constructor(e,r=e){super(Et("textPath",e),r)}array(){const e=this.track();return e?e.array():null}plot(e){const r=this.track();let n=null;return r&&(n=r.plot(e)),e==null?n:this}track(){return this.reference("href")}}Je({Container:{textPath:Pt(function(t,e){return t instanceof ii||(t=this.text(t)),t.path(e)})},Text:{path:Pt(function(t,e=!0){const r=new Kw;let n;if(t instanceof Tu||(t=this.defs().path(t)),r.attr("href","#"+t,dh),e)for(;n=this.node.firstChild;)r.node.appendChild(n);return this.put(r)}),textPath(){return this.findOne("textPath")}},Path:{text:Pt(function(t){return t instanceof ii||(t=new ii().addTo(this.parent()).text(t)),t.path(this)}),targets(){return Pc("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}}),Kw.prototype.MorphArray=ai,ht(Kw,"TextPath");class KO extends da{constructor(e,r=e){super(Et("use",e),r)}use(e,r){return this.attr("href",(r||"")+"#"+e,dh)}}Je({Container:{use:Pt(function(t,e){return this.put(new KO).use(t,e)})}}),ht(KO,"Use");const tse=vn;$e([aj,ij,gv,yp,vv],Pn("viewbox")),$e([Al,Pl,Nl,Tu],Pn("marker")),$e(ii,Pn("Text")),$e(Tu,Pn("Path")),$e(Rb,Pn("Defs")),$e([ii,xv],Pn("Tspan")),$e([yv,mv,Rf,sa],Pn("radius")),$e(Mm,Pn("EventTarget")),$e(Ho,Pn("Dom")),$e(Ur,Pn("Element")),$e(da,Pn("Shape")),$e([An,hW],Pn("Container")),$e(Rf,Pn("Gradient")),$e(sa,Pn("Runner")),uc.extend([...new Set(GB)]),function(t=[]){nj.push(...[].concat(t))}([He,bt,ar,rt,dc,Uo,ai,_t]),$e(nj,{to(t){return new vl().type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,r,n,a){return this.fromArray(t.map(function(i,s){return n.step(i,e[s],r,a[s],a)}))}});class Ft extends Ur{constructor(e){super(Et("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,r){return!(e=super.put(e,r)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Pc('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class vN extends Ur{constructor(e,r){super(e,r),this.result(this.id())}in(e){if(e==null){const r=this.attr("in");return this.parent()&&this.parent().find(`[result="${r}"]`)[0]||r}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const ha=t=>function(...e){for(let r=t.length;r--;)e[r]!=null&&this.attr(t[r],e[r])},rse={blend:ha(["in","in2","mode"]),colorMatrix:ha(["type","values"]),composite:ha(["in","in2","operator"]),convolveMatrix:function(t){t=new dc(t).toString(),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},diffuseLighting:ha(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:ha(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:ha(["in","dx","dy","stdDeviation"]),flood:ha(["flood-color","flood-opacity"]),gaussianBlur:function(t=0,e=t){this.attr("stdDeviation",t+" "+e)},image:function(t){this.attr("href",t,dh)},morphology:ha(["operator","radius"]),offset:ha(["dx","dy"]),specularLighting:ha(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:ha([]),turbulence:ha(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(t=>{const e=ch(t),r=rse[t];Ft[e+"Effect"]=class extends vN{constructor(n){super(Et("fe"+e,n),n)}update(n){return r.apply(this,n),this}},Ft.prototype[t]=Pt(function(n,...a){const i=new Ft[e+"Effect"];return n==null?this.put(i):(typeof n=="function"?n.call(i,i):a.unshift(n),this.put(i).update(a))})}),$e(Ft,{merge(t){const e=this.put(new Ft.MergeEffect);return typeof t=="function"?(t.call(e,e),e):((t instanceof Array?t:[...arguments]).forEach(r=>{r instanceof Ft.MergeNode?e.put(r):e.mergeNode(r)}),e)},componentTransfer(t={}){const e=this.put(new Ft.ComponentTransferEffect);if(typeof t=="function")return t.call(e,e),e;t.r||t.g||t.b||t.a||(t={r:t,g:t,b:t,a:t});for(const r in t)e.add(new Ft["Func"+r.toUpperCase()](t[r]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(t=>{const e=ch(t);Ft[e]=class extends vN{constructor(r){super(Et("fe"+e,r),r)}}});["funcR","funcG","funcB","funcA"].forEach(function(t){const e=Ft[ch(t)],r=Pt(function(){return this.put(new e)});Ft.ComponentTransferEffect.prototype[t]=r});["distantLight","pointLight","spotLight"].forEach(t=>{const e=Ft[ch(t)],r=Pt(function(){return this.put(new e)});Ft.DiffuseLightingEffect.prototype[t]=r,Ft.SpecularLightingEffect.prototype[t]=r}),$e(Ft.MergeEffect,{mergeNode(t){return this.put(new Ft.MergeNode).attr("in",t)}}),$e(Rb,{filter:function(t){const e=this.put(new Ft);return typeof t=="function"&&t.call(e,e),e}}),$e(An,{filter:function(t){return this.defs().filter(t)}}),$e(Ur,{filterWith:function(t){const e=t instanceof Ft?t:this.defs().filter(t);return this.attr("filter",e)},unfilter:function(t){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const nse={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},diffuseLighting:function(t,e,r,n){return this.parent()&&this.parent().diffuseLighting(t,r,n).in(this)},displacementMap:function(t,e,r,n){return this.parent()&&this.parent().displacementMap(this,t,e,r,n)},dropShadow:function(t,e,r){return this.parent()&&this.parent().dropShadow(this,t,e,r).in(this)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(t){return t=t instanceof Array?t:[...t],this.parent()&&this.parent().merge(this,...t)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},specularLighting:function(t,e,r,n,a){return this.parent()&&this.parent().specularLighting(t,r,n,a).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,r,n,a){return this.parent()&&this.parent().turbulence(t,e,r,n,a).in(this)}};$e(vN,nse),$e(Ft.MergeEffect,{in:function(t){return t instanceof Ft.MergeNode?this.add(t,0):this.add(new Ft.MergeNode().in(t),0),this}}),$e([Ft.CompositeEffect,Ft.BlendEffect,Ft.DisplacementMapEffect],{in2:function(t){if(t==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",t)}}),Ft.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Fr=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"getDefaultFilter",value:function(e,r){var n=this.w;e.unfilter(!0),new Ft().size("120%","180%","-5%","-40%"),n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,r)}},{key:"applyFilter",value:function(e,r,n){var a,i=this,s=this.w;if(e.unfilter(!0),n!=="none"){var o,l,u=s.config.chart.dropShadow,d=n==="lighten"?2:.3;e.filterWith(function(h){h.colorMatrix({type:"matrix",values:`
          `.concat(d,` 0 0 0 0
          0 `).concat(d,` 0 0 0
          0 0 `).concat(d,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),u.enabled&&i.addShadow(h,r,u,"brightness")}),!u.noUserSpaceOnUse&&((o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node)}else this.getDefaultFilter(e,r)}},{key:"addShadow",value:function(e,r,n,a){var i,s=this.w,o=n.blur,l=n.top,u=n.left,d=n.color,h=n.opacity;if(d=Array.isArray(d)?d[r]:d,((i=s.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&s.config.chart.dropShadow.enabledOnSeries.indexOf(r)===-1)return e;e.offset({in:a,dx:u,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),e.flood({"flood-color":d,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",a])}},{key:"dropShadow",value:function(e,r){var n,a,i,s,o,l=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=this.w;return e.unfilter(!0),U.isMsEdge()&&d.config.chart.type==="radialBar"||((n=d.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&((i=d.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.indexOf(u))===-1?e:(e.filterWith(function(h){l.addShadow(h,u,r,"SourceGraphic")}),r.noUserSpaceOnUse||(s=e.filterer())===null||s===void 0||(o=s.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node),e)}},{key:"setSelectionFilter",value:function(e,r,n){var a=this.w;if(a.globals.selectedDataPoints[r]!==void 0&&a.globals.selectedDataPoints[r].indexOf(n)>-1){e.node.setAttribute("selected",!0);var i=a.config.states.active.filter;i!=="none"&&this.applyFilter(e,r,i.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(r){for(var n in r)r.hasOwnProperty(n)&&e.setAttribute(n,r[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),ce=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"roundPathCorners",value:function(e,r){function n(A,N,P){var E=N.x-A.x,O=N.y-A.y,T=Math.sqrt(E*E+O*O);return a(A,N,Math.min(1,P/T))}function a(A,N,P){return{x:A.x+(N.x-A.x)*P,y:A.y+(N.y-A.y)*P}}function i(A,N){A.length>2&&(A[A.length-2]=N.x,A[A.length-1]=N.y)}function s(A){return{x:parseFloat(A[A.length-2]),y:parseFloat(A[A.length-1])}}e.indexOf("NaN")>-1&&(e="");var o=e.split(/[,\s]/).reduce(function(A,N){var P=N.match(/^([a-zA-Z])(.+)/);return P?(A.push(P[1]),A.push(P[2])):A.push(N),A},[]).reduce(function(A,N){return parseFloat(N)==N&&A.length?A[A.length-1].push(N):A.push([N]),A},[]),l=[];if(o.length>1){var u=s(o[0]),d=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(d=["L",u.x,u.y],o[o.length-1]=d),l.push(o[0]);for(var h=1;h<o.length;h++){var f=l[l.length-1],p=o[h],g=p==d?o[1]:o[h+1];if(g&&f&&f.length>2&&p[0]=="L"&&g.length>2&&g[0]=="L"){var m,v,x=s(f),y=s(p),b=s(g);m=n(y,x,r),v=n(y,b,r),i(p,m),p.origPoint=y,l.push(p);var w=a(m,y,.5),S=a(y,v,.5),k=["C",w.x,w.y,S.x,S.y,v.x,v.y];k.origPoint=y,l.push(k)}else l.push(p)}if(d){var C=s(l[l.length-1]);l.push(["Z"]),i(l[0],C)}}else l=o;return l.reduce(function(A,N){return A+N.join(" ")+" "},"")}},{key:"drawLine",value:function(e,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:r,x2:n,y2:a,stroke:i,"stroke-dasharray":s,"stroke-width":o,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,d=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,h=this.w.globals.dom.Paper.rect();return h.attr({x:e,y:r,width:n>0?n:0,height:a>0?a:0,rx:i,ry:i,opacity:o,"stroke-width":l!==null?l:0,stroke:u!==null?u:"none","stroke-dasharray":d}),h.node.setAttribute("fill",s),h}},{key:"drawPolygon",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:a,stroke:r,"stroke-width":n})}},{key:"drawCircle",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return r!==null&&n.attr(r),n}},{key:"drawPath",value:function(e){var r=e.d,n=r===void 0?"":r,a=e.stroke,i=a===void 0?"#a8a8a8":a,s=e.strokeWidth,o=s===void 0?1:s,l=e.fill,u=e.fillOpacity,d=u===void 0?1:u,h=e.strokeOpacity,f=h===void 0?1:h,p=e.classes,g=e.strokeLinecap,m=g===void 0?null:g,v=e.strokeDashArray,x=v===void 0?0:v,y=this.w;return m===null&&(m=y.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(y.globals.gridHeight)),y.globals.dom.Paper.path(n).attr({fill:l,"fill-opacity":d,stroke:i,"stroke-opacity":f,"stroke-linecap":m,"stroke-width":o,"stroke-dasharray":x,class:p})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w.globals.dom.Paper.group();return e!==null&&r.attr(e),r}},{key:"move",value:function(e,r){var n=["M",e,r].join(" ");return n}},{key:"line",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=null;return n===null?a=[" L",e,r].join(" "):n==="H"?a=[" H",e].join(" "):n==="V"&&(a=[" V",r].join(" ")),a}},{key:"curve",value:function(e,r,n,a,i,s){var o=["C",e,r,n,a,i,s].join(" ");return o}},{key:"quadraticCurve",value:function(e,r,n,a){return["Q",e,r,n,a].join(" ")}},{key:"arc",value:function(e,r,n,a,i,s,o){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var u=[l,e,r,n,a,i,s,o].join(" ");return u}},{key:"renderPaths",value:function(e){var r,n=e.j,a=e.realIndex,i=e.pathFrom,s=e.pathTo,o=e.stroke,l=e.strokeWidth,u=e.strokeLinecap,d=e.fill,h=e.animationDelay,f=e.initialSpeed,p=e.dataChangeSpeed,g=e.className,m=e.chartType,v=e.shouldClipToGrid,x=v===void 0||v,y=e.bindEventsOnPaths,b=y===void 0||y,w=e.drawShadow,S=w===void 0||w,k=this.w,C=new Fr(this.ctx),A=new lh(this.ctx),N=this.w.config.chart.animations.enabled,P=N&&this.w.config.chart.animations.dynamicAnimation.enabled;if(i&&i.startsWith("M 0 0")&&s){var E=s.match(/^M\s+[\d.-]+\s+[\d.-]+/);E&&(i=i.replace(/^M\s+0\s+0/,E[0]))}var O=!!(N&&!k.globals.resized||P&&k.globals.dataChanged&&k.globals.shouldAnimate);O?r=i:(r=s,k.globals.animationEnded=!0);var T=k.config.stroke.dashArray,M=0;M=Array.isArray(T)?T[a]:k.config.stroke.dashArray;var L=this.drawPath({d:r,stroke:o,strokeWidth:l,fill:d,fillOpacity:1,classes:g,strokeLinecap:u,strokeDashArray:M});L.attr("index",a),x&&(m==="bar"&&!k.globals.isHorizontal||k.globals.comboCharts?L.attr({"clip-path":"url(#gridRectBarMask".concat(k.globals.cuid,")")}):L.attr({"clip-path":"url(#gridRectMask".concat(k.globals.cuid,")")})),k.config.chart.dropShadow.enabled&&S&&C.dropShadow(L,k.config.chart.dropShadow,a),b&&(L.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,L)),L.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,L)),L.node.addEventListener("mousedown",this.pathMouseDown.bind(this,L))),L.attr({pathTo:s,pathFrom:i});var I={el:L,j:n,realIndex:a,pathFrom:i,pathTo:s,fill:d,strokeWidth:l,delay:h};return!N||k.globals.resized||k.globals.dataChanged?!k.globals.resized&&k.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually(ye(ye({},I),{},{speed:f})),k.globals.dataChanged&&P&&O&&A.animatePathsGradually(ye(ye({},I),{},{speed:p})),L}},{key:"drawPattern",value:function(e,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(r,n,function(s){e==="horizontalLines"?s.line(0,0,n,0).stroke({color:a,width:i+1}):e==="verticalLines"?s.line(0,0,0,r).stroke({color:a,width:i+1}):e==="slantedLines"?s.line(0,0,r,n).stroke({color:a,width:i}):e==="squares"?s.rect(r,n).fill("none").stroke({color:a,width:i}):e==="circles"&&s.circle(r).fill("none").stroke({color:a,width:i})})}},{key:"drawGradient",value:function(e,r,n,a,i){var s,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,h=this.w;r.length<9&&r.indexOf("#")===0&&(r=U.hexToRgba(r,a)),n.length<9&&n.indexOf("#")===0&&(n=U.hexToRgba(n,i));var f=0,p=1,g=1,m=null;l!==null&&(f=l[0]!==void 0?l[0]/100:0,p=l[1]!==void 0?l[1]/100:1,g=l[2]!==void 0?l[2]/100:1,m=l[3]!==void 0?l[3]/100:null);var v=!(h.config.chart.type!=="donut"&&h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="bubble");if(s=u&&u.length!==0?h.globals.dom.Paper.gradient(v?"radial":"linear",function(b){(Array.isArray(u[d])?u[d]:u).forEach(function(w){b.stop(w.offset/100,w.color,w.opacity)})}):h.globals.dom.Paper.gradient(v?"radial":"linear",function(b){b.stop(f,r,a),b.stop(p,n,i),b.stop(g,n,i),m!==null&&b.stop(m,r,a)}),v){var x=h.globals.gridWidth/2,y=h.globals.gridHeight/2;h.config.chart.type!=="bubble"?s.attr({gradientUnits:"userSpaceOnUse",cx:x,cy:y,r:o}):s.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?s.from(0,0).to(0,1):e==="diagonal"?s.from(0,0).to(1,1):e==="horizontal"?s.from(0,1).to(1,1):e==="diagonal2"&&s.from(1,0).to(0,1);return s}},{key:"getTextBasedOnMaxWidth",value:function(e){var r=e.text,n=e.maxWidth,a=e.fontSize,i=e.fontFamily,s=this.getTextRects(r,a,i),o=s.width/r.length,l=Math.floor(n/o);return n<s.width?r.slice(0,l-3)+"...":r}},{key:"drawText",value:function(e){var r=this,n=e.x,a=e.y,i=e.text,s=e.textAnchor,o=e.fontSize,l=e.fontFamily,u=e.fontWeight,d=e.foreColor,h=e.opacity,f=e.maxWidth,p=e.cssClass,g=p===void 0?"":p,m=e.isPlainText,v=m===void 0||m,x=e.dominantBaseline,y=x===void 0?"auto":x,b=this.w;i===void 0&&(i="");var w=i;s||(s="start"),d&&d.length||(d=b.config.chart.foreColor),l=l||b.config.chart.fontFamily,u=u||"regular";var S,k={maxWidth:f,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(i)?S=b.globals.dom.Paper.text(function(C){for(var A=0;A<i.length;A++)w=i[A],f&&(w=r.getTextBasedOnMaxWidth(ye({text:i[A]},k))),A===0?C.tspan(w):C.tspan(w).newLine()}):(f&&(w=this.getTextBasedOnMaxWidth(ye({text:i},k))),S=v?b.globals.dom.Paper.plain(i):b.globals.dom.Paper.text(function(C){return C.tspan(w)})),S.attr({x:n,y:a,"text-anchor":s,"dominant-baseline":y,"font-size":o,"font-family":l,"font-weight":u,fill:d,class:"apexcharts-text "+g}),S.node.style.fontFamily=l,S.node.style.opacity=h,S}},{key:"getMarkerPath",value:function(e,r,n,a){var i="";switch(n){case"cross":i="M ".concat(e-(a/=1.4)," ").concat(r-a," L ").concat(e+a," ").concat(r+a,"  M ").concat(e-a," ").concat(r+a," L ").concat(e+a," ").concat(r-a);break;case"plus":i="M ".concat(e-(a/=1.12)," ").concat(r," L ").concat(e+a," ").concat(r,"  M ").concat(e," ").concat(r-a," L ").concat(e," ").concat(r+a);break;case"star":case"sparkle":var s=5;a*=1.15,n==="sparkle"&&(a/=1.1,s=4);for(var o=Math.PI/s,l=0;l<=2*s;l++){var u=l*o,d=l%2==0?a:a/2;i+=(l===0?"M":"L")+(e+d*Math.sin(u))+","+(r-d*Math.cos(u))}i+="Z";break;case"triangle":i="M ".concat(e," ").concat(r-a,` 
             L `).concat(e+a," ").concat(r+a,` 
             L `).concat(e-a," ").concat(r+a,` 
             Z`);break;case"square":case"rect":i="M ".concat(e-(a/=1.125)," ").concat(r-a,` 
           L `).concat(e+a," ").concat(r-a,` 
           L `).concat(e+a," ").concat(r+a,` 
           L `).concat(e-a," ").concat(r+a,` 
           Z`);break;case"diamond":a*=1.05,i="M ".concat(e," ").concat(r-a,` 
             L `).concat(e+a," ").concat(r,` 
             L `).concat(e," ").concat(r+a,` 
             L `).concat(e-a," ").concat(r,` 
            Z`);break;case"line":i="M ".concat(e-(a/=1.1)," ").concat(r,` 
           L `).concat(e+a," ").concat(r);break;default:a*=2,i="M ".concat(e,", ").concat(r,` 
           m -`).concat(a/2,`, 0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,`,0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return i}},{key:"drawMarkerShape",value:function(e,r,n,a,i){var s=this.drawPath({d:this.getMarkerPath(e,r,n,a,i),stroke:i.pointStrokeColor,strokeDashArray:i.pointStrokeDashArray,strokeWidth:i.pointStrokeWidth,fill:i.pointFillColor,fillOpacity:i.pointFillOpacity,strokeOpacity:i.pointStrokeOpacity});return s.attr({cx:e,cy:r,shape:i.shape,class:i.class?i.class:""}),s}},{key:"drawMarker",value:function(e,r,n){e=e||0;var a=n.pSize||0;return U.isNumber(r)||(a=0,r=0),this.drawMarkerShape(e,r,n==null?void 0:n.shape,a,ye(ye({},n),n.shape==="line"||n.shape==="plus"||n.shape==="cross"?{pointStrokeColor:n.pointFillColor,pointStrokeOpacity:n.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,r){var n=this.w,a=new Fr(this.ctx),i=parseInt(e.node.getAttribute("index"),10),s=parseInt(e.node.getAttribute("j"),10);if(typeof n.config.chart.events.dataPointMouseEnter=="function"&&n.config.chart.events.dataPointMouseEnter(r,this.ctx,{seriesIndex:i,dataPointIndex:s,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[r,this.ctx,{seriesIndex:i,dataPointIndex:s,w:n}]),(n.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&n.config.states.hover.filter.type!=="none"&&!n.globals.isTouchDevice){var o=n.config.states.hover.filter;a.applyFilter(e,i,o.type)}}},{key:"pathMouseLeave",value:function(e,r){var n=this.w,a=new Fr(this.ctx),i=parseInt(e.node.getAttribute("index"),10),s=parseInt(e.node.getAttribute("j"),10);typeof n.config.chart.events.dataPointMouseLeave=="function"&&n.config.chart.events.dataPointMouseLeave(r,this.ctx,{seriesIndex:i,dataPointIndex:s,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[r,this.ctx,{seriesIndex:i,dataPointIndex:s,w:n}]),n.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||n.config.states.hover.filter.type!=="none"&&a.getDefaultFilter(e,i)}},{key:"pathMouseDown",value:function(e,r){var n=this.w,a=new Fr(this.ctx),i=parseInt(e.node.getAttribute("index"),10),s=parseInt(e.node.getAttribute("j"),10),o="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[i].indexOf(s)>-1){var l=n.globals.selectedDataPoints[i].indexOf(s);n.globals.selectedDataPoints[i].splice(l,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var u=n.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),d=n.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),h=function(g){Array.prototype.forEach.call(g,function(m){m.node.setAttribute("selected","false"),a.getDefaultFilter(m,i)})};h(u),h(d)}e.node.setAttribute("selected","true"),o="true",n.globals.selectedDataPoints[i]===void 0&&(n.globals.selectedDataPoints[i]=[]),n.globals.selectedDataPoints[i].push(s)}if(o==="true"){var f=n.config.states.active.filter;if(f!=="none")a.applyFilter(e,i,f.type);else if(n.config.states.hover.filter!=="none"&&!n.globals.isTouchDevice){var p=n.config.states.hover.filter;a.applyFilter(e,i,p.type)}}else n.config.states.active.filter.type!=="none"&&(n.config.states.hover.filter.type==="none"||n.globals.isTouchDevice?a.getDefaultFilter(e,i):(p=n.config.states.hover.filter,a.applyFilter(e,i,p.type)));typeof n.config.chart.events.dataPointSelection=="function"&&n.config.chart.events.dataPointSelection(r,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:s,w:n}),r&&this.ctx.events.fireEvent("dataPointSelection",[r,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:s,w:n}])}},{key:"rotateAroundCenter",value:function(e){var r={};return e&&typeof e.getBBox=="function"&&(r=e.getBBox()),{x:r.x+r.width/2,y:r.y+r.height/2}}},{key:"getTextRects",value:function(e,r,n,a){var i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],s=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:r,fontFamily:n,foreColor:"#fff",opacity:0});a&&o.attr("transform",a),s.globals.dom.Paper.add(o);var l=o.bbox();return i||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,r,n){if(typeof e.getComputedTextLength=="function"&&(e.textContent=r,r.length>0&&e.getComputedTextLength()>=n/1.1)){for(var a=r.length-3;a>0;a-=3)if(e.getSubStringLength(0,a)<=n/1.1)return void(e.textContent=r.substring(0,a)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,r){for(var n in r)r.hasOwnProperty(n)&&e.setAttribute(n,r[n])}}]),t}(),ir=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=this.w,n=[];if(r.globals.series.length===0)return n;for(var a=0;a<r.globals.series[r.globals.maxValsInArrayIndex].length;a++){for(var i=0,s=0;s<r.globals.series.length;s++)r.globals.series[s][a]!==void 0&&e.indexOf(s)===-1&&(i+=r.globals.series[s][a]);n.push(i)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(r,n){return r+n},0):this.w.globals.series[e].reduce(function(r,n){return r+n},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,r=this.w,n=[];return r.globals.seriesGroups.forEach(function(a){var i=[];r.config.series.forEach(function(o,l){a.indexOf(r.globals.seriesNames[l])>-1&&i.push(l)});var s=r.globals.series.map(function(o,l){return i.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1});n.push(e.getStackedSeriesTotals(s))}),n}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,r=this.w.config,n=[],a=[],i=[],s=e.series.length>r.yaxis.length||r.yaxis.some(function(h){return Array.isArray(h.seriesName)});r.series.forEach(function(h,f){i.push(f),a.push(null)}),r.yaxis.forEach(function(h,f){n[f]=[]});var o=[];r.yaxis.forEach(function(h,f){var p=!1;if(h.seriesName){var g=[];Array.isArray(h.seriesName)?g=h.seriesName:g.push(h.seriesName),g.forEach(function(m){r.series.forEach(function(v,x){if(v.name===m){var y=x;f===x||s?!s||i.indexOf(x)>-1?n[f].push([f,x]):console.warn("Series '"+v.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(n[x].push([x,f]),y=f),p=!0,(y=i.indexOf(y))!==-1&&i.splice(y,1)}})})}p||o.push(f)}),n=n.map(function(h,f){var p=[];return h.forEach(function(g){a[g[1]]=g[0],p.push(g[1])}),p});for(var l=r.yaxis.length-1,u=0;u<o.length&&(l=o[u],n[l]=[],i);u++){var d=i[0];i.shift(),n[l].push(d),a[d]=l}i.forEach(function(h){n[l].push(h),a[h]=l}),e.seriesYAxisMap=n.map(function(h){return h}),e.seriesYAxisReverseMap=a.map(function(h){return h}),e.seriesYAxisMap.forEach(function(h,f){h.forEach(function(p){r.series[p]&&r.series[p].group===void 0&&(r.series[p].group="apexcharts-axis-".concat(f.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(r){return r!==null}):this.w.config.series[e].data.filter(function(r){return r!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(r,n,a){return r===a[0]})}},{key:"getCategoryLabels",value:function(e){var r=this.w,n=e.slice();return r.config.xaxis.convertedCatToNumeric&&(n=e.map(function(a,i){return r.config.xaxis.labels.formatter(a-r.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(r){return r.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(r){return r.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,r=0;return e.globals.markers.size.forEach(function(n){r=Math.max(r,n)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(n){r=Math.max(r,n.size)}),r>0&&(e.config.markers.hover.size>0?r=e.config.markers.hover.size:r+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=r,r}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(r,n){var a=0;if(Array.isArray(r))for(var i=0;i<r.length;i++)a+=r[i];else a+=r;return a})}},{key:"getSeriesTotalsXRange",value:function(e,r){var n=this.w;return n.globals.series.map(function(a,i){for(var s=0,o=0;o<a.length;o++)n.globals.seriesX[i][o]>e&&n.globals.seriesX[i][o]<r&&(s+=a[o]);return s})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(r,n){var a=[];if(Array.isArray(r))for(var i=0;i<r.length;i++){var s=e.globals.stackedSeriesTotals[i],o=0;s&&(o=100*r[i]/s),a.push(o)}else{var l=100*r/e.globals.seriesTotals.reduce(function(u,d){return u+d},0);a.push(l)}return a})}},{key:"getCalculatedRatios",value:function(){var e,r,n,a=this,i=this.w,s=i.globals,o=[],l=0,u=[],d=.1,h=0;if(s.yRange=[],s.isMultipleYAxis)for(var f=0;f<s.minYArr.length;f++)s.yRange.push(Math.abs(s.minYArr[f]-s.maxYArr[f])),u.push(0);else s.yRange.push(Math.abs(s.minY-s.maxY));s.xRange=Math.abs(s.maxX-s.minX),s.zRange=Math.abs(s.maxZ-s.minZ);for(var p=0;p<s.yRange.length;p++)o.push(s.yRange[p]/s.gridHeight);if(r=s.xRange/s.gridWidth,e=s.yRange/s.gridWidth,n=s.xRange/s.gridHeight,(l=s.zRange/s.gridHeight*16)||(l=1),s.minY!==Number.MIN_VALUE&&Math.abs(s.minY)!==0&&(s.hasNegs=!0),i.globals.seriesYAxisReverseMap.length>0){var g=function(v,x){var y=i.config.yaxis[i.globals.seriesYAxisReverseMap[x]],b=v<0?-1:1;return v=Math.abs(v),y.logarithmic&&(v=a.getBaseLog(y.logBase,v)),-b*v/o[x]};if(s.isMultipleYAxis){u=[];for(var m=0;m<o.length;m++)u.push(g(s.minYArr[m],m))}else(u=[]).push(g(s.minY,0)),s.minY!==Number.MIN_VALUE&&Math.abs(s.minY)!==0&&(d=-s.minY/e,h=s.minX/r)}else(u=[]).push(0),d=0,h=0;return{yRatio:o,invertedYRatio:e,zRatio:l,xRatio:r,invertedXRatio:n,baseLineInvertedY:d,baseLineY:u,baseLineX:h}}},{key:"getLogSeries",value:function(e){var r=this,n=this.w;return n.globals.seriesLog=e.map(function(a,i){var s=n.globals.seriesYAxisReverseMap[i];return n.config.yaxis[s]&&n.config.yaxis[s].logarithmic?a.map(function(o){return o===null?null:r.getLogVal(n.config.yaxis[s].logBase,o,i)}):a}),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,r){if(e===null)return null;var n=this.w,a=n.globals.seriesYAxisReverseMap[r];return n.config.yaxis[a]&&n.config.yaxis[a].logarithmic?this.getLogVal(n.config.yaxis[a].logBase,e,r):e}},{key:"getBaseLog",value:function(e,r){return Math.log(r)/Math.log(e)}},{key:"getLogVal",value:function(e,r,n){if(r<=0)return 0;var a=this.w,i=a.globals.minYArr[n]===0?-1:this.getBaseLog(e,a.globals.minYArr[n]),s=(a.globals.maxYArr[n]===0?0:this.getBaseLog(e,a.globals.maxYArr[n]))-i;return r<1?r/s:(this.getBaseLog(e,r)-i)/s}},{key:"getLogYRatios",value:function(e){var r=this,n=this.w,a=this.w.globals;return a.yLogRatio=e.slice(),a.logYRange=a.yRange.map(function(i,s){var o=n.globals.seriesYAxisReverseMap[s];if(n.config.yaxis[o]&&r.w.config.yaxis[o].logarithmic){var l,u=-Number.MAX_VALUE,d=Number.MIN_VALUE;return a.seriesLog.forEach(function(h,f){h.forEach(function(p){n.config.yaxis[f]&&n.config.yaxis[f].logarithmic&&(u=Math.max(p,u),d=Math.min(p,d))})}),l=Math.pow(a.yRange[s],Math.abs(d-u)/a.yRange[s]),a.yLogRatio[s]=l/a.gridHeight,l}}),a.invalidLogScale?e.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,r,n,a){var i=this.w,s=[];return e.series.length>0&&r.forEach(function(o){var l=[],u=[];e.i.forEach(function(d,h){i.config.series[d].group===o&&(l.push(e.series[h]),u.push(d))}),l.length>0&&s.push(a.draw(l,n,u))}),s}}],[{key:"checkComboSeries",value:function(e,r){var n=!1,a=0,i=0;return r===void 0&&(r="line"),e.length&&e[0].type!==void 0&&e.forEach(function(s){s.type!=="bar"&&s.type!=="column"&&s.type!=="candlestick"&&s.type!=="boxPlot"||a++,s.type!==void 0&&s.type!==r&&i++}),i>0&&(n=!0),{comboBarCount:a,comboCharts:n}}},{key:"extendArrayProps",value:function(e,r,n){var a,i,s,o,l,u;return(a=r)!==null&&a!==void 0&&a.yaxis&&(r=e.extendYAxis(r,n)),(i=r)!==null&&i!==void 0&&i.annotations&&(r.annotations.yaxis&&(r=e.extendYAxisAnnotations(r)),(s=r)!==null&&s!==void 0&&(o=s.annotations)!==null&&o!==void 0&&o.xaxis&&(r=e.extendXAxisAnnotations(r)),(l=r)!==null&&l!==void 0&&(u=l.annotations)!==null&&u!==void 0&&u.points&&(r=e.extendPointAnnotations(r))),r}}]),t}(),Ib=function(){function t(e){ke(this,t),this.w=e.w,this.annoCtx=e}return Ae(t,[{key:"setOrientations",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.w;if(e.label.orientation==="vertical"){var a=r!==null?r:0,i=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(a,"']"));if(i!==null){var s=i.getBoundingClientRect();i.setAttribute("x",parseFloat(i.getAttribute("x"))-s.height+4);var o=e.label.position==="top"?s.width:-s.width;i.setAttribute("y",parseFloat(i.getAttribute("y"))+o);var l=this.annoCtx.graphics.rotateAroundCenter(i),u=l.x,d=l.y;i.setAttribute("transform","rotate(-90 ".concat(u," ").concat(d,")"))}}}},{key:"addBackgroundToAnno",value:function(e,r){var n=this.w;if(!e||!r.label.text||!String(r.label.text).trim())return null;var a=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),i=e.getBoundingClientRect(),s=r.label.style.padding,o=s.left,l=s.right,u=s.top,d=s.bottom;if(r.label.orientation==="vertical"){var h=[o,l,u,d];u=h[0],d=h[1],o=h[2],l=h[3]}var f=i.left-a.left-o,p=i.top-a.top-u,g=this.annoCtx.graphics.drawRect(f-n.globals.barPadForNumericAxis,p,i.width+o+l,i.height+u+d,r.label.borderRadius,r.label.style.background,1,r.label.borderWidth,r.label.borderColor,0);return r.id&&g.node.classList.add(r.id),g}},{key:"annotationsBackground",value:function(){var e=this,r=this.w,n=function(a,i,s){var o=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(i,"']"));if(o){var l=o.parentNode,u=e.addBackgroundToAnno(o,a);u&&(l.insertBefore(u.node,o),a.label.mouseEnter&&u.node.addEventListener("mouseenter",a.label.mouseEnter.bind(e,a)),a.label.mouseLeave&&u.node.addEventListener("mouseleave",a.label.mouseLeave.bind(e,a)),a.label.click&&u.node.addEventListener("click",a.label.click.bind(e,a)))}};r.config.annotations.xaxis.forEach(function(a,i){return n(a,i,"xaxis")}),r.config.annotations.yaxis.forEach(function(a,i){return n(a,i,"yaxis")}),r.config.annotations.points.forEach(function(a,i){return n(a,i,"point")})}},{key:"getY1Y2",value:function(e,r){var n,a=this.w,i=e==="y1"?r.y:r.y2,s=!1;if(this.annoCtx.invertAxis){var o=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,l=o.indexOf(i),u=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));n=u?parseFloat(u.getAttribute("y")):(a.globals.gridHeight/o.length-1)*(l+1)-a.globals.barHeight,r.seriesIndex!==void 0&&a.globals.barHeight&&(n-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*r.seriesIndex)}else{var d,h=a.globals.seriesYAxisMap[r.yAxisIndex][0],f=a.config.yaxis[r.yAxisIndex].logarithmic?new ir(this.annoCtx.ctx).getLogVal(a.config.yaxis[r.yAxisIndex].logBase,i,h)/a.globals.yLogRatio[h]:(i-a.globals.minYArr[h])/(a.globals.yRange[h]/a.globals.gridHeight);n=a.globals.gridHeight-Math.min(Math.max(f,0),a.globals.gridHeight),s=f>a.globals.gridHeight||f<0,!r.marker||r.y!==void 0&&r.y!==null||(n=0),(d=a.config.yaxis[r.yAxisIndex])!==null&&d!==void 0&&d.reversed&&(n=f)}return typeof i=="string"&&i.includes("px")&&(n=parseFloat(i)),{yP:n,clipped:s}}},{key:"getX1X2",value:function(e,r){var n=this.w,a=e==="x1"?r.x:r.x2,i=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,s=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,o=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,l=!1,u=this.annoCtx.inversedReversedAxis?(s-a)/(o/n.globals.gridWidth):(a-i)/(o/n.globals.gridWidth);return n.config.xaxis.type!=="category"&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||n.config.chart.sparkline.enabled||(u=this.getStringX(a)),typeof a=="string"&&a.includes("px")&&(u=parseFloat(a)),a==null&&r.marker&&(u=n.globals.gridWidth),r.seriesIndex!==void 0&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(u-=n.globals.barWidth/2*(n.globals.series.length-1)-n.globals.barWidth*r.seriesIndex),typeof u!="number"&&(u=0,l=!0),parseFloat(u.toFixed(10))>parseFloat(n.globals.gridWidth.toFixed(10))?(u=n.globals.gridWidth,l=!0):u<0&&(u=0,l=!0),{x:u,clipped:l}}},{key:"getStringX",value:function(e){var r=this.w,n=e;r.config.xaxis.convertedCatToNumeric&&r.globals.categoryLabels.length&&(e=r.globals.categoryLabels.indexOf(e)+1);var a=r.globals.labels.map(function(s){return Array.isArray(s)?s.join(" "):s}).indexOf(e),i=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return i&&(n=parseFloat(i.getAttribute("x"))),n}}]),t}(),ase=function(){function t(e){ke(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Ib(this.annoCtx)}return Ae(t,[{key:"addXaxisAnnotation",value:function(e,r,n){var a,i=this.w,s=this.helpers.getX1X2("x1",e),o=s.x,l=s.clipped,u=!0,d=e.label.text,h=e.strokeDashArray;if(U.isNumber(o)){if(e.x2===null||e.x2===void 0){if(!l){var f=this.annoCtx.graphics.drawLine(o+e.offsetX,0+e.offsetY,o+e.offsetX,i.globals.gridHeight+e.offsetY,e.borderColor,h,e.borderWidth);r.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}else{var p=this.helpers.getX1X2("x2",e);if(a=p.x,u=p.clipped,a<o){var g=o;o=a,a=g}var m=this.annoCtx.graphics.drawRect(o+e.offsetX,0+e.offsetY,a-o,i.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,h);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),r.appendChild(m.node),e.id&&m.node.classList.add(e.id)}if(!l||!u){var v=this.annoCtx.graphics.getTextRects(d,parseFloat(e.label.style.fontSize)),x=e.label.position==="top"?4:e.label.position==="center"?i.globals.gridHeight/2+(e.label.orientation==="vertical"?v.width/2:0):i.globals.gridHeight,y=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:x+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?v.width/2-12:-v.width/2:0),text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});y.attr({rel:n}),r.appendChild(y.node),this.annoCtx.helpers.setOrientations(e,n)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,r=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return r.config.annotations.xaxis.map(function(a,i){e.addXaxisAnnotation(a,n.node,i)}),n}}]),t}(),$r=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Ae(t,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var r=Date.parse(e);if(!isNaN(r))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return n=this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,r){var n=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,i=["\0"].concat(wr(n.months)),s=[""].concat(wr(n.shortMonths)),o=[""].concat(wr(n.days)),l=[""].concat(wr(n.shortDays));function u(A,N){var P=A+"";for(N=N||2;P.length<N;)P="0"+P;return P}var d=a?e.getUTCFullYear():e.getFullYear();r=(r=(r=r.replace(/(^|[^\\])yyyy+/g,"$1"+d)).replace(/(^|[^\\])yy/g,"$1"+d.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+d);var h=(a?e.getUTCMonth():e.getMonth())+1;r=(r=(r=(r=r.replace(/(^|[^\\])MMMM+/g,"$1"+i[0])).replace(/(^|[^\\])MMM/g,"$1"+s[0])).replace(/(^|[^\\])MM/g,"$1"+u(h))).replace(/(^|[^\\])M/g,"$1"+h);var f=a?e.getUTCDate():e.getDate();r=(r=(r=(r=r.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+u(f))).replace(/(^|[^\\])d/g,"$1"+f);var p=a?e.getUTCHours():e.getHours(),g=p>12?p-12:p===0?12:p;r=(r=(r=(r=r.replace(/(^|[^\\])HH+/g,"$1"+u(p))).replace(/(^|[^\\])H/g,"$1"+p)).replace(/(^|[^\\])hh+/g,"$1"+u(g))).replace(/(^|[^\\])h/g,"$1"+g);var m=a?e.getUTCMinutes():e.getMinutes();r=(r=r.replace(/(^|[^\\])mm+/g,"$1"+u(m))).replace(/(^|[^\\])m/g,"$1"+m);var v=a?e.getUTCSeconds():e.getSeconds();r=(r=r.replace(/(^|[^\\])ss+/g,"$1"+u(v))).replace(/(^|[^\\])s/g,"$1"+v);var x=a?e.getUTCMilliseconds():e.getMilliseconds();r=r.replace(/(^|[^\\])fff+/g,"$1"+u(x,3)),x=Math.round(x/10),r=r.replace(/(^|[^\\])ff/g,"$1"+u(x)),x=Math.round(x/10);var y=p<12?"AM":"PM";r=(r=(r=r.replace(/(^|[^\\])f/g,"$1"+x)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var b=y.toLowerCase();r=(r=r.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var w=-e.getTimezoneOffset(),S=a||!w?"Z":w>0?"+":"-";if(!a){var k=(w=Math.abs(w))%60;S+=u(Math.floor(w/60))+":"+u(k)}r=r.replace(/(^|[^\\])K/g,"$1"+S);var C=(a?e.getUTCDay():e.getDay())+1;return r=(r=(r=(r=(r=r.replace(new RegExp(o[0],"g"),o[C])).replace(new RegExp(l[0],"g"),l[C])).replace(new RegExp(i[0],"g"),i[h])).replace(new RegExp(s[0],"g"),s[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,r,n){var a=this.w;a.config.xaxis.min!==void 0&&(e=a.config.xaxis.min),a.config.xaxis.max!==void 0&&(r=a.config.xaxis.max);var i=this.getDate(e),s=this.getDate(r),o=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,r,n){return this.determineDaysOfMonths(e,r)-n}},{key:"determineDaysOfYear",value:function(e){var r=365;return this.isLeapYear(e)&&(r=366),r}},{key:"determineRemainingDaysOfYear",value:function(e,r,n){var a=this.daysCntOfYear[r]+n;return r>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(e,r){var n=30;switch(e=U.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(n=this.isLeapYear(r)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),t}(),Im=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return Ae(t,[{key:"xLabelFormat",value:function(e,r,n,a){var i=this.w;if(i.config.xaxis.type==="datetime"&&i.config.xaxis.labels.formatter===void 0&&i.config.tooltip.x.formatter===void 0){var s=new $r(this.ctx);return s.formatDate(s.getDate(r),i.config.tooltip.x.format)}return e(r,n,a)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(r){return r}):e}},{key:"defaultYFormatter",value:function(e,r,n){var a=this.w;if(U.isNumber(e))if(a.globals.yValueDecimal!==0)e=e.toFixed(r.decimalsInFloat!==void 0?r.decimalsInFloat:a.globals.yValueDecimal);else{var i=e.toFixed(0);e=e==i?i:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,r=this.w;return r.globals.xaxisTooltipFormatter=function(n){return e.defaultGeneralFormatter(n)},r.globals.ttKeyFormatter=function(n){return e.defaultGeneralFormatter(n)},r.globals.ttZFormatter=function(n){return n},r.globals.legendFormatter=function(n){return e.defaultGeneralFormatter(n)},r.config.xaxis.labels.formatter!==void 0?r.globals.xLabelFormatter=r.config.xaxis.labels.formatter:r.globals.xLabelFormatter=function(n){if(U.isNumber(n)){if(!r.config.xaxis.convertedCatToNumeric&&r.config.xaxis.type==="numeric"){if(U.isNumber(r.config.xaxis.decimalsInFloat))return n.toFixed(r.config.xaxis.decimalsInFloat);var a=r.globals.maxX-r.globals.minX;return a>0&&a<100?n.toFixed(1):n.toFixed(0)}return r.globals.isBarHorizontal&&r.globals.maxY-r.globals.minYArr<4?n.toFixed(1):n.toFixed(0)}return n},typeof r.config.tooltip.x.formatter=="function"?r.globals.ttKeyFormatter=r.config.tooltip.x.formatter:r.globals.ttKeyFormatter=r.globals.xLabelFormatter,typeof r.config.xaxis.tooltip.formatter=="function"&&(r.globals.xaxisTooltipFormatter=r.config.xaxis.tooltip.formatter),(Array.isArray(r.config.tooltip.y)||r.config.tooltip.y.formatter!==void 0)&&(r.globals.ttVal=r.config.tooltip.y),r.config.tooltip.z.formatter!==void 0&&(r.globals.ttZFormatter=r.config.tooltip.z.formatter),r.config.legend.formatter!==void 0&&(r.globals.legendFormatter=r.config.legend.formatter),r.config.yaxis.forEach(function(n,a){n.labels.formatter!==void 0?r.globals.yLabelFormatters[a]=n.labels.formatter:r.globals.yLabelFormatters[a]=function(i){return r.globals.xyCharts?Array.isArray(i)?i.map(function(s){return e.defaultYFormatter(s,n,a)}):e.defaultYFormatter(i,n,a):i}}),r.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var r=e.globals.seriesNames.reduce(function(n,a){return n.length>a.length?n:a},0);e.globals.yAxisScale[0].niceMax=r,e.globals.yAxisScale[0].niceMin=r}}}]),t}(),Yo=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"getLabel",value:function(e,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,u=e[a]===void 0?"":e[a],d=u,h=l.globals.xLabelFormatter,f=l.config.xaxis.labels.formatter,p=!1,g=new Im(this.ctx),m=u;o&&(d=g.xLabelFormat(h,u,m,{i:a,dateFormatter:new $r(this.ctx).formatDate,w:l}),f!==void 0&&(d=f(u,e[a],{i:a,dateFormatter:new $r(this.ctx).formatDate,w:l})));var v,x;r.length>0?(v=r[a].unit,x=null,r.forEach(function(S){S.unit==="month"?x="year":S.unit==="day"?x="month":S.unit==="hour"?x="day":S.unit==="minute"&&(x="hour")}),p=x===v,n=r[a].position,d=r[a].value):l.config.xaxis.type==="datetime"&&f===void 0&&(d=""),d===void 0&&(d=""),d=Array.isArray(d)?d:d.toString();var y=new ce(this.ctx),b={};b=l.globals.rotateXLabels&&o?y.getTextRects(d,parseInt(s,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):y.getTextRects(d,parseInt(s,10));var w=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(d)&&(String(d)==="NaN"||i.indexOf(d)>=0&&w)&&(d=""),{x:n,text:d,textRect:b,isBold:p}}},{key:"checkLabelBasedOnTickamount",value:function(e,r,n){var a=this.w,i=a.config.xaxis.tickAmount;return i==="dataPoints"&&(i=Math.round(a.globals.gridWidth/120)),i>n||e%Math.round(n/(i+1))==0||(r.text=""),r}},{key:"checkForOverflowingLabels",value:function(e,r,n,a,i){var s=this.w;if(e===0&&s.globals.skipFirstTimelinelabel&&(r.text=""),e===n-1&&s.globals.skipLastTimelinelabel&&(r.text=""),s.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var o=i[i.length-1];r.x<o.textRect.width/(s.globals.rotateXLabels?Math.abs(s.config.xaxis.labels.rotate)/12:1.01)+o.x&&(r.text="")}return r}},{key:"checkForReversedLabels",value:function(e,r){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&r.reverse(),r}},{key:"yAxisAllSeriesCollapsed",value:function(e){var r=this.w.globals;return!r.seriesYAxisMap[e].some(function(n){return r.collapsedSeriesIndices.indexOf(n)===-1})}},{key:"translateYAxisIndex",value:function(e){var r=this.w,n=r.globals,a=r.config.yaxis;return n.series.length>a.length||a.some(function(i){return Array.isArray(i.seriesName)})?e:n.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var r=this.w,n=r.config.yaxis[e];if(!n.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!n.showForNullSeries){var a=r.globals.seriesYAxisMap[e],i=new ir(this.ctx);return a.every(function(s){return i.isSeriesNull(s)})}return!1}},{key:"getYAxisForeColor",value:function(e,r){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[r]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[r].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,r,n,a,i,s,o){var l=this.w,u=new ce(this.ctx),d=l.globals.translateY+l.config.yaxis[i].labels.offsetY;if(l.globals.isBarHorizontal?d=0:l.config.chart.type==="heatmap"&&(d+=s/2),a.show&&r>0){l.config.yaxis[i].opposite===!0&&(e+=a.width);for(var h=r;h>=0;h--){var f=u.drawLine(e+n.offsetX-a.width+a.offsetX,d+a.offsetY,e+n.offsetX+a.offsetX,d+a.offsetY,a.color);o.add(f),d+=s}}}}]),t}(),ise=function(){function t(e){ke(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new Ib(this.annoCtx),this.axesUtils=new Yo(this.annoCtx)}return Ae(t,[{key:"addYaxisAnnotation",value:function(e,r,n){var a,i=this.w,s=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),l=o.yP,u=o.clipped,d=!0,h=!1,f=e.label.text;if(e.y2===null||e.y2===void 0){if(!u){h=!0;var p=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,s,e.borderWidth);r.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}else{if(a=(o=this.helpers.getY1Y2("y2",e)).yP,d=o.clipped,a>l){var g=l;l=a,a=g}if(!u||!d){h=!0;var m=this.annoCtx.graphics.drawRect(0+e.offsetX,a+e.offsetY,this._getYAxisAnnotationWidth(e),l-a,0,e.fillColor,e.opacity,1,e.borderColor,s);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),r.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}if(h){var v=e.label.position==="right"?i.globals.gridWidth:e.label.position==="center"?i.globals.gridWidth/2:0,x=this.annoCtx.graphics.drawText({x:v+e.label.offsetX,y:(a??l)+e.label.offsetY-3,text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});x.attr({rel:n}),r.appendChild(x.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var r=this.w;return r.globals.gridWidth,(e.width.indexOf("%")>-1?r.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,r=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return r.config.annotations.yaxis.forEach(function(a,i){a.yAxisIndex=e.axesUtils.translateYAxisIndex(a.yAxisIndex),e.axesUtils.isYAxisHidden(a.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||e.addYaxisAnnotation(a,n.node,i)}),n}}]),t}(),sse=function(){function t(e){ke(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new Ib(this.annoCtx)}return Ae(t,[{key:"addPointAnnotation",value:function(e,r,n){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",e),i=a.x,s=a.clipped,o=(a=this.helpers.getY1Y2("y1",e)).yP,l=a.clipped;if(U.isNumber(i)&&!l&&!s){var u={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},d=this.annoCtx.graphics.drawMarker(i+e.marker.offsetX,o+e.marker.offsetY,u);r.appendChild(d.node);var h=e.label.text?e.label.text:"",f=this.annoCtx.graphics.drawText({x:i+e.label.offsetX,y:o+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(f.attr({rel:n}),r.appendChild(f.node),e.customSVG.SVG){var p=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});p.attr({transform:"translate(".concat(i+e.customSVG.offsetX,", ").concat(o+e.customSVG.offsetY,")")}),p.node.innerHTML=e.customSVG.SVG,r.appendChild(p.node)}if(e.image.path){var g=e.image.width?e.image.width:20,m=e.image.height?e.image.height:20;d=this.annoCtx.addImage({x:i+e.image.offsetX-g/2,y:o+e.image.offsetY-m/2,width:g,height:m,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&d.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&d.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&d.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,r=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return r.config.annotations.points.map(function(a,i){e.addPointAnnotation(a,n.node,i)}),n}}]),t}(),_W={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Sl=function(){function t(){ke(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Ae(t,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[_W],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(r,n){return r+n},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(r,n){return r+n},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),ose=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.graphics=new ce(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Ib(this),this.xAxisAnnotations=new ase(this),this.yAxisAnnotations=new ise(this),this.pointsAnnotations=new sse(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Ae(t,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var r=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),i=e.config.chart.animations.enabled,s=[r,n,a],o=[n.node,r.node,a.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(s[l]),!i||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(r,n){e.addImage(r,n)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(r,n){e.addText(r,n)})}},{key:"addXaxisAnnotation",value:function(e,r,n){this.xAxisAnnotations.addXaxisAnnotation(e,r,n)}},{key:"addYaxisAnnotation",value:function(e,r,n){this.yAxisAnnotations.addYaxisAnnotation(e,r,n)}},{key:"addPointAnnotation",value:function(e,r,n){this.pointsAnnotations.addPointAnnotation(e,r,n)}},{key:"addText",value:function(e,r){var n=e.x,a=e.y,i=e.text,s=e.textAnchor,o=e.foreColor,l=e.fontSize,u=e.fontFamily,d=e.fontWeight,h=e.cssClass,f=e.backgroundColor,p=e.borderWidth,g=e.strokeDashArray,m=e.borderRadius,v=e.borderColor,x=e.appendTo,y=x===void 0?".apexcharts-svg":x,b=e.paddingLeft,w=b===void 0?4:b,S=e.paddingRight,k=S===void 0?4:S,C=e.paddingBottom,A=C===void 0?2:C,N=e.paddingTop,P=N===void 0?2:N,E=this.w,O=this.graphics.drawText({x:n,y:a,text:i,textAnchor:s||"start",fontSize:l||"12px",fontWeight:d||"regular",fontFamily:u||E.config.chart.fontFamily,foreColor:o||E.config.chart.foreColor,cssClass:h}),T=E.globals.dom.baseEl.querySelector(y);T&&T.appendChild(O.node);var M=O.bbox();if(i){var L=this.graphics.drawRect(M.x-w,M.y-P,M.width+w+k,M.height+A+P,m,f||"transparent",1,p,v,g);T.insertBefore(L.node,O.node)}}},{key:"addImage",value:function(e,r){var n=this.w,a=e.path,i=e.x,s=i===void 0?0:i,o=e.y,l=o===void 0?0:o,u=e.width,d=u===void 0?20:u,h=e.height,f=h===void 0?20:h,p=e.appendTo,g=p===void 0?".apexcharts-svg":p,m=n.globals.dom.Paper.image(a);m.size(d,f).move(s,l);var v=n.globals.dom.baseEl.querySelector(g);return v&&v.appendChild(m.node),m}},{key:"addXaxisAnnotationExternal",value:function(e,r,n){return this.addAnnotationExternal({params:e,pushToMemory:r,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,r,n){return this.addAnnotationExternal({params:e,pushToMemory:r,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,r,n){return this.invertAxis===void 0&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:r,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var r=e.params,n=e.pushToMemory,a=e.context,i=e.type,s=e.contextMethod,o=a,l=o.w,u=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations")),d=u.childNodes.length+1,h=new Sl,f=Object.assign({},i==="xaxis"?h.xAxisAnnotation:i==="yaxis"?h.yAxisAnnotation:h.pointAnnotation),p=U.extend(f,r);switch(i){case"xaxis":this.addXaxisAnnotation(p,u,d);break;case"yaxis":this.addYaxisAnnotation(p,u,d);break;case"point":this.addPointAnnotation(p,u,d)}var g=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(d,"']")),m=this.helpers.addBackgroundToAnno(g,p);return m&&u.insertBefore(m.node,g),n&&l.globals.memory.methodsToExec.push({context:o,id:p.id?p.id:U.randomId(),method:s,label:"addAnnotation",params:r}),a}},{key:"clearAnnotations",value:function(e){for(var r=e.w,n=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=r.globals.memory.methodsToExec.length-1;a>=0;a--)r.globals.memory.methodsToExec[a].label!=="addText"&&r.globals.memory.methodsToExec[a].label!=="addAnnotation"||r.globals.memory.methodsToExec.splice(a,1);n=U.listToArray(n),Array.prototype.forEach.call(n,function(i){for(;i.firstChild;)i.removeChild(i.firstChild)})}},{key:"removeAnnotation",value:function(e,r){var n=e.w,a=n.globals.dom.baseEl.querySelectorAll(".".concat(r));a&&(n.globals.memory.methodsToExec.map(function(i,s){i.id===r&&n.globals.memory.methodsToExec.splice(s,1)}),Object.keys(n.config.annotations).forEach(function(i){var s=n.config.annotations[i];Array.isArray(s)&&(n.config.annotations[i]=s.filter(function(o){return o.id!==r}))}),Array.prototype.forEach.call(a,function(i){i.parentElement.removeChild(i)}))}}]),t}(),Zw=function(t){var e,r=t.isTimeline,n=t.ctx,a=t.seriesIndex,i=t.dataPointIndex,s=t.y1,o=t.y2,l=t.w,u=l.globals.seriesRangeStart[a][i],d=l.globals.seriesRangeEnd[a][i],h=l.globals.labels[i],f=l.config.series[a].name?l.config.series[a].name:"",p=l.globals.ttKeyFormatter,g=l.config.tooltip.y.title.formatter,m={w:l,seriesIndex:a,dataPointIndex:i,start:u,end:d};typeof g=="function"&&(f=g(f,m)),(e=l.config.series[a].data[i])!==null&&e!==void 0&&e.x&&(h=l.config.series[a].data[i].x),r||l.config.xaxis.type==="datetime"&&(h=new Im(n).xLabelFormat(l.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new $r(n).formatDate,w:l})),typeof p=="function"&&(h=p(h,m)),Number.isFinite(s)&&Number.isFinite(o)&&(u=s,d=o);var v="",x="",y=l.globals.colors[a];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var b=new $r(n);v=b.formatDate(b.getDate(u),l.config.tooltip.x.format),x=b.formatDate(b.getDate(d),l.config.tooltip.x.format)}else v=u,x=d;else v=l.config.tooltip.x.formatter(u),x=l.config.tooltip.x.formatter(d);return{start:u,end:d,startVal:v,endVal:x,ylabel:h,color:y,seriesName:f}},Qw=function(t){var e=t.color,r=t.seriesName,n=t.ylabel,a=t.start,i=t.end,s=t.seriesIndex,o=t.dataPointIndex,l=t.ctx.tooltip.tooltipLabels.getFormatters(s);a=l.yLbFormatter(a),i=l.yLbFormatter(i);var u=l.yLbFormatter(t.w.globals.series[s][o]),d=`<span class="value start-value">
  `.concat(a,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(i,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(r||"")+'</span></div><div> <span class="category">'+n+": </span> "+(t.w.globals.comboCharts?t.w.config.series[s].type==="rangeArea"||t.w.config.series[s].type==="rangeBar"?d:"<span>".concat(u,"</span>"):d)+" </div></div>"},bp=function(){function t(e){ke(this,t),this.opts=e}return Ae(t,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),U.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,r){var n=r.w.config.series[r.seriesIndex].name;return e!==null?n+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),ye(ye({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var n=r.seriesIndex,a=r.dataPointIndex,i=r.w;return e._getBoxTooltip(i,n,a,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var n=r.seriesIndex,a=r.dataPointIndex,i=r.w;return e._getBoxTooltip(i,n,a,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,r){r.ctx;var n=r.seriesIndex,a=r.dataPointIndex,i=r.w,s=function(){var o=i.globals.seriesRangeStart[n][a];return i.globals.seriesRangeEnd[n][a]-o};return i.globals.comboCharts?i.config.series[n].type==="rangeBar"||i.config.series[n].type==="rangeArea"?s():e:s()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(r){var n=Zw(ye(ye({},r),{},{isTimeline:!0})),a=n.color,i=n.seriesName,s=n.ylabel,o=n.startVal,l=n.endVal;return Qw(ye(ye({},r),{},{color:a,seriesName:i,ylabel:s,start:o,end:l}))}(e):function(r){var n=Zw(r),a=n.color,i=n.seriesName,s=n.ylabel,o=n.start,l=n.end;return Qw(ye(ye({},r),{},{color:a,seriesName:i,ylabel:s,start:o,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var r,n;return(r=e.plotOptions.bar)!==null&&r!==void 0&&r.barHeight||(e.plotOptions.bar.barHeight=2),(n=e.plotOptions.bar)!==null&&n!==void 0&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(r){var n=Zw(r),a=n.color,i=n.seriesName,s=n.ylabel,o=n.start,l=n.end;return Qw(ye(ye({},r),{},{color:a,seriesName:i,ylabel:s,start:o,end:l}))}(e)}}}}},{key:"brush",value:function(e){return U.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var r=e.dataLabels.formatter;return e.yaxis.forEach(function(n,a){e.yaxis[a].min=0,e.yaxis[a].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=r||function(n){return typeof n=="number"&&n?n.toFixed(0)+"%":n}),e}},{key:"stackedBars",value:function(){var e=this.bar();return ye(ye({},e),{},{plotOptions:ye(ye({},e.plotOptions),{},{bar:ye(ye({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,r,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(s){return U.isNumber(s)?Math.floor(s):s};var a=e.xaxis.labels.formatter,i=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(i=n.map(function(s){return Array.isArray(s)?s:String(s)})),i&&i.length&&(e.xaxis.labels.formatter=function(s){return U.isNumber(s)?a(i[Math.floor(s)-1]):a(s)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,r,n,a,i){var s=e.globals.seriesCandleO[r][n],o=e.globals.seriesCandleH[r][n],l=e.globals.seriesCandleM[r][n],u=e.globals.seriesCandleL[r][n],d=e.globals.seriesCandleC[r][n];return e.config.series[r].type&&e.config.series[r].type!==i?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[r].name?e.config.series[r].name:"series-"+(r+1),": <strong>").concat(e.globals.series[r][n],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+s+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(a[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+u+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+d+"</span></div></div>"}}]),t}(),wp=function(){function t(e){ke(this,t),this.opts=e}return Ae(t,[{key:"init",value:function(e){var r=e.responsiveOverride,n=this.opts,a=new Sl,i=new bp(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var s=a.init(),o={};if(n&&ld(n)==="object"){var l,u,d,h,f,p,g,m,v,x,y={};y=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)!==-1?i[n.chart.type]():i.line(),(l=n.plotOptions)!==null&&l!==void 0&&(u=l.bar)!==null&&u!==void 0&&u.isFunnel&&(y=i.funnel()),n.chart.stacked&&n.chart.type==="bar"&&(y=i.stackedBars()),(d=n.chart.brush)!==null&&d!==void 0&&d.enabled&&(y=i.brush(y)),(h=n.plotOptions)!==null&&h!==void 0&&(f=h.line)!==null&&f!==void 0&&f.isSlopeChart&&(y=i.slope()),n.chart.stacked&&n.chart.stackType==="100%"&&(n=i.stacked100(n)),(p=n.plotOptions)!==null&&p!==void 0&&(g=p.bar)!==null&&g!==void 0&&g.isDumbbell&&(n=i.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},r||(n.xaxis.convertedCatToNumeric=!1),((m=(n=this.checkForCatToNumericXAxis(this.chartType,y,n)).chart.sparkline)!==null&&m!==void 0&&m.enabled||(v=window.Apex.chart)!==null&&v!==void 0&&(x=v.sparkline)!==null&&x!==void 0&&x.enabled)&&(y=i.sparkline(y)),o=U.extend(s,y)}var b=U.extend(o,window.Apex);return s=U.extend(b,n),s=this.handleUserInputErrors(s)}},{key:"checkForCatToNumericXAxis",value:function(e,r,n){var a,i,s=new bp(n),o=(e==="bar"||e==="boxPlot")&&((a=n.plotOptions)===null||a===void 0||(i=a.bar)===null||i===void 0?void 0:i.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",u=n.xaxis.type!=="datetime"&&n.xaxis.type!=="numeric",d=n.xaxis.tickPlacement?n.xaxis.tickPlacement:r.xaxis&&r.xaxis.tickPlacement;return o||l||!u||d==="between"||(n=s.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,r){var n=new Sl;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=U.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[U.extend(n.yAxis,e.yaxis)]:e.yaxis=U.extendArray(e.yaxis,n.yAxis);var a=!1;e.yaxis.forEach(function(s){s.logarithmic&&(a=!0)});var i=e.series;return r&&!i&&(i=r.config.series),a&&i.length!==e.yaxis.length&&i.length&&(e.yaxis=i.map(function(s,o){if(s.name||(i[o].name="series-".concat(o+1)),e.yaxis[o])return e.yaxis[o].seriesName=i[o].name,e.yaxis[o];var l=U.extend(n.yAxis,e.yaxis[0]);return l.show=!1,l})),a&&i.length>1&&i.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var r=new Sl;return e.annotations.yaxis=U.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],r.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var r=new Sl;return e.annotations.xaxis=U.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],r.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var r=new Sl;return e.annotations.points=U.extendArray(e.annotations.points!==void 0?e.annotations.points:[],r.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var r=e;if(r.tooltip.shared&&r.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(r.chart.type==="bar"&&r.plotOptions.bar.horizontal){if(r.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");r.yaxis[0].reversed&&(r.yaxis[0].opposite=!0),r.xaxis.tooltip.enabled=!1,r.yaxis[0].tooltip.enabled=!1,r.chart.zoom.enabled=!1}return r.chart.type!=="bar"&&r.chart.type!=="rangeBar"||r.tooltip.shared&&r.xaxis.crosshairs.width==="barWidth"&&r.series.length>1&&(r.xaxis.crosshairs.width="tickWidth"),r.chart.type!=="candlestick"&&r.chart.type!=="boxPlot"||r.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(r.chart.type," chart is not supported.")),r.yaxis[0].reversed=!1),r}}]),t}(),SW=function(){function t(){ke(this,t)}return Ae(t,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var r=this.globalVars(e);return this.initGlobalVars(r),r.initialConfig=U.extend({},e),r.initialSeries=U.clone(e.series),r.lastXAxis=U.clone(r.initialConfig.xaxis),r.lastYAxis=U.clone(r.initialConfig.yaxis),r}}]),t}(),lse=function(){function t(e){ke(this,t),this.opts=e}return Ae(t,[{key:"init",value:function(){var e=new wp(this.opts).init({responsiveOverride:!1});return{config:e,globals:new SW().init(e)}}}]),t}(),ui=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return Ae(t,[{key:"clippedImgArea",value:function(e){var r=this.w,n=r.config,a=parseInt(r.globals.gridWidth,10),i=parseInt(r.globals.gridHeight,10),s=a>i?a:i,o=e.image,l=0,u=0;e.width===void 0&&e.height===void 0?n.fill.image.width!==void 0&&n.fill.image.height!==void 0?(l=n.fill.image.width+1,u=n.fill.image.height):(l=s+1,u=s):(l=e.width,u=e.height);var d=document.createElementNS(r.globals.SVGNS,"pattern");ce.setAttrs(d,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:u+"px"});var h=document.createElementNS(r.globals.SVGNS,"image");d.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",o),ce.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:u+"px"}),h.style.opacity=e.opacity,r.globals.dom.elDefs.node.appendChild(d)}},{key:"getSeriesIndex",value:function(e){var r=this.w,n=r.config.chart.type;return(n==="bar"||n==="rangeBar")&&r.config.plotOptions.bar.distributed||n==="heatmap"||n==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%r.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,r){var n,a=this.w,i=null,s=null,o=gf(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;l>=r.threshold?(i===null||l>i)&&(i=l):(s===null||l<s)&&(s=l)}}catch(h){o.e(h)}finally{o.f()}i===null&&(i=r.threshold),s===null&&(s=r.threshold);var u=i-r.threshold+(r.threshold-s);u===0&&(u=1);var d=100-(r.threshold-s)/u*100;return[{offset:d=Math.max(0,Math.min(d,100)),color:r.colorAboveThreshold,opacity:a.config.fill.opacity},{offset:0,color:r.colorBelowThreshold,opacity:a.config.fill.opacity}]}},{key:"fillPath",value:function(e){var r,n,a,i=this.w;this.opts=e;var s,o,l,u=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var d=u.plotOptions.line.colors.colorAboveThreshold&&u.plotOptions.line.colors.colorBelowThreshold,h=this.getFillColors()[this.seriesIndex];i.globals.seriesColors[this.seriesIndex]!==void 0&&(h=i.globals.seriesColors[this.seriesIndex]),typeof h=="function"&&(h=h({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:i}));var f,p,g,m=e.fillType?e.fillType:this.getFillType(this.seriesIndex),v=Array.isArray(u.fill.opacity)?u.fill.opacity[this.seriesIndex]:u.fill.opacity,x=m==="gradient"||d;e.color&&(h=e.color),(r=i.config.series[this.seriesIndex])!==null&&r!==void 0&&(n=r.data)!==null&&n!==void 0&&(a=n[e.dataPointIndex])!==null&&a!==void 0&&a.fillColor&&(h=(f=i.config.series[this.seriesIndex])===null||f===void 0||(p=f.data)===null||p===void 0||(g=p[e.dataPointIndex])===null||g===void 0?void 0:g.fillColor),h||(h="#fff",console.warn("undefined color - ApexCharts"));var y=h;if(h.indexOf("rgb")===-1?h.indexOf("#")===-1?y=h:h.length<9&&(y=U.hexToRgba(h,v)):h.indexOf("rgba")>-1?v=U.getOpacityFromRGBA(h):y=U.hexToRgba(U.rgb2hex(h),v),e.opacity&&(v=e.opacity),m==="pattern"&&(o=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:o,fillColor:h,fillOpacity:v,defaultColor:y})),x){var b=wr(u.fill.gradient.colorStops)||[],w=u.fill.gradient.type;d&&(b[this.seriesIndex]=this.computeColorStops(i.globals.series[this.seriesIndex],u.plotOptions.line.colors),w="vertical"),l=this.handleGradientFill({type:w,fillConfig:e.fillConfig,fillColor:h,fillOpacity:v,colorStops:b,i:this.seriesIndex})}if(m==="image"){var S=u.fill.image.src,k=e.patternID?e.patternID:"",C="pattern".concat(i.globals.cuid).concat(e.seriesNumber+1).concat(k);this.patternIDs.indexOf(C)===-1&&(this.clippedImgArea({opacity:v,image:Array.isArray(S)?e.seriesNumber<S.length?S[e.seriesNumber]:S[0]:S,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:C}),this.patternIDs.push(C)),s="url(#".concat(C,")")}else s=x?l:m==="pattern"?o:y;return e.solid&&(s=y),s}},{key:"getFillType",value:function(e){var r=this.w;return Array.isArray(r.config.fill.type)?r.config.fill.type[e]:r.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,r=e.config,n=this.opts,a=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors):r.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors),n.fillColors!==void 0&&(a=[],Array.isArray(n.fillColors)?a=n.fillColors.slice():a.push(n.fillColors)),a}},{key:"handlePatternFill",value:function(e){var r=e.fillConfig,n=e.patternFill,a=e.fillColor,i=e.fillOpacity,s=e.defaultColor,o=this.w.config.fill;r&&(o=r);var l=this.opts,u=new ce(this.ctx),d=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,h=a;return Array.isArray(o.pattern.style)?n=o.pattern.style[l.seriesNumber]!==void 0?u.drawPattern(o.pattern.style[l.seriesNumber],o.pattern.width,o.pattern.height,h,d,i):s:n=u.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,h,d,i),n}},{key:"handleGradientFill",value:function(e){var r=e.type,n=e.fillColor,a=e.fillOpacity,i=e.fillConfig,s=e.colorStops,o=e.i,l=this.w.config.fill;i&&(l=ye(ye({},l),i));var u=this.opts,d=new ce(this.ctx),h=new U;r=r||l.gradient.type;var f,p=n,g=l.gradient.opacityFrom===void 0?a:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[o]:l.gradient.opacityFrom;p.indexOf("rgba")>-1&&(g=U.getOpacityFromRGBA(p));var m=l.gradient.opacityTo===void 0?a:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[o]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)f=l.gradient.shade==="dark"?h.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),n.indexOf("rgb")>-1?U.rgb2hex(n):n):h.shadeColor(parseFloat(l.gradient.shadeIntensity),n.indexOf("rgb")>-1?U.rgb2hex(n):n);else if(l.gradient.gradientToColors[u.seriesNumber]){var v=l.gradient.gradientToColors[u.seriesNumber];f=v,v.indexOf("rgba")>-1&&(m=U.getOpacityFromRGBA(v))}else f=n;if(l.gradient.gradientFrom&&(p=l.gradient.gradientFrom),l.gradient.gradientTo&&(f=l.gradient.gradientTo),l.gradient.inverseColors){var x=p;p=f,f=x}return p.indexOf("rgb")>-1&&(p=U.rgb2hex(p)),f.indexOf("rgb")>-1&&(f=U.rgb2hex(f)),d.drawGradient(r,p,f,g,m,u.size,l.gradient.stops,s,o)}}]),t}(),hh=function(){function t(e,r){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var r=0;r<=e.globals.series.length;r++)e.globals.markers.size[r]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(n){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var r=e.pointsPos,n=e.seriesIndex,a=e.j,i=e.pSize,s=e.alwaysDrawMarker,o=s!==void 0&&s,l=e.isVirtualPoint,u=l!==void 0&&l,d=this.w,h=n,f=r,p=null,g=new ce(this.ctx),m=d.config.markers.discrete&&d.config.markers.discrete.length;if(Array.isArray(f.x))for(var v=0;v<f.x.length;v++){var x=void 0,y=a,b=!U.isNumber(f.y[v]);d.globals.markers.largestSize===0&&d.globals.hasNullValues&&d.globals.series[h][a+1]!==null&&!u&&(b=!0),a===1&&v===0&&(y=0),a===1&&v===1&&(y=1);var w="apexcharts-marker";if(d.config.chart.type!=="line"&&d.config.chart.type!=="area"||d.globals.comboCharts||d.config.tooltip.intersect||(w+=" no-pointer-events"),(Array.isArray(d.config.markers.size)?d.globals.markers.size[n]>0:d.config.markers.size>0)||o||m){b||(w+=" w".concat(U.randomId()));var S=this.getMarkerConfig({cssClass:w,seriesIndex:n,dataPointIndex:y});d.config.series[h].data[y]&&(d.config.series[h].data[y].fillColor&&(S.pointFillColor=d.config.series[h].data[y].fillColor),d.config.series[h].data[y].strokeColor&&(S.pointStrokeColor=d.config.series[h].data[y].strokeColor)),i!==void 0&&(S.pSize=i),(f.x[v]<-d.globals.markers.largestSize||f.x[v]>d.globals.gridWidth+d.globals.markers.largestSize||f.y[v]<-d.globals.markers.largestSize||f.y[v]>d.globals.gridHeight+d.globals.markers.largestSize)&&(S.pSize=0),!b&&((d.globals.markers.size[n]>0||o||m)&&!p&&(p=g.group({class:o||m?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(d.globals.cuid,")")),(x=g.drawMarker(f.x[v],f.y[v],S)).attr("rel",y),x.attr("j",y),x.attr("index",n),x.node.setAttribute("default-marker-size",S.pSize),new Fr(this.ctx).setSelectionFilter(x,n,y),this.addEvents(x),p&&p.add(x))}else d.globals.pointsArray[n]===void 0&&(d.globals.pointsArray[n]=[]),d.globals.pointsArray[n].push([f.x[v],f.y[v]])}return p}},{key:"getMarkerConfig",value:function(e){var r=e.cssClass,n=e.seriesIndex,a=e.dataPointIndex,i=a===void 0?null:a,s=e.radius,o=s===void 0?null:s,l=e.size,u=l===void 0?null:l,d=e.strokeWidth,h=d===void 0?null:d,f=this.w,p=this.getMarkerStyle(n),g=u===null?f.globals.markers.size[n]:u,m=f.config.markers;return i!==null&&m.discrete.length&&m.discrete.map(function(v){v.seriesIndex===n&&v.dataPointIndex===i&&(p.pointStrokeColor=v.strokeColor,p.pointFillColor=v.fillColor,g=v.size,p.pointShape=v.shape)}),{pSize:o===null?g:o,pRadius:o!==null?o:m.radius,pointStrokeWidth:h!==null?h:Array.isArray(m.strokeWidth)?m.strokeWidth[n]:m.strokeWidth,pointStrokeColor:p.pointStrokeColor,pointFillColor:p.pointFillColor,shape:p.pointShape||(Array.isArray(m.shape)?m.shape[n]:m.shape),class:r,pointStrokeOpacity:Array.isArray(m.strokeOpacity)?m.strokeOpacity[n]:m.strokeOpacity,pointStrokeDashArray:Array.isArray(m.strokeDashArray)?m.strokeDashArray[n]:m.strokeDashArray,pointFillOpacity:Array.isArray(m.fillOpacity)?m.fillOpacity[n]:m.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var r=this.w,n=new ce(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",r.config.markers.onClick),e.node.addEventListener("dblclick",r.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var r=this.w,n=r.globals.markers.colors,a=r.config.markers.strokeColor||r.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[e]:a,pointFillColor:Array.isArray(n)?n[e]:n}}}]),t}(),jW=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return Ae(t,[{key:"draw",value:function(e,r,n){var a=this.w,i=new ce(this.ctx),s=n.realIndex,o=n.pointsPos,l=n.zRatio,u=n.elParent,d=i.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(d.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(o.x))for(var h=0;h<o.x.length;h++){var f=r+1,p=!0;r===0&&h===0&&(f=0),r===0&&h===1&&(f=1);var g=a.globals.markers.size[s];if(l!==1/0){var m=a.config.plotOptions.bubble;g=a.globals.seriesZ[s][f],m.zScaling&&(g/=l),m.minBubbleRadius&&g<m.minBubbleRadius&&(g=m.minBubbleRadius),m.maxBubbleRadius&&g>m.maxBubbleRadius&&(g=m.maxBubbleRadius)}var v=o.x[h],x=o.y[h];if(g=g||0,x!==null&&a.globals.series[s][f]!==void 0||(p=!1),p){var y=this.drawPoint(v,x,g,s,f,r);d.add(y)}u.add(d)}}},{key:"drawPoint",value:function(e,r,n,a,i,s){var o=this.w,l=a,u=new lh(this.ctx),d=new Fr(this.ctx),h=new ui(this.ctx),f=new hh(this.ctx),p=new ce(this.ctx),g=f.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:i,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[a]&&o.config.series[a].type==="bubble"?n:null}),m=h.fillPath({seriesNumber:a,dataPointIndex:i,color:g.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[a][s]}),v=p.drawMarker(e,r,g);if(o.config.series[l].data[i]&&o.config.series[l].data[i].fillColor&&(m=o.config.series[l].data[i].fillColor),v.attr({fill:m}),o.config.chart.dropShadow.enabled){var x=o.config.chart.dropShadow;d.dropShadow(v,x,a)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var y=o.config.chart.animations.speed;u.animateMarker(v,y,o.globals.easing,function(){window.setTimeout(function(){u.animationCompleted(v)},100)})}return v.attr({rel:i,j:i,index:a,"default-marker-size":g.pSize}),d.setSelectionFilter(v,a,i),f.addEvents(v),v.node.classList.add("apexcharts-marker"),v}},{key:"centerTextInBubble",value:function(e){var r=this.w;return{y:e+=parseInt(r.config.dataLabels.style.fontSize,10)/4}}}]),t}(),cd=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"dataLabelsCorrection",value:function(e,r,n,a,i,s,o){var l=this.w,u=!1,d=new ce(this.ctx).getTextRects(n,o),h=d.width,f=d.height;r<0&&(r=0),r>l.globals.gridHeight+f&&(r=l.globals.gridHeight+f/2),l.globals.dataLabelsRects[a]===void 0&&(l.globals.dataLabelsRects[a]=[]),l.globals.dataLabelsRects[a].push({x:e,y:r,width:h,height:f});var p=l.globals.dataLabelsRects[a].length-2,g=l.globals.lastDrawnDataLabelsIndexes[a]!==void 0?l.globals.lastDrawnDataLabelsIndexes[a][l.globals.lastDrawnDataLabelsIndexes[a].length-1]:0;if(l.globals.dataLabelsRects[a][p]!==void 0){var m=l.globals.dataLabelsRects[a][g];(e>m.x+m.width||r>m.y+m.height||r+f<m.y||e+h<m.x)&&(u=!0)}return(i===0||s)&&(u=!0),{x:e,y:r,textRects:d,drawnextLabel:u}}},{key:"drawDataLabel",value:function(e){var r=this,n=e.type,a=e.pos,i=e.i,s=e.j,o=e.isRangeStart,l=e.strokeWidth,u=l===void 0?2:l,d=this.w,h=new ce(this.ctx),f=d.config.dataLabels,p=0,g=0,m=s,v=null;if(d.globals.collapsedSeriesIndices.indexOf(i)!==-1||!f.enabled||!Array.isArray(a.x))return v;v=h.group({class:"apexcharts-data-labels"});for(var x=0;x<a.x.length;x++)if(p=a.x[x]+f.offsetX,g=a.y[x]+f.offsetY+u,!isNaN(p)){s===1&&x===0&&(m=0),s===1&&x===1&&(m=1);var y=d.globals.series[i][m];n==="rangeArea"&&(y=o?d.globals.seriesRangeStart[i][m]:d.globals.seriesRangeEnd[i][m]);var b="",w=function(k){return d.config.dataLabels.formatter(k,{ctx:r.ctx,seriesIndex:i,dataPointIndex:m,w:d})};d.config.chart.type==="bubble"?(b=w(y=d.globals.seriesZ[i][m]),g=a.y[x],g=new jW(this.ctx).centerTextInBubble(g,i,m).y):y!==void 0&&(b=w(y));var S=d.config.dataLabels.textAnchor;d.globals.isSlopeChart&&(S=m===0?"end":m===d.config.series[i].data.length-1?"start":"middle"),this.plotDataLabelsText({x:p,y:g,text:b,i,j:m,parent:v,offsetCorrection:!0,dataLabelsConfig:d.config.dataLabels,textAnchor:S})}return v}},{key:"plotDataLabelsText",value:function(e){var r=this.w,n=new ce(this.ctx),a=e.x,i=e.y,s=e.i,o=e.j,l=e.text,u=e.textAnchor,d=e.fontSize,h=e.parent,f=e.dataLabelsConfig,p=e.color,g=e.alwaysDrawDataLabel,m=e.offsetCorrection,v=e.className,x=null;if(Array.isArray(r.config.dataLabels.enabledOnSeries)&&r.config.dataLabels.enabledOnSeries.indexOf(s)<0)return x;var y={x:a,y:i,drawnextLabel:!0,textRects:null};m&&(y=this.dataLabelsCorrection(a,i,l,s,o,g,parseInt(f.style.fontSize,10))),r.globals.zoomed||(a=y.x,i=y.y),y.textRects&&(a<-20-y.textRects.width||a>r.globals.gridWidth+y.textRects.width+30)&&(l="");var b=r.globals.dataLabels.style.colors[s];((r.config.chart.type==="bar"||r.config.chart.type==="rangeBar")&&r.config.plotOptions.bar.distributed||r.config.dataLabels.distributed)&&(b=r.globals.dataLabels.style.colors[o]),typeof b=="function"&&(b=b({series:r.globals.series,seriesIndex:s,dataPointIndex:o,w:r})),p&&(b=p);var w=f.offsetX,S=f.offsetY;if(r.config.chart.type!=="bar"&&r.config.chart.type!=="rangeBar"||(w=0,S=0),r.globals.isSlopeChart&&(o!==0&&(w=-2*f.offsetX+5),o!==0&&o!==r.config.series[s].data.length-1&&(w=0)),y.drawnextLabel){if((x=n.drawText({width:100,height:parseInt(f.style.fontSize,10),x:a+w,y:i+S,foreColor:b,textAnchor:u||f.textAnchor,text:l,fontSize:d||f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight||"normal"})).attr({class:v||"apexcharts-datalabel",cx:a,cy:i}),f.dropShadow.enabled){var k=f.dropShadow;new Fr(this.ctx).dropShadow(x,k)}h.add(x),r.globals.lastDrawnDataLabelsIndexes[s]===void 0&&(r.globals.lastDrawnDataLabelsIndexes[s]=[]),r.globals.lastDrawnDataLabelsIndexes[s].push(o)}return x}},{key:"addBackgroundToDataLabel",value:function(e,r){var n=this.w,a=n.config.dataLabels.background,i=a.padding,s=a.padding/2,o=r.width,l=r.height,u=new ce(this.ctx).drawRect(r.x-i,r.y-s/2,o+2*i,l+s,a.borderRadius,n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new Fr(this.ctx).dropShadow(u,a.dropShadow),u}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<r.length;n++){var a=r[n],i=a.getBBox(),s=null;if(i.width&&i.height&&(s=this.addBackgroundToDataLabel(a,i)),s){a.parentNode.insertBefore(s.node,a);var o=e.config.dataLabels.background.backgroundColor||a.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?s.animate().attr({fill:o}):s.attr({fill:o}),a.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<r.length;a++)n&&n.insertBefore(r[a],n.nextSibling)}}]),t}(),Ea=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return Ae(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(U.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var r=this.getSeriesByName(e),n=parseInt(r.getAttribute("data:realIndex"),10);return{isHidden:r.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,r){var n=this.w;function a(i){for(var s=0;s<i.length;s++)i[s].index===r&&e.node.classList.add("apexcharts-series-collapsed")}a(n.globals.collapsedSeries),a(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var r=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,r.isHidden),r.isHidden}},{key:"showSeries",value:function(e){var r=this.isSeriesHidden(e);r.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!0)}},{key:"hideSeries",value:function(e){var r=this.isSeriesHidden(e);r.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w,i=U.clone(a.globals.initialSeries);a.globals.previousPaths=[],n?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):i=this.emptyCollapsedSeries(i),a.config.series=i,e&&(r&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var r=this.w,n=0;n<e.length;n++)r.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"highlightSeries",value:function(e){var r=this.w,n=this.getSeriesByName(e),a=parseInt(n==null?void 0:n.getAttribute("data:realIndex"),10),i=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),s=null,o=null,l=null;if(r.globals.axisCharts||r.config.chart.type==="radialBar")if(r.globals.axisCharts){s=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),o=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"));var u=r.globals.seriesYAxisReverseMap[a];l=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(u,"']"))}else s=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']"));else s=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var d=0;d<i.length;d++)i[d].classList.add(this.legendInactiveClass);if(s)r.globals.axisCharts||s.parentNode.classList.remove(this.legendInactiveClass),s.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var h=0;h<i.length;h++)i[h].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,r){var n=this.w;r||(r=e.target);var a=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var i=parseInt(r.getAttribute("rel"),10)-1;this.highlightSeries(n.globals.seriesNames[i])}else if(e.type==="mouseout")for(var s=0;s<a.length;s++)a[s].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,r){var n=this,a=this.w,i=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),s=function(u){for(var d=0;d<i.length;d++)i[d].classList[u](n.legendInactiveClass)};if(e.type==="mousemove"){var o=parseInt(r.getAttribute("rel"),10)-1;s("add");var l=a.config.plotOptions.heatmap.colorScale.ranges;(function(u,d){for(var h=0;h<i.length;h++){var f=Number(i[h].getAttribute("val"));f>=u.from&&(f<u.to||u.to===d&&f===d)&&i[h].classList.remove(n.legendInactiveClass)}})(l[o],l.reduce(function(u,d){return Math.max(u,d.to)},0))}else e.type==="mouseout"&&s("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=this.w,a=0;if(n.config.series.length>1){for(var i=n.config.series.map(function(o,l){return o.data&&o.data.length>0&&n.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!n.globals.comboCharts||r.length===0||r.length&&r.indexOf(n.config.series[l].type)>-1)?l:-1}),s=e==="asc"?0:i.length-1;e==="asc"?s<i.length:s>=0;e==="asc"?s++:s--)if(i[s]!==-1){a=i[s];break}}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,r){return e.type==="bar"||e.type==="column"?r:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,r){return r})}},{key:"getPreviousPaths",value:function(){var e=this.w;function r(s,o,l){for(var u=s[o].childNodes,d={type:l,paths:[],realIndex:s[o].getAttribute("data:realIndex")},h=0;h<u.length;h++)if(u[h].hasAttribute("pathTo")){var f=u[h].getAttribute("pathTo");d.paths.push({d:f})}e.globals.previousPaths.push(d)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(s){for(var o,l=(o=s,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),u=0;u<l.length;u++)r(l,u,s)});var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var a=function(s){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(s,"'] rect")),l=[],u=function(h){var f=function(g){return o[h].getAttribute(g)},p={x:parseFloat(f("x")),y:parseFloat(f("y")),width:parseFloat(f("width")),height:parseFloat(f("height"))};l.push({rect:p,color:o[h].getAttribute("color")})},d=0;d<o.length;d++)u(d);e.globals.previousPaths.push(l)},i=0;i<n.length;i++)a(i);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,r=e.config.noData,n=new ce(this.ctx),a=e.globals.svgWidth/2,i=e.globals.svgHeight/2,s="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,r.align==="left"?(a=10,s="start"):r.align==="right"&&(a=e.globals.svgWidth-10,s="end"),r.verticalAlign==="top"?i=50:r.verticalAlign==="bottom"&&(i=e.globals.svgHeight-50),a+=r.offsetX,i=i+parseInt(r.style.fontSize,10)+2+r.offsetY,r.text!==void 0&&r.text!==""){var o=n.drawText({x:a,y:i,text:r.text,textAnchor:s,fontSize:r.style.fontSize,fontFamily:r.style.fontFamily,foreColor:r.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var r=this.w,n=0;n<e.length;n++)if(e[n].length===0)for(var a=0;a<e[r.globals.maxValsInArrayIndex].length;a++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,r=this.w,n=this.filteredSeriesX(),a=0;a<n.length-1;a++)if(n[a][0]!==n[a+1][0]){e=!1;break}return r.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(r){return r.length>0?r:[]});return e}}]),t}(),yN=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new ir(this.ctx)}return Ae(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),r=new Ea(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),r=new Ea(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,r){for(var n=this.w.config,a=this.w.globals,i=n.chart.type==="boxPlot"||n.series[r].type==="boxPlot",s=0;s<e[r].data.length;s++)if(e[r].data[s][1]!==void 0&&(Array.isArray(e[r].data[s][1])&&e[r].data[s][1].length===4&&!i?this.twoDSeries.push(U.parseNumber(e[r].data[s][1][3])):e[r].data[s].length>=5?this.twoDSeries.push(U.parseNumber(e[r].data[s][4])):this.twoDSeries.push(U.parseNumber(e[r].data[s][1])),a.dataFormatXNumeric=!0),n.xaxis.type==="datetime"){var o=new Date(e[r].data[s][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[r].data[s][0]);for(var l=0;l<e[r].data.length;l++)e[r].data[l][2]!==void 0&&(this.threeDSeries.push(e[r].data[l][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,r){var n=this.w.config,a=this.w.globals,i=new $r(this.ctx),s=r;a.collapsedSeriesIndices.indexOf(r)>-1&&(s=this.activeSeriesIndex);for(var o=0;o<e[r].data.length;o++)e[r].data[o].y!==void 0&&(Array.isArray(e[r].data[o].y)?this.twoDSeries.push(U.parseNumber(e[r].data[o].y[e[r].data[o].y.length-1])):this.twoDSeries.push(U.parseNumber(e[r].data[o].y))),e[r].data[o].goals!==void 0&&Array.isArray(e[r].data[o].goals)?(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(e[r].data[o].goals)):(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(null));for(var l=0;l<e[s].data.length;l++){var u=typeof e[s].data[l].x=="string",d=Array.isArray(e[s].data[l].x),h=!d&&!!i.isValidDate(e[s].data[l].x);if(u||h)if(u||n.xaxis.convertedCatToNumeric){var f=a.isBarHorizontal&&a.isRangeData;n.xaxis.type!=="datetime"||f?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[s].data[l].x),isNaN(e[s].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[s].data[l].x=="string"||(a.isXNumeric=!0)):this.twoDSeriesX.push(i.parseDate(e[s].data[l].x))}else n.xaxis.type==="datetime"?this.twoDSeriesX.push(i.parseDate(e[s].data[l].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[s].data[l].x)));else d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[s].data[l].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[s].data[l].x))}if(e[r].data[0]&&e[r].data[0].z!==void 0){for(var p=0;p<e[r].data.length;p++)this.threeDSeries.push(e[r].data[p].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,r){var n=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",e,r):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",e,r)),n.seriesRangeStart[r]=a.start===void 0?[]:a.start,n.seriesRangeEnd[r]=a.end===void 0?[]:a.end,n.seriesRange[r]=a.rangeUniques,n.seriesRange.forEach(function(i,s){i&&i.forEach(function(o,l){o.y.forEach(function(u,d){for(var h=0;h<o.y.length;h++)if(d!==h){var f=u.y1,p=u.y2,g=o.y[h].y1;f<=o.y[h].y2&&g<=p&&(o.overlaps.indexOf(u.rangeName)<0&&o.overlaps.push(u.rangeName),o.overlaps.indexOf(o.y[h].rangeName)<0&&o.overlaps.push(o.y[h].rangeName))}})})}),a}},{key:"handleCandleStickBoxData",value:function(e,r){var n=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",e,r):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",e,r)),n.seriesCandleO[r]=a.o,n.seriesCandleH[r]=a.h,n.seriesCandleM[r]=a.m,n.seriesCandleL[r]=a.l,n.seriesCandleC[r]=a.c,a}},{key:"handleRangeDataFormat",value:function(e,r,n){var a=[],i=[],s=r[n].data.filter(function(d,h,f){return h===f.findIndex(function(p){return p.x===d.x})}).map(function(d,h){return{x:d.x,overlaps:[],y:[]}});if(e==="array")for(var o=0;o<r[n].data.length;o++)Array.isArray(r[n].data[o])?(a.push(r[n].data[o][1][0]),i.push(r[n].data[o][1][1])):(a.push(r[n].data[o]),i.push(r[n].data[o]));else if(e==="xy")for(var l=function(d){var h=Array.isArray(r[n].data[d].y),f=U.randomId(),p=r[n].data[d].x,g={y1:h?r[n].data[d].y[0]:r[n].data[d].y,y2:h?r[n].data[d].y[1]:r[n].data[d].y,rangeName:f};r[n].data[d].rangeName=f;var m=s.findIndex(function(v){return v.x===p});s[m].y.push(g),a.push(g.y1),i.push(g.y2)},u=0;u<r[n].data.length;u++)l(u);return{start:a,end:i,rangeUniques:s}}},{key:"handleCandleStickBoxDataFormat",value:function(e,r,n){var a=this.w,i=a.config.chart.type==="boxPlot"||a.config.series[n].type==="boxPlot",s=[],o=[],l=[],u=[],d=[];if(e==="array")if(i&&r[n].data[0].length===6||!i&&r[n].data[0].length===5)for(var h=0;h<r[n].data.length;h++)s.push(r[n].data[h][1]),o.push(r[n].data[h][2]),i?(l.push(r[n].data[h][3]),u.push(r[n].data[h][4]),d.push(r[n].data[h][5])):(u.push(r[n].data[h][3]),d.push(r[n].data[h][4]));else for(var f=0;f<r[n].data.length;f++)Array.isArray(r[n].data[f][1])&&(s.push(r[n].data[f][1][0]),o.push(r[n].data[f][1][1]),i?(l.push(r[n].data[f][1][2]),u.push(r[n].data[f][1][3]),d.push(r[n].data[f][1][4])):(u.push(r[n].data[f][1][2]),d.push(r[n].data[f][1][3])));else if(e==="xy")for(var p=0;p<r[n].data.length;p++)Array.isArray(r[n].data[p].y)&&(s.push(r[n].data[p].y[0]),o.push(r[n].data[p].y[1]),i?(l.push(r[n].data[p].y[2]),u.push(r[n].data[p].y[3]),d.push(r[n].data[p].y[4])):(u.push(r[n].data[p].y[2]),d.push(r[n].data[p].y[3])));return{o:s,h:o,m:l,l:u,c:d}}},{key:"parseDataAxisCharts",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,a=this.w.config,i=this.w.globals,s=new $r(n),o=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();i.isRangeBar=a.chart.type==="rangeBar"&&i.isBarHorizontal,i.hasXaxisGroups=a.xaxis.type==="category"&&a.xaxis.group.groups.length>0,i.hasXaxisGroups&&(i.groups=a.xaxis.group.groups),e.forEach(function(p,g){p.name!==void 0?i.seriesNames.push(p.name):i.seriesNames.push("series-"+parseInt(g+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],u=wr(new Set(a.series.map(function(p){return p.group})));a.series.forEach(function(p,g){var m=u.indexOf(p.group);l[m]||(l[m]=[]),l[m].push(i.seriesNames[g])}),i.seriesGroups=l;for(var d=function(){for(var p=0;p<o.length;p++)if(typeof o[p]=="string"){if(!s.isValidDate(o[p]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");r.twoDSeriesX.push(s.parseDate(o[p]))}else r.twoDSeriesX.push(o[p])},h=0;h<e.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[h].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"&&e[h].type!=="rangeBar"&&e[h].type!=="rangeArea"||(i.isRangeData=!0,this.handleRangeData(e,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,h):this.isFormatXY()&&this.handleFormatXY(e,h),a.chart.type!=="candlestick"&&e[h].type!=="candlestick"&&a.chart.type!=="boxPlot"&&e[h].type!=="boxPlot"||this.handleCandleStickBoxData(e,h),i.series.push(this.twoDSeries),i.labels.push(this.twoDSeriesX),i.seriesX.push(this.twoDSeriesX),i.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(i.isXNumeric=!0);else{a.xaxis.type==="datetime"?(i.isXNumeric=!0,d(),i.seriesX.push(this.twoDSeriesX)):a.xaxis.type==="numeric"&&(i.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,i.seriesX.push(this.twoDSeriesX))),i.labels.push(this.twoDSeriesX);var f=e[h].data.map(function(p){return U.parseNumber(p)});i.series.push(f)}i.seriesZ.push(this.threeDSeries),e[h].color!==void 0?i.seriesColors.push(e[h].color):i.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var r=this.w.globals,n=this.w.config;r.series=e.slice(),r.seriesNames=n.labels.slice();for(var a=0;a<r.series.length;a++)r.seriesNames[a]===void 0&&r.seriesNames.push("series-"+(a+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var r=this.w.config,n=this.w.globals;r.xaxis.categories.length>0?n.labels=r.xaxis.categories:r.labels.length>0?n.labels=r.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map(function(a){a.forEach(function(i){n.labels.indexOf(i.x)<0&&i.x&&n.labels.push(i.x)})}),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),r.xaxis.convertedCatToNumeric&&(new bp(r).convertCatToNumericXaxis(r,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var r=this.w.globals,n=this.w.config,a=[];if(r.axisCharts){if(r.series.length>0)if(this.isFormatXY())for(var i=n.series.map(function(h,f){return h.data.filter(function(p,g,m){return m.findIndex(function(v){return v.x===p.x})===g})}),s=i.reduce(function(h,f,p,g){return g[h].length>f.length?h:p},0),o=0;o<i[s].length;o++)a.push(o+1);else for(var l=0;l<r.series[r.maxValsInArrayIndex].length;l++)a.push(l+1);r.seriesX=[];for(var u=0;u<e.length;u++)r.seriesX.push(a);this.w.globals.isBarHorizontal||(r.isXNumeric=!0)}if(a.length===0){a=r.axisCharts?[]:r.series.map(function(h,f){return f+1});for(var d=0;d<e.length;d++)r.seriesX.push(a)}r.labels=a,n.xaxis.convertedCatToNumeric&&(r.categoryLabels=a.map(function(h){return n.xaxis.labels.formatter(h)})),r.noLabelsProvided=!0}},{key:"parseData",value:function(e){var r=this.w,n=r.config,a=r.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var i=new Ea(this.ctx);a.series=i.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&(n.xaxis.type!=="numeric"||n.labels.length!==0||n.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var s=this.coreUtils.getCategoryLabels(a.labels),o=0;o<s.length;o++)if(Array.isArray(s[o])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,r=[];e.globals.seriesYAxisMap.forEach(function(n,a){var i=0;n.forEach(function(s){e.globals.collapsedSeriesIndices.indexOf(s)!==-1&&i++}),i>0&&i==n.length&&r.push(a)}),e.globals.ignoreYAxisIndexes=r.map(function(n){return n})}}]),t}(),If=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,r){var n=parseFloat(e.getAttributeNS(null,"width")),a=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*r),e.setAttributeNS(null,"height",a*r),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+a)}},{key:"getSvgString",value:function(e){var r=this;return new Promise(function(n){var a=r.w,i=e||a.config.chart.toolbar.export.scale||a.config.chart.toolbar.export.width/a.globals.svgWidth;i||(i=1);var s=a.globals.svgWidth*i,o=a.globals.svgHeight*i,l=a.globals.dom.elWrap.cloneNode(!0);l.style.width=s+"px",l.style.height=o+"px";var u=new XMLSerializer().serializeToString(l),d=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(a.globals.svgWidth,'px" height="').concat(a.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(s,"px; height:").concat(o,`px;">
            <style type="text/css">
              .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
                display: none;
              }
            </style>
              `).concat(u,`
            </div>
          </foreignObject>
        </svg>
      `),h=r.svgStringToNode(d);i!==1&&r.scaleSvgNode(h,i),r.convertImagesToBase64(h).then(function(){d=new XMLSerializer().serializeToString(h),n(d.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var r=this,n=e.getElementsByTagName("image"),a=Array.from(n).map(function(i){var s=i.getAttributeNS("http://www.w3.org/1999/xlink","href");return s&&!s.startsWith("data:")?r.getBase64FromUrl(s).then(function(o){i.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}).catch(function(o){console.error("Error converting image to base64:",o)}):Promise.resolve()});return Promise.all(a)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(r,n){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var i=document.createElement("canvas");i.width=a.width,i.height=a.height,i.getContext("2d").drawImage(a,0,0),r(i.toDataURL())},a.onerror=n,a.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(r){e.getSvgString().then(function(n){var a=new Blob([n],{type:"image/svg+xml;charset=utf-8"});r(URL.createObjectURL(a))})})}},{key:"dataURI",value:function(e){var r=this;return new Promise(function(n){var a=r.w,i=e?e.scale||e.width/a.globals.svgWidth:1,s=document.createElement("canvas");s.width=a.globals.svgWidth*i,s.height=parseInt(a.globals.dom.elWrap.style.height,10)*i;var o=a.config.chart.background!=="transparent"&&a.config.chart.background?a.config.chart.background:"#fff",l=s.getContext("2d");l.fillStyle=o,l.fillRect(0,0,s.width*i,s.height*i),r.getSvgString(i).then(function(u){var d="data:image/svg+xml,"+encodeURIComponent(u),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(l.drawImage(h,0,0),s.msToBlob){var f=s.msToBlob();n({blob:f})}else{var p=s.toDataURL("image/png");n({imgURI:p})}},h.src=d})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(r){e.triggerDownload(r,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,r=this.w.config.chart.toolbar.export.scale,n=this.w.config.chart.toolbar.export.width,a=r?{scale:r}:n?{width:n}:void 0;this.dataURI(a).then(function(i){var s=i.imgURI,o=i.blob;o?navigator.msSaveOrOpenBlob(o,e.w.globals.chartID+".png"):e.triggerDownload(s,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var r=this,n=e.series,a=e.fileName,i=e.columnDelimiter,s=i===void 0?",":i,o=e.lineDelimiter,l=o===void 0?`
`:o,u=this.w;n||(n=u.config.series);var d=[],h=[],f="",p=u.globals.series.map(function(S,k){return u.globals.collapsedSeriesIndices.indexOf(k)===-1?S:[]}),g=function(S){return typeof u.config.chart.toolbar.export.csv.categoryFormatter=="function"?u.config.chart.toolbar.export.csv.categoryFormatter(S):u.config.xaxis.type==="datetime"&&String(S).length>=10?new Date(S).toDateString():U.isNumber(S)?S:S.split(s).join("")},m=function(S){return typeof u.config.chart.toolbar.export.csv.valueFormatter=="function"?u.config.chart.toolbar.export.csv.valueFormatter(S):S},v=Math.max.apply(Math,wr(n.map(function(S){return S.data?S.data.length:0}))),x=new yN(this.ctx),y=new Yo(this.ctx),b=function(S){var k="";if(u.globals.axisCharts){if(u.config.xaxis.type==="category"||u.config.xaxis.convertedCatToNumeric)if(u.globals.isBarHorizontal){var C=u.globals.yLabelFormatters[0],A=new Ea(r.ctx).getActiveConfigSeriesIndex();k=C(u.globals.labels[S],{seriesIndex:A,dataPointIndex:S,w:u})}else k=y.getLabel(u.globals.labels,u.globals.timescaleLabels,0,S).text;u.config.xaxis.type==="datetime"&&(u.config.xaxis.categories.length?k=u.config.xaxis.categories[S]:u.config.labels.length&&(k=u.config.labels[S]))}else k=u.config.labels[S];return k===null?"nullvalue":(Array.isArray(k)&&(k=k.join(" ")),U.isNumber(k)?k:k.split(s).join(""))},w=function(S,k){if(d.length&&k===0&&h.push(d.join(s)),S.data){S.data=S.data.length&&S.data||wr(Array(v)).map(function(){return""});for(var C=0;C<S.data.length;C++){d=[];var A=b(C);if(A!=="nullvalue"){if(A||(x.isFormatXY()?A=n[k].data[C].x:x.isFormat2DArray()&&(A=n[k].data[C]?n[k].data[C][0]:"")),k===0){d.push(g(A));for(var N=0;N<u.globals.series.length;N++){var P,E=x.isFormatXY()?(P=n[N].data[C])===null||P===void 0?void 0:P.y:p[N][C];d.push(m(E))}}(u.config.chart.type==="candlestick"||S.type&&S.type==="candlestick")&&(d.pop(),d.push(u.globals.seriesCandleO[k][C]),d.push(u.globals.seriesCandleH[k][C]),d.push(u.globals.seriesCandleL[k][C]),d.push(u.globals.seriesCandleC[k][C])),(u.config.chart.type==="boxPlot"||S.type&&S.type==="boxPlot")&&(d.pop(),d.push(u.globals.seriesCandleO[k][C]),d.push(u.globals.seriesCandleH[k][C]),d.push(u.globals.seriesCandleM[k][C]),d.push(u.globals.seriesCandleL[k][C]),d.push(u.globals.seriesCandleC[k][C])),u.config.chart.type==="rangeBar"&&(d.pop(),d.push(u.globals.seriesRangeStart[k][C]),d.push(u.globals.seriesRangeEnd[k][C])),d.length&&h.push(d.join(s))}}}};d.push(u.config.chart.toolbar.export.csv.headerCategory),u.config.chart.type==="boxPlot"?(d.push("minimum"),d.push("q1"),d.push("median"),d.push("q3"),d.push("maximum")):u.config.chart.type==="candlestick"?(d.push("open"),d.push("high"),d.push("low"),d.push("close")):u.config.chart.type==="rangeBar"?(d.push("minimum"),d.push("maximum")):n.map(function(S,k){var C=(S.name?S.name:"series-".concat(k))+"";u.globals.axisCharts&&d.push(C.split(s).join("")?C.split(s).join(""):"series-".concat(k))}),u.globals.axisCharts||(d.push(u.config.chart.toolbar.export.csv.headerValue),h.push(d.join(s))),u.globals.allSeriesHasEqualX||!u.globals.axisCharts||u.config.xaxis.categories.length||u.config.labels.length?n.map(function(S,k){u.globals.axisCharts?w(S,k):((d=[]).push(g(u.globals.labels[k])),d.push(m(p[k])),h.push(d.join(s)))}):function(){var S=new Set,k={};n.forEach(function(C,A){C==null||C.data.forEach(function(N){var P,E;if(x.isFormatXY())P=N.x,E=N.y;else{if(!x.isFormat2DArray())return;P=N[0],E=N[1]}k[P]||(k[P]=Array(n.length).fill("")),k[P][A]=m(E),S.add(P)})}),d.length&&h.push(d.join(s)),Array.from(S).sort().forEach(function(C){h.push([g(C),k[C].join(s)])})}(),f+=h.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+f),a||u.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,r,n){var a=document.createElement("a");a.href=e,a.download=(r||this.w.globals.chartID)+n,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),t}(),_p=function(){function t(e,r){ke(this,t),this.ctx=e,this.elgrid=r,this.w=e.w;var n=this.w;this.axesUtils=new Yo(e),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],n.config.xaxis.position==="top"?this.offY=0:this.offY=n.globals.gridHeight,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return Ae(t,[{key:"drawXaxis",value:function(){var e=this.w,r=new ce(this.ctx),n=r.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),a=r.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(a);for(var i=[],s=0;s<this.xaxisLabels.length;s++)i.push(this.xaxisLabels[s]);if(this.drawXAxisLabelAndGroup(!0,r,a,i,e.globals.isXNumeric,function(g,m){return m}),e.globals.hasXaxisGroups){var o=e.globals.groups;i=[];for(var l=0;l<o.length;l++)i.push(o[l].title);var u={};e.config.xaxis.group.style&&(u.xaxisFontSize=e.config.xaxis.group.style.fontSize,u.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,u.xaxisForeColors=e.config.xaxis.group.style.colors,u.fontWeight=e.config.xaxis.group.style.fontWeight,u.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,r,a,i,!1,function(g,m){return o[g].cols*m},u)}if(e.config.xaxis.title.text!==void 0){var d=r.group({class:"apexcharts-xaxis-title"}),h=r.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});d.add(h),n.add(d)}if(e.config.xaxis.axisBorder.show){var f=e.globals.barPadForNumericAxis,p=r.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-f,this.offY,this.xaxisBorderWidth+f,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(p):n.add(p)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,r,n,a,i,s){var o,l=this,u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},d=[],h=[],f=this.w,p=u.xaxisFontSize||this.xaxisFontSize,g=u.xaxisFontFamily||this.xaxisFontFamily,m=u.xaxisForeColors||this.xaxisForeColors,v=u.fontWeight||f.config.xaxis.labels.style.fontWeight,x=u.cssClass||f.config.xaxis.labels.style.cssClass,y=f.globals.padHorizontal,b=a.length,w=f.config.xaxis.type==="category"?f.globals.dataPoints:b;if(w===0&&b>w&&(w=b),i){var S=Math.max(Number(f.config.xaxis.tickAmount)||1,w>1?w-1:w);o=f.globals.gridWidth/Math.min(S,b-1),y=y+s(0,o)/2+f.config.xaxis.labels.offsetX}else o=f.globals.gridWidth/w,y=y+s(0,o)+f.config.xaxis.labels.offsetX;for(var k=function(A){var N=y-s(A,o)/2+f.config.xaxis.labels.offsetX;A===0&&b===1&&o/2===y&&w===1&&(N=f.globals.gridWidth/2);var P=l.axesUtils.getLabel(a,f.globals.timescaleLabels,N,A,d,p,e),E=28;if(f.globals.rotateXLabels&&e&&(E=22),f.config.xaxis.title.text&&f.config.xaxis.position==="top"&&(E+=parseFloat(f.config.xaxis.title.style.fontSize)+2),e||(E=E+parseFloat(p)+(f.globals.xAxisLabelsHeight-f.globals.xAxisGroupLabelsHeight)+(f.globals.rotateXLabels?10:0)),P=f.config.xaxis.tickAmount!==void 0&&f.config.xaxis.tickAmount!=="dataPoints"&&f.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(A,P,b):l.axesUtils.checkForOverflowingLabels(A,P,b,d,h),f.config.xaxis.labels.show){var O=r.drawText({x:P.x,y:l.offY+f.config.xaxis.labels.offsetY+E-(f.config.xaxis.position==="top"?f.globals.xAxisHeight+f.config.xaxis.axisTicks.height-2:0),text:P.text,textAnchor:"middle",fontWeight:P.isBold?600:v,fontSize:p,fontFamily:g,foreColor:Array.isArray(m)?e&&f.config.xaxis.convertedCatToNumeric?m[f.globals.minX+A-1]:m[A]:m,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+x});if(n.add(O),O.on("click",function(M){if(typeof f.config.chart.events.xAxisLabelClick=="function"){var L=Object.assign({},f,{labelIndex:A});f.config.chart.events.xAxisLabelClick(M,l.ctx,L)}}),e){var T=document.createElementNS(f.globals.SVGNS,"title");T.textContent=Array.isArray(P.text)?P.text.join(" "):P.text,O.node.appendChild(T),P.text!==""&&(d.push(P.text),h.push(P))}}A<b-1&&(y+=s(A+1,o))},C=0;C<=b-1;C++)k(C)}},{key:"drawXaxisInversed",value:function(e){var r,n,a=this,i=this.w,s=new ce(this.ctx),o=i.config.yaxis[0].opposite?i.globals.translateYAxisX[e]:0,l=s.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),u=s.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(u);var d=[];if(i.config.yaxis[e].show)for(var h=0;h<this.xaxisLabels.length;h++)d.push(this.xaxisLabels[h]);r=i.globals.gridHeight/d.length,n=-r/2.2;var f=i.globals.yLabelFormatters[0],p=i.config.yaxis[0].labels;if(p.show)for(var g=function(S){var k=d[S]===void 0?"":d[S];k=f(k,{seriesIndex:e,dataPointIndex:S,w:i});var C=a.axesUtils.getYAxisForeColor(p.style.colors,e),A=0;Array.isArray(k)&&(A=k.length/2*parseInt(p.style.fontSize,10));var N=p.offsetX-15,P="end";a.yaxis.opposite&&(P="start"),i.config.yaxis[0].labels.align==="left"?(N=p.offsetX,P="start"):i.config.yaxis[0].labels.align==="center"?(N=p.offsetX,P="middle"):i.config.yaxis[0].labels.align==="right"&&(P="end");var E=s.drawText({x:N,y:n+r+p.offsetY-A,text:k,textAnchor:P,foreColor:Array.isArray(C)?C[S]:C,fontSize:p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.style.cssClass,maxWidth:p.maxWidth});u.add(E),E.on("click",function(M){if(typeof i.config.chart.events.xAxisLabelClick=="function"){var L=Object.assign({},i,{labelIndex:S});i.config.chart.events.xAxisLabelClick(M,a.ctx,L)}});var O=document.createElementNS(i.globals.SVGNS,"title");if(O.textContent=Array.isArray(k)?k.join(" "):k,E.node.appendChild(O),i.config.yaxis[e].labels.rotate!==0){var T=s.rotateAroundCenter(E.node);E.node.setAttribute("transform","rotate(".concat(i.config.yaxis[e].labels.rotate," 0 ").concat(T.y,")"))}n+=r},m=0;m<=d.length-1;m++)g(m);if(i.config.yaxis[0].title.text!==void 0){var v=s.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),x=s.drawText({x:i.config.yaxis[0].title.offsetX,y:i.globals.gridHeight/2+i.config.yaxis[0].title.offsetY,text:i.config.yaxis[0].title.text,textAnchor:"middle",foreColor:i.config.yaxis[0].title.style.color,fontSize:i.config.yaxis[0].title.style.fontSize,fontWeight:i.config.yaxis[0].title.style.fontWeight,fontFamily:i.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[0].title.style.cssClass});v.add(x),l.add(v)}var y=0;this.isCategoryBarHorizontal&&i.config.yaxis[0].opposite&&(y=i.globals.gridWidth);var b=i.config.xaxis.axisBorder;if(b.show){var w=s.drawLine(i.globals.padHorizontal+b.offsetX+y,1+b.offsetY,i.globals.padHorizontal+b.offsetX+y,i.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(w):l.add(w)}return i.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(y,d.length,i.config.yaxis[0].axisBorder,i.config.yaxis[0].axisTicks,0,r,l),l}},{key:"drawXaxisTicks",value:function(e,r,n){var a=this.w,i=e;if(!(e<0||e-2>a.globals.gridWidth)){var s=this.offY+a.config.xaxis.axisTicks.offsetY;if(r=r+s+a.config.xaxis.axisTicks.height,a.config.xaxis.position==="top"&&(r=s-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var o=new ce(this.ctx).drawLine(e+a.config.xaxis.axisTicks.offsetX,s+a.config.xaxis.offsetY,i+a.config.xaxis.axisTicks.offsetX,r+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);n.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,r=[],n=this.xaxisLabels.length,a=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var i=0;i<n;i++)a=this.xaxisLabels[i].position,r.push(a);else for(var s=n,o=0;o<s;o++){var l=s;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),a+=e.globals.gridWidth/l,r.push(a)}return r}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,r=new ce(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<a.length;o++){var l=r.rotateAroundCenter(a[o]);l.y=l.y-1,l.x=l.x+1,a[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),a[o].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var u=a[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(u,function(p){r.placeTextWithEllipsis(p,p.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var p=e.globals.gridWidth/(e.globals.labels.length+1),g=0;g<a.length;g++){var m=a[g].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(m,function(v){r.placeTextWithEllipsis(v,v.textContent,p)})}})();if(i.length>0){var d=i[i.length-1].getBBox(),h=i[0].getBBox();d.x<-20&&i[i.length-1].parentNode.removeChild(i[i.length-1]),h.x+h.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&i[0].parentNode.removeChild(i[0]);for(var f=0;f<s.length;f++)r.placeTextWithEllipsis(s[f],s[f].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),t}(),CW=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.xaxisLabels=r.globals.labels.slice(),this.axesUtils=new Yo(e),this.isRangeBar=r.globals.seriesRange.length&&r.globals.isBarHorizontal,r.globals.timescaleLabels.length>0&&(this.xaxisLabels=r.globals.timescaleLabels.slice())}return Ae(t,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w,n=new ce(this.ctx);e||(e=n.group({class:"apexcharts-grid"}));var a=n.drawLine(r.globals.padHorizontal,1,r.globals.padHorizontal,r.globals.gridHeight,"transparent"),i=n.drawLine(r.globals.padHorizontal,r.globals.gridHeight,r.globals.gridWidth,r.globals.gridHeight,"transparent");return e.add(i),e.add(a),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,r=e.globals,n=new ce(this.ctx),a=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,wr(e.config.stroke.width)):e.config.stroke.width,i=function(d){var h=document.createElementNS(r.SVGNS,"clipPath");return h.setAttribute("id",d),h};r.dom.elGridRectMask=i("gridRectMask".concat(r.cuid)),r.dom.elGridRectBarMask=i("gridRectBarMask".concat(r.cuid)),r.dom.elGridRectMarkerMask=i("gridRectMarkerMask".concat(r.cuid)),r.dom.elForecastMask=i("forecastMask".concat(r.cuid)),r.dom.elNonForecastMask=i("nonForecastMask".concat(r.cuid));var s=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(s=Math.max(e.config.grid.padding.left,r.barPadForNumericAxis),o=Math.max(e.config.grid.padding.right,r.barPadForNumericAxis)),r.dom.elGridRect=n.drawRect(-a/2-2,-a/2-2,r.gridWidth+a+4,r.gridHeight+a+4,0,"#fff"),r.dom.elGridRectBar=n.drawRect(-a/2-s-2,-a/2-2,r.gridWidth+a+o+s+4,r.gridHeight+a+4,0,"#fff");var l=e.globals.markers.largestSize;r.dom.elGridRectMarker=n.drawRect(-l,-l,r.gridWidth+2*l,r.gridHeight+2*l,0,"#fff"),r.dom.elGridRectMask.appendChild(r.dom.elGridRect.node),r.dom.elGridRectBarMask.appendChild(r.dom.elGridRectBar.node),r.dom.elGridRectMarkerMask.appendChild(r.dom.elGridRectMarker.node);var u=r.dom.baseEl.querySelector("defs");u.appendChild(r.dom.elGridRectMask),u.appendChild(r.dom.elGridRectBarMask),u.appendChild(r.dom.elGridRectMarkerMask),u.appendChild(r.dom.elForecastMask),u.appendChild(r.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var r=e.i,n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.xCount,l=e.parent,u=this.w;if(!(r===0&&u.globals.skipFirstTimelinelabel||r===o-1&&u.globals.skipLastTimelinelabel&&!u.config.xaxis.labels.formatter||u.config.chart.type==="radar")){u.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,x1:n,y1:a,x2:i,y2:s,xCount:o,parent:l});var d=0;if(u.globals.hasXaxisGroups&&u.config.xaxis.tickPlacement==="between"){var h=u.globals.groups;if(h){for(var f=0,p=0;f<r&&p<h.length;p++)f+=h[p].cols;f===r&&(d=.6*u.globals.xAxisLabelsHeight)}}new _p(this.ctx).drawXaxisTicks(n,d,u.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var r=e.i,n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.xCount,l=e.parent,u=this.w,d=l.node.classList.contains("apexcharts-gridlines-horizontal"),h=u.globals.barPadForNumericAxis,f=a===0&&s===0||n===0&&i===0||a===u.globals.gridHeight&&s===u.globals.gridHeight||u.globals.isBarHorizontal&&(r===0||r===o-1),p=new ce(this).drawLine(n-(d?h:0),a,i+(d?h:0),s,u.config.grid.borderColor,u.config.grid.strokeDashArray);p.node.classList.add("apexcharts-gridline"),f&&u.config.grid.show?this.elGridBorders.add(p):l.add(p)}},{key:"_drawGridBandRect",value:function(e){var r=e.c,n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.type,l=this.w,u=new ce(this.ctx),d=l.globals.barPadForNumericAxis,h=l.config.grid[o].colors[r],f=u.drawRect(n-(o==="row"?d:0),a,i+(o==="row"?2*d:0),s,0,h,l.config.grid[o].opacity);this.elg.add(f),f.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),f.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(e){var r=this,n=e.xCount,a=e.tickAmount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show){var s,o=i.globals.padHorizontal,l=i.globals.gridHeight;i.globals.timescaleLabels.length?function(g){for(var m=g.xC,v=g.x1,x=g.y1,y=g.x2,b=g.y2,w=0;w<m;w++)v=r.xaxisLabels[w].position,y=r.xaxisLabels[w].position,r._drawGridLines({i:w,x1:v,y1:x,x2:y,y2:b,xCount:n,parent:r.elgridLinesV})}({xC:n,x1:o,y1:0,x2:s,y2:l}):(i.globals.isXNumeric&&(n=i.globals.xAxisScale.result.length),function(g){for(var m=g.xC,v=g.x1,x=g.y1,y=g.x2,b=g.y2,w=0;w<m+(i.globals.isXNumeric?0:1);w++)w===0&&m===1&&i.globals.dataPoints===1&&(y=v=i.globals.gridWidth/2),r._drawGridLines({i:w,x1:v,y1:x,x2:y,y2:b,xCount:n,parent:r.elgridLinesV}),y=v+=i.globals.gridWidth/(i.globals.isXNumeric?m-1:m)}({xC:n,x1:o,y1:0,x2:s,y2:l}))}if(i.config.grid.yaxis.lines.show){var u=0,d=0,h=i.globals.gridWidth,f=a+1;this.isRangeBar&&(f=i.globals.labels.length);for(var p=0;p<f+(this.isRangeBar?1:0);p++)this._drawGridLine({i:p,xCount:f+(this.isRangeBar?1:0),x1:0,y1:u,x2:h,y2:d,parent:this.elgridLinesH}),d=u+=i.globals.gridHeight/(this.isRangeBar?f:a)}}},{key:"_drawInvertedXYLines",value:function(e){var r=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var a,i=n.globals.padHorizontal,s=n.globals.gridHeight,o=0;o<r+1;o++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:r+1,x1:i,y1:0,x2:a,y2:s,parent:this.elgridLinesV}),new _p(this.ctx).drawXaxisTicks(i,0,n.globals.dom.elGraphical),a=i+=n.globals.gridWidth/r;if(n.config.grid.yaxis.lines.show)for(var l=0,u=0,d=n.globals.gridWidth,h=0;h<n.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:n.globals.dataPoints+1,x1:0,y1:l,x2:d,y2:u,parent:this.elgridLinesH}),u=l+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,r=e.globals,n=new ce(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<r.seriesYAxisMap.length&&r.ignoreYAxisIndexes.includes(a);)a++;a===r.seriesYAxisMap.length&&(a=0);var i,s=r.yAxisScale[a].result.length-1;if(!r.isBarHorizontal||this.isRangeBar){var o,l,u;i=this.xaxisLabels.length,this.isRangeBar&&(s=r.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(i=e.config.xaxis.tickAmount),((o=r.yAxisScale)===null||o===void 0||(l=o[a])===null||l===void 0||(u=l.result)===null||u===void 0?void 0:u.length)>0&&e.config.xaxis.type!=="datetime"&&(i=r.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:i,tickAmount:s})}else i=s,s=r.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:s});return this.drawGridBands(i,s),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:r.gridWidth/i}}},{key:"drawGridBands",value:function(e,r){var n,a,i=this,s=this.w;if(((n=s.config.grid.row.colors)===null||n===void 0?void 0:n.length)>0&&function(g,m,v,x,y,b){for(var w=0,S=0;w<m;w++,S++)S>=s.config.grid[g].colors.length&&(S=0),i._drawGridBandRect({c:S,x1:v,y1:x,x2:y,y2:b,type:g}),x+=s.globals.gridHeight/r}("row",r,0,0,s.globals.gridWidth,s.globals.gridHeight/r),((a=s.config.grid.column.colors)===null||a===void 0?void 0:a.length)>0){var o=s.globals.isBarHorizontal||s.config.xaxis.tickPlacement!=="on"||s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric?e:e-1;s.globals.isXNumeric&&(o=s.globals.xAxisScale.result.length-1);for(var l=s.globals.padHorizontal,u=s.globals.padHorizontal+s.globals.gridWidth/o,d=s.globals.gridHeight,h=0,f=0;h<e;h++,f++){var p;f>=s.config.grid.column.colors.length&&(f=0),s.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[h].position,u=(((p=this.xaxisLabels[h+1])===null||p===void 0?void 0:p.position)||s.globals.gridWidth)-this.xaxisLabels[h].position),this._drawGridBandRect({c:f,x1:l,y1:0,x2:u,y2:d,type:"column"}),l+=s.globals.gridWidth/o}}}}]),t}(),kW=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.coreUtils=new ir(this.ctx)}return Ae(t,[{key:"niceScale",value:function(e,r){var n,a,i,s,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,u=this.w,d=u.globals;d.isBarHorizontal?(n=u.config.xaxis,a=Math.max((d.svgWidth-100)/25,2)):(n=u.config.yaxis[o],a=Math.max((d.svgHeight-100)/15,2)),U.isNumber(a)||(a=10),i=n.min!==void 0&&n.min!==null,s=n.max!==void 0&&n.min!==null;var h=n.stepSize!==void 0&&n.stepSize!==null,f=n.tickAmount!==void 0&&n.tickAmount!==null,p=f?n.tickAmount:d.niceScaleDefaultTicks[Math.min(Math.round(a/2),d.niceScaleDefaultTicks.length-1)];if(d.isMultipleYAxis&&!f&&d.multiAxisTickAmount>0&&(p=d.multiAxisTickAmount,f=!0),p=p==="dataPoints"?d.dataPoints-1:Math.abs(Math.round(p)),(e===Number.MIN_VALUE&&r===0||!U.isNumber(e)&&!U.isNumber(r)||e===Number.MIN_VALUE&&r===-Number.MAX_VALUE)&&(e=U.isNumber(n.min)?n.min:0,r=U.isNumber(n.max)?n.max:e+p,d.allSeriesCollapsed=!1),e>r){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var g=r;r=e,e=g}else e===r&&(e=e===0?0:e-1,r=r===0?2:r+1);var m=[];p<1&&(p=1);var v=p,x=Math.abs(r-e);!i&&e>0&&e/x<.15&&(e=0,i=!0),!s&&r<0&&-r/x<.15&&(r=0,s=!0);var y=(x=Math.abs(r-e))/v,b=y,w=Math.floor(Math.log10(b)),S=Math.pow(10,w),k=Math.ceil(b/S);if(y=b=(k=d.niceScaleAllowedMagMsd[d.yValueDecimal===0?0:1][k])*S,d.isBarHorizontal&&n.stepSize&&n.type!=="datetime"?(y=n.stepSize,h=!0):h&&(y=n.stepSize),h&&n.forceNiceScale){var C=Math.floor(Math.log10(y));y*=Math.pow(10,w-C)}if(i&&s){var A=x/v;if(f)if(h)if(U.mod(x,y)!=0){var N=U.getGCD(y,A);y=A/N<10?N:A}else U.mod(y,A)==0?y=A:(A=y,f=!1);else y=A;else if(h)U.mod(x,y)==0?A=y:y=A;else if(U.mod(x,y)==0)A=y;else{A=x/(v=Math.ceil(x/y));var P=U.getGCD(x,y);x/P<a&&(A=P),y=A}v=Math.round(x/y)}else{if(i||s){if(s)if(f)e=r-y*v;else{var E=e;e=y*Math.floor(e/y),Math.abs(r-e)/U.getGCD(x,y)>a&&(e=r-y*p,e+=y*Math.floor((E-e)/y))}else if(i)if(f)r=e+y*v;else{var O=r;r=y*Math.ceil(r/y),Math.abs(r-e)/U.getGCD(x,y)>a&&(r=e+y*p,r+=y*Math.ceil((O-r)/y))}}else if(d.isMultipleYAxis&&f){var T=y*Math.floor(e/y),M=T+y*v;M<r&&(y*=2),M=r,r=(e=T)+y*v,x=Math.abs(r-e),e>0&&e<Math.abs(M-r)&&(e=0,r=y*v),r<0&&-r<Math.abs(T-e)&&(r=0,e=-y*v)}else e=y*Math.floor(e/y),r=y*Math.ceil(r/y);x=Math.abs(r-e),y=U.getGCD(x,y),v=Math.round(x/y)}if(f||i||s||(v=Math.ceil((x-l)/(y+l)))>16&&U.getPrimeFactors(v).length<2&&v++,!f&&n.forceNiceScale&&d.yValueDecimal===0&&v>x&&(v=x,y=Math.round(x/v)),v>a&&(!f&&!h||n.forceNiceScale)){var L=U.getPrimeFactors(v),I=L.length-1,D=v;e:for(var R=0;R<I;R++)for(var F=0;F<=I-R;F++){for(var z=Math.min(F+R,I),B=D,q=1,ie=F;ie<=z;ie++)q*=L[ie];if((B/=q)<a){D=B;break e}}y=D===v?x:x/D,v=Math.round(x/y)}d.isMultipleYAxis&&d.multiAxisTickAmount==0&&d.ignoreYAxisIndexes.indexOf(o)<0&&(d.multiAxisTickAmount=v);var ne=e-y,Ne=y*l;do ne+=y,m.push(U.stripNumber(ne,7));while(r-ne>Ne);return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"linearScale",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,s=Math.abs(r-e),o=[];if(e===r)return{result:o=[e],niceMin:o[0],niceMax:o[o.length-1]};(n=this._adjustTicksForSmallRange(n,a,s))==="dataPoints"&&(n=this.w.globals.dataPoints-1),i||(i=s/n),i=Math.round(100*(i+Number.EPSILON))/100,n===Number.MAX_VALUE&&(n=5,i=1);for(var l=e;n>=0;)o.push(l),l=U.preciseAddition(l,i),n-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,r,n){r<=0&&(r=Math.max(e,n)),e<=0&&(e=Math.min(r,n));for(var a=[],i=Math.ceil(Math.log(r)/Math.log(n)+1),s=Math.floor(Math.log(e)/Math.log(n));s<i;s++)a.push(Math.pow(n,s));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(e,r,n){r<=0&&(r=Math.max(e,n)),e<=0&&(e=Math.min(r,n));for(var a=[],i=Math.log(r)/Math.log(n),s=Math.log(e)/Math.log(n),o=i-s,l=Math.round(o),u=o/l,d=0,h=s;d<l;d++,h+=u)a.push(Math.pow(n,h));return a.push(Math.pow(n,i)),{result:a,niceMin:e,niceMax:r}}},{key:"_adjustTicksForSmallRange",value:function(e,r,n){var a=e;if(r!==void 0&&this.w.config.yaxis[r].labels.formatter&&this.w.config.yaxis[r].tickAmount===void 0){var i=Number(this.w.config.yaxis[r].labels.formatter(1));U.isNumber(i)&&this.w.globals.yValueDecimal===0&&(a=Math.ceil(n))}return a<e?a:e}},{key:"setYScaleForIndex",value:function(e,r,n){var a=this.w.globals,i=this.w.config,s=a.isBarHorizontal?i.xaxis:i.yaxis[e];a.yAxisScale[e]===void 0&&(a.yAxisScale[e]=[]);var o=Math.abs(n-r);s.logarithmic&&o<=5&&(a.invalidLogScale=!0),s.logarithmic&&o>5?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=s.forceNiceScale?this.logarithmicScaleNice(r,n,s.logBase):this.logarithmicScale(r,n,s.logBase)):n!==-Number.MAX_VALUE&&U.isNumber(n)&&r!==Number.MAX_VALUE&&U.isNumber(r)?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=this.niceScale(r,n,e)):a.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,r){var n=this.w,a=n.globals;if(r!==-Number.MAX_VALUE&&U.isNumber(r)){var i=a.xTickAmount;a.xAxisScale=this.linearScale(e,r,i,0,n.config.xaxis.stepSize)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,r=this.w.config,n=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=n.seriesYAxisMap,i=n.minYArr,s=n.maxYArr;n.allSeriesCollapsed=!0,n.barGroups=[],a.forEach(function(o,l){var u=[];o.forEach(function(d){var h,f=(h=r.series[d])===null||h===void 0?void 0:h.group;u.indexOf(f)<0&&u.push(f)}),o.length>0?function(){var d,h,f=Number.MAX_VALUE,p=-Number.MAX_VALUE,g=f,m=p;if(r.chart.stacked)(function(){var y=new Array(n.dataPoints).fill(0),b=[],w=[],S=[];u.forEach(function(){b.push(y.map(function(){return Number.MIN_VALUE})),w.push(y.map(function(){return Number.MIN_VALUE})),S.push(y.map(function(){return Number.MIN_VALUE}))});for(var k=function(A){!d&&r.series[o[A]].type&&(d=r.series[o[A]].type);var N=o[A];h=r.series[N].group?r.series[N].group:"axis-".concat(l),!(n.collapsedSeriesIndices.indexOf(N)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(N)<0)||(n.allSeriesCollapsed=!1,u.forEach(function(P,E){if(r.series[N].group===P)for(var O=0;O<n.series[N].length;O++){var T=n.series[N][O];T>=0?w[E][O]+=T:S[E][O]+=T,b[E][O]+=T,g=Math.min(g,T),m=Math.max(m,T)}})),d!=="bar"&&d!=="column"||n.barGroups.push(h)},C=0;C<o.length;C++)k(C);d||(d=r.chart.type),d==="bar"||d==="column"?u.forEach(function(A,N){f=Math.min(f,Math.min.apply(null,S[N])),p=Math.max(p,Math.max.apply(null,w[N]))}):(u.forEach(function(A,N){g=Math.min(g,Math.min.apply(null,b[N])),m=Math.max(m,Math.max.apply(null,b[N]))}),f=g,p=m),f===Number.MIN_VALUE&&p===Number.MIN_VALUE&&(p=-Number.MAX_VALUE)})();else for(var v=0;v<o.length;v++){var x=o[v];f=Math.min(f,i[x]),p=Math.max(p,s[x]),!(n.collapsedSeriesIndices.indexOf(x)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(x)<0)||(n.allSeriesCollapsed=!1)}r.yaxis[l].min!==void 0&&(f=typeof r.yaxis[l].min=="function"?r.yaxis[l].min(f):r.yaxis[l].min),r.yaxis[l].max!==void 0&&(p=typeof r.yaxis[l].max=="function"?r.yaxis[l].max(p):r.yaxis[l].max),n.barGroups=n.barGroups.filter(function(y,b,w){return w.indexOf(y)===b}),e.setYScaleForIndex(l,f,p),o.forEach(function(y){i[y]=n.yAxisScale[l].niceMin,s[y]=n.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),t}(),sj=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.scales=new kW(e)}return Ae(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=this.w.config,s=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;a===null&&(a=e+1);var u=s.series,d=u,h=u;i.chart.type==="candlestick"?(d=s.seriesCandleL,h=s.seriesCandleH):i.chart.type==="boxPlot"?(d=s.seriesCandleO,h=s.seriesCandleC):s.isRangeData&&(d=s.seriesRangeStart,h=s.seriesRangeEnd);var f=!1;if(s.seriesX.length>=a){var p,g=(p=s.brushSource)===null||p===void 0?void 0:p.w.config.chart.brush;(i.chart.zoom.enabled&&i.chart.zoom.autoScaleYaxis||g!=null&&g.enabled&&g!=null&&g.autoScaleYaxis)&&(f=!0)}for(var m=e;m<a;m++){s.dataPoints=Math.max(s.dataPoints,u[m].length);var v=i.series[m].type;s.categoryLabels.length&&(s.dataPoints=s.categoryLabels.filter(function(N){return N!==void 0}).length),s.labels.length&&i.xaxis.type!=="datetime"&&s.series.reduce(function(N,P){return N+P.length},0)!==0&&(s.dataPoints=Math.max(s.dataPoints,s.labels.length));var x=0,y=u[m].length-1;if(f){if(i.xaxis.min)for(;x<y&&s.seriesX[m][x]<i.xaxis.min;x++);if(i.xaxis.max)for(;y>x&&s.seriesX[m][y]>i.xaxis.max;y--);}for(var b=x;b<=y&&b<s.series[m].length;b++){var w=u[m][b];if(w!==null&&U.isNumber(w)){var S,k,C,A;switch(((S=h[m])===null||S===void 0?void 0:S[b])!==void 0&&(o=Math.max(o,h[m][b]),r=Math.min(r,h[m][b])),((k=d[m])===null||k===void 0?void 0:k[b])!==void 0&&(r=Math.min(r,d[m][b]),n=Math.max(n,d[m][b])),v){case"candlestick":s.seriesCandleC[m][b]!==void 0&&(o=Math.max(o,s.seriesCandleH[m][b]),r=Math.min(r,s.seriesCandleL[m][b]));break;case"boxPlot":s.seriesCandleC[m][b]!==void 0&&(o=Math.max(o,s.seriesCandleC[m][b]),r=Math.min(r,s.seriesCandleO[m][b]))}v&&v!=="candlestick"&&v!=="boxPlot"&&v!=="rangeArea"&&v!=="rangeBar"&&(o=Math.max(o,s.series[m][b]),r=Math.min(r,s.series[m][b])),s.seriesGoals[m]&&s.seriesGoals[m][b]&&Array.isArray(s.seriesGoals[m][b])&&s.seriesGoals[m][b].forEach(function(N){o=Math.max(o,N.value),r=Math.min(r,N.value)}),n=o,w=U.noExponents(w),U.isFloat(w)&&(s.yValueDecimal=Math.max(s.yValueDecimal,w.toString().split(".")[1].length)),l>((C=d[m])===null||C===void 0?void 0:C[b])&&((A=d[m])===null||A===void 0?void 0:A[b])<0&&(l=d[m][b])}else s.hasNullValues=!0}v!=="bar"&&v!=="column"||(l<0&&o<0&&(o=0,n=Math.max(n,0)),l===Number.MIN_VALUE&&(l=0,r=Math.min(r,0)))}return i.chart.type==="rangeBar"&&s.seriesRangeStart.length&&s.isBarHorizontal&&(l=r),i.chart.type==="bar"&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:r,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,r=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n,a=Number.MAX_VALUE;if(e.isMultipleYAxis){a=Number.MAX_VALUE;for(var i=0;i<e.series.length;i++)n=this.getMinYMaxY(i),e.minYArr[i]=n.lowestY,e.maxYArr[i]=n.highestY,a=Math.min(a,n.lowestY)}return n=this.getMinYMaxY(0,a,null,e.series.length),r.chart.type==="bar"?(e.minY=n.minY,e.maxY=n.maxY):(e.minY=n.lowestY,e.maxY=n.highestY),a=n.lowestY,r.chart.stacked&&this._setStackedMinMax(),r.chart.type==="line"||r.chart.type==="area"||r.chart.type==="scatter"||r.chart.type==="candlestick"||r.chart.type==="boxPlot"||r.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==e.maxY&&(e.minY=a):e.minY=e.minY!==Number.MIN_VALUE?Math.min(n.minY,e.minY):n.minY,r.yaxis.forEach(function(s,o){s.max!==void 0&&(typeof s.max=="number"?e.maxYArr[o]=s.max:typeof s.max=="function"&&(e.maxYArr[o]=s.max(e.isMultipleYAxis?e.maxYArr[o]:e.maxY)),e.maxY=e.maxYArr[o]),s.min!==void 0&&(typeof s.min=="number"?e.minYArr[o]=s.min:typeof s.min=="function"&&(e.minYArr[o]=s.min(e.isMultipleYAxis?e.minYArr[o]===Number.MIN_VALUE?0:e.minYArr[o]:e.minY)),e.minY=e.minYArr[o])}),e.isBarHorizontal&&["min","max"].forEach(function(s){r.xaxis[s]!==void 0&&typeof r.xaxis[s]=="number"&&(s==="min"?e.minY=r.xaxis[s]:e.maxY=r.xaxis[s])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=a):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],r.series.forEach(function(s){switch(s.type||r.chart.type){case"bar":case"column":e.barGroups.push(s.group);break;case"line":e.lineGroups.push(s.group);break;case"area":e.areaGroups.push(s.group)}}),e.barGroups=e.barGroups.filter(function(s,o,l){return l.indexOf(s)===o}),e.lineGroups=e.lineGroups.filter(function(s,o,l){return l.indexOf(s)===o}),e.areaGroups=e.areaGroups.filter(function(s,o,l){return l.indexOf(s)===o}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,r=this.w.config,n=r.xaxis.type==="numeric"||r.xaxis.type==="datetime"||r.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var u=0;u<e.labels[l].length;u++)e.labels[l][u]!==null&&U.isNumber(e.labels[l][u])&&(e.maxX=Math.max(e.maxX,e.labels[l][u]),e.initialMaxX=Math.max(e.maxX,e.labels[l][u]),e.minX=Math.min(e.minX,e.labels[l][u]),e.initialMinX=Math.min(e.minX,e.labels[l][u]))}(),e.noLabelsProvided&&r.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var a=10;if(r.xaxis.tickAmount===void 0)a=Math.round(e.svgWidth/150),r.xaxis.type==="numeric"&&e.dataPoints<30&&(a=e.dataPoints-1),a>e.dataPoints&&e.dataPoints!==0&&(a=e.dataPoints-1);else if(r.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(a=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var i=Math.round(e.maxX-e.minX);i<30&&(a=i-1)}}else a=r.xaxis.tickAmount;if(e.xTickAmount=a,r.xaxis.max!==void 0&&typeof r.xaxis.max=="number"&&(e.maxX=r.xaxis.max),r.xaxis.min!==void 0&&typeof r.xaxis.min=="number"&&(e.minX=r.xaxis.min),r.xaxis.range!==void 0&&(e.minX=e.maxX-r.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(r.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var s=[],o=e.minX-1;o<e.maxX;o++)s.push(o+1);e.xAxisScale={result:s,niceMin:s[0],niceMax:s[s.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,a,a,0,r.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,a-1,0,r.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var r=0;r<e.series.length;r++)if(e.seriesZ[r]!==void 0)for(var n=0;n<e.seriesZ[r].length;n++)e.seriesZ[r][n]!==null&&U.isNumber(e.seriesZ[r][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[r][n]),e.minZ=Math.min(e.minZ,e.seriesZ[r][n]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,r=this.w.config;if(e.minX===e.maxX){var n=new $r(this.ctx);if(r.xaxis.type==="datetime"){var a=n.getDate(e.minX);r.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),e.minX=new Date(a).getTime();var i=n.getDate(e.maxX);r.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()+2):i.setDate(i.getDate()+2),e.maxX=new Date(i).getTime()}else(r.xaxis.type==="numeric"||r.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(r,n){if(r.length){r.length===1&&r.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var a=r.slice();a.sort(function(i,s){return i-s}),a.forEach(function(i,s){if(s>0){var o=i-a[s-1];o>0&&(e.minXDiff=Math.min(o,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,r=this.w.globals;if(r.series.length){var n=r.seriesGroups;n.length||(n=[this.w.globals.seriesNames.map(function(s){return s})]);var a={},i={};n.forEach(function(s){a[s]=[],i[s]=[],e.w.config.series.map(function(o,l){return s.indexOf(r.seriesNames[l])>-1?l:null}).filter(function(o){return o!==null}).forEach(function(o){for(var l=0;l<r.series[r.maxValsInArrayIndex].length;l++){var u,d,h,f;a[s][l]===void 0&&(a[s][l]=0,i[s][l]=0),(e.w.config.chart.stacked&&!r.comboCharts||e.w.config.chart.stacked&&r.comboCharts&&(!e.w.config.chart.stackOnlyBar||((u=e.w.config.series)===null||u===void 0||(d=u[o])===null||d===void 0?void 0:d.type)==="bar"||((h=e.w.config.series)===null||h===void 0||(f=h[o])===null||f===void 0?void 0:f.type)==="column"))&&r.series[o][l]!==null&&U.isNumber(r.series[o][l])&&(r.series[o][l]>0?a[s][l]+=parseFloat(r.series[o][l])+1e-4:i[s][l]+=parseFloat(r.series[o][l]))}})}),Object.entries(a).forEach(function(s){var o=VB(s,1)[0];a[o].forEach(function(l,u){r.maxY=Math.max(r.maxY,a[o][u]),r.minY=Math.min(r.minY,i[o][u])})})}}}]),t}(),xN=function(){function t(e,r){ke(this,t),this.ctx=e,this.elgrid=r,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=n.config.xaxis.position==="bottom"?n.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Yo(e)}return Ae(t,[{key:"drawYaxis",value:function(e){var r=this.w,n=new ce(this.ctx),a=r.config.yaxis[e].labels.style,i=a.fontSize,s=a.fontFamily,o=a.fontWeight,l=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(r.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var u=n.group({class:"apexcharts-yaxis-texts-g"});l.add(u);var d=r.globals.yAxisScale[e].result.length-1,h=r.globals.gridHeight/d,f=r.globals.yLabelFormatters[e],p=this.axesUtils.checkForReversedLabels(e,r.globals.yAxisScale[e].result.slice());if(r.config.yaxis[e].labels.show){var g=r.globals.translateY+r.config.yaxis[e].labels.offsetY;r.globals.isBarHorizontal?g=0:r.config.chart.type==="heatmap"&&(g-=h/2),g+=parseInt(i,10)/3;for(var m=d;m>=0;m--){var v=f(p[m],m,r),x=r.config.yaxis[e].labels.padding;r.config.yaxis[e].opposite&&r.config.yaxis.length!==0&&(x*=-1);var y=this.getTextAnchor(r.config.yaxis[e].labels.align,r.config.yaxis[e].opposite),b=this.axesUtils.getYAxisForeColor(a.colors,e),w=Array.isArray(b)?b[m]:b,S=U.listToArray(r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(C){return C.textContent}),k=n.drawText({x,y:g,text:S.includes(v)&&!r.config.yaxis[e].labels.showDuplicates?"":v,textAnchor:y,fontSize:i,fontFamily:s,fontWeight:o,maxWidth:r.config.yaxis[e].labels.maxWidth,foreColor:w,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});u.add(k),this.addTooltip(k,v),r.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(n,k,firstLabel,r.config.yaxis[e].labels.rotate),g+=h}}return this.addYAxisTitle(n,l,e),this.addAxisBorder(n,l,e,d,h),l}},{key:"getTextAnchor",value:function(e,r){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":r?"start":"end"}},{key:"addTooltip",value:function(e,r){var n=document.createElementNS(this.w.globals.SVGNS,"title");n.textContent=Array.isArray(r)?r.join(" "):r,e.node.appendChild(n)}},{key:"rotateLabel",value:function(e,r,n,a){var i=e.rotateAroundCenter(n.node),s=e.rotateAroundCenter(r.node);r.node.setAttribute("transform","rotate(".concat(a," ").concat(i.x," ").concat(s.y,")"))}},{key:"addYAxisTitle",value:function(e,r,n){var a=this.w;if(a.config.yaxis[n].title.text!==void 0){var i=e.group({class:"apexcharts-yaxis-title"}),s=a.config.yaxis[n].opposite?a.globals.translateYAxisX[n]:0,o=e.drawText({x:s,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[n].title.offsetY,text:a.config.yaxis[n].title.text,textAnchor:"end",foreColor:a.config.yaxis[n].title.style.color,fontSize:a.config.yaxis[n].title.style.fontSize,fontWeight:a.config.yaxis[n].title.style.fontWeight,fontFamily:a.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[n].title.style.cssClass)});i.add(o),r.add(i)}}},{key:"addAxisBorder",value:function(e,r,n,a,i){var s=this.w,o=s.config.yaxis[n].axisBorder,l=31+o.offsetX;if(s.config.yaxis[n].opposite&&(l=-31-o.offsetX),o.show){var u=e.drawLine(l,s.globals.translateY+o.offsetY-2,l,s.globals.gridHeight+s.globals.translateY+o.offsetY+2,o.color,0,o.width);r.add(u)}s.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,a,o,s.config.yaxis[n].axisTicks,n,i,r)}},{key:"drawYaxisInversed",value:function(e){var r=this.w,n=new ce(this.ctx),a=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),i=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(r.globals.translateXAxisX,", ").concat(r.globals.translateXAxisY,")")});a.add(i);var s=r.globals.yAxisScale[e].result.length-1,o=r.globals.gridWidth/s+.1,l=o+r.config.xaxis.labels.offsetX,u=r.globals.xLabelFormatter,d=this.axesUtils.checkForReversedLabels(e,r.globals.yAxisScale[e].result.slice()),h=r.globals.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),s=(d=h.slice()).length),r.config.xaxis.labels.show)for(var f=h.length?0:s;h.length?f<h.length:f>=0;h.length?f++:f--){var p=u(d[f],f,r),g=r.globals.gridWidth+r.globals.padHorizontal-(l-o+r.config.xaxis.labels.offsetX);if(h.length){var m=this.axesUtils.getLabel(d,h,g,f,this.drawnLabels,this.xaxisFontSize);g=m.x,p=m.text,this.drawnLabels.push(m.text),f===0&&r.globals.skipFirstTimelinelabel&&(p=""),f===d.length-1&&r.globals.skipLastTimelinelabel&&(p="")}var v=n.drawText({x:g,y:this.xAxisoffX+r.config.xaxis.labels.offsetY+30-(r.config.xaxis.position==="top"?r.globals.xAxisHeight+r.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:r.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(r.config.xaxis.labels.style.cssClass)});i.add(v),v.tspan(p),this.addTooltip(v,p),l+=o}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(e){var r=this.w,n=new ce(this.ctx),a=r.config.xaxis.axisBorder;if(a.show){var i=0;r.config.chart.type==="bar"&&r.globals.isXNumeric&&(i-=15);var s=n.drawLine(r.globals.padHorizontal+i+a.offsetX,this.xAxisoffX,r.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(s):e.add(s)}}},{key:"inversedYAxisTitleText",value:function(e){var r=this.w,n=new ce(this.ctx);if(r.config.xaxis.title.text!==void 0){var a=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),i=n.drawText({x:r.globals.gridWidth/2+r.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(r.config.xaxis.title.style.fontSize)+r.config.xaxis.title.offsetY+20,text:r.config.xaxis.title.text,textAnchor:"middle",fontSize:r.config.xaxis.title.style.fontSize,fontFamily:r.config.xaxis.title.style.fontFamily,fontWeight:r.config.xaxis.title.style.fontWeight,foreColor:r.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(r.config.xaxis.title.style.cssClass)});a.add(i),e.add(a)}}},{key:"yAxisTitleRotate",value:function(e,r){var n=this.w,a=new ce(this.ctx),i=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),s=i?i.getBoundingClientRect():{width:0,height:0},o=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=o?o.getBoundingClientRect():{width:0,height:0};if(o){var u=this.xPaddingForYAxisTitle(e,s,l,r);o.setAttribute("x",u.xPos-(r?10:0));var d=a.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(r?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(d.x," ").concat(d.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,r,n,a){var i=this.w,s=0,o=10;return i.config.yaxis[e].title.text===void 0||e<0?{xPos:s,padd:0}:(a?s=r.width+i.config.yaxis[e].title.offsetX+n.width/2+o/2:(s=-1*r.width+i.config.yaxis[e].title.offsetX+o/2+n.width/2,i.globals.isBarHorizontal&&(o=25,s=-1*r.width-i.config.yaxis[e].title.offsetX-o)),{xPos:s,padd:o})}},{key:"setYAxisXPosition",value:function(e,r){var n=this.w,a=0,i=0,s=18,o=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.forEach(function(l,u){var d=n.globals.ignoreYAxisIndexes.includes(u)||!l.show||l.floating||e[u].width===0,h=e[u].width+r[u].width;l.opposite?n.globals.isBarHorizontal?(i=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[u]=i-l.labels.offsetX):(i=n.globals.gridWidth+n.globals.translateX+o,d||(o+=h+20),n.globals.translateYAxisX[u]=i-l.labels.offsetX+20):(a=n.globals.translateX-s,d||(s+=h+20),n.globals.translateYAxisX[u]=a+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;U.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(r,n){var a=e.config.yaxis[n];if(a&&!a.floating&&a.labels.align!==void 0){var i=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),s=U.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"))),o=i.getBoundingClientRect();s.forEach(function(l){l.setAttribute("text-anchor",a.labels.align)}),a.labels.align!=="left"||a.opposite?a.labels.align==="center"?i.setAttribute("transform","translate(".concat(o.width/2*(a.opposite?1:-1),", 0)")):a.labels.align==="right"&&a.opposite&&i.setAttribute("transform","translate(".concat(o.width,", 0)")):i.setAttribute("transform","translate(-".concat(o.width,", 0)"))}})}}]),t}(),cse=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.documentEvent=U.bind(this.documentEvent,this)}return Ae(t,[{key:"addEventListener",value:function(e,r){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(r):n.globals.events[e]=[r]}},{key:"removeEventListener",value:function(e,r){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var a=n.globals.events[e].indexOf(r);a!==-1&&n.globals.events[e].splice(a,1)}}},{key:"fireEvent",value:function(e,r){var n=this.w;if(n.globals.events.hasOwnProperty(e)){r&&r.length||(r=[]);for(var a=n.globals.events[e],i=a.length,s=0;s<i;s++)a[s].apply(null,r)}}},{key:"setupEventHandlers",value:function(){var e=this,r=this.w,n=this.ctx,a=r.globals.dom.baseEl.querySelector(r.globals.chartClass);this.ctx.eventList.forEach(function(i){a.addEventListener(i,function(s){var o=s.target.getAttribute("i")===null&&r.globals.capturedSeriesIndex!==-1?r.globals.capturedSeriesIndex:s.target.getAttribute("i"),l=s.target.getAttribute("j")===null&&r.globals.capturedDataPointIndex!==-1?r.globals.capturedDataPointIndex:s.target.getAttribute("j"),u=Object.assign({},r,{seriesIndex:r.globals.axisCharts?o:0,dataPointIndex:l});s.type==="mousemove"||s.type==="touchmove"?typeof r.config.chart.events.mouseMove=="function"&&r.config.chart.events.mouseMove(s,n,u):s.type==="mouseleave"||s.type==="touchleave"?typeof r.config.chart.events.mouseLeave=="function"&&r.config.chart.events.mouseLeave(s,n,u):(s.type==="mouseup"&&s.which===1||s.type==="touchend")&&(typeof r.config.chart.events.click=="function"&&r.config.chart.events.click(s,n,u),n.ctx.events.fireEvent("click",[s,n,u]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(i){r.globals.dom.baseEl.addEventListener(i,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var r=this.w,n=e.target.className;if(e.type==="click"){var a=r.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&n!=="apexcharts-menu-icon"&&a.classList.remove("apexcharts-menu-open")}r.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,r.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),t}(),use=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"setCurrentLocaleValues",value:function(e){var r=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(r=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=r.filter(function(i){return i.name===e})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=U.extend(_W,n);this.w.globals.locale=a.options}}]),t}(),dse=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"drawAxis",value:function(e,r){var n,a,i=this,s=this.w.globals,o=this.w.config,l=new _p(this.ctx,r),u=new xN(this.ctx,r);s.axisCharts&&e!=="radar"&&(s.isBarHorizontal?(a=u.drawYaxisInversed(0),n=l.drawXaxisInversed(0),s.dom.elGraphical.add(n),s.dom.elGraphical.add(a)):(n=l.drawXaxis(),s.dom.elGraphical.add(n),o.yaxis.map(function(d,h){if(s.ignoreYAxisIndexes.indexOf(h)===-1&&(a=u.drawYaxis(h),s.dom.Paper.add(a),i.w.config.grid.position==="back")){var f=s.dom.Paper.children()[1];f.remove(),s.dom.Paper.add(f)}})))}}]),t}(),oj=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"drawXCrosshairs",value:function(){var e=this.w,r=new ce(this.ctx),n=new Fr(this.ctx),a=e.config.xaxis.crosshairs.fill.gradient,i=e.config.xaxis.crosshairs.dropShadow,s=e.config.xaxis.crosshairs.fill.type,o=a.colorFrom,l=a.colorTo,u=a.opacityFrom,d=a.opacityTo,h=a.stops,f=i.enabled,p=i.left,g=i.top,m=i.blur,v=i.color,x=i.opacity,y=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){s==="gradient"&&(y=r.drawGradient("vertical",o,l,u,d,null,h,null));var b=r.drawRect();e.config.xaxis.crosshairs.width===1&&(b=r.drawLine());var w=e.globals.gridHeight;(!U.isNumber(w)||w<0)&&(w=0);var S=e.config.xaxis.crosshairs.width;(!U.isNumber(S)||S<0)&&(S=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:w,width:S,height:w,fill:y,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),f&&(b=n.dropShadow(b,{left:p,top:g,blur:m,color:v,opacity:x})),e.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,r=new ce(this.ctx),n=e.config.yaxis[0].crosshairs,a=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var i=r.drawLine(-a,0,e.globals.gridWidth+a,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);i.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(i)}var s=r.drawLine(-a,0,e.globals.gridWidth+a,0,n.stroke.color,0,0);s.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(s)}}]),t}(),hse=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"checkResponsiveConfig",value:function(e){var r=this,n=this.w,a=n.config;if(a.responsive.length!==0){var i=a.responsive.slice();i.sort(function(u,d){return u.breakpoint>d.breakpoint?1:d.breakpoint>u.breakpoint?-1:0}).reverse();var s=new wp({}),o=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=i[0].breakpoint,h=window.innerWidth>0?window.innerWidth:screen.width;if(h>d){var f=U.clone(n.globals.initialConfig);f.series=U.clone(n.config.series);var p=ir.extendArrayProps(s,f,n);u=U.extend(p,u),u=U.extend(n.config,u),r.overrideResponsiveOptions(u)}else for(var g=0;g<i.length;g++)h<i[g].breakpoint&&(u=ir.extendArrayProps(s,i[g].options,n),u=U.extend(n.config,u),r.overrideResponsiveOptions(u))};if(e){var l=ir.extendArrayProps(s,e,n);l=U.extend(n.config,l),o(l=U.extend(l,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var r=new wp(e).init({responsiveOverride:!0});this.w.config=r}}]),t}(),fse=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return Ae(t,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,r=e.chart,n=e.plotOptions;return r.type==="treemap"&&n.treemap&&n.treemap.distributed||r.type==="heatmap"&&n.heatmap&&n.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,r=e.chart,n=e.plotOptions;return n.bar&&n.bar.distributed&&(r.type==="bar"||r.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,r=new U;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var n=wr(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(n),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,r));var a=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(e){var r=this,n=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,n.config.series.map(function(a,i){var s=e[i]||e[0];return typeof s=="function"?s({value:n.globals.axisCharts?n.globals.series[i][0]||0:n.globals.series[i],seriesIndex:i,dataPointIndex:i,w:r.w}):s})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,r){e.forEach(function(n,a){n&&(r[a]=n)})}},{key:"getMonochromeColors",value:function(e,r,n){var a=e.color,i=e.shadeIntensity,s=e.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?r[0].length*r.length:r.length,l=1/(o/i),u=0;return Array.from({length:o},function(){var d=s==="dark"?n.shadeColor(-1*u,a):n.shadeColor(u,a);return u+=l,d})}},{key:"applyColorTypes",value:function(e,r){var n=this,a=this.w;e.forEach(function(i){a.globals[i].colors=a.config[i].colors===void 0?n.isColorFn?a.config.colors:r:a.config[i].colors.slice(),n.pushExtraColors(a.globals[i].colors)})}},{key:"applyDataLabelsColors",value:function(e){var r=this.w;r.globals.dataLabels.style.colors=r.config.dataLabels.style.colors===void 0?e:r.config.dataLabels.style.colors.slice(),this.pushExtraColors(r.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var r=this.w;r.globals.markers.colors=r.config.markers.colors===void 0?e:r.config.markers.colors.slice(),this.pushExtraColors(r.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,i=r||a.globals.series.length;if(n===null&&(n=this.isBarDistributed||this.isHeatmapDistributed||a.config.chart.type==="heatmap"&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),n&&a.globals.series.length&&(i=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),e.length<i)for(var s=i-e.length,o=0;o<s;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var r=e.theme.mode,n=r==="dark"?"palette4":r==="light"?"palette1":e.theme.palette||"palette1",a=r==="dark"?"#f6f7f8":r==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=r||"light",e.chart.foreColor=a,e.theme.palette=n,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),t}(),pse=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var r=this.w,n=e==="title"?r.config.title:r.config.subtitle,a=r.globals.svgWidth/2,i=n.offsetY,s="middle";if(n.align==="left"?(a=10,s="start"):n.align==="right"&&(a=r.globals.svgWidth-10,s="end"),a+=n.offsetX,i=i+parseInt(n.style.fontSize,10)+n.margin/2,n.text!==void 0){var o=new ce(this.ctx).drawText({x:a,y:i,text:n.text,textAnchor:s,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),r.globals.dom.Paper.add(o)}}}]),t}(),mse=function(){function t(e){ke(this,t),this.w=e.w,this.dCtx=e}return Ae(t,[{key:"getTitleSubtitleCoords",value:function(e){var r=this.w,n=0,a=0,i=e==="title"?r.config.title.floating:r.config.subtitle.floating,s=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(s!==null&&!i){var o=s.getBoundingClientRect();n=o.width,a=r.globals.axisCharts?o.height+5:o.height}return{width:n,height:a}}},{key:"getLegendsRect",value:function(){var e=this.w,r=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(r.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},U.getBoundingClientRect(r));return r!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:n.height===0?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,r=this.w,n=[];r.config.series.forEach(function(l,u){l.data.forEach(function(d,h){var f;f=r.globals.series[u][h],a=r.config.dataLabels.formatter(f,{ctx:e.dCtx.ctx,seriesIndex:u,dataPointIndex:h,w:r}),n.push(a)})});var a=U.getLargestStringFromArr(n),i=new ce(this.dCtx.ctx),s=r.config.dataLabels.style,o=i.getTextRects(a,parseInt(s.fontSize),s.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(e,r){var n=e;if(this.w.globals.isMultiLineX){var a=r.map(function(s,o){return Array.isArray(s)?s.length:1}),i=Math.max.apply(Math,wr(a));n=r[a.indexOf(i)]}return n}}]),t}(),gse=function(){function t(e){ke(this,t),this.w=e.w,this.dCtx=e}return Ae(t,[{key:"getxAxisLabelsCoords",value:function(){var e,r=this.w,n=r.globals.labels.slice();if(r.config.xaxis.convertedCatToNumeric&&n.length===0&&(n=r.globals.categoryLabels),r.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();e={width:a.width,height:a.height},r.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=r.config.legend.position!=="left"&&r.config.legend.position!=="right"||r.config.legend.floating?0:this.dCtx.lgRect.width;var i=r.globals.xLabelFormatter,s=U.getLargestStringFromArr(n),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,n);r.globals.isBarHorizontal&&(o=s=r.globals.yAxisScale[0].result.reduce(function(g,m){return g.length>m.length?g:m},0));var l=new Im(this.dCtx.ctx),u=s;s=l.xLabelFormat(i,s,u,{i:void 0,dateFormatter:new $r(this.dCtx.ctx).formatDate,w:r}),o=l.xLabelFormat(i,o,u,{i:void 0,dateFormatter:new $r(this.dCtx.ctx).formatDate,w:r}),(r.config.xaxis.convertedCatToNumeric&&s===void 0||String(s).trim()==="")&&(o=s="1");var d=new ce(this.dCtx.ctx),h=d.getTextRects(s,r.config.xaxis.labels.style.fontSize),f=h;if(s!==o&&(f=d.getTextRects(o,r.config.xaxis.labels.style.fontSize)),(e={width:h.width>=f.width?h.width:f.width,height:h.height>=f.height?h.height:f.height}).width*n.length>r.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&r.config.xaxis.labels.rotate!==0||r.config.xaxis.labels.rotateAlways){if(!r.globals.isBarHorizontal){r.globals.rotateXLabels=!0;var p=function(g){return d.getTextRects(g,r.config.xaxis.labels.style.fontSize,r.config.xaxis.labels.style.fontFamily,"rotate(".concat(r.config.xaxis.labels.rotate," 0 0)"),!1)};h=p(s),s!==o&&(f=p(o)),e.height=(h.height>f.height?h.height:f.height)/1.5,e.width=h.width>f.width?h.width:f.width}}else r.globals.rotateXLabels=!1}return r.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,r=this.w;if(!r.globals.hasXaxisGroups)return{width:0,height:0};var n,a=((e=r.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||r.config.xaxis.labels.style.fontSize,i=r.globals.groups.map(function(h){return h.title}),s=U.getLargestStringFromArr(i),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,i),l=new ce(this.dCtx.ctx),u=l.getTextRects(s,a),d=u;return s!==o&&(d=l.getTextRects(o,a)),n={width:u.width>=d.width?u.width:d.width,height:u.height>=d.height?u.height:d.height},r.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,r=0,n=0;if(e.config.xaxis.title.text!==void 0){var a=new ce(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);r=a.width,n=a.height}return{width:r,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,r=this.w;this.dCtx.timescaleLabels=r.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(i){return i.value}),a=n.reduce(function(i,s){return i===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):i.length>s.length?i:s},0);return 1.05*(e=new ce(this.dCtx.ctx).getTextRects(a,r.config.xaxis.labels.style.fontSize)).width*n.length>r.globals.gridWidth&&r.config.xaxis.labels.rotate!==0&&(r.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var r=this,n=this.w,a=n.globals,i=n.config,s=i.xaxis.type,o=e.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var l=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,u=function(d,h){i.yaxis.length>1&&function(f){return a.collapsedSeriesIndices.indexOf(f)!==-1}(h)||function(f){if(r.dCtx.timescaleLabels&&r.dCtx.timescaleLabels.length){var p=r.dCtx.timescaleLabels[0],g=r.dCtx.timescaleLabels[r.dCtx.timescaleLabels.length-1].position+o/1.75-r.dCtx.yAxisWidthRight,m=p.position-o/1.75+r.dCtx.yAxisWidthLeft,v=n.config.legend.position==="right"&&r.dCtx.lgRect.width>0?r.dCtx.lgRect.width:0;g>a.svgWidth-a.translateX-v&&(a.skipLastTimelinelabel=!0),m<-(f.show&&!f.floating||i.chart.type!=="bar"&&i.chart.type!=="candlestick"&&i.chart.type!=="rangeBar"&&i.chart.type!=="boxPlot"?10:o/1.75)&&(a.skipFirstTimelinelabel=!0)}else s==="datetime"?r.dCtx.gridPad.right<o&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):s!=="datetime"&&r.dCtx.gridPad.right<o/2-r.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!n.config.xaxis.labels.trim&&(r.dCtx.xPadRight=o/2+1)}(d)};i.yaxis.forEach(function(d,h){l?(r.dCtx.gridPad.left<o&&(r.dCtx.xPadLeft=o/2+1),r.dCtx.xPadRight=o/2+1):u(d,h)})}}]),t}(),vse=function(){function t(e){ke(this,t),this.w=e.w,this.dCtx=e}return Ae(t,[{key:"getyAxisLabelsCoords",value:function(){var e=this,r=this.w,n=[],a=10,i=new Yo(this.dCtx.ctx);return r.config.yaxis.map(function(s,o){var l={seriesIndex:o,dataPointIndex:-1,w:r},u=r.globals.yAxisScale[o],d=0;if(!i.isYAxisHidden(o)&&s.labels.show&&s.labels.minWidth!==void 0&&(d=s.labels.minWidth),!i.isYAxisHidden(o)&&s.labels.show&&u.result.length){var h=r.globals.yLabelFormatters[o],f=u.niceMin===Number.MIN_VALUE?0:u.niceMin,p=u.result.reduce(function(w,S){var k,C;return((k=String(h(w,l)))===null||k===void 0?void 0:k.length)>((C=String(h(S,l)))===null||C===void 0?void 0:C.length)?w:S},f),g=p=h(p,l);if(p!==void 0&&p.length!==0||(p=u.niceMax),r.globals.isBarHorizontal){a=0;var m=r.globals.labels.slice();p=U.getLargestStringFromArr(m),p=h(p,{seriesIndex:o,dataPointIndex:-1,w:r}),g=e.dCtx.dimHelpers.getLargestStringFromMultiArr(p,m)}var v=new ce(e.dCtx.ctx),x="rotate(".concat(s.labels.rotate," 0 0)"),y=v.getTextRects(p,s.labels.style.fontSize,s.labels.style.fontFamily,x,!1),b=y;p!==g&&(b=v.getTextRects(g,s.labels.style.fontSize,s.labels.style.fontFamily,x,!1)),n.push({width:(d>b.width||d>y.width?d:b.width>y.width?b.width:y.width)+a,height:b.height>y.height?b.height:y.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,r=this.w,n=[];return r.config.yaxis.map(function(a,i){if(a.show&&a.title.text!==void 0){var s=new ce(e.dCtx.ctx),o="rotate(".concat(a.title.rotate," 0 0)"),l=s.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,o,!1);n.push({width:l.width,height:l.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,r=0,n=0,a=0,i=e.globals.yAxisScale.length>1?10:0,s=new Yo(this.dCtx.ctx),o=function(l,u){var d=e.config.yaxis[u].floating,h=0;l.width>0&&!d?(h=l.width+i,function(f){return e.globals.ignoreYAxisIndexes.indexOf(f)>-1}(u)&&(h=h-l.width-i)):h=d||s.isYAxisHidden(u)?0:5,e.config.yaxis[u].opposite?a+=h:n+=h,r+=h};return e.globals.yLabelsCoords.map(function(l,u){o(l,u)}),e.globals.yTitleCoords.map(function(l,u){o(l,u)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(r=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=a,r}}]),t}(),yse=function(){function t(e){ke(this,t),this.w=e.w,this.dCtx=e}return Ae(t,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var r=this.w,n=r.config,a=r.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===n.series.length)return 0;var i=function(p){return["bar","rangeBar","candlestick","boxPlot"].includes(p)},s=n.chart.type,o=0,l=i(s)?n.series.length:1;a.comboBarCount>0&&(l=a.comboBarCount),a.collapsedSeries.forEach(function(p){i(p.type)&&(l-=1)}),n.chart.stacked&&(l=1);var u=i(s)||a.comboBarCount>0,d=Math.abs(a.initialMaxX-a.initialMinX);if(u&&a.isXNumeric&&!a.isBarHorizontal&&l>0&&d!==0){d<=3&&(d=a.dataPoints);var h=d/e,f=a.minXDiff&&a.minXDiff/h>0?a.minXDiff/h:0;f>e/2&&(f/=2),(o=f*parseInt(n.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),a.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,r=this.w,n=r.globals,a=this.dCtx.isSparkline||!n.axisCharts?0:10;["title","subtitle"].forEach(function(o){r.config[o].text!==void 0?a+=r.config[o].margin:a+=e.dCtx.isSparkline||!n.axisCharts?0:5}),!r.config.legend.show||r.config.legend.position!=="bottom"||r.config.legend.floating||n.axisCharts||(a+=10);var i=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),s=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight-=i.height+s.height+a,n.translateY+=i.height+s.height+a}},{key:"setGridXPosForDualYAxis",value:function(e,r){var n=this.w,a=new Yo(this.dCtx.ctx);n.config.yaxis.forEach(function(i,s){n.globals.ignoreYAxisIndexes.indexOf(s)!==-1||i.floating||a.isYAxisHidden(s)||(i.opposite&&(n.globals.translateX-=r[s].width+e[s].width+parseInt(i.labels.style.fontSize,10)/1.2+12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),t}(),gy=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new mse(this),this.dimYAxis=new vse(this),this.dimXAxis=new gse(this),this.dimGrid=new yse(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Ae(t,[{key:"plotCoords",value:function(){var e=this,r=this.w,n=r.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(r.config.stroke.width)?Math.max.apply(Math,wr(r.config.stroke.width)):r.config.stroke.width;this.isSparkline&&((r.config.markers.discrete.length>0||r.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(s){var o=VB(s,2),l=o[0],u=o[1];e.gridPad[l]=Math.max(u,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var i=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*i,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(i>0?i:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,r=this.w,n=r.globals,a=this.dimYAxis.getyAxisLabelsCoords(),i=this.dimYAxis.getyAxisTitleCoords();n.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),r.globals.yLabelsCoords=[],r.globals.yTitleCoords=[],r.config.yaxis.map(function(p,g){r.globals.yLabelsCoords.push({width:a[g].width,index:g}),r.globals.yTitleCoords.push({width:i[g].width,index:g})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var s=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(s,l,o),n.translateXAxisY=r.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=r.globals.rotateXLabels&&r.globals.isXNumeric&&r.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,r.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(r.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+r.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+r.config.xaxis.labels.offsetX;var u=this.yAxisWidth,d=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-l.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-s.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var h=10;(r.config.chart.type==="radar"||this.isSparkline)&&(u=0,d=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||r.config.chart.type==="treemap")&&(u=0,d=0,h=0),this.isSparkline||r.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(s);var f=function(){n.translateX=u+e.datalabelsCoords.width,n.gridHeight=n.svgHeight-e.lgRect.height-d-(e.isSparkline||r.config.chart.type==="treemap"?0:r.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-u-2*e.datalabelsCoords.width};switch(r.config.xaxis.position==="top"&&(h=n.xAxisHeight-r.config.xaxis.axisTicks.height-5),r.config.legend.position){case"bottom":n.translateY=h,f();break;case"top":n.translateY=this.lgRect.height+h,f();break;case"left":n.translateY=h,n.translateX=this.lgRect.width+u+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-d-12,n.gridWidth=n.svgWidth-this.lgRect.width-u-2*this.datalabelsCoords.width;break;case"right":n.translateY=h,n.translateX=u+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-d-12,n.gridWidth=n.svgWidth-this.lgRect.width-u-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(i,a),new xN(this.ctx).setYAxisXPosition(a,i)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,r=e.globals,n=e.config,a=0;e.config.legend.show&&!e.config.legend.floating&&(a=20);var i=n.chart.type==="pie"||n.chart.type==="polarArea"||n.chart.type==="donut"?"pie":"radialBar",s=n.plotOptions[i].offsetY,o=n.plotOptions[i].offsetX;if(!n.legend.show||n.legend.floating){r.gridHeight=r.svgHeight;var l=r.dom.elWrap.getBoundingClientRect().width;return r.gridWidth=Math.min(l,r.gridHeight),r.translateY=s,void(r.translateX=o+(r.svgWidth-r.gridWidth)/2)}switch(n.legend.position){case"bottom":r.gridHeight=r.svgHeight-this.lgRect.height,r.gridWidth=r.svgWidth,r.translateY=s-10,r.translateX=o+(r.svgWidth-r.gridWidth)/2;break;case"top":r.gridHeight=r.svgHeight-this.lgRect.height,r.gridWidth=r.svgWidth,r.translateY=this.lgRect.height+s+10,r.translateX=o+(r.svgWidth-r.gridWidth)/2;break;case"left":r.gridWidth=r.svgWidth-this.lgRect.width-a,r.gridHeight=n.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=s,r.translateX=o+this.lgRect.width+a;break;case"right":r.gridWidth=r.svgWidth-this.lgRect.width-a-5,r.gridHeight=n.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=s,r.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,r,n){var a=this.w,i=a.globals.hasXaxisGroups?2:1,s=n.height+e.height+r.height,o=a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO,l=a.globals.rotateXLabels?22:10,u=a.globals.rotateXLabels&&a.config.legend.position==="bottom"?10:0;this.xAxisHeight=s*o+i*l+u,this.xAxisWidth=e.width,this.xAxisHeight-r.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var d=0,h=0;a.config.yaxis.forEach(function(f){d+=f.labels.minWidth,h+=f.labels.maxWidth}),this.yAxisWidth<d&&(this.yAxisWidth=d),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),t}(),xse=function(){function t(e){ke(this,t),this.w=e.w,this.lgCtx=e}return Ae(t,[{key:"getLegendStyles",value:function(){var e,r,n,a=document.createElement("style");a.setAttribute("type","text/css");var i=((e=this.lgCtx.ctx)===null||e===void 0||(r=e.opts)===null||r===void 0||(n=r.chart)===null||n===void 0?void 0:n.nonce)||this.w.config.chart.nonce;i&&a.setAttribute("nonce",i);var s=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return a.appendChild(s),a}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),r=e.width;return{clwh:e.height,clww:r}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,r){var n=this,a=this.w;if(a.globals.axisCharts||a.config.chart.type==="radialBar"){a.globals.resized=!0;var i=null,s=null;a.globals.risingSeries=[],a.globals.axisCharts?(i=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),s=parseInt(i.getAttribute("data:realIndex"),10)):(i=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),s=parseInt(i.getAttribute("rel"),10)-1),r?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach(function(d){n.riseCollapsedSeries(d.cs,d.csi,s)}):this.hideSeries({seriesEl:i,realIndex:s})}else{var o=a.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=a.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var u=a.config.plotOptions.pie.donut.labels;new ce(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,u)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var r=e.realIndex,n=this.w,a=n.globals,i=U.clone(n.config.series);if(a.axisCharts){var s=n.config.yaxis[a.seriesYAxisReverseMap[r]],o={index:r,data:i[r].data.slice(),type:i[r].type||n.config.chart.type};if(s&&s.show&&s.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(r)<0&&(a.ancillaryCollapsedSeries.push(o),a.ancillaryCollapsedSeriesIndices.push(r));else if(a.collapsedSeriesIndices.indexOf(r)<0){a.collapsedSeries.push(o),a.collapsedSeriesIndices.push(r);var l=a.risingSeries.indexOf(r);a.risingSeries.splice(l,1)}}else a.collapsedSeries.push({index:r,data:i[r]}),a.collapsedSeriesIndices.push(r);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===n.config.series.length,this._getSeriesBasedOnCollapsedState(i)}},{key:"hideSeries",value:function(e){for(var r=e.seriesEl,n=e.realIndex,a=this.w,i=this.getSeriesAfterCollapsing({realIndex:n}),s=r.childNodes,o=0;o<s.length;o++)s[o].classList.contains("apexcharts-series-markers-wrap")&&(s[o].classList.contains("apexcharts-hide")?s[o].classList.remove("apexcharts-hide"):s[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,r,n){var a=this.w,i=U.clone(a.config.series);if(e.length>0){for(var s=0;s<e.length;s++)e[s].index===n&&(a.globals.axisCharts?i[n].data=e[s].data.slice():i[n]=e[s].data,typeof i[n]!="number"&&(i[n].hidden=!1),e.splice(s,1),r.splice(s,1),a.globals.risingSeries.push(n));i=this._getSeriesBasedOnCollapsedState(i),this.lgCtx.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var r=this.w,n=0;return r.globals.axisCharts?e.forEach(function(a,i){r.globals.collapsedSeriesIndices.indexOf(i)<0&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0||(e[i].data=[],n++)}):e.forEach(function(a,i){!r.globals.collapsedSeriesIndices.indexOf(i)<0&&(e[i]=0,n++)}),r.globals.allSeriesCollapsed=n===e.length,e}}]),t}(),AW=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new xse(this)}return Ae(t,[{key:"init",value:function(){var e=this.w,r=e.globals,n=e.config,a=n.legend.showForSingleSeries&&r.series.length===1||this.isBarsDistributed||r.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!r.axisCharts)&&n.legend.show){for(;r.dom.elLegendWrap.firstChild;)r.dom.elLegendWrap.removeChild(r.dom.elLegendWrap.firstChild);this.drawLegends(),n.legend.position==="bottom"||n.legend.position==="top"?this.legendAlignHorizontal():n.legend.position!=="right"&&n.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var r=e.i,n=e.fillcolor,a=this.w,i=document.createElement("span");i.classList.add("apexcharts-legend-marker");var s=a.config.legend.markers.shape||a.config.markers.shape,o=s;Array.isArray(s)&&(o=s[r]);var l=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[r]):parseFloat(a.config.legend.markers.size),u=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[r]):parseFloat(a.config.legend.markers.offsetX),d=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[r]):parseFloat(a.config.legend.markers.offsetY),h=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[r]):parseFloat(a.config.legend.markers.strokeWidth),f=i.style;if(f.height=2*(l+h)+"px",f.width=2*(l+h)+"px",f.left=u+"px",f.top=d+"px",a.config.legend.markers.customHTML)f.background="transparent",f.color=n[r],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[r]&&(i.innerHTML=a.config.legend.markers.customHTML[r]()):i.innerHTML=a.config.legend.markers.customHTML();else{var p=new hh(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:r,strokeWidth:h,size:l}),g=window.SVG().addTo(i).size("100%","100%"),m=new ce(this.ctx).drawMarker(0,0,ye(ye({},p),{},{pointFillColor:Array.isArray(n)?n[r]:p.pointFillColor,shape:o}));a.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(v){v.node.classList.contains("apexcharts-marker-triangle")?v.node.style.transform="translate(50%, 45%)":v.node.style.transform="translate(50%, 50%)"}),g.add(m)}return i}},{key:"drawLegends",value:function(){var e=this,r=this,n=this.w,a=n.config.legend.fontFamily,i=n.globals.seriesNames,s=n.config.legend.markers.fillColors?n.config.legend.markers.fillColors.slice():n.globals.colors.slice();if(n.config.chart.type==="heatmap"){var o=n.config.plotOptions.heatmap.colorScale.ranges;i=o.map(function(p){return p.name?p.name:p.from+" - "+p.to}),s=o.map(function(p){return p.color})}else this.isBarsDistributed&&(i=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(i=n.config.legend.customLegendItems);var l=n.globals.legendFormatter,u=n.config.legend.inverseOrder,d=[];n.globals.seriesGroups.length>1&&n.config.legend.clusterGroupedSeries&&n.globals.seriesGroups.forEach(function(p,g){d[g]=document.createElement("div"),d[g].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(g)),n.config.legend.clusterGroupedSeriesOrientation==="horizontal"?n.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):d[g].classList.add("apexcharts-legend-group-vertical")});for(var h=function(p){var g,m=l(i[p],{seriesIndex:p,w:n}),v=!1,x=!1;if(n.globals.collapsedSeries.length>0)for(var y=0;y<n.globals.collapsedSeries.length;y++)n.globals.collapsedSeries[y].index===p&&(v=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var b=0;b<n.globals.ancillaryCollapsedSeriesIndices.length;b++)n.globals.ancillaryCollapsedSeriesIndices[b]===p&&(x=!0);var w=e.createLegendMarker({i:p,fillcolor:s});ce.setAttrs(w,{rel:p+1,"data:collapsed":v||x}),(v||x)&&w.classList.add("apexcharts-inactive-legend");var S=document.createElement("div"),k=document.createElement("span");k.classList.add("apexcharts-legend-text"),k.innerHTML=Array.isArray(m)?m.join(" "):m;var C=n.config.legend.labels.useSeriesColors?n.globals.colors[p]:Array.isArray(n.config.legend.labels.colors)?(g=n.config.legend.labels.colors)===null||g===void 0?void 0:g[p]:n.config.legend.labels.colors;C||(C=n.config.chart.foreColor),k.style.color=C,k.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",k.style.fontWeight=n.config.legend.fontWeight,k.style.fontFamily=a||n.config.chart.fontFamily,ce.setAttrs(k,{rel:p+1,i:p,"data:default-text":encodeURIComponent(m),"data:collapsed":v||x}),S.appendChild(w),S.appendChild(k);var A=new ir(e.ctx);n.config.legend.showForZeroSeries||A.getSeriesTotalByIndex(p)===0&&A.seriesHaveSameValues(p)&&!A.isSeriesNull(p)&&n.globals.collapsedSeriesIndices.indexOf(p)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&S.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||A.isSeriesNull(p)&&n.globals.collapsedSeriesIndices.indexOf(p)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&S.classList.add("apexcharts-hidden-null-series"),d.length?n.globals.seriesGroups.forEach(function(N,P){var E;N.includes((E=n.config.series[p])===null||E===void 0?void 0:E.name)&&(n.globals.dom.elLegendWrap.appendChild(d[P]),d[P].appendChild(S))}):n.globals.dom.elLegendWrap.appendChild(S),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),S.classList.add("apexcharts-legend-series"),S.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",ce.setAttrs(S,{rel:p+1,seriesName:U.escapeString(i[p]),"data:collapsed":v||x}),(v||x)&&S.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||S.classList.add("apexcharts-no-click")},f=u?i.length-1:0;u?f>=0:f<=i.length-1;u?f--:f++)h(f);n.globals.dom.elWrap.addEventListener("click",r.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&n.config.legend.customLegendItems.length===0&&(n.globals.dom.elWrap.addEventListener("mousemove",r.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",r.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,r){var n=this.w,a=n.globals.dom.elLegendWrap,i=a.clientHeight,s=0,o=0;if(n.config.legend.position==="bottom")o=n.globals.svgHeight-Math.min(i,n.globals.svgHeight/2)-5;else if(n.config.legend.position==="top"){var l=new gy(this.ctx),u=l.dimHelpers.getTitleSubtitleCoords("title").height,d=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(u>0?u-10:0)+(d>0?d-10:0)}a.style.position="absolute",s=s+e+n.config.legend.offsetX,o=o+r+n.config.legend.offsetY,a.style.left=s+"px",a.style.top=o+"px",n.config.legend.position==="right"&&(a.style.left="auto",a.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(h){a.style[h]&&(a.style[h]=parseInt(n.config.legend[h],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var r=new gy(this.ctx),n=r.dimHelpers.getTitleSubtitleCoords("title"),a=r.dimHelpers.getTitleSubtitleCoords("subtitle"),i=0;e.config.legend.position==="top"&&(i=n.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,i)}},{key:"legendAlignVertical",value:function(){var e=this.w,r=this.legendHelpers.getLegendDimensions(),n=0;e.config.legend.position==="left"&&(n=20),e.config.legend.position==="right"&&(n=e.globals.svgWidth-r.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var r=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(r.config.chart.type==="heatmap"||this.isBarsDistributed){if(n){var a=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new Ea(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new Ea(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var r=this.w;if(!r.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,a=e.target.getAttribute("data:collapsed")==="true",i=this.w.config.chart.events.legendClick;typeof i=="function"&&i(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var s=this.w.config.legend.markers.onClick;typeof s=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(s(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),r.config.chart.type!=="treemap"&&r.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&r.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,a)}}}]),t}(),NW=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=r.globals.minX,this.maxX=r.globals.maxX}return Ae(t,[{key:"createToolbar",value:function(){var e=this,r=this.w,n=function(){return document.createElement("div")},a=n();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=r.config.chart.toolbar.offsetY+"px",a.style.right=3-r.config.chart.toolbar.offsetX+"px",r.globals.dom.elWrap.appendChild(a),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=r.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons.push(n());var s=[],o=function(h,f,p){var g=h.toLowerCase();e.t[g]&&r.config.chart.zoom.enabled&&s.push({el:f,icon:typeof e.t[g]=="string"?e.t[g]:p,title:e.localeValues[h],class:"apexcharts-".concat(g,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(h){e.t[h]&&r.config.chart[h].enabled&&s.push({el:h==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[h]=="string"?e.t[h]:h==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[h==="zoom"?"selectionZoom":"selection"],class:r.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(h,"-icon")})};l("zoom"),l("selection"),this.t.pan&&r.config.chart.zoom.enabled&&s.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:r.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&s.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var u=0;u<this.elCustomIcons.length;u++)s.push({el:this.elCustomIcons[u],icon:this.t.customIcons[u].icon,title:this.t.customIcons[u].title,index:this.t.customIcons[u].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[u].class});s.forEach(function(h,f){h.index&&U.moveIndexInArray(s,f,h.index)});for(var d=0;d<s.length;d++)ce.setAttrs(s[d].el,{class:s[d].class,title:s[d].title}),s[d].el.innerHTML=s[d].icon,a.appendChild(s[d].el);this._createHamburgerMenu(a),r.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):r.globals.panEnabled?this.elPan.classList.add(this.selectedClass):r.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),ce.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var r=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<r.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=r[n].title,ce.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(r[n].name),title:r[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(n){n.classList.contains("exportSVG")?n.addEventListener("click",e.handleDownload.bind(e,"svg")):n.classList.contains("exportPNG")?n.addEventListener("click",e.handleDownload.bind(e,"png")):n.classList.contains("exportCSV")&&n.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons[r].addEventListener("click",this.t.customIcons[r].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(r){r.ctx.toolbar.toggleOtherControls();var n=e==="selection"?r.ctx.toolbar.elSelection:r.ctx.toolbar.elZoom,a=e==="selection"?"selectionEnabled":"zoomEnabled";r.w.globals[a]=!r.w.globals[a],n.classList.contains(r.ctx.toolbar.selectedClass)?n.classList.remove(r.ctx.toolbar.selectedClass):n.classList.add(r.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var r=e==="pan"?this.elPan:this.elZoom,n=e==="pan"?this.elZoom:this.elPan;r&&r.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,r=this.w;r.globals.panEnabled=!1,r.globals.zoomEnabled=!1,r.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(n){n&&n.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var r=(this.minX+this.maxX)/2,n=(this.minX+r)/2,a=(this.maxX+r)/2,i=this._getNewMinXMaxX(n,a);e.globals.disableZoomIn||this.zoomUpdateOptions(i.minX,i.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var r=(this.minX+this.maxX)/2,n=this.minX-(r-this.minX),a=this.maxX-(r-this.maxX),i=this._getNewMinXMaxX(n,a);e.globals.disableZoomOut||this.zoomUpdateOptions(i.minX,i.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,r){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(r):r}}},{key:"zoomUpdateOptions",value:function(e,r){var n=this.w;if(e!==void 0||r!==void 0){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,r=n.globals.dataPoints),r-e<2))){var a={min:e,max:r},i=this.getBeforeZoomRange(a);i&&(a=i.xaxis);var s={xaxis:a},o=U.clone(n.globals.initialConfig.yaxis);n.config.chart.group||(s.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(s,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,r){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:r}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:r}))}},{key:"getBeforeZoomRange",value:function(e,r){var n=null;return typeof this.ev.beforeZoom=="function"&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:r})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var r=this.w,n=new If(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:r.config.series,columnDelimiter:r.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(r){var n=r.w;if(n.globals.lastXAxis.min=n.globals.initialConfig.xaxis.min,n.globals.lastXAxis.max=n.globals.initialConfig.xaxis.max,r.updateHelpers.revertDefaultAxisMinMax(),typeof n.config.chart.events.beforeResetZoom=="function"){var a=n.config.chart.events.beforeResetZoom(r,n);a&&r.updateHelpers.revertDefaultAxisMinMax(a)}typeof n.config.chart.events.zoomed=="function"&&r.ctx.toolbar.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1;var i=r.ctx.series.emptyCollapsedSeries(U.clone(n.globals.initialSeries));r.updateHelpers._updateSeries(i,n.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),bse=function(t){Om(r,NW);var e=Em(r);function r(n){var a;return ke(this,r),(a=e.call(this,n)).ctx=n,a.w=n.w,a.dragged=!1,a.graphics=new ce(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return Ae(r,[{key:"init",value:function(n){var a=this,i=n.xyRatios,s=this.w,o=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=s.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new ar(0,0,s.globals.gridWidth,s.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),s.globals.dom.Paper.add(this.zoomRect),s.globals.dom.Paper.add(this.selectionRect),s.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:s.globals.gridWidth,maxY:s.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):s.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:s.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=s.globals.dom.baseEl.querySelector("".concat(s.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){a.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,i),{capture:!1,passive:!0})}),s.config.chart.zoom.enabled&&s.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(n,a){var i=this.w,s=this.ctx.toolbar,o=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,l=i.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,s.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(s.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),a.target){var u,d=a.target.classList;if(a.target.parentNode&&a.target.parentNode!==null&&(u=a.target.parentNode.classList),!(d.contains("apexcharts-legend-marker")||d.contains("apexcharts-legend-text")||u&&u.contains("apexcharts-toolbar"))){if(this.clientX=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientX:a.type==="touchend"?a.changedTouches[0].clientX:a.clientX,this.clientY=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientY:a.type==="touchend"?a.changedTouches[0].clientY:a.clientY,a.type==="mousedown"&&a.which===1||a.type==="touchstart"){var h=this.gridRect.getBoundingClientRect();this.startX=this.clientX-h.left-i.globals.barPadForNumericAxis,this.startY=this.clientY-h.top,this.dragged=!1,this.w.globals.mousedown=!0}(a.type==="mousemove"&&a.which===1||a.type==="touchmove")&&(this.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:n})):(this.w.globals.mousedown&&i.globals.zoomEnabled||this.w.globals.mousedown&&i.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),a.type!=="mouseup"&&a.type!=="touchend"&&a.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(n){var a,i=n.zoomtype,s=n.isResized,o=this.w,l=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();l&&(this.w.globals.mousedown||s)&&(this.endX=this.clientX-l.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:i})),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(n){var a=this,i=this.w;n.preventDefault();var s=Date.now();s-i.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(n),i.globals.lastWheelExecution=s),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){s-i.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(n),i.globals.lastWheelExecution=s)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(n){var a,i=this.w;this.minX=i.globals.isRangeBar?i.globals.minY:i.globals.minX,this.maxX=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;var s=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();if(s){var o,l,u,d=(n.clientX-s.left)/s.width,h=this.minX,f=this.maxX,p=f-h;if(n.deltaY<0){var g=h+d*p;l=g-(o=.5*p)/2,u=g+o/2}else l=h-(o=1.5*p)/2,u=f+o/2;if(!i.globals.isRangeBar){l=Math.max(l,i.globals.initialMinX),u=Math.min(u,i.globals.initialMaxX);var m=.01*(i.globals.initialMaxX-i.globals.initialMinX);if(u-l<m){var v=(l+u)/2;l=v-m/2,u=v+m/2}}var x=this._getNewMinXMaxX(l,u);isNaN(x.minX)||isNaN(x.maxX)||this.zoomUpdateOptions(x.minX,x.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var n=this,a=this.w;if(this.selectionRect){var i=this.selectionRect.node.getBoundingClientRect();i.width>0&&i.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(s,o,l,u,d){return d==="l"||d==="r"?s.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):s.circle(0)},updateHandle:function(s,o){return s.center(o[0],o[1])}}).resize().on("resize",function(){var s=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type;n.handleMouseUp({zoomtype:s,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var n=this.w,a=this.xyRatios;if(!n.globals.zoomEnabled){if(n.globals.selection!==void 0&&n.globals.selection!==null)this.drawSelectionRect(ye(ye({},n.globals.selection),{},{translateX:n.globals.translateX,translateY:n.globals.translateY}));else if(n.config.chart.selection.xaxis.min!==void 0&&n.config.chart.selection.xaxis.max!==void 0){var i=(n.config.chart.selection.xaxis.min-n.globals.minX)/a.xRatio,s=n.globals.gridWidth-(n.globals.maxX-n.config.chart.selection.xaxis.max)/a.xRatio-i;n.globals.isRangeBar&&(i=(n.config.chart.selection.xaxis.min-n.globals.yAxisScale[0].niceMin)/a.invertedYRatio,s=(n.config.chart.selection.xaxis.max-n.config.chart.selection.xaxis.min)/a.invertedYRatio);var o={x:i,y:0,width:s,height:n.globals.gridHeight,translateX:n.globals.translateX,translateY:n.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof n.config.chart.events.selection=="function"&&n.config.chart.events.selection(this.ctx,{xaxis:{min:n.config.chart.selection.xaxis.min,max:n.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.translateX,u=l===void 0?0:l,d=n.translateY,h=d===void 0?0:d,f=this.w,p=this.zoomRect,g=this.selectionRect;if(this.dragged||f.globals.selection!==null){var m={transform:"translate("+u+", "+h+")"};f.globals.zoomEnabled&&this.dragged&&(s<0&&(s=1),p.attr({x:a,y:i,width:s,height:o,fill:f.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":f.config.chart.zoom.zoomedArea.fill.opacity,stroke:f.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":f.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":f.config.chart.zoom.zoomedArea.stroke.opacity}),ce.setAttrs(p.node,m)),f.globals.selectionEnabled&&(g.attr({x:a,y:i,width:s>0?s:0,height:o>0?o:0,fill:f.config.chart.selection.fill.color,"fill-opacity":f.config.chart.selection.fill.opacity,stroke:f.config.chart.selection.stroke.color,"stroke-width":f.config.chart.selection.stroke.width,"stroke-dasharray":f.config.chart.selection.stroke.dashArray,"stroke-opacity":f.config.chart.selection.stroke.opacity}),ce.setAttrs(g.node,m))}}},{key:"hideSelectionRect",value:function(n){n&&n.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(n){var a=n.context,i=n.zoomtype,s=this.w,o=a,l=this.gridRect.getBoundingClientRect(),u=o.startX-1,d=o.startY,h=!1,f=!1,p=o.clientX-l.left-s.globals.barPadForNumericAxis,g=o.clientY-l.top,m=p-u,v=g-d,x={translateX:s.globals.translateX,translateY:s.globals.translateY};return Math.abs(m+u)>s.globals.gridWidth?m=s.globals.gridWidth-u:p<0&&(m=u),u>p&&(h=!0,m=Math.abs(m)),d>g&&(f=!0,v=Math.abs(v)),x=ye(ye({},x=i==="x"?{x:h?u-m:u,y:0,width:m,height:s.globals.gridHeight}:i==="y"?{x:0,y:f?d-v:d,width:s.globals.gridWidth,height:v}:{x:h?u-m:u,y:f?d-v:d,width:m,height:v}),{},{translateX:s.globals.translateX,translateY:s.globals.translateY}),o.drawSelectionRect(x),o.selectionDragging("resizing"),x}},{key:"selectionDragging",value:function(n,a){var i=this,s=this.w;if(a){a.preventDefault();var o=a.detail,l=o.handler,u=o.box,d=u.x,h=u.y;d<this.constraints.x&&(d=this.constraints.x),h<this.constraints.y&&(h=this.constraints.y),u.x2>this.constraints.x2&&(d=this.constraints.x2-u.w),u.y2>this.constraints.y2&&(h=this.constraints.y2-u.h),l.move(d,h);var f=this.xyRatios,p=this.selectionRect,g=0;n==="resizing"&&(g=30);var m=function(x){return parseFloat(p.node.getAttribute(x))},v={x:m("x"),y:m("y"),width:m("width"),height:m("height")};s.globals.selection=v,typeof s.config.chart.events.selection=="function"&&s.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var x,y,b,w,S=i.gridRect.getBoundingClientRect(),k=p.node.getBoundingClientRect();s.globals.isRangeBar?(x=s.globals.yAxisScale[0].niceMin+(k.left-S.left)*f.invertedYRatio,y=s.globals.yAxisScale[0].niceMin+(k.right-S.left)*f.invertedYRatio,b=0,w=1):(x=s.globals.xAxisScale.niceMin+(k.left-S.left)*f.xRatio,y=s.globals.xAxisScale.niceMin+(k.right-S.left)*f.xRatio,b=s.globals.yAxisScale[0].niceMin+(S.bottom-k.bottom)*f.yRatio[0],w=s.globals.yAxisScale[0].niceMax-(k.top-S.top)*f.yRatio[0]);var C={xaxis:{min:x,max:y},yaxis:{min:b,max:w}};s.config.chart.events.selection(i.ctx,C),s.config.chart.brush.enabled&&s.config.chart.events.brushScrolled!==void 0&&s.config.chart.events.brushScrolled(i.ctx,C)},g))}}},{key:"selectionDrawn",value:function(n){var a,i,s=n.context,o=n.zoomtype,l=this.w,u=s,d=this.xyRatios,h=this.ctx.toolbar,f=l.globals.zoomEnabled?u.zoomRect.node.getBoundingClientRect():u.selectionRect.node.getBoundingClientRect(),p=u.gridRect.getBoundingClientRect(),g=f.left-p.left-l.globals.barPadForNumericAxis,m=f.right-p.left-l.globals.barPadForNumericAxis,v=f.top-p.top,x=f.bottom-p.top;l.globals.isRangeBar?(a=l.globals.yAxisScale[0].niceMin+g*d.invertedYRatio,i=l.globals.yAxisScale[0].niceMin+m*d.invertedYRatio):(a=l.globals.xAxisScale.niceMin+g*d.xRatio,i=l.globals.xAxisScale.niceMin+m*d.xRatio);var y=[],b=[];if(l.config.yaxis.forEach(function(P,E){var O=l.globals.seriesYAxisMap[E][0],T=l.globals.yAxisScale[E].niceMax-d.yRatio[O]*v,M=l.globals.yAxisScale[E].niceMax-d.yRatio[O]*x;y.push(T),b.push(M)}),u.dragged&&(u.dragX>10||u.dragY>10)&&a!==i){if(l.globals.zoomEnabled){var w=U.clone(l.globals.initialConfig.yaxis),S=U.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(a=Math.floor(a),i=Math.floor(i),a<1&&(a=1,i=l.globals.dataPoints),i-a<2&&(i=a+1)),o!=="xy"&&o!=="x"||(S={min:a,max:i}),o!=="xy"&&o!=="y"||w.forEach(function(P,E){w[E].min=b[E],w[E].max=y[E]}),h){var k=h.getBeforeZoomRange(S,w);k&&(S=k.xaxis?k.xaxis:S,w=k.yaxis?k.yaxis:w)}var C={xaxis:S};l.config.chart.group||(C.yaxis=w),u.ctx.updateHelpers._updateOptions(C,!1,u.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&h.zoomCallback(S,w)}else if(l.globals.selectionEnabled){var A,N=null;A={min:a,max:i},o!=="xy"&&o!=="y"||(N=U.clone(l.config.yaxis)).forEach(function(P,E){N[E].min=b[E],N[E].max=y[E]}),l.globals.selection=u.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(u.ctx,{xaxis:A,yaxis:N})}}}},{key:"panDragging",value:function(n){var a=n.context,i=this.w,s=a;if(i.globals.lastClientPosition.x!==void 0){var o=i.globals.lastClientPosition.x-s.clientX,l=i.globals.lastClientPosition.y-s.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:s.clientX,y:s.clientY};var u=i.globals.isRangeBar?i.globals.minY:i.globals.minX,d=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;s.panScrolled(u,d)}},{key:"panScrolled",value:function(n,a){var i=this.w,s=this.xyRatios,o=U.clone(i.globals.initialConfig.yaxis),l=s.xRatio,u=i.globals.minX,d=i.globals.maxX;i.globals.isRangeBar&&(l=s.invertedYRatio,u=i.globals.minY,d=i.globals.maxY),this.moveDirection==="left"?(n=u+i.globals.gridWidth/15*l,a=d+i.globals.gridWidth/15*l):this.moveDirection==="right"&&(n=u-i.globals.gridWidth/15*l,a=d-i.globals.gridWidth/15*l),i.globals.isRangeBar||(n<i.globals.initialMinX||a>i.globals.initialMaxX)&&(n=u,a=d);var h={xaxis:{min:n,max:a}};i.config.chart.group||(h.yaxis=o),this.updateScrolledChart(h,n,a)}},{key:"updateScrolledChart",value:function(n,a,i){var s=this.w;if(this.ctx.updateHelpers._updateOptions(n,!1,!1),typeof s.config.chart.events.scrolled=="function"){var o={xaxis:{min:a,max:i}};s.config.chart.events.scrolled(this.ctx,o),this.ctx.events.fireEvent("scrolled",o)}}}]),r}(),PW=function(){function t(e){ke(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return Ae(t,[{key:"getNearestValues",value:function(e){var r=e.hoverArea,n=e.elGrid,a=e.clientX,i=e.clientY,s=this.w,o=n.getBoundingClientRect(),l=o.width,u=o.height,d=l/(s.globals.dataPoints-1),h=u/s.globals.dataPoints,f=this.hasBars();!s.globals.comboCharts&&!f||s.config.xaxis.convertedCatToNumeric||(d=l/s.globals.dataPoints);var p=a-o.left-s.globals.barPadForNumericAxis,g=i-o.top;p<0||g<0||p>l||g>u?(r.classList.remove("hovering-zoom"),r.classList.remove("hovering-pan")):s.globals.zoomEnabled?(r.classList.remove("hovering-pan"),r.classList.add("hovering-zoom")):s.globals.panEnabled&&(r.classList.remove("hovering-zoom"),r.classList.add("hovering-pan"));var m=Math.round(p/d),v=Math.floor(g/h);f&&!s.config.xaxis.convertedCatToNumeric&&(m=Math.ceil(p/d),m-=1);var x=null,y=null,b=s.globals.seriesXvalues.map(function(A){return A.filter(function(N){return U.isNumber(N)})}),w=s.globals.seriesYvalues.map(function(A){return A.filter(function(N){return U.isNumber(N)})});if(s.globals.isXNumeric){var S=this.ttCtx.getElGrid().getBoundingClientRect(),k=p*(S.width/l),C=g*(S.height/u);x=(y=this.closestInMultiArray(k,C,b,w)).index,m=y.j,x!==null&&s.globals.hasNullValues&&(b=s.globals.seriesXvalues[x],m=(y=this.closestInArray(k,b)).j)}return s.globals.capturedSeriesIndex=x===null?-1:x,(!m||m<1)&&(m=0),s.globals.isBarHorizontal?s.globals.capturedDataPointIndex=v:s.globals.capturedDataPointIndex=m,{capturedSeries:x,j:s.globals.isBarHorizontal?v:m,hoverX:p,hoverY:g}}},{key:"getFirstActiveXArray",value:function(e){for(var r=this.w,n=0,a=e.map(function(s,o){return s.length>0?o:-1}),i=0;i<a.length;i++)if(a[i]!==-1&&r.globals.collapsedSeriesIndices.indexOf(i)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(i)===-1){n=a[i];break}return n}},{key:"closestInMultiArray",value:function(e,r,n,a){for(var i,s=this.w,o=1/0,l=null,u=null,d=0;d<n.length;d++)if(i=d,s.globals.collapsedSeriesIndices.indexOf(i)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(i)===-1)for(var h=n[d],f=a[d],p=Math.min(h.length,f.length),g=0;g<p;g++){var m=e-h[g],v=Math.sqrt(m*m);if(!s.globals.allSeriesHasEqualX){var x=r-f[g];v=Math.sqrt(m*m+x*x)}v<o&&(o=v,l=d,u=g)}return{index:l,j:u}}},{key:"closestInArray",value:function(e,r){for(var n=r[0],a=null,i=Math.abs(e-n),s=0;s<r.length;s++){var o=Math.abs(e-r[s]);o<i&&(i=o,a=s)}return{j:a}}},{key:"isXoverlap",value:function(e){var r=[],n=this.w.globals.seriesX.filter(function(i){return i[0]!==void 0});if(n.length>0)for(var a=0;a<n.length-1;a++)n[a][e]!==void 0&&n[a+1][e]!==void 0&&n[a][e]!==n[a+1][e]&&r.push("unEqual");return r.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,r=this.w.globals.initialSeries,n=0;n<r.length-1;n++)if(r[n].data.length!==r[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return wr(e).reduce(function(r,n){return r+n.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");n=wr(n),r&&(n=n.filter(function(i){var s=Number(i.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(s)===-1})),n.sort(function(i,s){var o=Number(i.getAttribute("data:realIndex")),l=Number(s.getAttribute("data:realIndex"));return l<o?1:l>o?-1:0});var a=[];return n.forEach(function(i){a.push(i.querySelector(".apexcharts-marker"))}),a}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,r){var n=Number(e.getAttribute("cx")),a=Number(e.getAttribute("cy")),i=e.getAttribute("shape");return new ce(this.ctx).getMarkerPath(n,a,i,r)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var r=this.w,n=r.config.markers.hover.size;return n===void 0&&(n=r.globals.markers.size[e]+r.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var r=this.w,n=this.ttCtx;n.allTooltipSeriesGroups.length===0&&(n.allTooltipSeriesGroups=r.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=n.allTooltipSeriesGroups,i=0;i<a.length;i++)e==="enable"?(a[i].classList.add("apexcharts-active"),a[i].style.display=r.config.tooltip.items.display):(a[i].classList.remove("apexcharts-active"),a[i].style.display="none")}}]),t}(),wse=function(){function t(e){ke(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new PW(e)}return Ae(t,[{key:"drawSeriesTexts",value:function(e){var r=e.shared,n=r===void 0||r,a=e.ttItems,i=e.i,s=i===void 0?0:i,o=e.j,l=o===void 0?null:o,u=e.y1,d=e.y2,h=e.e,f=this.w;f.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:s,j:l,y1:u,y2:d,w:f}):this.toggleActiveInactiveSeries(n,s);var p=this.getValuesToPrint({i:s,j:l});this.printLabels({i:s,j:l,values:p,ttItems:a,shared:n,e:h});var g=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=g.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=g.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var r,n=this,a=e.i,i=e.j,s=e.values,o=e.ttItems,l=e.shared,u=e.e,d=this.w,h=[],f=function(S){return d.globals.seriesGoals[S]&&d.globals.seriesGoals[S][i]&&Array.isArray(d.globals.seriesGoals[S][i])},p=s.xVal,g=s.zVal,m=s.xAxisTTVal,v="",x=d.globals.colors[a];i!==null&&d.config.plotOptions.bar.distributed&&(x=d.globals.colors[i]);for(var y=function(S,k){var C=n.getFormatters(a);v=n.getSeriesName({fn:C.yLbTitleFormatter,index:a,seriesIndex:a,j:i}),d.config.chart.type==="treemap"&&(v=C.yLbTitleFormatter(String(d.config.series[a].data[i].x),{series:d.globals.series,seriesIndex:a,dataPointIndex:i,w:d}));var A=d.config.tooltip.inverseOrder?k:S;if(d.globals.axisCharts){var N=function(O){var T,M,L,I;return d.globals.isRangeData?C.yLbFormatter((T=d.globals.seriesRangeStart)===null||T===void 0||(M=T[O])===null||M===void 0?void 0:M[i],{series:d.globals.seriesRangeStart,seriesIndex:O,dataPointIndex:i,w:d})+" - "+C.yLbFormatter((L=d.globals.seriesRangeEnd)===null||L===void 0||(I=L[O])===null||I===void 0?void 0:I[i],{series:d.globals.seriesRangeEnd,seriesIndex:O,dataPointIndex:i,w:d}):C.yLbFormatter(d.globals.series[O][i],{series:d.globals.series,seriesIndex:O,dataPointIndex:i,w:d})};if(l)C=n.getFormatters(A),v=n.getSeriesName({fn:C.yLbTitleFormatter,index:A,seriesIndex:a,j:i}),x=d.globals.colors[A],r=N(A),f(A)&&(h=d.globals.seriesGoals[A][i].map(function(O){return{attrs:O,val:C.yLbFormatter(O.value,{seriesIndex:A,dataPointIndex:i,w:d})}}));else{var P,E=u==null||(P=u.target)===null||P===void 0?void 0:P.getAttribute("fill");E&&(E.indexOf("url")!==-1?E.indexOf("Pattern")!==-1&&(x=d.globals.dom.baseEl.querySelector(E.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):x=E),r=N(a),f(a)&&Array.isArray(d.globals.seriesGoals[a][i])&&(h=d.globals.seriesGoals[a][i].map(function(O){return{attrs:O,val:C.yLbFormatter(O.value,{seriesIndex:a,dataPointIndex:i,w:d})}}))}}i===null&&(r=C.yLbFormatter(d.globals.series[a],ye(ye({},d),{},{seriesIndex:a,dataPointIndex:a}))),n.DOMHandling({i:a,t:A,j:i,ttItems:o,values:{val:r,goalVals:h,xVal:p,xAxisTTVal:m,zVal:g},seriesName:v,shared:l,pColor:x})},b=0,w=d.globals.series.length-1;b<d.globals.series.length;b++,w--)y(b,w)}},{key:"getFormatters",value:function(e){var r,n=this.w,a=n.globals.yLabelFormatters[e];return n.globals.ttVal!==void 0?Array.isArray(n.globals.ttVal)?(a=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,r=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(a=n.globals.ttVal.formatter,typeof n.globals.ttVal.title.formatter=="function"&&(r=n.globals.ttVal.title.formatter)):r=n.config.tooltip.y.title.formatter,typeof a!="function"&&(a=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(i){return i}),typeof r!="function"&&(r=function(i){return i?i+": ":""}),{yLbFormatter:a,yLbTitleFormatter:r}}},{key:"getSeriesName",value:function(e){var r=e.fn,n=e.index,a=e.seriesIndex,i=e.j,s=this.w;return r(String(s.globals.seriesNames[n]),{series:s.globals.series,seriesIndex:a,dataPointIndex:i,w:s})}},{key:"DOMHandling",value:function(e){e.i;var r=e.t,n=e.j,a=e.ttItems,i=e.values,s=e.seriesName,o=e.shared,l=e.pColor,u=this.w,d=this.ttCtx,h=i.val,f=i.goalVals,p=i.xVal,g=i.xAxisTTVal,m=i.zVal,v=null;v=a[r].children,u.config.tooltip.fillSeriesColor&&(a[r].style.backgroundColor=l,v[0].style.display="none"),d.showTooltipTitle&&(d.tooltipTitle===null&&(d.tooltipTitle=u.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),d.tooltipTitle.innerHTML=p),d.isXAxisTooltipEnabled&&(d.xaxisTooltipText.innerHTML=g!==""?g:p);var x=a[r].querySelector(".apexcharts-tooltip-text-y-label");x&&(x.innerHTML=s||"");var y=a[r].querySelector(".apexcharts-tooltip-text-y-value");y&&(y.innerHTML=h!==void 0?h:""),v[0]&&v[0].classList.contains("apexcharts-tooltip-marker")&&(u.config.tooltip.marker.fillColors&&Array.isArray(u.config.tooltip.marker.fillColors)&&(l=u.config.tooltip.marker.fillColors[r]),u.config.tooltip.fillSeriesColor?v[0].style.backgroundColor=l:v[0].style.color=l),u.config.tooltip.marker.show||(v[0].style.display="none");var b=a[r].querySelector(".apexcharts-tooltip-text-goals-label"),w=a[r].querySelector(".apexcharts-tooltip-text-goals-value");if(f.length&&u.globals.seriesGoals[r]){var S=function(){var A="<div>",N="<div>";f.forEach(function(P,E){A+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(P.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(P.attrs.name,"</div>"),N+="<div>".concat(P.val,"</div>")}),b.innerHTML=A+"</div>",w.innerHTML=N+"</div>"};o?u.globals.seriesGoals[r][n]&&Array.isArray(u.globals.seriesGoals[r][n])?S():(b.innerHTML="",w.innerHTML=""):S()}else b.innerHTML="",w.innerHTML="";if(m!==null&&(a[r].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=u.config.tooltip.z.title,a[r].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=m!==void 0?m:""),o&&v[0]){if(u.config.tooltip.hideEmptySeries){var k=a[r].querySelector(".apexcharts-tooltip-marker"),C=a[r].querySelector(".apexcharts-tooltip-text");parseFloat(h)==0?(k.style.display="none",C.style.display="none"):(k.style.display="block",C.style.display="block")}h==null||u.globals.ancillaryCollapsedSeriesIndices.indexOf(r)>-1||u.globals.collapsedSeriesIndices.indexOf(r)>-1||Array.isArray(d.tConfig.enabledOnSeries)&&d.tConfig.enabledOnSeries.indexOf(r)===-1?v[0].parentNode.style.display="none":v[0].parentNode.style.display=u.config.tooltip.items.display}else Array.isArray(d.tConfig.enabledOnSeries)&&d.tConfig.enabledOnSeries.indexOf(r)===-1&&(v[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,r){var n=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(r));a&&(a.classList.add("apexcharts-active"),a.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var r=e.i,n=e.j,a=this.w,i=this.ctx.series.filteredSeriesX(),s="",o="",l=null,u=null,d={series:a.globals.series,seriesIndex:r,dataPointIndex:n,w:a},h=a.globals.ttZFormatter;n===null?u=a.globals.series[r]:a.globals.isXNumeric&&a.config.chart.type!=="treemap"?(s=i[r][n],i[r].length===0&&(s=i[this.tooltipUtil.getFirstActiveXArray(i)][n])):s=new yN(this.ctx).isFormatXY()?a.config.series[r].data[n]!==void 0?a.config.series[r].data[n].x:"":a.globals.labels[n]!==void 0?a.globals.labels[n]:"";var f=s;return a.globals.isXNumeric&&a.config.xaxis.type==="datetime"?s=new Im(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new $r(this.ctx).formatDate,w:this.w}):s=a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](f,d):a.globals.xLabelFormatter(f,d),a.config.tooltip.x.formatter!==void 0&&(s=a.globals.ttKeyFormatter(f,d)),a.globals.seriesZ.length>0&&a.globals.seriesZ[r].length>0&&(l=h(a.globals.seriesZ[r][n],a)),o=typeof a.config.xaxis.tooltip.formatter=="function"?a.globals.xaxisTooltipFormatter(f,d):s,{val:Array.isArray(u)?u.join(" "):u,xVal:Array.isArray(s)?s.join(" "):s,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var r=e.i,n=e.j,a=e.y1,i=e.y2,s=e.w,o=this.ttCtx.getElTooltip(),l=s.config.tooltip.custom;Array.isArray(l)&&l[r]&&(l=l[r]);var u=l({ctx:this.ctx,series:s.globals.series,seriesIndex:r,dataPointIndex:n,y1:a,y2:i,w:s});typeof u=="string"||typeof u=="number"?o.innerHTML=u:(u instanceof Element||typeof u.nodeName=="string")&&(o.innerHTML="",o.appendChild(u.cloneNode(!0)))}}]),t}(),EW=function(){function t(e){ke(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return Ae(t,[{key:"moveXCrosshairs",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.ttCtx,a=this.w,i=n.getElXCrosshairs(),s=e-n.xcrosshairsWidth/2,o=a.globals.labels.slice().length;if(r!==null&&(s=a.globals.gridWidth/o*r),i===null||a.globals.isBarHorizontal||(i.setAttribute("x",s),i.setAttribute("x1",s),i.setAttribute("x2",s),i.setAttribute("y2",a.globals.gridHeight),i.classList.add("apexcharts-active")),s<0&&(s=0),s>a.globals.gridWidth&&(s=a.globals.gridWidth),n.isXAxisTooltipEnabled){var l=s;a.config.xaxis.crosshairs.width!=="tickWidth"&&a.config.xaxis.crosshairs.width!=="barWidth"||(l=s+n.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var r=this.ttCtx;r.ycrosshairs!==null&&ce.setAttrs(r.ycrosshairs,{y1:e,y2:e}),r.ycrosshairsHidden!==null&&ce.setAttrs(r.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var r=this.w,n=this.ttCtx;if(n.xaxisTooltip!==null&&n.xcrosshairsWidth!==0){n.xaxisTooltip.classList.add("apexcharts-active");var a=n.xaxisOffY+r.config.xaxis.tooltip.offsetY+r.globals.translateY+1+r.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=r.globals.translateX;var i;i=new ce(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=i.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=a+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var r=this.w,n=this.ttCtx;n.yaxisTTEls===null&&(n.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),i=r.globals.translateY+a,s=n.yaxisTTEls[e].getBoundingClientRect(),o=s.height,l=r.globals.translateYAxisX[e]-2;r.config.yaxis[e].opposite&&(l-=s.width),i-=o/2,r.globals.ignoreYAxisIndexes.indexOf(e)===-1&&i>0&&i<r.globals.gridHeight?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=i+"px",n.yaxisTTEls[e].style.left=l+r.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,i=this.ttCtx,s=i.getElTooltip(),o=i.tooltipRect,l=n!==null?parseFloat(n):1,u=parseFloat(e)+l+5,d=parseFloat(r)+l/2;if(u>a.globals.gridWidth/2&&(u=u-o.ttWidth-l-10),u>a.globals.gridWidth-o.ttWidth-10&&(u=a.globals.gridWidth-o.ttWidth),u<-20&&(u=-20),a.config.tooltip.followCursor){var h=i.getElGrid().getBoundingClientRect();(u=i.e.clientX-h.left)>a.globals.gridWidth/2&&(u-=i.tooltipRect.ttWidth),(d=i.e.clientY+a.globals.translateY-h.top)>a.globals.gridHeight/2&&(d-=i.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||o.ttHeight/2+d>a.globals.gridHeight&&(d=a.globals.gridHeight-o.ttHeight+a.globals.translateY);isNaN(u)||(u+=a.globals.translateX,s.style.left=u+"px",s.style.top=d+"px")}},{key:"moveMarkers",value:function(e,r){var n=this.w,a=this.ttCtx;if(n.globals.markers.size[e]>0)for(var i=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),s=0;s<i.length;s++)parseInt(i[s].getAttribute("rel"),10)===r&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(r,i[s]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(r,e)}},{key:"moveDynamicPointOnHover",value:function(e,r){var n,a,i,s,o=this.w,l=this.ttCtx,u=new ce(this.ctx),d=o.globals.pointsArray,h=l.tooltipUtil.getHoverMarkerSize(r),f=o.config.series[r].type;if(!f||f!=="column"&&f!=="candlestick"&&f!=="boxPlot"){i=(n=d[r][e])===null||n===void 0?void 0:n[0],s=((a=d[r][e])===null||a===void 0?void 0:a[1])||0;var p=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"'] .apexcharts-series-markers path"));if(p&&s<o.globals.gridHeight&&s>0){var g=p.getAttribute("shape"),m=u.getMarkerPath(i,s,g,1.5*h);p.setAttribute("d",m)}this.moveXCrosshairs(i),l.fixedTooltip||this.moveTooltip(i,s,h)}}},{key:"moveDynamicPointsOnHover",value:function(e){var r,n=this.ttCtx,a=n.w,i=0,s=0,o=a.globals.pointsArray,l=new Ea(this.ctx),u=new ce(this.ctx);r=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var d=n.tooltipUtil.getHoverMarkerSize(r);if(o[r]&&(i=o[r][e][0],s=o[r][e][1]),!isNaN(i)){var h=n.tooltipUtil.getAllMarkers();if(h.length)for(var f=0;f<a.globals.series.length;f++){var p=o[f];if(a.globals.comboCharts&&p===void 0&&h.splice(f,0,null),p&&p.length){var g=o[f][e][1],m=void 0;h[f].setAttribute("cx",i);var v=h[f].getAttribute("shape");if(a.config.chart.type==="rangeArea"&&!a.globals.comboCharts){var x=e+a.globals.series[f].length;m=o[f][x][1],g-=Math.abs(g-m)/2}if(g!==null&&!isNaN(g)&&g<a.globals.gridHeight+d&&g+d>0){var y=u.getMarkerPath(i,g,v,d);h[f].setAttribute("d",y)}else h[f].setAttribute("d","")}}this.moveXCrosshairs(i),n.fixedTooltip||this.moveTooltip(i,s||a.globals.gridHeight,d)}}},{key:"moveStickyTooltipOverBars",value:function(e,r){var n=this.w,a=this.ttCtx,i=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length;n.config.chart.stacked&&(i=n.globals.barGroups.length);var s=i>=2&&i%2==0?Math.floor(i/2):Math.floor(i/2)+1;n.globals.isBarHorizontal&&(s=new Ea(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(s,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(s,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(s,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(s,"'] path[j='").concat(e,"']"));o||typeof r!="number"||(o=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,"']")));var l=o?parseFloat(o.getAttribute("cx")):0,u=o?parseFloat(o.getAttribute("cy")):0,d=o?parseFloat(o.getAttribute("barWidth")):0,h=a.getElGrid().getBoundingClientRect(),f=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(o&&!f&&(l-=i%2!=0?d/2:0),o&&f&&(l-=d/2)):n.globals.isBarHorizontal||(l=a.xAxisTicksPositions[e-1]+a.dataPointsDividedWidth/2,isNaN(l)&&(l=a.xAxisTicksPositions[e]-a.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?u-=a.tooltipRect.ttHeight:n.config.tooltip.followCursor?u=a.e.clientY-h.top-a.tooltipRect.ttHeight/2:u+a.tooltipRect.ttHeight+15>n.globals.gridHeight&&(u=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(l),a.fixedTooltip||this.moveTooltip(l,u||n.globals.gridHeight)}}]),t}(),_se=function(){function t(e){ke(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new EW(e)}return Ae(t,[{key:"drawDynamicPoints",value:function(){var e=this.w,r=new ce(this.ctx),n=new hh(this.ctx),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=wr(a),e.config.chart.stacked&&a.sort(function(h,f){return parseFloat(h.getAttribute("data:realIndex"))-parseFloat(f.getAttribute("data:realIndex"))});for(var i=0;i<a.length;i++){var s=a[i].querySelector(".apexcharts-series-markers-wrap");if(s!==null){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var u=n.getMarkerConfig({cssClass:l,seriesIndex:Number(s.getAttribute("data:realIndex"))});(o=r.drawMarker(0,0,u)).node.setAttribute("default-marker-size",0);var d=document.createElementNS(e.globals.SVGNS,"g");d.classList.add("apexcharts-series-markers"),d.appendChild(o.node),s.appendChild(d)}}}},{key:"enlargeCurrentPoint",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=this.w;i.config.chart.type!=="bubble"&&this.newPointSize(e,r);var s=r.getAttribute("cx"),o=r.getAttribute("cy");if(n!==null&&a!==null&&(s=n,o=a),this.tooltipPosition.moveXCrosshairs(s),!this.fixedTooltip){if(i.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();s=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(s,o,i.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var r=this.w,n=this,a=this.ttCtx,i=e,s=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=r.config.markers.hover.size,l=0;l<s.length;l++){var u=s[l].getAttribute("rel"),d=s[l].getAttribute("index");if(o===void 0&&(o=r.globals.markers.size[d]+r.config.markers.hover.sizeOffset),i===parseInt(u,10)){n.newPointSize(i,s[l]);var h=s[l].getAttribute("cx"),f=s[l].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(h),a.fixedTooltip||n.tooltipPosition.moveTooltip(h,f,o)}else n.oldPointSize(s[l])}}},{key:"newPointSize",value:function(e,r){var n=this.w,a=n.config.markers.hover.size,i=e===0?r.parentNode.firstChild:r.parentNode.lastChild;if(i.getAttribute("default-marker-size")!=="0"){var s=parseInt(i.getAttribute("index"),10);a===void 0&&(a=n.globals.markers.size[s]+n.config.markers.hover.sizeOffset),a<0&&(a=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(r,a);r.setAttribute("d",o)}}},{key:"oldPointSize",value:function(e){var r=parseFloat(e.getAttribute("default-marker-size")),n=this.ttCtx.tooltipUtil.getPathFromPoint(e,r);e.setAttribute("d",n)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=0;r<e.length;r++){var n=parseFloat(e[r].getAttribute("default-marker-size"));if(U.isNumber(n)&&n>0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(e[r],n);e[r].setAttribute("d",a)}else e[r].setAttribute("d","M0,0")}}}]),t}(),Sse=function(){function t(e){ke(this,t),this.w=e.w;var r=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!r.globals.isBarHorizontal&&r.config.chart.type==="rangeBar"&&r.config.plotOptions.bar.rangeBarGroupRows}return Ae(t,[{key:"getAttr",value:function(e,r){return parseFloat(e.target.getAttribute(r))}},{key:"handleHeatTreeTooltip",value:function(e){var r=e.e,n=e.opt,a=e.x,i=e.y,s=e.type,o=this.ttCtx,l=this.w;if(r.target.classList.contains("apexcharts-".concat(s,"-rect"))){var u=this.getAttr(r,"i"),d=this.getAttr(r,"j"),h=this.getAttr(r,"cx"),f=this.getAttr(r,"cy"),p=this.getAttr(r,"width"),g=this.getAttr(r,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:u,j:d,shared:!1,e:r}),l.globals.capturedSeriesIndex=u,l.globals.capturedDataPointIndex=d,a=h+o.tooltipRect.ttWidth/2+p,i=f+o.tooltipRect.ttHeight/2-g/2,o.tooltipPosition.moveXCrosshairs(h+p/2),a>l.globals.gridWidth/2&&(a=h-o.tooltipRect.ttWidth/2+p),o.w.config.tooltip.followCursor){var m=l.globals.dom.elWrap.getBoundingClientRect();a=l.globals.clientX-m.left-(a>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),i=l.globals.clientY-m.top-(i>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:a,y:i}}},{key:"handleMarkerTooltip",value:function(e){var r,n,a=e.e,i=e.opt,s=e.x,o=e.y,l=this.w,u=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var d=parseInt(i.paths.getAttribute("cx"),10),h=parseInt(i.paths.getAttribute("cy"),10),f=parseFloat(i.paths.getAttribute("val"));if(n=parseInt(i.paths.getAttribute("rel"),10),r=parseInt(i.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,u.intersect){var p=U.findAncestor(i.paths,"apexcharts-series");p&&(r=parseInt(p.getAttribute("data:realIndex"),10))}if(u.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:r,j:n,shared:!u.showOnIntersect&&l.config.tooltip.shared,e:a}),a.type==="mouseup"&&u.markerClick(a,r,n),l.globals.capturedSeriesIndex=r,l.globals.capturedDataPointIndex=n,s=d,o=h+l.globals.translateY-1.4*u.tooltipRect.ttHeight,u.w.config.tooltip.followCursor){var g=u.getElGrid().getBoundingClientRect();o=u.e.clientY+l.globals.translateY-g.top}f<0&&(o=h),u.marker.enlargeCurrentPoint(n,i.paths,s,o)}return{x:s,y:o}}},{key:"handleBarTooltip",value:function(e){var r,n,a=e.e,i=e.opt,s=this.w,o=this.ttCtx,l=o.getElTooltip(),u=0,d=0,h=0,f=this.getBarTooltipXY({e:a,opt:i});if(f.j!==null||f.barHeight!==0||f.barWidth!==0){r=f.i;var p=f.j;if(s.globals.capturedSeriesIndex=r,s.globals.capturedDataPointIndex=p,s.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!s.config.tooltip.shared?(d=f.x,h=f.y,n=Array.isArray(s.config.stroke.width)?s.config.stroke.width[r]:s.config.stroke.width,u=d):s.globals.comboCharts||s.config.tooltip.shared||(u/=2),isNaN(h)&&(h=s.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(i.paths.parentNode.getAttribute("data:realIndex"),10),d+o.tooltipRect.ttWidth>s.globals.gridWidth?d-=o.tooltipRect.ttWidth:d<0&&(d=0),o.w.config.tooltip.followCursor){var g=o.getElGrid().getBoundingClientRect();h=o.e.clientY-g.top}o.tooltip===null&&(o.tooltip=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),s.config.tooltip.shared||(s.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(u+n/2):o.tooltipPosition.moveXCrosshairs(u)),!o.fixedTooltip&&(!s.config.tooltip.shared||s.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(h=h+s.globals.translateY-o.tooltipRect.ttHeight/2,l.style.left=d+s.globals.translateX+"px",l.style.top=h+"px")}}},{key:"getBarTooltipXY",value:function(e){var r=this,n=e.e,a=e.opt,i=this.w,s=null,o=this.ttCtx,l=0,u=0,d=0,h=0,f=0,p=n.target.classList;if(p.contains("apexcharts-bar-area")||p.contains("apexcharts-candlestick-area")||p.contains("apexcharts-boxPlot-area")||p.contains("apexcharts-rangebar-area")){var g=n.target,m=g.getBoundingClientRect(),v=a.elGrid.getBoundingClientRect(),x=m.height;f=m.height;var y=m.width,b=parseInt(g.getAttribute("cx"),10),w=parseInt(g.getAttribute("cy"),10);h=parseFloat(g.getAttribute("barWidth"));var S=n.type==="touchmove"?n.touches[0].clientX:n.clientX;s=parseInt(g.getAttribute("j"),10),l=parseInt(g.parentNode.getAttribute("rel"),10)-1;var k=g.getAttribute("data-range-y1"),C=g.getAttribute("data-range-y2");i.globals.comboCharts&&(l=parseInt(g.parentNode.getAttribute("data:realIndex"),10));var A=function(P){return i.globals.isXNumeric?b-y/2:r.isVerticalGroupedRangeBar?b+y/2:b-o.dataPointsDividedWidth+y/2},N=function(){return w-o.dataPointsDividedHeight+x/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:l,j:s,y1:k?parseInt(k,10):null,y2:C?parseInt(C,10):null,shared:!o.showOnIntersect&&i.config.tooltip.shared,e:n}),i.config.tooltip.followCursor?i.globals.isBarHorizontal?(u=S-v.left+15,d=N()):(u=A(),d=n.clientY-v.top-o.tooltipRect.ttHeight/2-15):i.globals.isBarHorizontal?((u=b)<o.xyRatios.baseLineInvertedY&&(u=b-o.tooltipRect.ttWidth),d=N()):(u=A(),d=w)}return{x:u,y:d,barHeight:f,barWidth:h,i:l,j:s}}}]),t}(),jse=function(){function t(e){ke(this,t),this.w=e.w,this.ttCtx=e}return Ae(t,[{key:"drawXaxisTooltip",value:function(){var e=this.w,r=this.ttCtx,n=e.config.xaxis.position==="bottom";r.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var a=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",i=e.globals.dom.elWrap;r.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(r.xaxisTooltip=document.createElement("div"),r.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(r.xaxisTooltip),r.xaxisTooltipText=document.createElement("div"),r.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),r.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,r.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,r.xaxisTooltip.appendChild(r.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,r=this.ttCtx,n=0;n<e.config.yaxis.length;n++){var a=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;r.yaxisOffX=a?e.globals.gridWidth+1:1;var i="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),s=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))===null&&(r.yaxisTooltip=document.createElement("div"),r.yaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(r.yaxisTooltip),n===0&&(r.yaxisTooltipText=[]),r.yaxisTooltipText[n]=document.createElement("div"),r.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),r.yaxisTooltip.appendChild(r.yaxisTooltipText[n]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,r=this.ttCtx,n=r.getElXCrosshairs();if(r.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var a=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(a!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var i=parseFloat(a.getAttribute("barWidth"));r.xcrosshairsWidth=i}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var s=e.globals.labels.length;r.xcrosshairsWidth=e.globals.gridWidth/s}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;r.xcrosshairsWidth=e.globals.gridWidth/o}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var u=parseFloat(l.getAttribute("barWidth"));r.xcrosshairsWidth=u}else r.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(r.xcrosshairsWidth=0),n!==null&&r.xcrosshairsWidth>0&&n.setAttribute("width",r.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,r=this.ttCtx;r.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),r.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,r,n){var a=this.ttCtx,i=this.w,s=i.globals,o=s.seriesYAxisMap[e];if(a.yaxisTooltips[e]&&o.length>0){var l=s.yLabelFormatters[e],u=a.getElGrid().getBoundingClientRect(),d=o[0],h=0;n.yRatio.length>1&&(h=d);var f=(r-u.top)*n.yRatio[h],p=s.maxYArr[d]-s.minYArr[d],g=s.minYArr[d]+(p-f);i.config.yaxis[e].reversed&&(g=s.maxYArr[d]-(p-f)),a.tooltipPosition.moveYCrosshairs(r-u.top),a.yaxisTooltipText[e].innerHTML=l(g),a.tooltipPosition.moveYAxisTooltip(e)}}}]),t}(),ZO=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.tConfig=r.config.tooltip,this.tooltipUtil=new PW(this),this.tooltipLabels=new wse(this),this.tooltipPosition=new EW(this),this.marker=new _se(this),this.intersect=new Sse(this),this.axesTooltip=new jse(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!r.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Ae(t,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var r=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=r.config.xaxis.tooltip.enabled&&r.globals.axisCharts,this.yaxisTooltips=r.config.yaxis.map(function(s,o){return!!(s.show&&s.tooltip.enabled&&r.globals.axisCharts)}),this.allTooltipSeriesGroups=[],r.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),r.config.tooltip.cssClass&&n.classList.add(r.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),r.globals.dom.elWrap.appendChild(n),r.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new _p(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!r.globals.comboCharts&&!this.tConfig.intersect&&r.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),r.config.markers.size!==0&&r.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),r.globals.collapsedSeries.length!==r.globals.series.length){this.dataPointsDividedHeight=r.globals.gridHeight/r.globals.dataPoints,this.dataPointsDividedWidth=r.globals.gridWidth/r.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||r.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var i=r.globals.series.length;(r.globals.xyCharts||r.globals.comboCharts)&&this.tConfig.shared&&(i=this.showOnIntersect?1:r.globals.series.length),this.legendLabels=r.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(i),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var r=this,n=this.w,a=[],i=this.getElTooltip(),s=function(l){var u=document.createElement("div");u.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),u.style.order=n.config.tooltip.inverseOrder?e-l:l+1;var d=document.createElement("span");d.classList.add("apexcharts-tooltip-marker"),n.config.tooltip.fillSeriesColor?d.style.backgroundColor=n.globals.colors[l]:d.style.color=n.globals.colors[l];var h=n.config.markers.shape,f=h;Array.isArray(h)&&(f=h[l]),d.setAttribute("shape",f),u.appendChild(d);var p=document.createElement("div");p.classList.add("apexcharts-tooltip-text"),p.style.fontFamily=r.tConfig.style.fontFamily||n.config.chart.fontFamily,p.style.fontSize=r.tConfig.style.fontSize,["y","goals","z"].forEach(function(g){var m=document.createElement("div");m.classList.add("apexcharts-tooltip-".concat(g,"-group"));var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(g,"-label")),m.appendChild(v);var x=document.createElement("span");x.classList.add("apexcharts-tooltip-text-".concat(g,"-value")),m.appendChild(x),p.appendChild(m)}),u.appendChild(p),i.appendChild(u),a.push(u)},o=0;o<e;o++)s(o);return a}},{key:"addSVGEvents",value:function(){var e=this.w,r=e.config.chart.type,n=this.getElTooltip(),a=!(r!=="bar"&&r!=="candlestick"&&r!=="boxPlot"&&r!=="rangeBar"),i=r==="area"||r==="line"||r==="scatter"||r==="bubble"||r==="radar",s=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,u=[],d=[],h={hoverArea:s,elGrid:o,tooltipEl:n,tooltipY:u,tooltipX:d,ttItems:this.ttItems};if(e.globals.axisCharts&&(i?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):r!=="heatmap"&&r!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var f=0;f<l.length;f++)u.push(l[f].getAttribute("cy")),d.push(l[f].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([s],h);else if(a&&!e.globals.comboCharts||i&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!e.globals.axisCharts||r==="heatmap"||r==="treemap"){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(p,h)}if(this.showOnIntersect){var g=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");g.length>0&&this.addPathsEventListeners(g,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,r=this.getElTooltip(),n=r.getBoundingClientRect(),a=n.width+10,i=n.height+10,s=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(s=s+e.globals.svgWidth-a+10),l.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-i-10),r.style.left=s+"px",r.style.top=o+"px",{x:s,y:o,ttWidth:a,ttHeight:i}}},{key:"addDatapointEventsListeners",value:function(e){var r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(r,e)}},{key:"addPathsEventListeners",value:function(e,r){for(var n=this,a=function(s){var o={paths:e[s],tooltipEl:r.tooltipEl,tooltipY:r.tooltipY,tooltipX:r.tooltipX,elGrid:r.elGrid,hoverArea:r.hoverArea,ttItems:r.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[s].addEventListener(l,n.onSeriesHover.bind(n,o),{capture:!1,passive:!0})})},i=0;i<e.length;i++)a(i)}},{key:"onSeriesHover",value:function(e,r){var n=this,a=Date.now()-this.lastHoverTime;a>=20?this.seriesHover(e,r):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(e,r)},20-a))}},{key:"seriesHover",value:function(e,r){var n=this;this.lastHoverTime=Date.now();var a=[],i=this.w;i.config.chart.group&&(a=this.ctx.getGroupedCharts()),i.globals.axisCharts&&(i.globals.minX===-1/0&&i.globals.maxX===1/0||i.globals.dataPoints===0)||(a.length?a.forEach(function(s){var o=n.getElTooltip(s),l={paths:e.paths,tooltipEl:o,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:s.w.globals.tooltip.ttItems};s.w.globals.minX===n.w.globals.minX&&s.w.globals.maxX===n.w.globals.maxX&&s.w.globals.tooltip.seriesHoverByContext({chartCtx:s,ttCtx:s.w.globals.tooltip,opt:l,e:r})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:r}))}},{key:"seriesHoverByContext",value:function(e){var r=e.chartCtx,n=e.ttCtx,a=e.opt,i=e.e,s=r.w,o=this.getElTooltip(r);o&&(n.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},n.e=i,n.tooltipUtil.hasBars()&&!s.globals.comboCharts&&!n.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ea(r).toggleSeriesOnHover(i,i.target.parentNode),s.globals.axisCharts?n.axisChartsTooltips({e:i,opt:a,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:i,opt:a,tooltipRect:n.tooltipRect}),n.fixedTooltip&&n.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var r,n,a=e.e,i=e.opt,s=this.w,o=i.elGrid.getBoundingClientRect(),l=a.type==="touchmove"?a.touches[0].clientX:a.clientX,u=a.type==="touchmove"?a.touches[0].clientY:a.clientY;if(this.clientY=u,this.clientX=l,s.globals.capturedSeriesIndex=-1,s.globals.capturedDataPointIndex=-1,u<o.top||u>o.top+o.height)this.handleMouseOut(i);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!s.config.tooltip.shared){var d=parseInt(i.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(d)<0)return void this.handleMouseOut(i)}var h=this.getElTooltip(),f=this.getElXCrosshairs(),p=[];s.config.chart.group&&(p=this.ctx.getSyncedCharts());var g=s.globals.xyCharts||s.config.chart.type==="bar"&&!s.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||s.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.type==="mousemove"||a.type==="touchmove"||a.type==="mouseup"){if(s.globals.collapsedSeries.length+s.globals.ancillaryCollapsedSeries.length===s.globals.series.length)return;f!==null&&f.classList.add("apexcharts-active");var m=this.yaxisTooltips.filter(function(y){return y===!0});if(this.ycrosshairs!==null&&m.length&&this.ycrosshairs.classList.add("apexcharts-active"),g&&!this.showOnIntersect||p.length>1)this.handleStickyTooltip(a,l,u,i);else if(s.config.chart.type==="heatmap"||s.config.chart.type==="treemap"){var v=this.intersect.handleHeatTreeTooltip({e:a,opt:i,x:r,y:n,type:s.config.chart.type});r=v.x,n=v.y,h.style.left=r+"px",h.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:i}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:i,x:r,y:n});if(this.yaxisTooltips.length)for(var x=0;x<s.config.yaxis.length;x++)this.axesTooltip.drawYaxisTooltipText(x,u,this.xyRatios);s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),i.tooltipEl.classList.add("apexcharts-active")}else a.type!=="mouseout"&&a.type!=="touchend"||this.handleMouseOut(i)}}},{key:"nonAxisChartsTooltips",value:function(e){var r=e.e,n=e.opt,a=e.tooltipRect,i=this.w,s=n.paths.getAttribute("rel"),o=this.getElTooltip(),l=i.globals.dom.elWrap.getBoundingClientRect();if(r.type==="mousemove"||r.type==="touchmove"){i.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(s,10)-1,shared:!1});var u=i.globals.clientX-l.left-a.ttWidth/2,d=i.globals.clientY-l.top-a.ttHeight-10;if(o.style.left=u+"px",o.style.top=d+"px",i.config.legend.tooltipHoverFormatter){var h=s-1,f=(0,i.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:i});this.legendLabels[h].innerHTML=f}}else r.type!=="mouseout"&&r.type!=="touchend"||(o.classList.remove("apexcharts-active"),i.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(p){var g=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(g)}))}},{key:"handleStickyTooltip",value:function(e,r,n,a){var i=this.w,s=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:r,clientY:n}),o=s.j,l=s.capturedSeries;i.globals.collapsedSeriesIndices.includes(l)&&(l=null);var u=a.elGrid.getBoundingClientRect();if(s.hoverX<0||s.hoverX>u.width)this.handleMouseOut(a);else if(l!==null)this.handleStickyCapturedSeries(e,l,a,o);else if(this.tooltipUtil.isXoverlap(o)||i.globals.isBarHorizontal){var d=i.globals.series.findIndex(function(h,f){return!i.globals.collapsedSeriesIndices.includes(f)});this.create(e,this,d,o,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,r,n,a){var i=this.w;if(!this.tConfig.shared&&i.globals.series[r][a]===null)return void this.handleMouseOut(n);if(i.globals.series[r][a]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,r,a,n.ttItems):this.create(e,this,r,a,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var s=i.globals.series.findIndex(function(o,l){return!i.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,s,a,n.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,r=new ce(this.ctx),n=e.globals.dom.Paper.find(".apexcharts-bar-area"),a=0;a<n.length;a++)r.pathMouseLeave(n[a])}},{key:"handleMouseOut",value:function(e){var r=this.w,n=this.getElXCrosshairs();if(r.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),r.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),n!==null&&n.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(i){var s=i.getAttribute("data:default-text");i.innerHTML=decodeURIComponent(s)})}},{key:"markerClick",value:function(e,r,n){var a=this.w;typeof a.config.chart.events.markerClick=="function"&&a.config.chart.events.markerClick(e,this.ctx,{seriesIndex:r,dataPointIndex:n,w:a}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:r,dataPointIndex:n,w:a}])}},{key:"create",value:function(e,r,n,a,i){var s,o,l,u,d,h,f,p,g,m,v,x,y,b,w,S,k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,C=this.w,A=r;e.type==="mouseup"&&this.markerClick(e,n,a),k===null&&(k=this.tConfig.shared);var N=this.tooltipUtil.hasMarkers(n),P=this.tooltipUtil.getElBars(),E=function(){C.globals.markers.largestSize>0?A.marker.enlargePoints(a):A.tooltipPosition.moveDynamicPointsOnHover(a)};if(C.config.legend.tooltipHoverFormatter){var O=C.config.legend.tooltipHoverFormatter,T=Array.from(this.legendLabels);T.forEach(function(ie){var ne=ie.getAttribute("data:default-text");ie.innerHTML=decodeURIComponent(ne)});for(var M=0;M<T.length;M++){var L=T[M],I=parseInt(L.getAttribute("i"),10),D=decodeURIComponent(L.getAttribute("data:default-text")),R=O(D,{seriesIndex:k?I:n,dataPointIndex:a,w:C});if(k)L.innerHTML=C.globals.collapsedSeriesIndices.indexOf(I)<0?R:D;else if(L.innerHTML=I===n?R:D,n===I)break}}var F=ye(ye({ttItems:i,i:n,j:a},((s=C.globals.seriesRange)===null||s===void 0||(o=s[n])===null||o===void 0||(l=o[a])===null||l===void 0||(u=l.y[0])===null||u===void 0?void 0:u.y1)!==void 0&&{y1:(d=C.globals.seriesRange)===null||d===void 0||(h=d[n])===null||h===void 0||(f=h[a])===null||f===void 0||(p=f.y[0])===null||p===void 0?void 0:p.y1}),((g=C.globals.seriesRange)===null||g===void 0||(m=g[n])===null||m===void 0||(v=m[a])===null||v===void 0||(x=v.y[0])===null||x===void 0?void 0:x.y2)!==void 0&&{y2:(y=C.globals.seriesRange)===null||y===void 0||(b=y[n])===null||b===void 0||(w=b[a])===null||w===void 0||(S=w.y[0])===null||S===void 0?void 0:S.y2});if(k){if(A.tooltipLabels.drawSeriesTexts(ye(ye({},F),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),N)E();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(P),this.barSeriesHeight>0)){var z=new ce(this.ctx),B=C.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),A.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&E(),A.tooltipPosition.moveStickyTooltipOverBars(a,n);for(var q=0;q<B.length;q++)z.pathMouseEnter(B[q])}}else A.tooltipLabels.drawSeriesTexts(ye({shared:!1},F)),this.tooltipUtil.hasBars()&&A.tooltipPosition.moveStickyTooltipOverBars(a,n),N&&A.tooltipPosition.moveMarkers(n,a)}}]),t}(),Cse=function(){function t(e){ke(this,t),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Ae(t,[{key:"handleBarDataLabels",value:function(e){var r,n,a=e.x,i=e.y,s=e.y1,o=e.y2,l=e.i,u=e.j,d=e.realIndex,h=e.columnGroupIndex,f=e.series,p=e.barHeight,g=e.barWidth,m=e.barXPosition,v=e.barYPosition,x=e.visibleSeries,y=this.w,b=new ce(this.barCtx.ctx),w=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[d]:this.barCtx.strokeWidth;y.globals.isXNumeric&&!y.globals.isBarHorizontal?(r=a+parseFloat(g*(x+1)),n=i+parseFloat(p*(x+1))-w):(r=a+parseFloat(g*x),n=i+parseFloat(p*x));var S,k=null,C=a,A=i,N={},P=y.config.dataLabels,E=this.barCtx.barOptions.dataLabels,O=this.barCtx.barOptions.dataLabels.total;v!==void 0&&this.barCtx.isRangeBar&&(n=v,A=v),m!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(r=m,C=m);var T=P.offsetX,M=P.offsetY,L={width:0,height:0};if(y.config.dataLabels.enabled){var I=y.globals.series[l][u];L=b.getTextRects(y.config.dataLabels.formatter?y.config.dataLabels.formatter(I,ye(ye({},y),{},{seriesIndex:l,dataPointIndex:u,w:y})):y.globals.yLabelFormatters[0](I),parseFloat(P.style.fontSize))}var D={x:a,y:i,i:l,j:u,realIndex:d,columnGroupIndex:h,bcx:r,bcy:n,barHeight:p,barWidth:g,textRects:L,strokeWidth:w,dataLabelsX:C,dataLabelsY:A,dataLabelsConfig:P,barDataLabelsConfig:E,barTotalDataLabelsConfig:O,offX:T,offY:M};return N=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(D):this.calculateColumnsDataLabelsPosition(D),S=this.drawCalculatedDataLabels({x:N.dataLabelsX,y:N.dataLabelsY,val:this.barCtx.isRangeBar?[s,o]:y.config.chart.stackType==="100%"?f[d][u]:y.globals.series[d][u],i:d,j:u,barWidth:g,barHeight:p,textRects:L,dataLabelsConfig:P}),y.config.chart.stacked&&O.enabled&&(k=this.drawTotalDataLabels({x:N.totalDataLabelsX,y:N.totalDataLabelsY,barWidth:g,barHeight:p,realIndex:d,textAnchor:N.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:d,j:u}),dataLabelsConfig:P,barTotalDataLabelsConfig:O})),{dataLabelsPos:N,dataLabels:S,totalDataLabels:k}}},{key:"getStackedTotalDataLabel",value:function(e){var r=e.realIndex,n=e.j,a=this.w,i=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(i=this.totalFormatter(i,ye(ye({},a),{},{seriesIndex:r,dataPointIndex:n,w:a}))),i}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var r=this,n=this.w,a=e.i,i=e.j,s=e.realIndex;e.columnGroupIndex;var o,l,u=e.y,d=e.bcx,h=e.barWidth,f=e.barHeight,p=e.textRects,g=e.dataLabelsX,m=e.dataLabelsY,v=e.dataLabelsConfig,x=e.barDataLabelsConfig,y=e.barTotalDataLabelsConfig,b=e.strokeWidth,w=e.offX,S=e.offY,k=d;f=Math.abs(f);var C=n.config.plotOptions.bar.dataLabels.orientation==="vertical",A=this.barCtx.barHelpers.getZeroValueEncounters({i:a,j:i}).zeroEncounters;d-=b/2;var N=n.globals.gridWidth/n.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?g+=h/2:(g=n.globals.isXNumeric?d-h/2+w:d-N+h/2+w,!n.config.chart.stacked&&A>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(g-=h*A)),C&&(g=g+p.height/2-b/2-2);var P=n.globals.series[a][i]<0,E=u;switch(this.barCtx.isReversed&&(E=u+(P?f:-f)),x.position){case"center":m=C?P?E-f/2+S:E+f/2-S:P?E-f/2+p.height/2+S:E+f/2+p.height/2-S;break;case"bottom":m=C?P?E-f+S:E+f-S:P?E-f+p.height+b+S:E+f-p.height/2+b-S;break;case"top":m=C?P?E+S:E-S:P?E-p.height/2-S:E+p.height+S}var O=E;if(n.globals.seriesGroups.forEach(function(L){var I;(I=r.barCtx[L.join(",")])===null||I===void 0||I.prevY.forEach(function(D){O=P?Math.max(D[i],O):Math.min(D[i],O)})}),this.barCtx.lastActiveBarSerieIndex===s&&y.enabled){var T=new ce(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:s,j:i}),v.fontSize);o=P?O-T.height/2-S-y.offsetY+18:O+T.height+S+y.offsetY-18;var M=N;l=k+(n.globals.isXNumeric?-h*n.globals.barGroups.length/2:n.globals.barGroups.length*h/2-(n.globals.barGroups.length-1)*h-M)+y.offsetX}return n.config.chart.stacked||(m<0?m=0+b:m+p.height/3>n.globals.gridHeight&&(m=n.globals.gridHeight-b)),{bcx:d,bcy:u,dataLabelsX:g,dataLabelsY:m,totalDataLabelsX:l,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var r=this,n=this.w,a=e.x,i=e.i,s=e.j,o=e.realIndex,l=e.bcy,u=e.barHeight,d=e.barWidth,h=e.textRects,f=e.dataLabelsX,p=e.strokeWidth,g=e.dataLabelsConfig,m=e.barDataLabelsConfig,v=e.barTotalDataLabelsConfig,x=e.offX,y=e.offY,b=n.globals.gridHeight/n.globals.dataPoints,w=this.barCtx.barHelpers.getZeroValueEncounters({i,j:s}).zeroEncounters;d=Math.abs(d);var S,k,C=l-(this.barCtx.isRangeBar?0:b)+u/2+h.height/2+y-3;!n.config.chart.stacked&&w>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(C-=u*w);var A="start",N=n.globals.series[i][s]<0,P=a;switch(this.barCtx.isReversed&&(P=a+(N?-d:d),A=N?"start":"end"),m.position){case"center":f=N?P+d/2-x:Math.max(h.width/2,P-d/2)+x;break;case"bottom":f=N?P+d-p-x:P-d+p+x;break;case"top":f=N?P-p-x:P-p+x}var E=P;if(n.globals.seriesGroups.forEach(function(T){var M;(M=r.barCtx[T.join(",")])===null||M===void 0||M.prevX.forEach(function(L){E=N?Math.min(L[s],E):Math.max(L[s],E)})}),this.barCtx.lastActiveBarSerieIndex===o&&v.enabled){var O=new ce(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:s}),g.fontSize);N?(S=E-p-x-v.offsetX,A="end"):S=E+x+v.offsetX+(this.barCtx.isReversed?-(d+p):p),k=C-h.height/2+O.height/2+v.offsetY+p,n.globals.barGroups.length>1&&(k-=n.globals.barGroups.length/2*(u/2))}return n.config.chart.stacked||(g.textAnchor==="start"?f-h.width<0?f=N?h.width+p:p:f+h.width>n.globals.gridWidth&&(f=N?n.globals.gridWidth-p:n.globals.gridWidth-h.width-p):g.textAnchor==="middle"?f-h.width/2<0?f=h.width/2+p:f+h.width/2>n.globals.gridWidth&&(f=n.globals.gridWidth-h.width/2-p):g.textAnchor==="end"&&(f<1?f=h.width+p:f+1>n.globals.gridWidth&&(f=n.globals.gridWidth-h.width-p))),{bcx:a,bcy:l,dataLabelsX:f,dataLabelsY:C,totalDataLabelsX:S,totalDataLabelsY:k,totalDataLabelsAnchor:A}}},{key:"drawCalculatedDataLabels",value:function(e){var r=e.x,n=e.y,a=e.val,i=e.i,s=e.j,o=e.textRects,l=e.barHeight,u=e.barWidth,d=e.dataLabelsConfig,h=this.w,f="rotate(0)";h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(f="rotate(-90, ".concat(r,", ").concat(n,")"));var p=new cd(this.barCtx.ctx),g=new ce(this.barCtx.ctx),m=d.formatter,v=null,x=h.globals.collapsedSeriesIndices.indexOf(i)>-1;if(d.enabled&&!x){v=g.group({class:"apexcharts-data-labels",transform:f});var y="";a!==void 0&&(y=m(a,ye(ye({},h),{},{seriesIndex:i,dataPointIndex:s,w:h}))),!a&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(y="");var b=h.globals.series[i][s]<0,w=h.config.plotOptions.bar.dataLabels.position;h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(w==="top"&&(d.textAnchor=b?"end":"start"),w==="center"&&(d.textAnchor="middle"),w==="bottom"&&(d.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&u<g.getTextRects(y,parseFloat(d.style.fontSize)).width&&(y=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(u)&&(y=""):o.height/1.6>Math.abs(l)&&(y=""));var S=ye({},d);this.barCtx.isHorizontal&&a<0&&(d.textAnchor==="start"?S.textAnchor="end":d.textAnchor==="end"&&(S.textAnchor="start")),p.plotDataLabelsText({x:r,y:n,text:y,i,j:s,parent:v,dataLabelsConfig:S,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return v}},{key:"drawTotalDataLabels",value:function(e){var r=e.x,n=e.y,a=e.val,i=e.realIndex,s=e.textAnchor,o=e.barTotalDataLabelsConfig;this.w;var l,u=new ce(this.barCtx.ctx);return o.enabled&&r!==void 0&&n!==void 0&&this.barCtx.lastActiveBarSerieIndex===i&&(l=u.drawText({x:r,y:n,foreColor:o.style.color,text:a,textAnchor:s,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),l}}]),t}(),kse=function(){function t(e){ke(this,t),this.w=e.w,this.barCtx=e}return Ae(t,[{key:"initVariables",value:function(e){var r=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),r.globals.isXNumeric)for(var a=0;a<e[n].length;a++)r.globals.seriesX[n][a]>r.globals.minX&&r.globals.seriesX[n][a]<r.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=r.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(r.globals.series),U.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(i){return i.map(function(s){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],r.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var r,n,a,i,s,o,l,u,d=this.w,h=d.globals.dataPoints;this.barCtx.isRangeBar&&(h=d.globals.labels.length);var f=this.barCtx.seriesLen;if(d.config.plotOptions.bar.rangeBarGroupRows&&(f=1),this.barCtx.isHorizontal)s=(a=d.globals.gridHeight/h)/f,d.globals.isXNumeric&&(s=(a=d.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),s=s*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(s=parseInt(this.barCtx.barOptions.barHeight,10)),u=this.barCtx.baseLineInvertedY+d.globals.padHorizontal+(this.barCtx.isReversed?d.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(u=d.globals.gridWidth/2),n=(a-s*this.barCtx.seriesLen)/2;else{if(i=d.globals.gridWidth/this.barCtx.visibleItems,d.config.xaxis.convertedCatToNumeric&&(i=d.globals.gridWidth/d.globals.dataPoints),o=i/f*parseInt(this.barCtx.barOptions.columnWidth,10)/100,d.globals.isXNumeric){var p=this.barCtx.xRatio;d.globals.minXDiff&&d.globals.minXDiff!==.5&&d.globals.minXDiff/p>0&&(i=d.globals.minXDiff/p),(o=i/f*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),l=d.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?d.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),d.globals.isXNumeric?r=this.barCtx.getBarXForNumericXAxis({x:r,j:0,realIndex:e,barWidth:o}).x:r=d.globals.padHorizontal+U.noExponents(i-o*this.barCtx.seriesLen)/2}return d.globals.barHeight=s,d.globals.barWidth=o,{x:r,y:n,yDivision:a,xDivision:i,barHeight:s,barWidth:o,zeroH:l,zeroW:u}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(r){e[r]||(e[r]={}),e[r].prevY=[],e[r].prevX=[],e[r].prevYF=[],e[r].prevXF=[],e[r].prevYVal=[],e[r].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(r){e[r]||(e[r]={}),e[r].xArrj=[],e[r].xArrjF=[],e[r].xArrjVal=[],e[r].yArrj=[],e[r].yArrjF=[],e[r].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,r,n,a){var i,s,o,l,u=this.w,d=this.barCtx.ctx.fill,h=null,f=this.barCtx.barOptions.distributed?n:r,p=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(g){e[r][n]>=g.from&&e[r][n]<=g.to&&(h=g.color,p=!0)}),{color:d.fillPath({seriesNumber:this.barCtx.barOptions.distributed?f:a,dataPointIndex:n,color:h,value:e[r][n],fillConfig:(i=u.config.series[r].data[n])===null||i===void 0?void 0:i.fill,fillType:(s=u.config.series[r].data[n])!==null&&s!==void 0&&(o=s.fill)!==null&&o!==void 0&&o.type?(l=u.config.series[r].data[n])===null||l===void 0?void 0:l.fill.type:Array.isArray(u.config.fill.type)?u.config.fill.type[a]:u.config.fill.type}),useRangeColor:p}}},{key:"getStrokeWidth",value:function(e,r,n){var a=0,i=this.w;return this.barCtx.series[e][r]===void 0||this.barCtx.series[e][r]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,i.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(e){var r,n=this.w,a=!this.w.config.chart.stacked||n.config.plotOptions.bar.borderRadius<=0,i=e.length,s=0|((r=e[0])===null||r===void 0?void 0:r.length),o=Array.from({length:i},function(){return Array(s).fill(a?"top":"none")});if(a)return o;for(var l=0;l<s;l++){for(var u=[],d=[],h=0,f=0;f<i;f++){var p=e[f][l];p>0?(u.push(f),h++):p<0&&(d.push(f),h++)}if(u.length>0&&d.length===0)if(u.length===1)o[u[0]][l]="both";else{var g,m=u[0],v=u[u.length-1],x=gf(u);try{for(x.s();!(g=x.n()).done;){var y=g.value;o[y][l]=y===m?"bottom":y===v?"top":"none"}}catch(I){x.e(I)}finally{x.f()}}else if(d.length>0&&u.length===0)if(d.length===1)o[d[0]][l]="both";else{var b,w=Math.max.apply(Math,d),S=Math.min.apply(Math,d),k=gf(d);try{for(k.s();!(b=k.n()).done;){var C=b.value;o[C][l]=C===w?"bottom":C===S?"top":"none"}}catch(I){k.e(I)}finally{k.f()}}else if(u.length>0&&d.length>0){var A,N=u[u.length-1],P=gf(u);try{for(P.s();!(A=P.n()).done;){var E=A.value;o[E][l]=E===N?"top":"none"}}catch(I){P.e(I)}finally{P.f()}var O,T=Math.max.apply(Math,d),M=gf(d);try{for(M.s();!(O=M.n()).done;){var L=O.value;o[L][l]=L===T?"bottom":"none"}}catch(I){M.e(I)}finally{M.f()}}else h===1&&(o[u[0]||d[0]][l]="both")}return o}},{key:"barBackground",value:function(e){var r=e.j,n=e.i,a=e.x1,i=e.x2,s=e.y1,o=e.y2,l=e.elSeries,u=this.w,d=new ce(this.barCtx.ctx),h=new Ea(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===n){r>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(r%=this.barCtx.barOptions.colors.backgroundBarColors.length);var f=this.barCtx.barOptions.colors.backgroundBarColors[r],p=d.drawRect(a!==void 0?a:0,s!==void 0?s:0,i!==void 0?i:u.globals.gridWidth,o!==void 0?o:u.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,f,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(p),p.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var r,n=e.barWidth,a=e.barXPosition,i=e.y1,s=e.y2,o=e.strokeWidth,l=e.isReversed,u=e.series,d=e.seriesGroup,h=e.realIndex,f=e.i,p=e.j,g=e.w,m=new ce(this.barCtx.ctx);(o=Array.isArray(o)?o[h]:o)||(o=0);var v=n,x=a;(r=g.config.series[h].data[p])!==null&&r!==void 0&&r.columnWidthOffset&&(x=a-g.config.series[h].data[p].columnWidthOffset/2,v=n+g.config.series[h].data[p].columnWidthOffset);var y=o/2,b=x+y,w=x+v-y,S=(u[f][p]>=0?1:-1)*(l?-1:1);i+=.001-y*S,s+=.001+y*S;var k=m.move(b,i),C=m.move(b,i),A=m.line(w,i);if(g.globals.previousPaths.length>0&&(C=this.barCtx.getPreviousPath(h,p,!1)),k=k+m.line(b,s)+m.line(w,s)+A+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),C=C+m.line(b,i)+A+A+A+A+A+m.line(b,i)+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),this.arrBorderRadius[h][p]!=="none"&&(k=m.roundPathCorners(k,g.config.plotOptions.bar.borderRadius)),g.config.chart.stacked){var N=this.barCtx;(N=this.barCtx[d]).yArrj.push(s-y*S),N.yArrjF.push(Math.abs(i-s+o*S)),N.yArrjVal.push(this.barCtx.series[f][p])}return{pathTo:k,pathFrom:C}}},{key:"getBarpaths",value:function(e){var r,n=e.barYPosition,a=e.barHeight,i=e.x1,s=e.x2,o=e.strokeWidth,l=e.isReversed,u=e.series,d=e.seriesGroup,h=e.realIndex,f=e.i,p=e.j,g=e.w,m=new ce(this.barCtx.ctx);(o=Array.isArray(o)?o[h]:o)||(o=0);var v=n,x=a;(r=g.config.series[h].data[p])!==null&&r!==void 0&&r.barHeightOffset&&(v=n-g.config.series[h].data[p].barHeightOffset/2,x=a+g.config.series[h].data[p].barHeightOffset);var y=o/2,b=v+y,w=v+x-y,S=(u[f][p]>=0?1:-1)*(l?-1:1);i+=.001+y*S,s+=.001-y*S;var k=m.move(i,b),C=m.move(i,b);g.globals.previousPaths.length>0&&(C=this.barCtx.getPreviousPath(h,p,!1));var A=m.line(i,w);if(k=k+m.line(s,b)+m.line(s,w)+A+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),C=C+m.line(i,b)+A+A+A+A+A+m.line(i,b)+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),this.arrBorderRadius[h][p]!=="none"&&(k=m.roundPathCorners(k,g.config.plotOptions.bar.borderRadius)),g.config.chart.stacked){var N=this.barCtx;(N=this.barCtx[d]).xArrj.push(s+y*S),N.xArrjF.push(Math.abs(i-s-o*S)),N.xArrjVal.push(this.barCtx.series[f][p])}return{pathTo:k,pathFrom:C}}},{key:"checkZeroSeries",value:function(e){for(var r=e.series,n=this.w,a=0;a<r.length;a++){for(var i=0,s=0;s<r[n.globals.maxValsInArrayIndex].length;s++)i+=r[a][s];i===0&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(e,r){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?r:null;return e!=null&&(n=r+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,r,n){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?r:null;return e!=null&&(a=r-e/this.barCtx.yRatio[n]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[n]:0)),a}},{key:"getGoalValues",value:function(e,r,n,a,i,s){var o=this,l=this.w,u=[],d=function(p,g){var m;u.push((hy(m={},e,e==="x"?o.getXForValue(p,r,!1):o.getYForValue(p,n,s,!1)),hy(m,"attrs",g),m))};if(l.globals.seriesGoals[a]&&l.globals.seriesGoals[a][i]&&Array.isArray(l.globals.seriesGoals[a][i])&&l.globals.seriesGoals[a][i].forEach(function(p){d(p.value,p)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var h=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,f={strokeHeight:e==="x"?0:l.globals.markers.size[a],strokeWidth:e==="x"?l.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(h[a])?h[a][0]:h[a]};d(l.globals.seriesRangeStart[a][i],f),d(l.globals.seriesRangeEnd[a][i],ye(ye({},f),{},{strokeColor:Array.isArray(h[a])?h[a][1]:h[a]}))}return u}},{key:"drawGoalLine",value:function(e){var r=e.barXPosition,n=e.barYPosition,a=e.goalX,i=e.goalY,s=e.barWidth,o=e.barHeight,l=new ce(this.barCtx.ctx),u=l.group({className:"apexcharts-bar-goals-groups"});u.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:u.node}),u.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var d=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach(function(h){if(h.x>=-1&&h.x<=l.w.globals.gridWidth+1){var f=h.attrs.strokeHeight!==void 0?h.attrs.strokeHeight:o/2,p=n+f+o/2;d=l.drawLine(h.x,p-2*f,h.x,p,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeWidth?h.attrs.strokeWidth:2,h.attrs.strokeLineCap),u.add(d)}}):Array.isArray(i)&&i.forEach(function(h){if(h.y>=-1&&h.y<=l.w.globals.gridHeight+1){var f=h.attrs.strokeWidth!==void 0?h.attrs.strokeWidth:s/2,p=r+f+s/2;d=l.drawLine(p-2*f,h.y,p,h.y,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeHeight?h.attrs.strokeHeight:2,h.attrs.strokeLineCap),u.add(d)}}),u}},{key:"drawBarShadow",value:function(e){var r=e.prevPaths,n=e.currPaths,a=e.color,i=this.w,s=r.x,o=r.x1,l=r.barYPosition,u=n.x,d=n.x1,h=n.barYPosition,f=l+n.barHeight,p=new ce(this.barCtx.ctx),g=new U,m=p.move(o,f)+p.line(s,f)+p.line(u,h)+p.line(d,h)+p.line(o,f)+(i.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return p.drawPath({d:m,fill:g.shadeColor(.5,U.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var r,n=e.i,a=e.j,i=this.w,s=0,o=0;return(i.config.plotOptions.bar.horizontal?i.globals.series.map(function(l,u){return u}):((r=i.globals.columnSeries)===null||r===void 0?void 0:r.i.map(function(l){return l}))||[]).forEach(function(l){var u=i.globals.seriesPercent[l][a];u&&s++,l<n&&u===0&&o++}),{nonZeroColumns:s,zeroEncounters:o}}},{key:"getGroupIndex",value:function(e){var r=this.w,n=r.globals.seriesGroups.findIndex(function(s){return s.indexOf(r.globals.seriesNames[e])>-1}),a=this.barCtx.columnGroupIndices,i=a.indexOf(n);return i<0&&(a.push(n),i=a.length-1),{groupIndex:n,columnGroupIndex:i}}}]),t}(),ud=function(){function t(e,r){ke(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.globals.seriesRange.length&&n.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=r,this.xyRatios!==null&&(this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.invertedXRatio=r.invertedXRatio,this.invertedYRatio=r.invertedYRatio,this.baseLineY=r.baseLineY,this.baseLineInvertedY=r.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new Ea(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var i=a.getBarSeriesIndices(),s=new ir(this.ctx);this.stackedSeriesTotals=s.getStackedSeriesTotals(this.w.config.series.map(function(o,l){return i.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1})),this.barHelpers=new kse(this)}return Ae(t,[{key:"draw",value:function(e,r){var n=this.w,a=new ce(this.ctx),i=new ir(this.ctx,n);e=i.getLogSeries(e),this.series=e,this.yRatio=i.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var s=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<e.length;o++,l++){var u,d,h,f,p=void 0,g=void 0,m=[],v=[],x=n.globals.comboCharts?r[o]:o,y=this.barHelpers.getGroupIndex(x).columnGroupIndex,b=a.group({class:"apexcharts-series",rel:o+1,seriesName:U.escapeString(n.globals.seriesNames[x]),"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(b,x),e[o].length>0&&(this.visibleI=this.visibleI+1);var w=0,S=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[x],this.translationsIndex=x);var k=this.translationsIndex;this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var C=this.barHelpers.initialPositions(x);g=C.y,w=C.barHeight,d=C.yDivision,f=C.zeroW,p=C.x,S=C.barWidth,u=C.xDivision,h=C.zeroH,this.isHorizontal||v.push(p+S/2);var A=a.group({class:"apexcharts-datalabels","data:realIndex":x});n.globals.delayedElements.push({el:A.node}),A.node.classList.add("apexcharts-element-hidden");var N=a.group({class:"apexcharts-bar-goals-markers"}),P=a.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:P.node}),P.node.classList.add("apexcharts-element-hidden");for(var E=0;E<e[o].length;E++){var O=this.barHelpers.getStrokeWidth(o,E,x),T=null,M={indexes:{i:o,j:E,realIndex:x,translationsIndex:k,bc:l},x:p,y:g,strokeWidth:O,elSeries:b};this.isHorizontal?(T=this.drawBarPaths(ye(ye({},M),{},{barHeight:w,zeroW:f,yDivision:d})),S=this.series[o][E]/this.invertedYRatio):(T=this.drawColumnPaths(ye(ye({},M),{},{xDivision:u,barWidth:S,zeroH:h})),w=this.series[o][E]/this.yRatio[k]);var L=this.barHelpers.getPathFillColor(e,o,E,x);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&E>0){var I,D=this.barHelpers.drawBarShadow({color:typeof L.color=="string"&&((I=L.color)===null||I===void 0?void 0:I.indexOf("url"))===-1?L.color:U.hexToRgba(n.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:T});P.add(D),n.config.chart.dropShadow.enabled&&new Fr(this.ctx).dropShadow(D,n.config.chart.dropShadow,x)}this.pathArr.push(T);var R=this.barHelpers.drawGoalLine({barXPosition:T.barXPosition,barYPosition:T.barYPosition,goalX:T.goalX,goalY:T.goalY,barHeight:w,barWidth:S});R&&N.add(R),g=T.y,p=T.x,E>0&&v.push(p+S/2),m.push(g),this.renderSeries(ye(ye({realIndex:x,pathFill:L.color},L.useRangeColor?{lineFill:L.color}:{}),{},{j:E,i:o,columnGroupIndex:y,pathFrom:T.pathFrom,pathTo:T.pathTo,strokeWidth:O,elSeries:b,x:p,y:g,series:e,barHeight:Math.abs(T.barHeight?T.barHeight:w),barWidth:Math.abs(T.barWidth?T.barWidth:S),elDataLabelsWrap:A,elGoalsMarkers:N,elBarShadows:P,visibleSeries:this.visibleI,type:"bar"}))}n.globals.seriesXvalues[x]=v,n.globals.seriesYvalues[x]=m,s.add(b)}return s}},{key:"renderSeries",value:function(e){var r=e.realIndex,n=e.pathFill,a=e.lineFill,i=e.j,s=e.i,o=e.columnGroupIndex,l=e.pathFrom,u=e.pathTo,d=e.strokeWidth,h=e.elSeries,f=e.x,p=e.y,g=e.y1,m=e.y2,v=e.series,x=e.barHeight,y=e.barWidth,b=e.barXPosition,w=e.barYPosition,S=e.elDataLabelsWrap,k=e.elGoalsMarkers,C=e.elBarShadows,A=e.visibleSeries,N=e.type,P=e.classes,E=this.w,O=new ce(this.ctx),T=!1;if(!a){var M=typeof E.globals.stroke.colors[r]=="function"?function(F){var z,B=E.config.stroke.colors;return Array.isArray(B)&&B.length>0&&((z=B[F])||(z=""),typeof z=="function")?z({value:E.globals.series[F][i],dataPointIndex:i,w:E}):z}(r):E.globals.stroke.colors[r];a=this.barOptions.distributed?E.globals.stroke.colors[i]:M}var L=new Cse(this).handleBarDataLabels({x:f,y:p,y1:g,y2:m,i:s,j:i,series:v,realIndex:r,columnGroupIndex:o,barHeight:x,barWidth:y,barXPosition:b,barYPosition:w,visibleSeries:A});E.globals.isBarHorizontal||(L.dataLabelsPos.dataLabelsX+y<0||L.dataLabelsPos.dataLabelsX-y>E.globals.gridWidth)&&(T=!0),E.config.series[s].data[i]&&E.config.series[s].data[i].strokeColor&&(a=E.config.series[s].data[i].strokeColor),this.isNullValue&&(n="none");var I=i/E.config.chart.animations.animateGradually.delay*(E.config.chart.animations.speed/E.globals.dataPoints)/2.4;if(!T){var D=O.renderPaths({i:s,j:i,realIndex:r,pathFrom:l,pathTo:u,stroke:a,strokeWidth:d,strokeLineCap:E.config.stroke.lineCap,fill:n,animationDelay:I,initialSpeed:E.config.chart.animations.speed,dataChangeSpeed:E.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(N,"-area ").concat(P),chartType:N});D.attr("clip-path","url(#gridRectBarMask".concat(E.globals.cuid,")"));var R=E.config.forecastDataPoints;R.count>0&&i>=E.globals.dataPoints-R.count&&(D.node.setAttribute("stroke-dasharray",R.dashArray),D.node.setAttribute("stroke-width",R.strokeWidth),D.node.setAttribute("fill-opacity",R.fillOpacity)),g!==void 0&&m!==void 0&&(D.attr("data-range-y1",g),D.attr("data-range-y2",m)),new Fr(this.ctx).setSelectionFilter(D,r,i),h.add(D),D.attr({cy:L.dataLabelsPos.bcy,cx:L.dataLabelsPos.bcx,j:i,val:E.globals.series[s][i],barHeight:x,barWidth:y}),L.dataLabels!==null&&S.add(L.dataLabels),L.totalDataLabels&&S.add(L.totalDataLabels),h.add(S),k&&h.add(k),C&&h.add(C)}return h}},{key:"drawBarPaths",value:function(e){var r,n=e.indexes,a=e.barHeight,i=e.strokeWidth,s=e.zeroW,o=e.x,l=e.y,u=e.yDivision,d=e.elSeries,h=this.w,f=n.i,p=n.j;if(h.globals.isXNumeric)r=(l=(h.globals.seriesX[f][p]-h.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var g=this.barHelpers.getZeroValueEncounters({i:f,j:p}),m=g.nonZeroColumns,v=g.zeroEncounters;m>0&&(a=this.seriesLen*a/m),r=l+a*this.visibleI,r-=a*v}else r=l+a*this.visibleI;this.isFunnel&&(s-=(this.barHelpers.getXForValue(this.series[f][p],s)-s)/2),o=this.barHelpers.getXForValue(this.series[f][p],s);var x=this.barHelpers.getBarpaths({barYPosition:r,barHeight:a,x1:s,x2:o,strokeWidth:i,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,i:f,j:p,w:h});return h.globals.isXNumeric||(l+=u),this.barHelpers.barBackground({j:p,i:f,y1:r-a*this.visibleI,y2:a*this.seriesLen,elSeries:d}),{pathTo:x.pathTo,pathFrom:x.pathFrom,x1:s,x:o,y:l,goalX:this.barHelpers.getGoalValues("x",s,null,f,p),barYPosition:r,barHeight:a}}},{key:"drawColumnPaths",value:function(e){var r,n=e.indexes,a=e.x,i=e.y,s=e.xDivision,o=e.barWidth,l=e.zeroH,u=e.strokeWidth,d=e.elSeries,h=this.w,f=n.realIndex,p=n.translationsIndex,g=n.i,m=n.j,v=n.bc;if(h.globals.isXNumeric){var x=this.getBarXForNumericXAxis({x:a,j:m,realIndex:f,barWidth:o});a=x.x,r=x.barXPosition}else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var y=this.barHelpers.getZeroValueEncounters({i:g,j:m}),b=y.nonZeroColumns,w=y.zeroEncounters;b>0&&(o=this.seriesLen*o/b),r=a+o*this.visibleI,r-=o*w}else r=a+o*this.visibleI;i=this.barHelpers.getYForValue(this.series[g][m],l,p);var S=this.barHelpers.getColumnPaths({barXPosition:r,barWidth:o,y1:l,y2:i,strokeWidth:u,isReversed:this.isReversed,series:this.series,realIndex:f,i:g,j:m,w:h});return h.globals.isXNumeric||(a+=s),this.barHelpers.barBackground({bc:v,j:m,i:g,x1:r-u/2-o*this.visibleI,x2:o*this.seriesLen+u/2,elSeries:d}),{pathTo:S.pathTo,pathFrom:S.pathFrom,x:a,y:i,goalY:this.barHelpers.getGoalValues("y",null,l,g,m,p),barXPosition:r,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(e){var r=e.x,n=e.barWidth,a=e.realIndex,i=e.j,s=this.w,o=a;return s.globals.seriesX[a].length||(o=s.globals.maxValsInArrayIndex),U.isNumber(s.globals.seriesX[o][i])&&(r=(s.globals.seriesX[o][i]-s.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:r+n*this.visibleI,x:r}}},{key:"getPreviousPath",value:function(e,r){for(var n=this.w,a="M 0 0",i=0;i<n.globals.previousPaths.length;i++){var s=n.globals.previousPaths[i];s.paths&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&n.globals.previousPaths[i].paths[r]!==void 0&&(a=n.globals.previousPaths[i].paths[r].d)}return a}}]),t}(),QO=function(t){Om(r,ud);var e=Em(r);function r(){return ke(this,r),e.apply(this,arguments)}return Ae(r,[{key:"draw",value:function(n,a){var i=this,s=this.w;this.graphics=new ce(this.ctx),this.bar=new ud(this.ctx,this.xyRatios);var o=new ir(this.ctx,s);n=o.getLogSeries(n),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n),s.config.chart.stackType==="100%"&&(n=s.globals.comboCharts?a.map(function(g){return s.globals.seriesPercent[g]}):s.globals.seriesPercent.slice()),this.series=n,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),u=0,d=0,h=function(g,m){var v=void 0,x=void 0,y=void 0,b=void 0,w=s.globals.comboCharts?a[g]:g,S=i.barHelpers.getGroupIndex(w),k=S.groupIndex,C=S.columnGroupIndex;i.groupCtx=i[s.globals.seriesGroups[k]];var A=[],N=[],P=0;i.yRatio.length>1&&(i.yaxisIndex=s.globals.seriesYAxisReverseMap[w][0],P=w),i.isReversed=s.config.yaxis[i.yaxisIndex]&&s.config.yaxis[i.yaxisIndex].reversed;var E=i.graphics.group({class:"apexcharts-series",seriesName:U.escapeString(s.globals.seriesNames[w]),rel:g+1,"data:realIndex":w});i.ctx.series.addCollapsedClassToSeries(E,w);var O=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":w}),T=i.graphics.group({class:"apexcharts-bar-goals-markers"}),M=0,L=0,I=i.initialPositions(u,d,v,x,y,b,P);d=I.y,M=I.barHeight,x=I.yDivision,b=I.zeroW,u=I.x,L=I.barWidth,v=I.xDivision,y=I.zeroH,s.globals.barHeight=M,s.globals.barWidth=L,i.barHelpers.initializeStackedXYVars(i),i.groupCtx.prevY.length===1&&i.groupCtx.prevY[0].every(function(Ne){return isNaN(Ne)})&&(i.groupCtx.prevY[0]=i.groupCtx.prevY[0].map(function(){return y}),i.groupCtx.prevYF[0]=i.groupCtx.prevYF[0].map(function(){return 0}));for(var D=0;D<s.globals.dataPoints;D++){var R=i.barHelpers.getStrokeWidth(g,D,w),F={indexes:{i:g,j:D,realIndex:w,translationsIndex:P,bc:m},strokeWidth:R,x:u,y:d,elSeries:E,columnGroupIndex:C,seriesGroup:s.globals.seriesGroups[k]},z=null;i.isHorizontal?(z=i.drawStackedBarPaths(ye(ye({},F),{},{zeroW:b,barHeight:M,yDivision:x})),L=i.series[g][D]/i.invertedYRatio):(z=i.drawStackedColumnPaths(ye(ye({},F),{},{xDivision:v,barWidth:L,zeroH:y})),M=i.series[g][D]/i.yRatio[P]);var B=i.barHelpers.drawGoalLine({barXPosition:z.barXPosition,barYPosition:z.barYPosition,goalX:z.goalX,goalY:z.goalY,barHeight:M,barWidth:L});B&&T.add(B),d=z.y,u=z.x,A.push(u),N.push(d);var q=i.barHelpers.getPathFillColor(n,g,D,w),ie="",ne=s.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(i.barHelpers.arrBorderRadius[w][D]==="bottom"&&s.globals.series[w][D]>0||i.barHelpers.arrBorderRadius[w][D]==="top"&&s.globals.series[w][D]<0)&&(ie=ne),E=i.renderSeries(ye(ye({realIndex:w,pathFill:q.color},q.useRangeColor?{lineFill:q.color}:{}),{},{j:D,i:g,columnGroupIndex:C,pathFrom:z.pathFrom,pathTo:z.pathTo,strokeWidth:R,elSeries:E,x:u,y:d,series:n,barHeight:M,barWidth:L,elDataLabelsWrap:O,elGoalsMarkers:T,type:"bar",visibleSeries:C,classes:ie}))}s.globals.seriesXvalues[w]=A,s.globals.seriesYvalues[w]=N,i.groupCtx.prevY.push(i.groupCtx.yArrj),i.groupCtx.prevYF.push(i.groupCtx.yArrjF),i.groupCtx.prevYVal.push(i.groupCtx.yArrjVal),i.groupCtx.prevX.push(i.groupCtx.xArrj),i.groupCtx.prevXF.push(i.groupCtx.xArrjF),i.groupCtx.prevXVal.push(i.groupCtx.xArrjVal),l.add(E)},f=0,p=0;f<n.length;f++,p++)h(f,p);return l}},{key:"initialPositions",value:function(n,a,i,s,o,l,u){var d,h,f=this.w;if(this.isHorizontal){s=f.globals.gridHeight/f.globals.dataPoints;var p=f.config.plotOptions.bar.barHeight;d=String(p).indexOf("%")===-1?parseInt(p,10):s*parseInt(p,10)/100,l=f.globals.padHorizontal+(this.isReversed?f.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(s-d)/2}else{h=i=f.globals.gridWidth/f.globals.dataPoints;var g=f.config.plotOptions.bar.columnWidth;f.globals.isXNumeric&&f.globals.dataPoints>1?h=(i=f.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(g).indexOf("%")===-1?h=parseInt(g,10):h*=parseInt(g,10)/100,o=this.isReversed?this.baseLineY[u]:f.globals.gridHeight-this.baseLineY[u],n=f.globals.padHorizontal+(i-h)/2}var m=f.globals.barGroups.length||1;return{x:n,y:a,yDivision:s,xDivision:i,barHeight:d/m,barWidth:h/m,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(n){for(var a,i=n.indexes,s=n.barHeight,o=n.strokeWidth,l=n.zeroW,u=n.x,d=n.y,h=n.columnGroupIndex,f=n.seriesGroup,p=n.yDivision,g=n.elSeries,m=this.w,v=d+h*s,x=i.i,y=i.j,b=i.realIndex,w=i.translationsIndex,S=0,k=0;k<this.groupCtx.prevXF.length;k++)S+=this.groupCtx.prevXF[k][y];var C=x;if(m.config.series[b].name&&(C=f.indexOf(m.config.series[b].name)),C>0){var A=l;this.groupCtx.prevXVal[C-1][y]<0?A=this.series[x][y]>=0?this.groupCtx.prevX[C-1][y]+S-2*(this.isReversed?S:0):this.groupCtx.prevX[C-1][y]:this.groupCtx.prevXVal[C-1][y]>=0&&(A=this.series[x][y]>=0?this.groupCtx.prevX[C-1][y]:this.groupCtx.prevX[C-1][y]-S+2*(this.isReversed?S:0)),a=A}else a=l;u=this.series[x][y]===null?a:a+this.series[x][y]/this.invertedYRatio-2*(this.isReversed?this.series[x][y]/this.invertedYRatio:0);var N=this.barHelpers.getBarpaths({barYPosition:v,barHeight:s,x1:a,x2:u,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,seriesGroup:f,i:x,j:y,w:m});return this.barHelpers.barBackground({j:y,i:x,y1:v,y2:s,elSeries:g}),d+=p,{pathTo:N.pathTo,pathFrom:N.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,x,y,w),barXPosition:a,barYPosition:v,x:u,y:d}}},{key:"drawStackedColumnPaths",value:function(n){var a=n.indexes,i=n.x,s=n.y,o=n.xDivision,l=n.barWidth,u=n.zeroH,d=n.columnGroupIndex,h=n.seriesGroup,f=n.elSeries,p=this.w,g=a.i,m=a.j,v=a.bc,x=a.realIndex,y=a.translationsIndex;if(p.globals.isXNumeric){var b=p.globals.seriesX[x][m];b||(b=0),i=(b-p.globals.minX)/this.xRatio-l/2*p.globals.barGroups.length}for(var w,S=i+d*l,k=0,C=0;C<this.groupCtx.prevYF.length;C++)k+=isNaN(this.groupCtx.prevYF[C][m])?0:this.groupCtx.prevYF[C][m];var A=g;if(h&&(A=h.indexOf(p.globals.seriesNames[x])),A>0&&!p.globals.isXNumeric||A>0&&p.globals.isXNumeric&&p.globals.seriesX[x-1][m]===p.globals.seriesX[x][m]){var N,P,E,O=Math.min(this.yRatio.length+1,x+1);if(this.groupCtx.prevY[A-1]!==void 0&&this.groupCtx.prevY[A-1].length)for(var T=1;T<O;T++){var M;if(!isNaN((M=this.groupCtx.prevY[A-T])===null||M===void 0?void 0:M[m])){E=this.groupCtx.prevY[A-T][m];break}}for(var L=1;L<O;L++){var I,D;if(((I=this.groupCtx.prevYVal[A-L])===null||I===void 0?void 0:I[m])<0){P=this.series[g][m]>=0?E-k+2*(this.isReversed?k:0):E;break}if(((D=this.groupCtx.prevYVal[A-L])===null||D===void 0?void 0:D[m])>=0){P=this.series[g][m]>=0?E:E+k-2*(this.isReversed?k:0);break}}P===void 0&&(P=p.globals.gridHeight),w=(N=this.groupCtx.prevYF[0])!==null&&N!==void 0&&N.every(function(F){return F===0})&&this.groupCtx.prevYF.slice(1,A).every(function(F){return F.every(function(z){return isNaN(z)})})?u:P}else w=u;s=this.series[g][m]?w-this.series[g][m]/this.yRatio[y]+2*(this.isReversed?this.series[g][m]/this.yRatio[y]:0):w;var R=this.barHelpers.getColumnPaths({barXPosition:S,barWidth:l,y1:w,y2:s,yRatio:this.yRatio[y],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:h,realIndex:a.realIndex,i:g,j:m,w:p});return this.barHelpers.barBackground({bc:v,j:m,i:g,x1:S,x2:l,elSeries:f}),{pathTo:R.pathTo,pathFrom:R.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,u,g,m),barXPosition:S,x:p.globals.isXNumeric?i:i+o,y:s}}}]),r}(),Jw=function(t){Om(r,ud);var e=Em(r);function r(){return ke(this,r),e.apply(this,arguments)}return Ae(r,[{key:"draw",value:function(n,a,i){var s=this,o=this.w,l=new ce(this.ctx),u=o.globals.comboCharts?a:o.config.chart.type,d=new ui(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var h=new ir(this.ctx,o);n=h.getLogSeries(n),this.series=n,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);for(var f=l.group({class:"apexcharts-".concat(u,"-series apexcharts-plot-series")}),p=function(m){s.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[m].type==="boxPlot";var v,x,y,b,w=void 0,S=void 0,k=[],C=[],A=o.globals.comboCharts?i[m]:m,N=s.barHelpers.getGroupIndex(A).columnGroupIndex,P=l.group({class:"apexcharts-series",seriesName:U.escapeString(o.globals.seriesNames[A]),rel:m+1,"data:realIndex":A});s.ctx.series.addCollapsedClassToSeries(P,A),n[m].length>0&&(s.visibleI=s.visibleI+1);var E,O,T=0;s.yRatio.length>1&&(s.yaxisIndex=o.globals.seriesYAxisReverseMap[A][0],T=A);var M=s.barHelpers.initialPositions(A);S=M.y,E=M.barHeight,x=M.yDivision,b=M.zeroW,w=M.x,O=M.barWidth,v=M.xDivision,y=M.zeroH,C.push(w+O/2);for(var L=l.group({class:"apexcharts-datalabels","data:realIndex":A}),I=l.group({class:"apexcharts-bar-goals-markers"}),D=function(F){var z=s.barHelpers.getStrokeWidth(m,F,A),B=null,q={indexes:{i:m,j:F,realIndex:A,translationsIndex:T},x:w,y:S,strokeWidth:z,elSeries:P};B=s.isHorizontal?s.drawHorizontalBoxPaths(ye(ye({},q),{},{yDivision:x,barHeight:E,zeroW:b})):s.drawVerticalBoxPaths(ye(ye({},q),{},{xDivision:v,barWidth:O,zeroH:y})),S=B.y,w=B.x;var ie=s.barHelpers.drawGoalLine({barXPosition:B.barXPosition,barYPosition:B.barYPosition,goalX:B.goalX,goalY:B.goalY,barHeight:E,barWidth:O});ie&&I.add(ie),F>0&&C.push(w+O/2),k.push(S),B.pathTo.forEach(function(ne,Ne){var fe=!s.isBoxPlot&&s.candlestickOptions.wick.useFillColor?B.color[Ne]:o.globals.stroke.colors[m],X=d.fillPath({seriesNumber:A,dataPointIndex:F,color:B.color[Ne],value:n[m][F]});s.renderSeries({realIndex:A,pathFill:X,lineFill:fe,j:F,i:m,pathFrom:B.pathFrom,pathTo:ne,strokeWidth:z,elSeries:P,x:w,y:S,series:n,columnGroupIndex:N,barHeight:E,barWidth:O,elDataLabelsWrap:L,elGoalsMarkers:I,visibleSeries:s.visibleI,type:o.config.chart.type})})},R=0;R<o.globals.dataPoints;R++)D(R);o.globals.seriesXvalues[A]=C,o.globals.seriesYvalues[A]=k,f.add(P)},g=0;g<n.length;g++)p(g);return f}},{key:"drawVerticalBoxPaths",value:function(n){var a=n.indexes,i=n.x;n.y;var s=n.xDivision,o=n.barWidth,l=n.zeroH,u=n.strokeWidth,d=this.w,h=new ce(this.ctx),f=a.i,p=a.j,g=d.config.plotOptions.candlestick.colors,m=this.boxOptions.colors,v=a.realIndex,x=function(R){return Array.isArray(R)?R[v]:R},y=x(g.upward),b=x(g.downward),w=this.yRatio[a.translationsIndex],S=this.getOHLCValue(v,p),k=l,C=l,A=S.o<S.c?[y]:[b];this.isBoxPlot&&(A=[x(m.lower),x(m.upper)]);var N=Math.min(S.o,S.c),P=Math.max(S.o,S.c),E=S.m;d.globals.isXNumeric&&(i=(d.globals.seriesX[v][p]-d.globals.minX)/this.xRatio-o/2);var O=i+o*this.visibleI;this.series[f][p]===void 0||this.series[f][p]===null?(N=l,P=l):(N=l-N/w,P=l-P/w,k=l-S.h/w,C=l-S.l/w,E=l-S.m/w);var T=h.move(O,l),M=h.move(O+o/2,N);if(d.globals.previousPaths.length>0&&(M=this.getPreviousPath(v,p,!0)),this.isOHLC){var L=O+o/2,I=l-S.o/w,D=l-S.c/w;T=[h.move(L,k)+h.line(L,C)+h.move(L,I)+h.line(O,I)+h.move(L,D)+h.line(O+o,D)]}else T=this.isBoxPlot?[h.move(O,N)+h.line(O+o/2,N)+h.line(O+o/2,k)+h.line(O+o/4,k)+h.line(O+o-o/4,k)+h.line(O+o/2,k)+h.line(O+o/2,N)+h.line(O+o,N)+h.line(O+o,E)+h.line(O,E)+h.line(O,N+u/2),h.move(O,E)+h.line(O+o,E)+h.line(O+o,P)+h.line(O+o/2,P)+h.line(O+o/2,C)+h.line(O+o-o/4,C)+h.line(O+o/4,C)+h.line(O+o/2,C)+h.line(O+o/2,P)+h.line(O,P)+h.line(O,E)+"z"]:[h.move(O,P)+h.line(O+o/2,P)+h.line(O+o/2,k)+h.line(O+o/2,P)+h.line(O+o,P)+h.line(O+o,N)+h.line(O+o/2,N)+h.line(O+o/2,C)+h.line(O+o/2,N)+h.line(O,N)+h.line(O,P-u/2)];return M+=h.move(O,N),d.globals.isXNumeric||(i+=s),{pathTo:T,pathFrom:M,x:i,y:P,goalY:this.barHelpers.getGoalValues("y",null,l,f,p,a.translationsIndex),barXPosition:O,color:A}}},{key:"drawHorizontalBoxPaths",value:function(n){var a=n.indexes;n.x;var i=n.y,s=n.yDivision,o=n.barHeight,l=n.zeroW,u=n.strokeWidth,d=this.w,h=new ce(this.ctx),f=a.i,p=a.j,g=this.boxOptions.colors.lower;this.isBoxPlot&&(g=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var m=this.invertedYRatio,v=a.realIndex,x=this.getOHLCValue(v,p),y=l,b=l,w=Math.min(x.o,x.c),S=Math.max(x.o,x.c),k=x.m;d.globals.isXNumeric&&(i=(d.globals.seriesX[v][p]-d.globals.minX)/this.invertedXRatio-o/2);var C=i+o*this.visibleI;this.series[f][p]===void 0||this.series[f][p]===null?(w=l,S=l):(w=l+w/m,S=l+S/m,y=l+x.h/m,b=l+x.l/m,k=l+x.m/m);var A=h.move(l,C),N=h.move(w,C+o/2);return d.globals.previousPaths.length>0&&(N=this.getPreviousPath(v,p,!0)),A=[h.move(w,C)+h.line(w,C+o/2)+h.line(y,C+o/2)+h.line(y,C+o/2-o/4)+h.line(y,C+o/2+o/4)+h.line(y,C+o/2)+h.line(w,C+o/2)+h.line(w,C+o)+h.line(k,C+o)+h.line(k,C)+h.line(w+u/2,C),h.move(k,C)+h.line(k,C+o)+h.line(S,C+o)+h.line(S,C+o/2)+h.line(b,C+o/2)+h.line(b,C+o-o/4)+h.line(b,C+o/4)+h.line(b,C+o/2)+h.line(S,C+o/2)+h.line(S,C)+h.line(k,C)+"z"],N+=h.move(w,C),d.globals.isXNumeric||(i+=s),{pathTo:A,pathFrom:N,x:S,y:i,goalX:this.barHelpers.getGoalValues("x",l,null,f,p),barYPosition:C,color:g}}},{key:"getOHLCValue",value:function(n,a){var i=this.w,s=new ir(this.ctx,i),o=s.getLogValAtSeriesIndex(i.globals.seriesCandleH[n][a],n),l=s.getLogValAtSeriesIndex(i.globals.seriesCandleO[n][a],n),u=s.getLogValAtSeriesIndex(i.globals.seriesCandleM[n][a],n),d=s.getLogValAtSeriesIndex(i.globals.seriesCandleC[n][a],n),h=s.getLogValAtSeriesIndex(i.globals.seriesCandleL[n][a],n);return{o:this.isBoxPlot?o:l,h:this.isBoxPlot?l:o,m:u,l:this.isBoxPlot?d:h,c:this.isBoxPlot?h:d}}}]),r}(),OW=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"checkColorRange",value:function(){var e=this.w,r=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(a,i){a.from<=0&&(r=!0)}),r}},{key:"getShadeColor",value:function(e,r,n,a){var i=this.w,s=1,o=i.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,r,n);i.globals.hasNegs||a?s=i.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):(1-l.percent/100)*(1.25*o):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(s=1-l.percent/100,e==="treemap"&&(s=(1-l.percent/100)*(1.25*o)));var u=l.color,d=new U;if(i.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var h=d.shadeColor(-1*s,l.color);u=U.hexToRgba(U.isColorHex(h)?h:U.rgb2hex(h),i.config.fill.opacity)}else{var f=d.shadeColor(s,l.color);u=U.hexToRgba(U.isColorHex(f)?f:U.rgb2hex(f),i.config.fill.opacity)}return{color:u,colorProps:l}}},{key:"determineColor",value:function(e,r,n){var a=this.w,i=a.globals.series[r][n],s=a.config.plotOptions[e],o=s.colorScale.inverse?n:r;s.distributed&&a.config.chart.type==="treemap"&&(o=n);var l=a.globals.colors[o],u=null,d=Math.min.apply(Math,wr(a.globals.series[r])),h=Math.max.apply(Math,wr(a.globals.series[r]));s.distributed||e!=="heatmap"||(d=a.globals.minY,h=a.globals.maxY),s.colorScale.min!==void 0&&(d=s.colorScale.min<a.globals.minY?s.colorScale.min:a.globals.minY,h=s.colorScale.max>a.globals.maxY?s.colorScale.max:a.globals.maxY);var f=Math.abs(h)+Math.abs(d),p=100*i/(f===0?f-1e-6:f);return s.colorScale.ranges.length>0&&s.colorScale.ranges.map(function(g,m){if(i>=g.from&&i<=g.to){l=g.color,u=g.foreColor?g.foreColor:null,d=g.from,h=g.to;var v=Math.abs(h)+Math.abs(d);p=100*i/(v===0?v-1e-6:v)}}),{color:l,foreColor:u,percent:p}}},{key:"calculateDataLabels",value:function(e){var r=e.text,n=e.x,a=e.y,i=e.i,s=e.j,o=e.colorProps,l=e.fontSize,u=this.w.config.dataLabels,d=new ce(this.ctx),h=new cd(this.ctx),f=null;if(u.enabled){f=d.group({class:"apexcharts-data-labels"});var p=u.offsetX,g=u.offsetY,m=n+p,v=a+parseFloat(u.style.fontSize)/3+g;h.plotDataLabelsText({x:m,y:v,text:r,i,j:s,color:o.foreColor,parent:f,fontSize:l,dataLabelsConfig:u})}return f}},{key:"addListeners",value:function(e){var r=new ce(this.ctx);e.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",r.pathMouseDown.bind(this,e))}}]),t}(),Ase=function(){function t(e,r){ke(this,t),this.ctx=e,this.w=e.w,this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new OW(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Ae(t,[{key:"draw",value:function(e){var r=this.w,n=new ce(this.ctx),a=n.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")"));var i=r.globals.gridWidth/r.globals.dataPoints,s=r.globals.gridHeight/r.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var u=e.slice();r.config.yaxis[0].reversed&&(l=!0,u.reverse());for(var d=l?0:u.length-1;l?d<u.length:d>=0;l?d++:d--){var h=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:U.escapeString(r.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(this.ctx.series.addCollapsedClassToSeries(h,d),r.config.chart.dropShadow.enabled){var f=r.config.chart.dropShadow;new Fr(this.ctx).dropShadow(h,f,d)}for(var p=0,g=r.config.plotOptions.heatmap.shadeIntensity,m=0,v=0;v<r.globals.dataPoints;v++)if(r.globals.seriesX.length&&!r.globals.allSeriesHasEqualX&&r.globals.minX+r.globals.minXDiff*v<r.globals.seriesX[d][m])p+=i;else{if(m>=u[d].length)break;var x=this.helpers.getShadeColor(r.config.chart.type,d,m,this.negRange),y=x.color,b=x.colorProps;r.config.fill.type==="image"&&(y=new ui(this.ctx).fillPath({seriesNumber:d,dataPointIndex:m,opacity:r.globals.hasNegs?b.percent<0?1-(1+b.percent/100):g+b.percent/100:b.percent/100,patternID:U.randomId(),width:r.config.fill.image.width?r.config.fill.image.width:i,height:r.config.fill.image.height?r.config.fill.image.height:s}));var w=this.rectRadius,S=n.drawRect(p,o,i,s,w);if(S.attr({cx:p,cy:o}),S.node.classList.add("apexcharts-heatmap-rect"),h.add(S),S.attr({fill:y,i:d,index:d,j:m,val:e[d][m],"stroke-width":this.strokeWidth,stroke:r.config.plotOptions.heatmap.useFillColorAsStroke?y:r.globals.stroke.colors[0],color:y}),this.helpers.addListeners(S),r.config.chart.animations.enabled&&!r.globals.dataChanged){var k=1;r.globals.resized||(k=r.config.chart.animations.speed),this.animateHeatMap(S,p,o,i,s,k)}if(r.globals.dataChanged){var C=1;if(this.dynamicAnim.enabled&&r.globals.shouldAnimate){C=this.dynamicAnim.speed;var A=r.globals.previousPaths[d]&&r.globals.previousPaths[d][m]&&r.globals.previousPaths[d][m].color;A||(A="rgba(255, 255, 255, 0)"),this.animateHeatColor(S,U.isColorHex(A)?A:U.rgb2hex(A),U.isColorHex(y)?y:U.rgb2hex(y),C)}}var N=(0,r.config.dataLabels.formatter)(r.globals.series[d][m],{value:r.globals.series[d][m],seriesIndex:d,dataPointIndex:m,w:r}),P=this.helpers.calculateDataLabels({text:N,x:p+i/2,y:o+s/2,i:d,j:m,colorProps:b,series:u});P!==null&&h.add(P),p+=i,m++}o+=s,a.add(h)}var E=r.globals.yAxisScale[0].result.slice();return r.config.yaxis[0].reversed?E.unshift(""):E.push(""),r.globals.yAxisScale[0].result=E,a}},{key:"animateHeatMap",value:function(e,r,n,a,i,s){var o=new lh(this.ctx);o.animateRect(e,{x:r+a/2,y:n+i/2,width:0,height:0},{x:r,y:n,width:a,height:i},s,function(){o.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,r,n,a){e.attr({fill:r}).animate(a).attr({fill:n})}}]),t}(),TW=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"drawYAxisTexts",value:function(e,r,n,a){var i=this.w,s=i.config.yaxis[0],o=i.globals.yLabelFormatters[0];return new ce(this.ctx).drawText({x:e+s.labels.offsetX,y:r+s.labels.offsetY,text:o(a,n),textAnchor:"middle",fontSize:s.labels.style.fontSize,fontFamily:s.labels.style.fontFamily,foreColor:Array.isArray(s.labels.style.colors)?s.labels.style.colors[n]:s.labels.style.colors})}}]),t}(),MW=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=Math.min(r.globals.gridWidth,r.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=r.globals.gridWidth/2,r.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(r.config.plotOptions.pie.endAngle-r.config.plotOptions.pie.startAngle),this.initialAngle=r.config.plotOptions.pie.startAngle%this.fullAngle,r.globals.radialSize=this.defaultSize/2.05-r.config.stroke.width-(r.config.chart.sparkline.enabled?0:r.config.chart.dropShadow.blur),this.donutSize=r.globals.radialSize*parseInt(r.config.plotOptions.pie.donut.size,10)/100;var n=r.config.plotOptions.pie.customScale,a=r.globals.gridWidth/2,i=r.globals.gridHeight/2;this.translateX=a-a*n,this.translateY=i-i*n,this.dataLabelsGroup=new ce(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Ae(t,[{key:"draw",value:function(e){var r=this,n=this.w,a=new ce(this.ctx),i=a.group({class:"apexcharts-pie"});if(n.globals.noData)return i;for(var s=0,o=0;o<e.length;o++)s+=U.negToZero(e[o]);var l=[],u=a.group();s===0&&(s=1e-5),e.forEach(function(b){r.maxY=Math.max(r.maxY,b)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),n.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(i);for(var d=0;d<e.length;d++){var h=this.fullAngle*U.negToZero(e[d])/s;l.push(h),this.chartType==="polarArea"?(l[d]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[d]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var f,p=0,g=0;g<n.globals.previousPaths.length;g++)p+=U.negToZero(n.globals.previousPaths[g]);for(var m=0;m<n.globals.previousPaths.length;m++)f=this.fullAngle*U.negToZero(n.globals.previousPaths[m])/p,this.prevSectorAngleArr.push(f)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var v=a.drawCircle(this.donutSize);v.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),u.add(v)}var x=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(b){x.add(b)}),u.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),u.add(x),i.add(u),this.donutDataLabels.show){var y=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});i.add(y)}return n.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(i),i}},{key:"drawArcs",value:function(e,r){var n=this.w,a=new Fr(this.ctx),i=new ce(this.ctx),s=new ui(this.ctx),o=i.group({class:"apexcharts-slices"}),l=this.initialAngle,u=this.initialAngle,d=this.initialAngle,h=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var f=0;f<e.length;f++){var p=i.group({class:"apexcharts-series apexcharts-pie-series",seriesName:U.escapeString(n.globals.seriesNames[f]),rel:f+1,"data:realIndex":f});o.add(p),u=h,d=(l=d)+e[f],h=u+this.prevSectorAngleArr[f];var g=d<l?this.fullAngle+d-l:d-l,m=s.fillPath({seriesNumber:f,size:this.sliceSizes[f],value:r[f]}),v=this.getChangedPath(u,h),x=i.drawPath({d:v,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[f]:this.lineColorArr,strokeWidth:0,fill:m,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(f)});if(x.attr({index:0,j:f}),a.setSelectionFilter(x,0,f),n.config.chart.dropShadow.enabled){var y=n.config.chart.dropShadow;a.dropShadow(x,y,f)}this.addListeners(x,this.donutDataLabels),ce.setAttrs(x.node,{"data:angle":g,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":r[f]});var b={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?b=U.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(l+g/2)%this.fullAngle):this.chartType==="donut"&&(b=U.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(l+g/2)%this.fullAngle)),p.add(x);var w=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):((w=g/this.fullAngle*n.config.chart.animations.speed)===0&&(w=1),this.animDur=w+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(x,{size:this.sliceSizes[f],endAngle:d,startAngle:l,prevStartAngle:u,prevEndAngle:h,animateStartingPos:!0,i:f,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(x,{size:this.sliceSizes[f],endAngle:d,startAngle:l,i:f,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:w}),n.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&x.node.addEventListener("mouseup",this.pieClicked.bind(this,f)),n.globals.selectedDataPoints[0]!==void 0&&n.globals.selectedDataPoints[0].indexOf(f)>-1&&this.pieClicked(f),n.config.dataLabels.enabled){var S=b.x,k=b.y,C=100*g/this.fullAngle+"%";if(g!==0&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[f]){var A=n.config.dataLabels.formatter;A!==void 0&&(C=A(n.globals.seriesPercent[f][0],{seriesIndex:f,w:n}));var N=n.globals.dataLabels.style.colors[f],P=i.group({class:"apexcharts-datalabels"}),E=i.drawText({x:S,y:k,text:C,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:N});if(P.add(E),n.config.dataLabels.dropShadow.enabled){var O=n.config.dataLabels.dropShadow;a.dropShadow(E,O)}E.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&n.globals.resized===!1&&(E.node.classList.add("apexcharts-pie-label-delay"),E.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(P)}}}return o}},{key:"addListeners",value:function(e,r){var n=new ce(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,r)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,r)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,r)))}},{key:"animatePaths",value:function(e,r){var n=this.w,a=r.endAngle<r.startAngle?this.fullAngle+r.endAngle-r.startAngle:r.endAngle-r.startAngle,i=a,s=r.startAngle,o=r.startAngle;r.prevStartAngle!==void 0&&r.prevEndAngle!==void 0&&(s=r.prevEndAngle,i=r.prevEndAngle<r.prevStartAngle?this.fullAngle+r.prevEndAngle-r.prevStartAngle:r.prevEndAngle-r.prevStartAngle),r.i===n.config.series.length-1&&(a+o>this.fullAngle?r.endAngle=r.endAngle-(a+o):a+o<this.fullAngle&&(r.endAngle=r.endAngle+(this.fullAngle-(a+o)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(e,s,o,a,i,r)}},{key:"animateArc",value:function(e,r,n,a,i,s){var o,l=this,u=this.w,d=new lh(this.ctx),h=s.size;(isNaN(r)||isNaN(i))&&(r=n,i=a,s.dur=0);var f=a,p=n,g=r<n?this.fullAngle+r-n:r-n;u.globals.dataChanged&&s.shouldSetPrevPaths&&s.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:s.prevStartAngle,angle:s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle,size:h}),e.attr({d:o})),s.dur!==0?e.animate(s.dur,s.animBeginArr[s.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(u.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),s.i===u.config.series.length-1&&d.animationCompleted(e)}).during(function(m){f=g+(a-g)*m,s.animateStartingPos&&(f=i+(a-i)*m,p=r-i+(n-(r-i))*m),o=l.getPiePath({me:l,startAngle:p,angle:f,size:h}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})}):(o=l.getPiePath({me:l,startAngle:p,angle:a,size:h}),s.isTrack||(u.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var r,n=this.w,a=this,i=a.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),s=n.globals.dom.Paper.findOne(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(e));if(s.attr("data:pieClicked")!=="true"){var o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(h){h.setAttribute("data:pieClicked","false");var f=h.getAttribute("data:pathOrig");f&&h.setAttribute("d",f)}),n.globals.capturedDataPointIndex=e,s.attr("data:pieClicked","true");var l=parseInt(s.attr("data:startAngle"),10),u=parseInt(s.attr("data:angle"),10);r=a.getPiePath({me:a,startAngle:l,angle:u,size:i}),u!==360&&s.plot(r)}else{s.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(s.node,this.donutDataLabels);var d=s.attr("data:pathOrig");s.attr({d})}}},{key:"getChangedPath",value:function(e,r){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:r-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var r,n=e.me,a=e.startAngle,i=e.angle,s=e.size,o=new ce(this.ctx),l=a,u=Math.PI*(l-90)/180,d=i+a;Math.ceil(d)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(d=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(d)>this.fullAngle&&(d-=this.fullAngle);var h=Math.PI*(d-90)/180,f=n.centerX+s*Math.cos(u),p=n.centerY+s*Math.sin(u),g=n.centerX+s*Math.cos(h),m=n.centerY+s*Math.sin(h),v=U.polarToCartesian(n.centerX,n.centerY,n.donutSize,d),x=U.polarToCartesian(n.centerX,n.centerY,n.donutSize,l),y=i>180?1:0,b=["M",f,p,"A",s,s,0,y,1,g,m];return r=n.chartType==="donut"?[].concat(b,["L",v.x,v.y,"A",n.donutSize,n.donutSize,0,y,0,x.x,x.y,"L",f,p,"z"]).join(" "):n.chartType==="pie"||n.chartType==="polarArea"?[].concat(b,["L",n.centerX,n.centerY,"L",f,p]).join(" "):[].concat(b).join(" "),o.roundPathCorners(r,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var r=this.w,n=new kW(this.ctx),a=new ce(this.ctx),i=new TW(this.ctx),s=a.group(),o=a.group(),l=n.niceScale(0,Math.ceil(this.maxY),0),u=l.result.reverse(),d=l.result.length;this.maxY=l.niceMax;for(var h=r.globals.radialSize,f=h/(d-1),p=0;p<d-1;p++){var g=a.drawCircle(h);if(g.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":r.config.plotOptions.polarArea.rings.strokeWidth,stroke:r.config.plotOptions.polarArea.rings.strokeColor}),r.config.yaxis[0].show){var m=i.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(r.config.yaxis[0].labels.style.fontSize,10)/2,p,u[p]);o.add(m)}s.add(g),h-=f}this.drawSpokes(e),e.add(s),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,r,n){var a=this.w,i=new ce(this.ctx),s=r.total.show;e.node.innerHTML="",e.node.style.opacity=n.opacity;var o,l,u=n.centerX,d=this.donutDataLabels.total.label?n.centerY:n.centerY-n.centerY/6;o=r.name.color===void 0?a.globals.colors[0]:r.name.color;var h=r.name.fontSize,f=r.name.fontFamily,p=r.name.fontWeight;l=r.value.color===void 0?a.config.chart.foreColor:r.value.color;var g=r.value.formatter,m="",v="";if(s?(o=r.total.color,h=r.total.fontSize,f=r.total.fontFamily,p=r.total.fontWeight,v=this.donutDataLabels.total.label?r.total.label:"",m=r.total.formatter(a)):a.globals.series.length===1&&(m=g(a.globals.series[0],a),v=a.globals.seriesNames[0]),v&&(v=r.name.formatter(v,r.total.show,a)),r.name.show){var x=i.drawText({x:u,y:d+parseFloat(r.name.offsetY),text:v,textAnchor:"middle",foreColor:o,fontSize:h,fontWeight:p,fontFamily:f});x.node.classList.add("apexcharts-datalabel-label"),e.add(x)}if(r.value.show){var y=r.name.show?parseFloat(r.value.offsetY)+16:r.value.offsetY,b=i.drawText({x:u,y:d+y,text:m,textAnchor:"middle",foreColor:l,fontWeight:r.value.fontWeight,fontSize:r.value.fontSize,fontFamily:r.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),e.add(b)}return e}},{key:"printInnerLabels",value:function(e,r,n,a){var i,s=this.w;a?i=e.name.color===void 0?s.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:e.name.color:s.globals.series.length>1&&e.total.show&&(i=e.total.color);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,s),a||typeof e.total.formatter!="function"||(n=e.total.formatter(s));var u=r===e.total.label;r=this.donutDataLabels.total.label?e.name.formatter(r,u,s):"",o!==null&&(o.textContent=r),l!==null&&(l.textContent=n),o!==null&&(o.style.fill=i)}},{key:"printDataLabelsInner",value:function(e,r){var n=this.w,a=e.getAttribute("data:value"),i=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(r,i,a,e);var s=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");s!==null&&(s.style.opacity=1)}},{key:"drawSpokes",value:function(e){var r=this,n=this.w,a=new ce(this.ctx),i=n.config.plotOptions.polarArea.spokes;if(i.strokeWidth!==0){for(var s=[],o=360/n.globals.series.length,l=0;l<n.globals.series.length;l++)s.push(U.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+o*l));s.forEach(function(u,d){var h=a.drawLine(u.x,u.y,r.centerX,r.centerY,Array.isArray(i.connectorColors)?i.connectorColors[d]:i.connectorColors);e.add(h)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var r=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),n=this.renderInnerDataLabels(r,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(n)}}}]),t}(),Nse=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var r=this.w;this.graphics=new ce(this.ctx),this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=r.globals.svgHeight<r.globals.svgWidth?r.globals.gridHeight:r.globals.gridWidth,this.isLog=r.config.yaxis[0].logarithmic,this.logBase=r.config.yaxis[0].logBase,this.coreUtils=new ir(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,r.globals.maxY,0):r.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):r.globals.minY,this.polygons=r.config.plotOptions.radar.polygons,this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-r.config.chart.dropShadow.blur,r.config.xaxis.labels.show&&(this.size=this.size-r.globals.xAxisLabelsWidth/1.75),r.config.plotOptions.radar.size!==void 0&&(this.size=r.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Ae(t,[{key:"draw",value:function(e){var r=this,n=this.w,a=new ui(this.ctx),i=[],s=new cd(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=n.globals.gridWidth/2,l=n.globals.gridHeight/2,u=o+n.config.plotOptions.radar.offsetX,d=l+n.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(u||0,", ").concat(d||0,")")}),f=[],p=null,g=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(v,x){var y=v.length===n.globals.dataPoints,b=r.graphics.group().attr({class:"apexcharts-series","data:longestSeries":y,seriesName:U.escapeString(n.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});r.dataRadiusOfPercent[x]=[],r.dataRadius[x]=[],r.angleArr[x]=[],v.forEach(function(T,M){var L=Math.abs(r.maxValue-r.minValue);T-=r.minValue,r.isLog&&(T=r.coreUtils.getLogVal(r.logBase,T,0)),r.dataRadiusOfPercent[x][M]=T/L,r.dataRadius[x][M]=r.dataRadiusOfPercent[x][M]*r.size,r.angleArr[x][M]=M*r.disAngle}),f=r.getDataPointsPos(r.dataRadius[x],r.angleArr[x]);var w=r.createPaths(f,{x:0,y:0});p=r.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),g=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":x}),n.globals.delayedElements.push({el:p.node,index:x});var S={i:x,realIndex:x,animationDelay:x,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[x],strokeLineCap:n.config.stroke.lineCap},k=null;n.globals.previousPaths.length>0&&(k=r.getPreviousPath(x));for(var C=0;C<w.linePathsTo.length;C++){var A=r.graphics.renderPaths(ye(ye({},S),{},{pathFrom:k===null?w.linePathsFrom[C]:k,pathTo:w.linePathsTo[C],strokeWidth:Array.isArray(r.strokeWidth)?r.strokeWidth[x]:r.strokeWidth,fill:"none",drawShadow:!1}));b.add(A);var N=a.fillPath({seriesNumber:x}),P=r.graphics.renderPaths(ye(ye({},S),{},{pathFrom:k===null?w.areaPathsFrom[C]:k,pathTo:w.areaPathsTo[C],strokeWidth:0,fill:N,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var E=new Fr(r.ctx),O=n.config.chart.dropShadow;E.dropShadow(P,Object.assign({},O,{noUserSpaceOnUse:!0}),x)}b.add(P)}v.forEach(function(T,M){var L=new hh(r.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:x,dataPointIndex:M}),I=r.graphics.drawMarker(f[M].x,f[M].y,L);I.attr("rel",M),I.attr("j",M),I.attr("index",x),I.node.setAttribute("default-marker-size",L.pSize);var D=r.graphics.group({class:"apexcharts-series-markers"});D&&D.add(I),p.add(D),b.add(p);var R=n.config.dataLabels;if(R.enabled){var F=R.formatter(n.globals.series[x][M],{seriesIndex:x,dataPointIndex:M,w:n});s.plotDataLabelsText({x:f[M].x,y:f[M].y,text:F,textAnchor:"middle",i:x,j:x,parent:g,offsetCorrection:!1,dataLabelsConfig:ye({},R)})}b.add(g)}),i.push(b)}),this.drawPolygons({parent:h}),n.config.xaxis.labels.show){var m=this.drawXAxisTexts();h.add(m)}return i.forEach(function(v){h.add(v)}),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var r=this,n=this.w,a=e.parent,i=new TW(this.ctx),s=n.globals.yAxisScale[0].result.reverse(),o=s.length,l=[],u=this.size/(o-1),d=0;d<o;d++)l[d]=u*d;l.reverse();var h=[],f=[];l.forEach(function(p,g){var m=U.getPolygonPos(p,r.dataPointsLen),v="";m.forEach(function(x,y){if(g===0){var b=r.graphics.drawLine(x.x,x.y,0,0,Array.isArray(r.polygons.connectorColors)?r.polygons.connectorColors[y]:r.polygons.connectorColors);f.push(b)}y===0&&r.yaxisLabelsTextsPos.push({x:x.x,y:x.y}),v+=x.x+","+x.y+" "}),h.push(v)}),h.forEach(function(p,g){var m=r.polygons.strokeColors,v=r.polygons.strokeWidth,x=r.graphics.drawPolygon(p,Array.isArray(m)?m[g]:m,Array.isArray(v)?v[g]:v,n.globals.radarPolygons.fill.colors[g]);a.add(x)}),f.forEach(function(p){a.add(p)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(p,g){var m=i.drawYAxisTexts(p.x,p.y,g,s[g]);r.yaxisLabels.add(m)})}},{key:"drawXAxisTexts",value:function(){var e=this,r=this.w,n=r.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),i=U.getPolygonPos(this.size,this.dataPointsLen);return r.globals.labels.forEach(function(s,o){var l=r.config.xaxis.labels.formatter,u=new cd(e.ctx);if(i[o]){var d=e.getTextPos(i[o],e.size),h=l(s,{seriesIndex:-1,dataPointIndex:o,w:r});u.plotDataLabelsText({x:d.newX,y:d.newY,text:h,textAnchor:d.textAnchor,i:o,j:o,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(n.style.colors)&&n.style.colors[o]?n.style.colors[o]:"#a8a8a8",dataLabelsConfig:ye({textAnchor:d.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1}).on("click",function(f){if(typeof r.config.chart.events.xAxisLabelClick=="function"){var p=Object.assign({},r,{labelIndex:o});r.config.chart.events.xAxisLabelClick(f,e.ctx,p)}})}}),a}},{key:"createPaths",value:function(e,r){var n=this,a=[],i=[],s=[],o=[];if(e.length){i=[this.graphics.move(r.x,r.y)],o=[this.graphics.move(r.x,r.y)];var l=this.graphics.move(e[0].x,e[0].y),u=this.graphics.move(e[0].x,e[0].y);e.forEach(function(d,h){l+=n.graphics.line(d.x,d.y),u+=n.graphics.line(d.x,d.y),h===e.length-1&&(l+="Z",u+="Z")}),a.push(l),s.push(u)}return{linePathsFrom:i,linePathsTo:a,areaPathsFrom:o,areaPathsTo:s}}},{key:"getTextPos",value:function(e,r){var n="middle",a=e.x,i=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",a+=10):e.x<0&&(n="end",a-=10):n="middle",Math.abs(e.y)>=r-10&&(e.y<0?i-=10:e.y>0&&(i+=10)),{textAnchor:n,newX:a,newY:i}}},{key:"getPreviousPath",value:function(e){for(var r=this.w,n=null,a=0;a<r.globals.previousPaths.length;a++){var i=r.globals.previousPaths[a];i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&r.globals.previousPaths[a].paths[0]!==void 0&&(n=r.globals.previousPaths[a].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],r=r||[];for(var a=[],i=0;i<n;i++){var s={};s.x=e[i]*Math.sin(r[i]),s.y=-e[i]*Math.cos(r[i]),a.push(s)}return a}}]),t}(),Pse=function(t){Om(r,MW);var e=Em(r);function r(n){var a;ke(this,r),(a=e.call(this,n)).ctx=n,a.w=n.w,a.animBeginArr=[0],a.animDur=0;var i=a.w;return a.startAngle=i.config.plotOptions.radialBar.startAngle,a.endAngle=i.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(i.config.plotOptions.radialBar.endAngle-i.config.plotOptions.radialBar.startAngle),a.trackStartAngle=i.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=i.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),a.endAngle===360&&(a.endAngle=359.99),a.margin=parseInt(i.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(YB(a)),a}return Ae(r,[{key:"draw",value:function(n){var a=this.w,i=new ce(this.ctx),s=i.group({class:"apexcharts-radialbar"});if(a.globals.noData)return s;var o=i.group(),l=this.defaultSize/2,u=a.globals.gridWidth/2,d=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(d=d-a.config.stroke.width-a.config.chart.dropShadow.blur);var h=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var f=this.drawTracks({size:d,centerX:u,centerY:l,colorArr:h,series:n});o.add(f)}var p=this.drawArcs({size:d,centerX:u,centerY:l,colorArr:h,series:n}),g=360;a.config.plotOptions.radialBar.startAngle<0&&(g=this.totalAngle);var m=(360-g)/360;if(a.globals.radialSize=d-d*m,this.radialDataLabels.value.show){var v=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=v*m}return o.add(p.g),a.config.plotOptions.radialBar.hollow.position==="front"&&(p.g.add(p.elHollow),p.dataLabels&&p.g.add(p.dataLabels)),s.add(o),s}},{key:"drawTracks",value:function(n){var a=this.w,i=new ce(this.ctx),s=i.group({class:"apexcharts-tracks"}),o=new Fr(this.ctx),l=new ui(this.ctx),u=this.getStrokeWidth(n);n.size=n.size-u/2;for(var d=0;d<n.series.length;d++){var h=i.group({class:"apexcharts-radialbar-track apexcharts-track"});s.add(h),h.attr({rel:d+1}),n.size=n.size-u-this.margin;var f=a.config.plotOptions.radialBar.track,p=l.fillPath({seriesNumber:0,size:n.size,fillColors:Array.isArray(f.background)?f.background[d]:f.background,solid:!0}),g=this.trackStartAngle,m=this.trackEndAngle;Math.abs(m)+Math.abs(g)>=360&&(m=360-Math.abs(this.startAngle)-.1);var v=i.drawPath({d:"",stroke:p,strokeWidth:u*parseInt(f.strokeWidth,10)/100,fill:"none",strokeOpacity:f.opacity,classes:"apexcharts-radialbar-area"});if(f.dropShadow.enabled){var x=f.dropShadow;o.dropShadow(v,x)}h.add(v),v.attr("id","apexcharts-radialbarTrack-"+d),this.animatePaths(v,{centerX:n.centerX,centerY:n.centerY,endAngle:m,startAngle:g,size:n.size,i:d,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return s}},{key:"drawArcs",value:function(n){var a=this.w,i=new ce(this.ctx),s=new ui(this.ctx),o=new Fr(this.ctx),l=i.group(),u=this.getStrokeWidth(n);n.size=n.size-u/2;var d=a.config.plotOptions.radialBar.hollow.background,h=n.size-u*n.series.length-this.margin*n.series.length-u*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,f=h-a.config.plotOptions.radialBar.hollow.margin;a.config.plotOptions.radialBar.hollow.image!==void 0&&(d=this.drawHollowImage(n,l,h,d));var p=this.drawHollow({size:f,centerX:n.centerX,centerY:n.centerY,fill:d||"transparent"});if(a.config.plotOptions.radialBar.hollow.dropShadow.enabled){var g=a.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(p,g)}var m=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(m=0);var v=null;if(this.radialDataLabels.show){var x=a.globals.dom.Paper.findOne(".apexcharts-datalabels-group");v=this.renderInnerDataLabels(x,this.radialDataLabels,{hollowSize:h,centerX:n.centerX,centerY:n.centerY,opacity:m})}a.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(p),v&&l.add(v));var y=!1;a.config.plotOptions.radialBar.inverseOrder&&(y=!0);for(var b=y?n.series.length-1:0;y?b>=0:b<n.series.length;y?b--:b++){var w=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:U.escapeString(a.globals.seriesNames[b])});l.add(w),w.attr({rel:b+1,"data:realIndex":b}),this.ctx.series.addCollapsedClassToSeries(w,b),n.size=n.size-u-this.margin;var S=s.fillPath({seriesNumber:b,size:n.size,value:n.series[b]}),k=this.startAngle,C=void 0,A=U.negToZero(n.series[b]>100?100:n.series[b])/100,N=Math.round(this.totalAngle*A)+this.startAngle,P=void 0;a.globals.dataChanged&&(C=this.startAngle,P=Math.round(this.totalAngle*U.negToZero(a.globals.previousPaths[b])/100)+C),Math.abs(N)+Math.abs(k)>360&&(N-=.01),Math.abs(P)+Math.abs(C)>360&&(P-=.01);var E=N-k,O=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[b]:a.config.stroke.dashArray,T=i.drawPath({d:"",stroke:S,strokeWidth:u,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+b,strokeDashArray:O});if(ce.setAttrs(T.node,{"data:angle":E,"data:value":n.series[b]}),a.config.chart.dropShadow.enabled){var M=a.config.chart.dropShadow;o.dropShadow(T,M,b)}if(o.setSelectionFilter(T,0,b),this.addListeners(T,this.radialDataLabels),w.add(T),T.attr({index:0,j:b}),this.barLabels.enabled){var L=U.polarToCartesian(n.centerX,n.centerY,n.size,k),I=this.barLabels.formatter(a.globals.seriesNames[b],{seriesIndex:b,w:a}),D=["apexcharts-radialbar-label"];this.barLabels.onClick||D.push("apexcharts-no-click");var R=this.barLabels.useSeriesColors?a.globals.colors[b]:a.config.chart.foreColor;R||(R=a.config.chart.foreColor);var F=L.x+this.barLabels.offsetX,z=L.y+this.barLabels.offsetY,B=i.drawText({x:F,y:z,text:I,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:R,cssClass:D.join(" ")});B.on("click",this.onBarLabelClick),B.attr({rel:b+1}),k!==0&&B.attr({"transform-origin":"".concat(F," ").concat(z),transform:"rotate(".concat(k," 0 0)")}),w.add(B)}var q=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(q=a.config.chart.animations.speed),a.globals.dataChanged&&(q=a.config.chart.animations.dynamicAnimation.speed),this.animDur=q/(1.2*n.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(T,{centerX:n.centerX,centerY:n.centerY,endAngle:N,startAngle:k,prevEndAngle:P,prevStartAngle:C,size:n.size,i:b,totalItems:2,animBeginArr:this.animBeginArr,dur:q,shouldSetPrevPaths:!0})}return{g:l,elHollow:p,dataLabels:v}}},{key:"drawHollow",value:function(n){var a=new ce(this.ctx).drawCircle(2*n.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:n.centerX,cy:n.centerY,r:n.size,fill:n.fill}),a}},{key:"drawHollowImage",value:function(n,a,i,s){var o=this.w,l=new ui(this.ctx),u=U.randomId(),d=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:i,height:i,image:d,patternID:"pattern".concat(o.globals.cuid).concat(u)}),s="url(#pattern".concat(o.globals.cuid).concat(u,")");else{var h=o.config.plotOptions.radialBar.hollow.imageWidth,f=o.config.plotOptions.radialBar.hollow.imageHeight;if(h===void 0&&f===void 0){var p=o.globals.dom.Paper.image(d,function(m){this.move(n.centerX-m.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-m.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});a.add(p)}else{var g=o.globals.dom.Paper.image(d,function(m){this.move(n.centerX-h/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-f/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(h,f)});a.add(g)}}return s}},{key:"getStrokeWidth",value:function(n){var a=this.w;return n.size*(100-parseInt(a.config.plotOptions.radialBar.hollow.size,10))/100/(n.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(n){var a=parseInt(n.target.getAttribute("rel"),10)-1,i=this.barLabels.onClick,s=this.w;i&&i(s.globals.seriesNames[a],{w:s,seriesIndex:a})}}]),r}(),Ese=function(t){Om(r,ud);var e=Em(r);function r(){return ke(this,r),e.apply(this,arguments)}return Ae(r,[{key:"draw",value:function(n,a){var i=this.w,s=new ce(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=n,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(n);for(var o=s.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<n.length;l++){var u,d,h,f,p=void 0,g=void 0,m=i.globals.comboCharts?a[l]:l,v=this.barHelpers.getGroupIndex(m).columnGroupIndex,x=s.group({class:"apexcharts-series",seriesName:U.escapeString(i.globals.seriesNames[m]),rel:l+1,"data:realIndex":m});this.ctx.series.addCollapsedClassToSeries(x,m),n[l].length>0&&(this.visibleI=this.visibleI+1);var y=0,b=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[m][0],w=m);var S=this.barHelpers.initialPositions(m);g=S.y,f=S.zeroW,p=S.x,b=S.barWidth,y=S.barHeight,u=S.xDivision,d=S.yDivision,h=S.zeroH;for(var k=s.group({class:"apexcharts-datalabels","data:realIndex":m}),C=s.group({class:"apexcharts-rangebar-goals-markers"}),A=0;A<i.globals.dataPoints;A++){var N=this.barHelpers.getStrokeWidth(l,A,m),P=this.seriesRangeStart[l][A],E=this.seriesRangeEnd[l][A],O=null,T=null,M=null,L={x:p,y:g,strokeWidth:N,elSeries:x},I=this.seriesLen;if(i.config.plotOptions.bar.rangeBarGroupRows&&(I=1),i.config.series[l].data[A]===void 0)break;if(this.isHorizontal){M=g+y*this.visibleI;var D=(d-y*I)/2;if(i.config.series[l].data[A].x){var R=this.detectOverlappingBars({i:l,j:A,barYPosition:M,srty:D,barHeight:y,yDivision:d,initPositions:S});y=R.barHeight,M=R.barYPosition}b=(O=this.drawRangeBarPaths(ye({indexes:{i:l,j:A,realIndex:m},barHeight:y,barYPosition:M,zeroW:f,yDivision:d,y1:P,y2:E},L))).barWidth}else{i.globals.isXNumeric&&(p=(i.globals.seriesX[l][A]-i.globals.minX)/this.xRatio-b/2),T=p+b*this.visibleI;var F=(u-b*I)/2;if(i.config.series[l].data[A].x){var z=this.detectOverlappingBars({i:l,j:A,barXPosition:T,srtx:F,barWidth:b,xDivision:u,initPositions:S});b=z.barWidth,T=z.barXPosition}y=(O=this.drawRangeColumnPaths(ye({indexes:{i:l,j:A,realIndex:m,translationsIndex:w},barWidth:b,barXPosition:T,zeroH:h,xDivision:u},L))).barHeight}var B=this.barHelpers.drawGoalLine({barXPosition:O.barXPosition,barYPosition:M,goalX:O.goalX,goalY:O.goalY,barHeight:y,barWidth:b});B&&C.add(B),g=O.y,p=O.x;var q=this.barHelpers.getPathFillColor(n,l,A,m);this.renderSeries({realIndex:m,pathFill:q.color,lineFill:q.useRangeColor?q.color:i.globals.stroke.colors[m],j:A,i:l,x:p,y:g,y1:P,y2:E,pathFrom:O.pathFrom,pathTo:O.pathTo,strokeWidth:N,elSeries:x,series:n,barHeight:y,barWidth:b,barXPosition:T,barYPosition:M,columnGroupIndex:v,elDataLabelsWrap:k,elGoalsMarkers:C,visibleSeries:this.visibleI,type:"rangebar"})}o.add(x)}return o}},{key:"detectOverlappingBars",value:function(n){var a=n.i,i=n.j,s=n.barYPosition,o=n.barXPosition,l=n.srty,u=n.srtx,d=n.barHeight,h=n.barWidth,f=n.yDivision,p=n.xDivision,g=n.initPositions,m=this.w,v=[],x=m.config.series[a].data[i].rangeName,y=m.config.series[a].data[i].x,b=Array.isArray(y)?y.join(" "):y,w=m.globals.labels.map(function(k){return Array.isArray(k)?k.join(" "):k}).indexOf(b),S=m.globals.seriesRange[a].findIndex(function(k){return k.x===b&&k.overlaps.length>0});return this.isHorizontal?(s=m.config.plotOptions.bar.rangeBarGroupRows?l+f*w:l+d*this.visibleI+f*w,S>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(v=m.globals.seriesRange[a][S].overlaps).indexOf(x)>-1&&(s=(d=g.barHeight/v.length)*this.visibleI+f*(100-parseInt(this.barOptions.barHeight,10))/100/2+d*(this.visibleI+v.indexOf(x))+f*w)):(w>-1&&!m.globals.timescaleLabels.length&&(o=m.config.plotOptions.bar.rangeBarGroupRows?u+p*w:u+h*this.visibleI+p*w),S>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(v=m.globals.seriesRange[a][S].overlaps).indexOf(x)>-1&&(o=(h=g.barWidth/v.length)*this.visibleI+p*(100-parseInt(this.barOptions.barWidth,10))/100/2+h*(this.visibleI+v.indexOf(x))+p*w)),{barYPosition:s,barXPosition:o,barHeight:d,barWidth:h}}},{key:"drawRangeColumnPaths",value:function(n){var a=n.indexes,i=n.x,s=n.xDivision,o=n.barWidth,l=n.barXPosition,u=n.zeroH,d=this.w,h=a.i,f=a.j,p=a.realIndex,g=a.translationsIndex,m=this.yRatio[g],v=this.getRangeValue(p,f),x=Math.min(v.start,v.end),y=Math.max(v.start,v.end);this.series[h][f]===void 0||this.series[h][f]===null?x=u:(x=u-x/m,y=u-y/m);var b=Math.abs(y-x),w=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:o,y1:x,y2:y,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:p,i:p,j:f,w:d});if(d.globals.isXNumeric){var S=this.getBarXForNumericXAxis({x:i,j:f,realIndex:p,barWidth:o});i=S.x,l=S.barXPosition}else i+=s;return{pathTo:w.pathTo,pathFrom:w.pathFrom,barHeight:b,x:i,y:v.start<0&&v.end<0?x:y,goalY:this.barHelpers.getGoalValues("y",null,u,h,f,g),barXPosition:l}}},{key:"preventBarOverflow",value:function(n){var a=this.w;return n<0&&(n=0),n>a.globals.gridWidth&&(n=a.globals.gridWidth),n}},{key:"drawRangeBarPaths",value:function(n){var a=n.indexes,i=n.y,s=n.y1,o=n.y2,l=n.yDivision,u=n.barHeight,d=n.barYPosition,h=n.zeroW,f=this.w,p=a.realIndex,g=a.j,m=this.preventBarOverflow(h+s/this.invertedYRatio),v=this.preventBarOverflow(h+o/this.invertedYRatio),x=this.getRangeValue(p,g),y=Math.abs(v-m),b=this.barHelpers.getBarpaths({barYPosition:d,barHeight:u,x1:m,x2:v,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:p,realIndex:p,j:g,w:f});return f.globals.isXNumeric||(i+=l),{pathTo:b.pathTo,pathFrom:b.pathFrom,barWidth:y,x:x.start<0&&x.end<0?m:v,goalX:this.barHelpers.getGoalValues("x",h,null,p,g),y:i}}},{key:"getRangeValue",value:function(n,a){var i=this.w;return{start:i.globals.seriesRangeStart[n][a],end:i.globals.seriesRangeEnd[n][a]}}}]),r}(),Ose=function(){function t(e){ke(this,t),this.w=e.w,this.lineCtx=e}return Ae(t,[{key:"sameValueSeriesFix",value:function(e,r){var n=this.w;if((n.config.fill.type==="gradient"||n.config.fill.type[e]==="gradient")&&new ir(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var a=r[e].slice();a[a.length-1]=a[a.length-1]+1e-6,r[e]=a}return r}},{key:"calculatePoints",value:function(e){var r=e.series,n=e.realIndex,a=e.x,i=e.y,s=e.i,o=e.j,l=e.prevY,u=this.w,d=[],h=[],f=this.lineCtx.categoryAxisCorrection+u.config.markers.offsetX;return u.globals.isXNumeric&&(f=(u.globals.seriesX[n][0]-u.globals.minX)/this.lineCtx.xRatio+u.config.markers.offsetX),o===0&&(d.push(f),h.push(U.isNumber(r[s][0])?l+u.config.markers.offsetY:null)),d.push(a+u.config.markers.offsetX),h.push(U.isNumber(r[s][o+1])?i+u.config.markers.offsetY:null),{x:d,y:h}}},{key:"checkPreviousPaths",value:function(e){for(var r=e.pathFromLine,n=e.pathFromArea,a=e.realIndex,i=this.w,s=0;s<i.globals.previousPaths.length;s++){var o=i.globals.previousPaths[s];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(a,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,r=i.globals.previousPaths[s].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,n=i.globals.previousPaths[s].paths[0].d,i.config.stroke.show&&i.globals.previousPaths[s].paths[1]&&(r=i.globals.previousPaths[s].paths[1].d)))}return{pathFromLine:r,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var r,n,a,i=e.i,s=e.realIndex,o=e.series,l=e.prevY,u=e.lineYPosition,d=e.translationsIndex,h=this.w,f=h.config.chart.stacked&&!h.globals.comboCharts||h.config.chart.stacked&&h.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((r=this.w.config.series[s])===null||r===void 0?void 0:r.type)==="bar"||((n=this.w.config.series[s])===null||n===void 0?void 0:n.type)==="column");if(((a=o[i])===null||a===void 0?void 0:a[0])!==void 0)l=(u=f&&i>0?this.lineCtx.prevSeriesY[i-1][0]:this.lineCtx.zeroY)-o[i][0]/this.lineCtx.yRatio[d]+2*(this.lineCtx.isReversed?o[i][0]/this.lineCtx.yRatio[d]:0);else if(f&&i>0&&o[i][0]===void 0){for(var p=i-1;p>=0;p--)if(o[p][0]!==null&&o[p][0]!==void 0){l=u=this.lineCtx.prevSeriesY[p][0];break}}return{prevY:l,lineYPosition:u}}}]),t}(),Tse=function(t){for(var e,r,n,a,i=function(d){for(var h=[],f=d[0],p=d[1],g=h[0]=e1(f,p),m=1,v=d.length-1;m<v;m++)f=p,p=d[m+1],h[m]=.5*(g+(g=e1(f,p)));return h[m]=g,h}(t),s=t.length-1,o=[],l=0;l<s;l++)n=e1(t[l],t[l+1]),Math.abs(n)<1e-6?i[l]=i[l+1]=0:(a=(e=i[l]/n)*e+(r=i[l+1]/n)*r)>9&&(a=3*n/Math.sqrt(a),i[l]=a*e,i[l+1]=a*r);for(var u=0;u<=s;u++)a=(t[Math.min(s,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+i[u]*i[u])),o.push([a||0,i[u]*a||0]);return o},Mse=function(t){var e=Tse(t),r=t[1],n=t[0],a=[],i=e[1],s=e[0];a.push(n,[n[0]+s[0],n[1]+s[1],r[0]-i[0],r[1]-i[1],r[0],r[1]]);for(var o=2,l=e.length;o<l;o++){var u=t[o],d=e[o];a.push([u[0]-d[0],u[1]-d[1],u[0],u[1]])}return a},Rse=function(t,e,r){var n=t.slice(e,r);if(e){if(r-e>1&&n[1].length<6){var a=n[0].length;n[1]=[2*n[0][a-2]-n[0][a-4],2*n[0][a-1]-n[0][a-3]].concat(n[1])}n[0]=n[0].slice(-2)}return n};function e1(t,e){return(e[1]-t[1])/(e[0]-t[0])}var t1=function(){function t(e,r,n){ke(this,t),this.ctx=e,this.w=e.w,this.xyRatios=r,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||n,this.scatter=new jW(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ose(this),this.markers=new hh(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Ae(t,[{key:"draw",value:function(e,r,n,a){var i,s=this.w,o=new ce(this.ctx),l=s.globals.comboCharts?r:s.config.chart.type,u=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),d=new ir(this.ctx,s);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=d.getLogSeries(e),this.yRatio=d.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var h=[],f=0;f<e.length;f++){e=this.lineHelpers.sameValueSeriesFix(f,e);var p=s.globals.comboCharts?n[f]:f,g=this.yRatio.length>1?p:0;this._initSerieVariables(e,f,p);var m=[],v=[],x=[],y=s.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,p),s.globals.isXNumeric&&s.globals.seriesX.length>0&&(y=(s.globals.seriesX[p][0]-s.globals.minX)/this.xRatio),x.push(y);var b,w=y,S=void 0,k=w,C=this.zeroY,A=this.zeroY;C=this.lineHelpers.determineFirstPrevY({i:f,realIndex:p,series:e,prevY:C,lineYPosition:0,translationsIndex:g}).prevY,s.config.stroke.curve==="monotoneCubic"&&e[f][0]===null?m.push(null):m.push(C),b=C,l==="rangeArea"&&(S=A=this.lineHelpers.determineFirstPrevY({i:f,realIndex:p,series:a,prevY:A,lineYPosition:0,translationsIndex:g}).prevY,v.push(m[0]!==null?A:null));var N=this._calculatePathsFrom({type:l,series:e,i:f,realIndex:p,translationsIndex:g,prevX:k,prevY:C,prevY2:A}),P=[m[0]],E=[v[0]],O={type:l,series:e,realIndex:p,translationsIndex:g,i:f,x:y,y:1,pX:w,pY:b,pathsFrom:N,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:x,yArrj:m,y2Arrj:v,seriesRangeEnd:a},T=this._iterateOverDataPoints(ye(ye({},O),{},{iterations:l==="rangeArea"?e[f].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var M=this._calculatePathsFrom({series:a,i:f,realIndex:p,prevX:k,prevY:A}),L=this._iterateOverDataPoints(ye(ye({},O),{},{series:a,xArrj:[y],yArrj:P,y2Arrj:E,pY:S,areaPaths:T.areaPaths,pathsFrom:M,iterations:a[f].length-1,isRangeStart:!1})),I=T.linePaths.length/2,D=0;D<I;D++)T.linePaths[D]=L.linePaths[D+I]+T.linePaths[D];T.linePaths.splice(I),T.pathFromLine=L.pathFromLine+T.pathFromLine}else T.pathFromArea+="z";this._handlePaths({type:l,realIndex:p,i:f,paths:T}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(((i=s.config.series[0])===null||i===void 0?void 0:i.zIndex)!==void 0&&h.sort(function(z,B){return Number(z.node.getAttribute("zIndex"))-Number(B.node.getAttribute("zIndex"))}),s.config.chart.stacked)for(var R=h.length-1;R>=0;R--)u.add(h[R]);else for(var F=0;F<h.length;F++)u.add(h[F]);return u}},{key:"_initSerieVariables",value:function(e,r,n){var a=this.w,i=new ce(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-(a.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[n]:a.config.stroke.width;var s=0;if(this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[n],s=n),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[s]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[s]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||a.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=i.group({class:"apexcharts-series",zIndex:a.config.series[n].zIndex!==void 0?a.config.series[n].zIndex:n,seriesName:U.escapeString(a.globals.seriesNames[n])}),this.elPointsMain=i.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),a.globals.hasNullValues){var o=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[a.globals.gridHeight+a.globals.markers.largestSize]},seriesIndex:r,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});o!==null&&this.elPointsMain.add(o)}this.elDataLabelsWrap=i.group({class:"apexcharts-datalabels","data:realIndex":n});var l=e[r].length===a.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:r+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var r,n,a,i,s=e.type,o=e.series,l=e.i,u=e.realIndex,d=e.translationsIndex,h=e.prevX,f=e.prevY,p=e.prevY2,g=this.w,m=new ce(this.ctx);if(o[l][0]===null){for(var v=0;v<o[l].length;v++)if(o[l][v]!==null){h=this.xDivision*v,f=this.zeroY-o[l][v]/this.yRatio[d],r=m.move(h,f),n=m.move(h,this.areaBottomY);break}}else r=m.move(h,f),s==="rangeArea"&&(r=m.move(h,p)+m.line(h,f)),n=m.move(h,this.areaBottomY)+m.line(h,f);if(a=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),i=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),g.globals.previousPaths.length>0){var x=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:i,realIndex:u});a=x.pathFromLine,i=x.pathFromArea}return{prevX:h,prevY:f,linePath:r,areaPath:n,pathFromLine:a,pathFromArea:i}}},{key:"_handlePaths",value:function(e){var r=e.type,n=e.realIndex,a=e.i,i=e.paths,s=this.w,o=new ce(this.ctx),l=new ui(this.ctx);this.prevSeriesY.push(i.yArrj),s.globals.seriesXvalues[n]=i.xArrj,s.globals.seriesYvalues[n]=i.yArrj;var u=s.config.forecastDataPoints;if(u.count>0&&r!=="rangeArea"){var d=s.globals.seriesXvalues[n][s.globals.seriesXvalues[n].length-u.count-1],h=o.drawRect(d,0,s.globals.gridWidth,s.globals.gridHeight,0);s.globals.dom.elForecastMask.appendChild(h.node);var f=o.drawRect(0,0,d,s.globals.gridHeight,0);s.globals.dom.elNonForecastMask.appendChild(f.node)}this.pointsChart||s.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var p={i:a,realIndex:n,animationDelay:a,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(r)};if(r==="area")for(var g=l.fillPath({seriesNumber:n}),m=0;m<i.areaPaths.length;m++){var v=o.renderPaths(ye(ye({},p),{},{pathFrom:i.pathFromArea,pathTo:i.areaPaths[m],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:g}));this.elSeries.add(v)}if(s.config.stroke.show&&!this.pointsChart){var x=null;if(r==="line")x=l.fillPath({seriesNumber:n,i:a});else if(s.config.stroke.fill.type==="solid")x=s.globals.stroke.colors[n];else{var y=s.config.fill;s.config.fill=s.config.stroke.fill,x=l.fillPath({seriesNumber:n,i:a}),s.config.fill=y}for(var b=0;b<i.linePaths.length;b++){var w=x;r==="rangeArea"&&(w=l.fillPath({seriesNumber:n}));var S=ye(ye({},p),{},{pathFrom:i.pathFromLine,pathTo:i.linePaths[b],stroke:x,strokeWidth:this.strokeWidth,strokeLineCap:s.config.stroke.lineCap,fill:r==="rangeArea"?w:"none"}),k=o.renderPaths(S);if(this.elSeries.add(k),k.attr("fill-rule","evenodd"),u.count>0&&r!=="rangeArea"){var C=o.renderPaths(S);C.node.setAttribute("stroke-dasharray",u.dashArray),u.strokeWidth&&C.node.setAttribute("stroke-width",u.strokeWidth),this.elSeries.add(C),C.attr("clip-path","url(#forecastMask".concat(s.globals.cuid,")")),k.attr("clip-path","url(#nonForecastMask".concat(s.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var r,n,a=this,i=e.type,s=e.series,o=e.iterations,l=e.realIndex,u=e.translationsIndex,d=e.i,h=e.x,f=e.y,p=e.pX,g=e.pY,m=e.pathsFrom,v=e.linePaths,x=e.areaPaths,y=e.seriesIndex,b=e.lineYPosition,w=e.xArrj,S=e.yArrj,k=e.y2Arrj,C=e.isRangeStart,A=e.seriesRangeEnd,N=this.w,P=new ce(this.ctx),E=this.yRatio,O=m.prevY,T=m.linePath,M=m.areaPath,L=m.pathFromLine,I=m.pathFromArea,D=U.isNumber(N.globals.minYArr[l])?N.globals.minYArr[l]:N.globals.minY;o||(o=N.globals.dataPoints>1?N.globals.dataPoints-1:N.globals.dataPoints);var R=function(G,Z){return Z-G/E[u]+2*(a.isReversed?G/E[u]:0)},F=f,z=N.config.chart.stacked&&!N.globals.comboCharts||N.config.chart.stacked&&N.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((r=this.w.config.series[l])===null||r===void 0?void 0:r.type)==="bar"||((n=this.w.config.series[l])===null||n===void 0?void 0:n.type)==="column"),B=N.config.stroke.curve;Array.isArray(B)&&(B=Array.isArray(y)?B[y[d]]:B[d]);for(var q,ie=0,ne=0;ne<o&&s[d].length!==0;ne++){var Ne=s[d][ne+1]===void 0||s[d][ne+1]===null;if(N.globals.isXNumeric){var fe=N.globals.seriesX[l][ne+1];N.globals.seriesX[l][ne+1]===void 0&&(fe=N.globals.seriesX[l][o-1]),h=(fe-N.globals.minX)/this.xRatio}else h+=this.xDivision;z?d>0&&N.globals.collapsedSeries.length<N.config.series.length-1?b=this.prevSeriesY[function(G){for(var Z=G;Z>0;Z--){if(!(N.globals.collapsedSeriesIndices.indexOf((y==null?void 0:y[Z])||Z)>-1))return Z;Z--}return 0}(d-1)][ne+1]:b=this.zeroY:b=this.zeroY,Ne?f=R(D,b):(f=R(s[d][ne+1],b),i==="rangeArea"&&(F=R(A[d][ne+1],b))),w.push(s[d][ne+1]===null?null:h),!Ne||N.config.stroke.curve!=="smooth"&&N.config.stroke.curve!=="monotoneCubic"?(S.push(f),k.push(F)):(S.push(null),k.push(null));var X=this.lineHelpers.calculatePoints({series:s,x:h,y:f,realIndex:l,i:d,j:ne,prevY:O}),ae=this._createPaths({type:i,series:s,i:d,realIndex:l,j:ne,x:h,y:f,y2:F,xArrj:w,yArrj:S,y2Arrj:k,pX:p,pY:g,pathState:ie,segmentStartX:q,linePath:T,areaPath:M,linePaths:v,areaPaths:x,curve:B,isRangeStart:C});x=ae.areaPaths,v=ae.linePaths,p=ae.pX,g=ae.pY,ie=ae.pathState,q=ae.segmentStartX,M=ae.areaPath,T=ae.linePath,!this.appendPathFrom||N.globals.hasNullValues||B==="monotoneCubic"&&i==="rangeArea"||(L+=P.line(h,this.areaBottomY),I+=P.line(h,this.areaBottomY)),this.handleNullDataPoints(s,X,d,ne,l),this._handleMarkersAndLabels({type:i,pointsPos:X,i:d,j:ne,realIndex:l,isRangeStart:C})}return{yArrj:S,xArrj:w,pathFromArea:I,areaPaths:x,pathFromLine:L,linePaths:v,linePath:T,areaPath:M}}},{key:"_handleMarkersAndLabels",value:function(e){var r=e.type,n=e.pointsPos,a=e.isRangeStart,i=e.i,s=e.j,o=e.realIndex,l=this.w,u=new cd(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,s,{realIndex:o,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[i].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var d=this.markers.plotChartMarkers({pointsPos:n,seriesIndex:o,j:s+1});d!==null&&this.elPointsMain.add(d)}var h=u.drawDataLabel({type:r,isRangeStart:a,pos:n,i:o,j:s+1});h!==null&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(e){var r=e.type,n=e.series,a=e.i;e.realIndex;var i,s=e.j,o=e.x,l=e.y,u=e.xArrj,d=e.yArrj,h=e.y2,f=e.y2Arrj,p=e.pX,g=e.pY,m=e.pathState,v=e.segmentStartX,x=e.linePath,y=e.areaPath,b=e.linePaths,w=e.areaPaths,S=e.curve,k=e.isRangeStart,C=new ce(this.ctx),A=this.areaBottomY,N=r==="rangeArea",P=r==="rangeArea"&&k;switch(S){case"monotoneCubic":var E=k?d:f;switch(m){case 0:if(E[s+1]===null)break;m=1;case 1:if(!(N?u.length===n[a].length:s===n[a].length-2))break;case 2:var O=k?u:u.slice().reverse(),T=k?E:E.slice().reverse(),M=(i=T,O.map(function(fe,X){return[fe,i[X]]}).filter(function(fe){return fe[1]!==null})),L=M.length>1?Mse(M):M,I=[];N&&(P?w=M:I=w.reverse());var D=0,R=0;if(function(fe,X){for(var ae=function(K){var Pe=[],Te=0;return K.forEach(function(nt){nt!==null?Te++:Te>0&&(Pe.push(Te),Te=0)}),Te>0&&Pe.push(Te),Pe}(fe),G=[],Z=0,se=0;Z<ae.length;se+=ae[Z++])G[Z]=Rse(X,se,se+ae[Z]);return G}(T,L).forEach(function(fe){D++;var X=function(Z){for(var se="",K=0;K<Z.length;K++){var Pe=Z[K],Te=Pe.length;Te>4?(se+="C".concat(Pe[0],", ").concat(Pe[1]),se+=", ".concat(Pe[2],", ").concat(Pe[3]),se+=", ".concat(Pe[4],", ").concat(Pe[5])):Te>2&&(se+="S".concat(Pe[0],", ").concat(Pe[1]),se+=", ".concat(Pe[2],", ").concat(Pe[3]))}return se}(fe),ae=R,G=(R+=fe.length)-1;P?x=C.move(M[ae][0],M[ae][1])+X:N?x=C.move(I[ae][0],I[ae][1])+C.line(M[ae][0],M[ae][1])+X+C.line(I[G][0],I[G][1]):(x=C.move(M[ae][0],M[ae][1])+X,y=x+C.line(M[G][0],A)+C.line(M[ae][0],A)+"z",w.push(y)),b.push(x)}),N&&D>1&&!P){var F=b.slice(D).reverse();b.splice(D),F.forEach(function(fe){return b.push(fe)})}m=0}break;case"smooth":var z=.35*(o-p);if(n[a][s]===null)m=0;else switch(m){case 0:if(v=p,x=P?C.move(p,f[s])+C.line(p,g):C.move(p,g),y=C.move(p,g),n[a][s+1]===null||n[a][s+1]===void 0){b.push(x),w.push(y);break}if(m=1,s<n[a].length-2){var B=C.curve(p+z,g,o-z,l,o,l);x+=B,y+=B;break}case 1:if(n[a][s+1]===null)x+=P?C.line(p,h):C.move(p,g),y+=C.line(p,A)+C.line(v,A)+"z",b.push(x),w.push(y),m=-1;else{var q=C.curve(p+z,g,o-z,l,o,l);x+=q,y+=q,s>=n[a].length-2&&(P&&(x+=C.curve(o,l,o,l,o,h)+C.move(o,h)),y+=C.curve(o,l,o,l,o,A)+C.line(v,A)+"z",b.push(x),w.push(y),m=-1)}}p=o,g=l;break;default:var ie=function(fe,X,ae){var G=[];switch(fe){case"stepline":G=C.line(X,null,"H")+C.line(null,ae,"V");break;case"linestep":G=C.line(null,ae,"V")+C.line(X,null,"H");break;case"straight":G=C.line(X,ae)}return G};if(n[a][s]===null)m=0;else switch(m){case 0:if(v=p,x=P?C.move(p,f[s])+C.line(p,g):C.move(p,g),y=C.move(p,g),n[a][s+1]===null||n[a][s+1]===void 0){b.push(x),w.push(y);break}if(m=1,s<n[a].length-2){var ne=ie(S,o,l);x+=ne,y+=ne;break}case 1:if(n[a][s+1]===null)x+=P?C.line(p,h):C.move(p,g),y+=C.line(p,A)+C.line(v,A)+"z",b.push(x),w.push(y),m=-1;else{var Ne=ie(S,o,l);x+=Ne,y+=Ne,s>=n[a].length-2&&(P&&(x+=C.line(o,h)),y+=C.line(o,A)+C.line(v,A)+"z",b.push(x),w.push(y),m=-1)}}p=o,g=l}return{linePaths:b,areaPaths:w,pX:p,pY:g,pathState:m,segmentStartX:v,linePath:x,areaPath:y}}},{key:"handleNullDataPoints",value:function(e,r,n,a,i){var s=this.w;if(e[n][a]===null&&s.config.markers.showNullDataPoints||e[n].length===1){var o=this.strokeWidth-s.config.markers.strokeWidth/2;o>0||(o=0);var l=this.markers.plotChartMarkers({pointsPos:r,seriesIndex:i,j:a+1,pSize:o,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(o,l,u,d){this.xoffset=o,this.yoffset=l,this.height=d,this.width=u,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(h){var f,p=[],g=this.xoffset,m=this.yoffset,v=i(h)/this.height,x=i(h)/this.width;if(this.width>=this.height)for(f=0;f<h.length;f++)p.push([g,m,g+v,m+h[f]/v]),m+=h[f]/v;else for(f=0;f<h.length;f++)p.push([g,m,g+h[f]/x,m+x]),g+=h[f]/x;return p},this.cutArea=function(h){var f;if(this.width>=this.height){var p=h/this.height,g=this.width-p;f=new t(this.xoffset+p,this.yoffset,g,this.height)}else{var m=h/this.width,v=this.height-m;f=new t(this.xoffset,this.yoffset+m,this.width,v)}return f}}function e(o,l,u,d,h){d=d===void 0?0:d,h=h===void 0?0:h;var f=r(function(p,g){var m,v=[],x=g/i(p);for(m=0;m<p.length;m++)v[m]=p[m]*x;return v}(o,l*u),[],new t(d,h,l,u),[]);return function(p){var g,m,v=[];for(g=0;g<p.length;g++)for(m=0;m<p[g].length;m++)v.push(p[g][m]);return v}(f)}function r(o,l,u,d){var h,f,p;if(o.length!==0)return h=u.shortestEdge(),function(g,m,v){var x;if(g.length===0)return!0;(x=g.slice()).push(m);var y=n(g,v),b=n(x,v);return y>=b}(l,f=o[0],h)?(l.push(f),r(o.slice(1),l,u,d)):(p=u.cutArea(i(l),d),d.push(u.getCoordinates(l)),r(o,[],p,d)),d;d.push(u.getCoordinates(l))}function n(o,l){var u=Math.min.apply(Math,o),d=Math.max.apply(Math,o),h=i(o);return Math.max(Math.pow(l,2)*d/Math.pow(h,2),Math.pow(h,2)/(Math.pow(l,2)*u))}function a(o){return o&&o.constructor===Array}function i(o){var l,u=0;for(l=0;l<o.length;l++)u+=o[l];return u}function s(o){var l,u=0;if(a(o[0]))for(l=0;l<o.length;l++)u+=s(o[l]);else u=i(o);return u}return function o(l,u,d,h,f){h=h===void 0?0:h,f=f===void 0?0:f;var p,g,m=[],v=[];if(a(l[0])){for(g=0;g<l.length;g++)m[g]=s(l[g]);for(p=e(m,u,d,h,f),g=0;g<l.length;g++)v.push(o(l[g],p[g][2]-p[g][0],p[g][3]-p[g][1],p[g][0],p[g][1]))}else v=e(l,u,d,h,f);return v}}();var Ise=function(){function t(e,r){ke(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new OW(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Ae(t,[{key:"draw",value:function(e){var r=this,n=this.w,a=new ce(this.ctx),i=new ui(this.ctx),s=a.group({class:"apexcharts-treemap"});if(n.globals.noData)return s;var o=[];return e.forEach(function(l){var u=l.map(function(d){return Math.abs(d)});o.push(u)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(l,u){l.data.forEach(function(d){Array.isArray(r.labels[u])||(r.labels[u]=[]),r.labels[u].push(d.x)})}),window.TreemapSquared.generate(o,n.globals.gridWidth,n.globals.gridHeight).forEach(function(l,u){var d=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:U.escapeString(n.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(n.config.chart.dropShadow.enabled){var h=n.config.chart.dropShadow;new Fr(r.ctx).dropShadow(s,h,u)}var f=a.group({class:"apexcharts-data-labels"}),p={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach(function(L,I){var D=L[0],R=L[1],F=L[2],z=L[3];p.xMin=Math.min(p.xMin,D),p.yMin=Math.min(p.yMin,R),p.xMax=Math.max(p.xMax,F),p.yMax=Math.max(p.yMax,z);var B=r.helpers.getShadeColor(n.config.chart.type,u,I,r.negRange),q=B.color,ie=i.fillPath({color:q,seriesNumber:u,dataPointIndex:I}),ne=a.drawRect(D,R,F-D,z-R,n.config.plotOptions.treemap.borderRadius,"#fff",1,r.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?q:n.globals.stroke.colors[u]);ne.attr({cx:D,cy:R,index:u,i:u,j:I,width:F-D,height:z-R,fill:ie}),ne.node.classList.add("apexcharts-treemap-rect"),r.helpers.addListeners(ne);var Ne={x:D+(F-D)/2,y:R+(z-R)/2,width:0,height:0},fe={x:D,y:R,width:F-D,height:z-R};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var X=1;n.globals.resized||(X=n.config.chart.animations.speed),r.animateTreemap(ne,Ne,fe,X)}if(n.globals.dataChanged){var ae=1;r.dynamicAnim.enabled&&n.globals.shouldAnimate&&(ae=r.dynamicAnim.speed,n.globals.previousPaths[u]&&n.globals.previousPaths[u][I]&&n.globals.previousPaths[u][I].rect&&(Ne=n.globals.previousPaths[u][I].rect),r.animateTreemap(ne,Ne,fe,ae))}var G=r.getFontSize(L),Z=n.config.dataLabels.formatter(r.labels[u][I],{value:n.globals.series[u][I],seriesIndex:u,dataPointIndex:I,w:n});n.config.plotOptions.treemap.dataLabels.format==="truncate"&&(G=parseInt(n.config.dataLabels.style.fontSize,10),Z=r.truncateLabels(Z,G,D,R,F,z));var se=null;n.globals.series[u][I]&&(se=r.helpers.calculateDataLabels({text:Z,x:(D+F)/2,y:(R+z)/2+r.strokeWidth/2+G/3,i:u,j:I,colorProps:B,fontSize:G,series:e})),n.config.dataLabels.enabled&&se&&r.rotateToFitLabel(se,G,Z,D,R,F,z),d.add(ne),se!==null&&d.add(se)});var g=n.config.plotOptions.treemap.seriesTitle;if(n.config.series.length>1&&g&&g.show){var m=n.config.series[u].name||"";if(m&&p.xMin<1/0&&p.yMin<1/0){var v=g.offsetX,x=g.offsetY,y=g.borderColor,b=g.borderWidth,w=g.borderRadius,S=g.style,k=S.color||n.config.chart.foreColor,C={left:S.padding.left,right:S.padding.right,top:S.padding.top,bottom:S.padding.bottom},A=a.getTextRects(m,S.fontSize,S.fontFamily),N=A.width+C.left+C.right,P=A.height+C.top+C.bottom,E=p.xMin+(v||0),O=p.yMin+(x||0),T=a.drawRect(E,O,N,P,w,S.background,1,b,y),M=a.drawText({x:E+C.left,y:O+C.top+.75*A.height,text:m,fontSize:S.fontSize,fontFamily:S.fontFamily,fontWeight:S.fontWeight,foreColor:k,cssClass:S.cssClass||""});d.add(T),d.add(M)}}d.add(f),s.add(d)}),s}},{key:"getFontSize",value:function(e){var r=this.w,n=function a(i){var s,o=0;if(Array.isArray(i[0]))for(s=0;s<i.length;s++)o+=a(i[s]);else for(s=0;s<i.length;s++)o+=i[s].length;return o}(this.labels)/function a(i){var s,o=0;if(Array.isArray(i[0]))for(s=0;s<i.length;s++)o+=a(i[s]);else for(s=0;s<i.length;s++)o+=1;return o}(this.labels);return function(a,i){var s=a*i,o=Math.pow(s,.5);return Math.min(o/n,parseInt(r.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,r,n,a,i,s,o){var l=new ce(this.ctx),u=l.getTextRects(n,r);if(u.width+this.w.config.stroke.width+5>s-a&&u.width<=o-i){var d=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(d.x," ").concat(d.y,") translate(").concat(u.height/3,")"))}}},{key:"truncateLabels",value:function(e,r,n,a,i,s){var o=new ce(this.ctx),l=o.getTextRects(e,r).width+this.w.config.stroke.width+5>i-n&&s-a>i-n?s-a:i-n,u=o.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:r});return e.length!==u.length&&l/r<5?"":u}},{key:"animateTreemap",value:function(e,r,n,a){var i=new lh(this.ctx);i.animateRect(e,r,n,a,function(){i.animationCompleted(e)})}}]),t}(),RW=86400,Dse=10/RW,Lse=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Ae(t,[{key:"calculateTimeScaleTicks",value:function(e,r){var n=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var i=new $r(this.ctx),s=(r-e)/864e5;this.determineInterval(s),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,s<Dse?a.globals.disableZoomIn=!0:s>5e4&&(a.globals.disableZoomOut=!0);var o=i.getTimeUnitsfromTimestamp(e,r,this.utc),l=a.globals.gridWidth/s,u=l/24,d=u/60,h=d/60,f=Math.floor(24*s),p=Math.floor(1440*s),g=Math.floor(s*RW),m=Math.floor(s),v=Math.floor(s/30),x=Math.floor(s/365),y={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},b={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:u,minutesWidthOnXAxis:d,secondsWidthOnXAxis:h,numberOfSeconds:g,numberOfMinutes:p,numberOfHours:f,numberOfDays:m,numberOfMonths:v,numberOfYears:x};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var w=this.timeScaleArray.map(function(S){var k={position:S.position,unit:S.unit,year:S.year,day:S.day?S.day:1,hour:S.hour?S.hour:0,month:S.month+1};return S.unit==="month"?ye(ye({},k),{},{day:1,value:S.value+1}):S.unit==="day"||S.unit==="hour"?ye(ye({},k),{},{value:S.value}):S.unit==="minute"?ye(ye({},k),{},{value:S.value,minute:S.value}):S.unit==="second"?ye(ye({},k),{},{value:S.value,minute:S.minute,second:S.second}):S});return w.filter(function(S){var k=1,C=Math.ceil(a.globals.gridWidth/120),A=S.value;a.config.xaxis.tickAmount!==void 0&&(C=a.config.xaxis.tickAmount),w.length>C&&(k=Math.floor(w.length/C));var N=!1,P=!1;switch(n.tickInterval){case"years":S.unit==="year"&&(N=!0);break;case"half_year":k=7,S.unit==="year"&&(N=!0);break;case"months":k=1,S.unit==="year"&&(N=!0);break;case"months_fortnight":k=15,S.unit!=="year"&&S.unit!=="month"||(N=!0),A===30&&(P=!0);break;case"months_days":k=10,S.unit==="month"&&(N=!0),A===30&&(P=!0);break;case"week_days":k=8,S.unit==="month"&&(N=!0);break;case"days":k=1,S.unit==="month"&&(N=!0);break;case"hours":S.unit==="day"&&(N=!0);break;case"minutes_fives":case"seconds_fives":A%5!=0&&(P=!0);break;case"seconds_tens":A%10!=0&&(P=!0)}if(n.tickInterval==="hours"||n.tickInterval==="minutes_fives"||n.tickInterval==="seconds_tens"||n.tickInterval==="seconds_fives"){if(!P)return!0}else if((A%k==0||N)&&!P)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,r){var n=this.w,a=this.formatDates(e),i=this.removeOverlappingTS(a);n.globals.timescaleLabels=i.slice(),new gy(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var r=24*e,n=60*r;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case r>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var r=e.firstVal,n=e.currentMonth,a=e.currentYear,i=e.daysWidthOnXAxis,s=e.numberOfYears,o=r.minYear,l=0,u=new $r(this.ctx),d="year";if(r.minDate>1||r.minMonth>0){var h=u.determineRemainingDaysOfYear(r.minYear,r.minMonth,r.minDate);l=(u.determineDaysOfYear(r.minYear)-h+1)*i,o=r.minYear+1,this.timeScaleArray.push({position:l,value:o,unit:d,year:o,month:U.monthMod(n+1)})}else r.minDate===1&&r.minMonth===0&&this.timeScaleArray.push({position:l,value:o,unit:d,year:a,month:U.monthMod(n+1)});for(var f=o,p=l,g=0;g<s;g++)f++,p=u.determineDaysOfYear(f-1)*i+p,this.timeScaleArray.push({position:p,value:f,unit:d,year:f,month:1})}},{key:"generateMonthScale",value:function(e){var r=e.firstVal,n=e.currentMonthDate,a=e.currentMonth,i=e.currentYear,s=e.daysWidthOnXAxis,o=e.numberOfMonths,l=a,u=0,d=new $r(this.ctx),h="month",f=0;if(r.minDate>1){u=(d.determineDaysOfMonths(a+1,r.minYear)-n+1)*s,l=U.monthMod(a+1);var p=i+f,g=U.monthMod(l),m=l;l===0&&(h="year",m=p,g=1,p+=f+=1),this.timeScaleArray.push({position:u,value:m,unit:h,year:p,month:g})}else this.timeScaleArray.push({position:u,value:l,unit:h,year:i,month:U.monthMod(a)});for(var v=l+1,x=u,y=0,b=1;y<o;y++,b++){(v=U.monthMod(v))===0?(h="year",f+=1):h="month";var w=this._getYear(i,v,f);x=d.determineDaysOfMonths(v,w)*s+x;var S=v===0?w:v;this.timeScaleArray.push({position:x,value:S,unit:h,year:w,month:v===0?1:v}),v++}}},{key:"generateDayScale",value:function(e){var r=e.firstVal,n=e.currentMonth,a=e.currentYear,i=e.hoursWidthOnXAxis,s=e.numberOfDays,o=new $r(this.ctx),l="day",u=r.minDate+1,d=u,h=function(b,w,S){return b>o.determineDaysOfMonths(w+1,S)&&(d=1,l="month",p=w+=1),w},f=(24-r.minHour)*i,p=u,g=h(d,n,a);r.minHour===0&&r.minDate===1?(f=0,p=U.monthMod(r.minMonth),l="month",d=r.minDate):r.minDate!==1&&r.minHour===0&&r.minMinute===0&&(f=0,u=r.minDate,p=u,g=h(d=u,n,a),p!==1&&(l="day")),this.timeScaleArray.push({position:f,value:p,unit:l,year:this._getYear(a,g,0),month:U.monthMod(g),day:d});for(var m=f,v=0;v<s;v++){l="day",g=h(d+=1,g,this._getYear(a,g,0));var x=this._getYear(a,g,0);m=24*i+m;var y=d===1?U.monthMod(g):d;this.timeScaleArray.push({position:m,value:y,unit:l,year:x,month:U.monthMod(g),day:y})}}},{key:"generateHourScale",value:function(e){var r=e.firstVal,n=e.currentDate,a=e.currentMonth,i=e.currentYear,s=e.minutesWidthOnXAxis,o=e.numberOfHours,l=new $r(this.ctx),u="hour",d=function(k,C){return k>l.determineDaysOfMonths(C+1,i)&&(v=1,C+=1),{month:C,date:v}},h=function(k,C){return k>l.determineDaysOfMonths(C+1,i)?C+=1:C},f=60-(r.minMinute+r.minSecond/60),p=f*s,g=r.minHour+1,m=g;f===60&&(p=0,m=g=r.minHour);var v=n;m>=24&&(m=0,u="day",g=v+=1);var x=d(v,a).month;x=h(v,x),g>31&&(g=v=1),this.timeScaleArray.push({position:p,value:g,unit:u,day:v,hour:m,year:i,month:U.monthMod(x)}),m++;for(var y=p,b=0;b<o;b++){u="hour",m>=24&&(m=0,u="day",x=d(v+=1,x).month,x=h(v,x));var w=this._getYear(i,x,0);y=60*s+y;var S=m===0?v:m;this.timeScaleArray.push({position:y,value:S,unit:u,hour:m,day:v,year:w,month:U.monthMod(x)}),m++}}},{key:"generateMinuteScale",value:function(e){for(var r=e.currentMillisecond,n=e.currentSecond,a=e.currentMinute,i=e.currentHour,s=e.currentDate,o=e.currentMonth,l=e.currentYear,u=e.minutesWidthOnXAxis,d=e.secondsWidthOnXAxis,h=e.numberOfMinutes,f=a+1,p=s,g=o,m=l,v=i,x=(60-n-r/1e3)*d,y=0;y<h;y++)f>=60&&(f=0,(v+=1)===24&&(v=0)),this.timeScaleArray.push({position:x,value:f,unit:"minute",hour:v,minute:f,day:p,year:this._getYear(m,g,0),month:U.monthMod(g)}),x+=u,f++}},{key:"generateSecondScale",value:function(e){for(var r=e.currentMillisecond,n=e.currentSecond,a=e.currentMinute,i=e.currentHour,s=e.currentDate,o=e.currentMonth,l=e.currentYear,u=e.secondsWidthOnXAxis,d=e.numberOfSeconds,h=n+1,f=a,p=s,g=o,m=l,v=i,x=(1e3-r)/1e3*u,y=0;y<d;y++)h>=60&&(h=0,++f>=60&&(f=0,++v===24&&(v=0))),this.timeScaleArray.push({position:x,value:h,unit:"second",hour:v,minute:f,second:h,day:p,year:this._getYear(m,g,0),month:U.monthMod(g)}),x+=u,h++}},{key:"createRawDateString",value:function(e,r){var n=e.year;return e.month===0&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?n+=e.unit==="day"?"-"+("0"+r).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?n+=e.unit==="hour"?"T"+("0"+r).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?n+=":"+("0"+r).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?n+=":"+("0"+r).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var r=this,n=this.w;return e.map(function(a){var i=a.value.toString(),s=new $r(r.ctx),o=r.createRawDateString(a,i),l=s.getDate(s.parseDate(o));if(r.utc||(l=s.getDate(s.parseDateWithTimezone(o))),n.config.xaxis.labels.format===void 0){var u="dd MMM",d=n.config.xaxis.labels.datetimeFormatter;a.unit==="year"&&(u=d.year),a.unit==="month"&&(u=d.month),a.unit==="day"&&(u=d.day),a.unit==="hour"&&(u=d.hour),a.unit==="minute"&&(u=d.minute),a.unit==="second"&&(u=d.second),i=s.formatDate(l,u)}else i=s.formatDate(l,n.config.xaxis.labels.format);return{dateString:o,position:a.position,value:i,unit:a.unit,year:a.year,month:a.month}})}},{key:"removeOverlappingTS",value:function(e){var r,n=this,a=new ce(this.ctx),i=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(i=!0,r=a.getTextRects(e[0].value).width);var s=0,o=e.map(function(l,u){if(u>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var d=i?r:a.getTextRects(e[s].value).width,h=e[s].position;return l.position>h+d+10?(s=u,l):null}return l});return o=o.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,r,n){return e+Math.floor(r/12)+n}}]),t}(),$se=function(){function t(e,r){ke(this,t),this.ctx=r,this.w=r.w,this.el=e}return Ae(t,[{key:"setupElements",value:function(){var e=this.w,r=e.globals,n=e.config,a=n.chart.type;r.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),r.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),r.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&n.plotOptions.bar.horizontal,r.chartClass=".apexcharts".concat(r.chartID),r.dom.baseEl=this.el,r.dom.elWrap=document.createElement("div"),ce.setAttrs(r.dom.elWrap,{id:r.chartClass.substring(1),class:"apexcharts-canvas ".concat(r.chartClass.substring(1))}),this.el.appendChild(r.dom.elWrap),r.dom.Paper=window.SVG().addTo(r.dom.elWrap),r.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),r.dom.Paper.node.style.background=n.theme.mode!=="dark"||n.chart.background?n.theme.mode!=="light"||n.chart.background?n.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),r.dom.elLegendForeign=document.createElementNS(r.SVGNS,"foreignObject"),ce.setAttrs(r.dom.elLegendForeign,{x:0,y:0,width:r.svgWidth,height:r.svgHeight}),r.dom.elLegendWrap=document.createElement("div"),r.dom.elLegendWrap.classList.add("apexcharts-legend"),r.dom.elWrap.appendChild(r.dom.elLegendWrap),r.dom.Paper.node.appendChild(r.dom.elLegendForeign),r.dom.elGraphical=r.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),r.dom.elDefs=r.dom.Paper.defs(),r.dom.Paper.add(r.dom.elGraphical),r.dom.elGraphical.add(r.dom.elDefs)}},{key:"plotChartType",value:function(e,r){var n=this.w,a=this.ctx,i=n.config,s=n.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=i.chart.type||"line",u=null,d=0;s.series.forEach(function(k,C){var A=e[C].type==="column"?"bar":e[C].type||(l==="column"?"bar":l);o[A]?(A==="rangeArea"?(o[A].series.push(s.seriesRangeStart[C]),o[A].seriesRangeEnd.push(s.seriesRangeEnd[C])):o[A].series.push(k),o[A].i.push(C),A==="bar"&&(n.globals.columnSeries=o.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(A)?u=A:console.warn("You have specified an unrecognized series type (".concat(A,").")),l!==A&&A!=="scatter"&&d++}),d>0&&(u&&console.warn("Chart or series type ".concat(u," cannot appear with other chart or series types.")),o.bar.series.length>0&&i.plotOptions.bar.horizontal&&(d-=o.bar.series.length,o.bar={series:[],i:[]},n.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),s.comboCharts||(s.comboCharts=d>0);var h=new t1(a,r),f=new Jw(a,r);a.pie=new MW(a);var p=new Pse(a);a.rangeBar=new Ese(a,r);var g=new Nse(a),m=[];if(s.comboCharts){var v,x,y=new ir(a);if(o.area.series.length>0&&(v=m).push.apply(v,wr(y.drawSeriesByGroup(o.area,s.areaGroups,"area",h))),o.bar.series.length>0)if(i.chart.stacked){var b=new QO(a,r);m.push(b.draw(o.bar.series,o.bar.i))}else a.bar=new ud(a,r),m.push(a.bar.draw(o.bar.series,o.bar.i));if(o.rangeArea.series.length>0&&m.push(h.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(x=m).push.apply(x,wr(y.drawSeriesByGroup(o.line,s.lineGroups,"line",h))),o.candlestick.series.length>0&&m.push(f.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&m.push(f.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&m.push(a.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var w=new t1(a,r,!0);m.push(w.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var S=new t1(a,r,!0);m.push(S.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(i.chart.type){case"line":m=h.draw(s.series,"line");break;case"area":m=h.draw(s.series,"area");break;case"bar":i.chart.stacked?m=new QO(a,r).draw(s.series):(a.bar=new ud(a,r),m=a.bar.draw(s.series));break;case"candlestick":m=new Jw(a,r).draw(s.series,"candlestick");break;case"boxPlot":m=new Jw(a,r).draw(s.series,i.chart.type);break;case"rangeBar":m=a.rangeBar.draw(s.series);break;case"rangeArea":m=h.draw(s.seriesRangeStart,"rangeArea",void 0,s.seriesRangeEnd);break;case"heatmap":m=new Ase(a,r).draw(s.series);break;case"treemap":m=new Ise(a,r).draw(s.series);break;case"pie":case"donut":case"polarArea":m=a.pie.draw(s.series);break;case"radialBar":m=p.draw(s.series);break;case"radar":m=g.draw(s.series);break;default:m=h.draw(s.series)}return m}},{key:"setSVGDimensions",value:function(){var e=this.w,r=e.globals,n=e.config;n.chart.width=n.chart.width||"100%",n.chart.height=n.chart.height||"auto",r.svgWidth=n.chart.width,r.svgHeight=n.chart.height;var a=U.getDimensions(this.el),i=n.chart.width.toString().split(/[0-9]+/g).pop();i==="%"?U.isNumber(a[0])&&(a[0].width===0&&(a=U.getDimensions(this.el.parentNode)),r.svgWidth=a[0]*parseInt(n.chart.width,10)/100):i!=="px"&&i!==""||(r.svgWidth=parseInt(n.chart.width,10));var s=String(n.chart.height).toString().split(/[0-9]+/g).pop();if(r.svgHeight!=="auto"&&r.svgHeight!=="")if(s==="%"){var o=U.getDimensions(this.el.parentNode);r.svgHeight=o[1]*parseInt(n.chart.height,10)/100}else r.svgHeight=parseInt(n.chart.height,10);else r.svgHeight=r.axisCharts?r.svgWidth/1.61:r.svgWidth/1.2;if(r.svgWidth=Math.max(r.svgWidth,0),r.svgHeight=Math.max(r.svgHeight,0),ce.setAttrs(r.dom.Paper.node,{width:r.svgWidth,height:r.svgHeight}),s!=="%"){var l=n.chart.sparkline.enabled?0:r.axisCharts?n.chart.parentHeightOffset:0;r.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(r.svgHeight+l,"px")}r.dom.elWrap.style.width="".concat(r.svgWidth,"px"),r.dom.elWrap.style.height="".concat(r.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,r=e.translateY,n=e.translateX;ce.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(n,", ").concat(r,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,r=e.globals,n=0,a=e.config.chart.sparkline.enabled?1:15;a+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(n=new AW(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var i=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),s=2.05*e.globals.radialSize;if(i&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var o=U.getBoundingClientRect(i);s=o.bottom;var l=o.bottom-o.top;s=Math.max(2.05*e.globals.radialSize,l)}var u=Math.ceil(s+r.translateY+n+a);r.dom.elLegendForeign&&r.dom.elLegendForeign.setAttribute("height",u),e.config.chart.height&&String(e.config.chart.height).includes("%")||(r.dom.elWrap.style.height="".concat(u,"px"),ce.setAttrs(r.dom.Paper.node,{height:u}),r.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(u,"px"))}},{key:"coreCalculations",value:function(){new sj(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,r=function(){return e.w.config.series.map(function(){return[]})},n=new SW,a=this.w.globals;n.initGlobalVars(a),a.seriesXvalues=r(),a.seriesYvalues=r()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,r=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new oj(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new oj(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Lse(this.ctx);var n=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}r=new ir(this.ctx).getCalculatedRatios()}return r}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,r=this.ctx,n=this.w;if(n.config.chart.brush.enabled&&typeof n.config.chart.events.selection!="function"){var a=Array.isArray(n.config.chart.brush.targets)?n.config.chart.brush.targets:[n.config.chart.brush.target];a.forEach(function(i){var s=r.constructor.getChartByID(i);s.w.globals.brushSource=e.ctx,typeof s.w.config.chart.events.zoomed!="function"&&(s.w.config.chart.events.zoomed=function(){return e.updateSourceChart(s)}),typeof s.w.config.chart.events.scrolled!="function"&&(s.w.config.chart.events.scrolled=function(){return e.updateSourceChart(s)})}),n.config.chart.events.selection=function(i,s){a.forEach(function(o){r.constructor.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:s.xaxis.min,max:s.xaxis.max}},!1,!1,!1,!1)})}}}}]),t}(),Fse=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"_updateOptions",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(o){var l=[r.ctx];i&&(l=r.ctx.getSyncedCharts()),r.ctx.w.globals.isExecCalled&&(l=[r.ctx],r.ctx.w.globals.isExecCalled=!1),l.forEach(function(u,d){var h=u.w;if(h.globals.shouldAnimate=a,n||(h.globals.resized=!0,h.globals.dataChanged=!0,a&&u.series.getPreviousPaths()),e&&ld(e)==="object"&&(u.config=new wp(e),e=ir.extendArrayProps(u.config,e,h),u.w.globals.chartID!==r.ctx.w.globals.chartID&&delete e.series,h.config=U.extend(h.config,e),s&&(h.globals.lastXAxis=e.xaxis?U.clone(e.xaxis):[],h.globals.lastYAxis=e.yaxis?U.clone(e.yaxis):[],h.globals.initialConfig=U.extend({},h.config),h.globals.initialSeries=U.clone(h.config.series),e.series))){for(var f=0;f<h.globals.collapsedSeriesIndices.length;f++){var p=h.config.series[h.globals.collapsedSeriesIndices[f]];h.globals.collapsedSeries[f].data=h.globals.axisCharts?p.data.slice():p}for(var g=0;g<h.globals.ancillaryCollapsedSeriesIndices.length;g++){var m=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[g]];h.globals.ancillaryCollapsedSeries[g].data=h.globals.axisCharts?m.data.slice():m}u.series.emptyCollapsedSeries(h.config.series)}return u.update(e).then(function(){d===l.length-1&&o(u)})})})}},{key:"_updateSeries",value:function(e,r){var n=this,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(i){var s,o=n.w;return o.globals.shouldAnimate=r,o.globals.dataChanged=!0,r&&n.ctx.series.getPreviousPaths(),o.globals.axisCharts?((s=e.map(function(l,u){return n._extendSeries(l,u)})).length===0&&(s=[{data:[]}]),o.config.series=s):o.config.series=e.slice(),a&&(o.globals.initialConfig.series=U.clone(o.config.series),o.globals.initialSeries=U.clone(o.config.series)),n.ctx.update().then(function(){i(n.ctx)})})}},{key:"_extendSeries",value:function(e,r){var n=this.w,a=n.config.series[r];return ye(ye({},n.config.series[r]),{},{name:e.name?e.name:a==null?void 0:a.name,color:e.color?e.color:a==null?void 0:a.color,type:e.type?e.type:a==null?void 0:a.type,group:e.group?e.group:a==null?void 0:a.group,hidden:e.hidden!==void 0?e.hidden:a==null?void 0:a.hidden,data:e.data?e.data:a==null?void 0:a.data,zIndex:e.zIndex!==void 0?e.zIndex:r})}},{key:"toggleDataPointSelection",value:function(e,r){var n=this.w,a=null,i=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?a=n.globals.dom.Paper.findOne("".concat(i," path[j='").concat(r,"'], ").concat(i," circle[j='").concat(r,"'], ").concat(i," rect[j='").concat(r,"']")):r===void 0&&(a=n.globals.dom.Paper.findOne("".concat(i," path[j='").concat(e,"']")),n.config.chart.type!=="pie"&&n.config.chart.type!=="polarArea"&&n.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),a?(new ce(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var r=this.w;if(["min","max"].forEach(function(a){e.xaxis[a]!==void 0&&(r.config.xaxis[a]=e.xaxis[a],r.globals.lastXAxis[a]=e.xaxis[a])}),e.xaxis.categories&&e.xaxis.categories.length&&(r.config.xaxis.categories=e.xaxis.categories),r.config.xaxis.convertedCatToNumeric){var n=new bp(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(r,n){e.yaxis[n].min=0,e.yaxis[n].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var r=this,n=this.w,a=n.globals.lastXAxis,i=n.globals.lastYAxis;e&&e.xaxis&&(a=e.xaxis),e&&e.yaxis&&(i=e.yaxis),n.config.xaxis.min=a.min,n.config.xaxis.max=a.max;var s=function(o){i[o]!==void 0&&(n.config.yaxis[o].min=i[o].min,n.config.yaxis[o].max=i[o].max)};n.config.yaxis.map(function(o,l){n.globals.zoomed||i[l]!==void 0?s(l):r.ctx.opts.yaxis[l]!==void 0&&(o.min=r.ctx.opts.yaxis[l].min,o.max=r.ctx.opts.yaxis[l].max)})}}]),t}();(function(){function t(){for(var i=arguments.length>0&&arguments[0]!==h?arguments[0]:[],s=arguments.length>1?arguments[1]:h,o=arguments.length>2?arguments[2]:h,l=arguments.length>3?arguments[3]:h,u=arguments.length>4?arguments[4]:h,d=arguments.length>5?arguments[5]:h,h=arguments.length>6?arguments[6]:h,f=i.slice(s,o||h),p=l.slice(u,d||h),g=0,m={pos:[0,0],start:[0,0]},v={pos:[0,0],start:[0,0]};f[g]=e.call(m,f[g]),p[g]=e.call(v,p[g]),f[g][0]!=p[g][0]||f[g][0]=="M"||f[g][0]=="A"&&(f[g][4]!=p[g][4]||f[g][5]!=p[g][5])?(Array.prototype.splice.apply(f,[g,1].concat(n.call(m,f[g]))),Array.prototype.splice.apply(p,[g,1].concat(n.call(v,p[g])))):(f[g]=r.call(m,f[g]),p[g]=r.call(v,p[g])),!(++g==f.length&&g==p.length);)g==f.length&&f.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]]),g==p.length&&p.push(["C",v.pos[0],v.pos[1],v.pos[0],v.pos[1],v.pos[0],v.pos[1]]);return{start:f,dest:p}}function e(i){switch(i[0]){case"z":case"Z":i[0]="L",i[1]=this.start[0],i[2]=this.start[1];break;case"H":i[0]="L",i[2]=this.pos[1];break;case"V":i[0]="L",i[2]=i[1],i[1]=this.pos[0];break;case"T":i[0]="Q",i[3]=i[1],i[4]=i[2],i[1]=this.reflection[1],i[2]=this.reflection[0];break;case"S":i[0]="C",i[6]=i[4],i[5]=i[3],i[4]=i[2],i[3]=i[1],i[2]=this.reflection[1],i[1]=this.reflection[0]}return i}function r(i){var s=i.length;return this.pos=[i[s-2],i[s-1]],"SCQT".indexOf(i[0])!=-1&&(this.reflection=[2*this.pos[0]-i[s-4],2*this.pos[1]-i[s-3]]),i}function n(i){var s=[i];switch(i[0]){case"M":return this.pos=this.start=[i[1],i[2]],s;case"L":i[5]=i[3]=i[1],i[6]=i[4]=i[2],i[1]=this.pos[0],i[2]=this.pos[1];break;case"Q":i[6]=i[4],i[5]=i[3],i[4]=1*i[4]/3+2*i[2]/3,i[3]=1*i[3]/3+2*i[1]/3,i[2]=1*this.pos[1]/3+2*i[2]/3,i[1]=1*this.pos[0]/3+2*i[1]/3;break;case"A":s=function(o,l){var u,d,h,f,p,g,m,v,x,y,b,w,S,k,C,A,N,P,E,O,T,M,L,I,D,R,F=Math.abs(l[1]),z=Math.abs(l[2]),B=l[3]%360,q=l[4],ie=l[5],ne=l[6],Ne=l[7],fe=new _t(o),X=new _t(ne,Ne),ae=[];if(F===0||z===0||fe.x===X.x&&fe.y===X.y)return[["C",fe.x,fe.y,X.x,X.y,X.x,X.y]];for(u=new _t((fe.x-X.x)/2,(fe.y-X.y)/2).transform(new rt().rotate(B)),d=u.x*u.x/(F*F)+u.y*u.y/(z*z),d>1&&(F*=d=Math.sqrt(d),z*=d),h=new rt().rotate(B).scale(1/F,1/z).rotate(-B),fe=fe.transform(h),X=X.transform(h),f=[X.x-fe.x,X.y-fe.y],g=f[0]*f[0]+f[1]*f[1],p=Math.sqrt(g),f[0]/=p,f[1]/=p,m=g<4?Math.sqrt(1-g/4):0,q===ie&&(m*=-1),v=new _t((X.x+fe.x)/2+m*-f[1],(X.y+fe.y)/2+m*f[0]),x=new _t(fe.x-v.x,fe.y-v.y),y=new _t(X.x-v.x,X.y-v.y),b=Math.acos(x.x/Math.sqrt(x.x*x.x+x.y*x.y)),x.y<0&&(b*=-1),w=Math.acos(y.x/Math.sqrt(y.x*y.x+y.y*y.y)),y.y<0&&(w*=-1),ie&&b>w&&(w+=2*Math.PI),!ie&&b<w&&(w-=2*Math.PI),k=Math.ceil(2*Math.abs(b-w)/Math.PI),A=[],N=b,S=(w-b)/k,C=4*Math.tan(S/4)/3,T=0;T<=k;T++)E=Math.cos(N),P=Math.sin(N),O=new _t(v.x+E,v.y+P),A[T]=[new _t(O.x+C*P,O.y-C*E),O,new _t(O.x-C*P,O.y+C*E)],N+=S;for(A[0][0]=A[0][1].clone(),A[A.length-1][2]=A[A.length-1][1].clone(),h=new rt().rotate(B).scale(F,z).rotate(-B),T=0,M=A.length;T<M;T++)A[T][0]=A[T][0].transform(h),A[T][1]=A[T][1].transform(h),A[T][2]=A[T][2].transform(h);for(T=1,M=A.length;T<M;T++)L=(O=A[T-1][2]).x,I=O.y,D=(O=A[T][0]).x,R=O.y,ne=(O=A[T][1]).x,Ne=O.y,ae.push(["C",L,I,D,R,ne,Ne]);return ae}(this.pos,i),i=s[0]}return i[0]="C",this.pos=[i[5],i[6]],this.reflection=[2*i[5]-i[3],2*i[6]-i[4]],s}function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;if(s===!1)return!1;for(var o=s,l=i.length;o<l;++o)if(i[o][0]=="M")return o;return!1}$e(ai,{morph:function(i,s,o,l,u){for(var d=this.parse(i),h=this.parse(s),f=0,p=0,g=!1,m=!1;f!==!1||p!==!1;){var v;g=a(d,f!==!1&&f+1),m=a(h,p!==!1&&p+1),f===!1&&(f=(v=new ai(x.start).bbox()).height==0||v.width==0?d.push(d[0])-1:d.push(["M",v.x+v.width/2,v.y+v.height/2])-1),p===!1&&(p=(v=new ai(x.dest).bbox()).height==0||v.width==0?h.push(h[0])-1:h.push(["M",v.x+v.width/2,v.y+v.height/2])-1);var x=t(d,f,g,h,p,m);d=d.slice(0,f).concat(x.start,g===!1?[]:d.slice(g)),h=h.slice(0,p).concat(x.dest,m===!1?[]:h.slice(m)),f=g!==!1&&f+x.start.length,p=m!==!1&&p+x.dest.length}this._array=d,this.destination=new ai,this.destination._array=h;var y=this.fromArray(d.map(function(b,w){var S=h[w].map(function(k,C){return C===0?k:l.step(b[C],h[w][C],o,u[w],u)});return S}));return y}})})();const JO=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY});class zse{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const r=!e.type.indexOf("mouse");if(r&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(JO(e));const n=(r?"mouseup":"touchend")+".drag";us(window,(r?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),us(window,n,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:r,lastClick:n}=this,a=this.el.point(JO(e)),i=a.x-n.x,s=a.y-n.y;if(!i&&!s)return r;const o=r.x+i,l=r.y+s;this.box=new ar(o,l,r.w,r.h),this.lastClick=a,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(o,l)}move(e,r){this.el.type==="svg"?To.prototype.move.call(this.el,e,r):this.el.move(e,r)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),ja(window,"mousemove.drag"),ja(window,"touchmove.drag"),ja(window,"mouseup.drag"),ja(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function lj(t,e,r,n=null){return function(a){a.preventDefault(),a.stopPropagation();var i=a.pageX||a.touches[0].pageX,s=a.pageY||a.touches[0].pageY;e.fire(t,{x:i,y:s,event:a,index:n,points:r})}}function cj([t,e],{a:r,b:n,c:a,d:i,e:s,f:o}){return[t*r+e*a+s,t*n+e*i+o]}$e(Ur,{draggable(t=!0){return(this.remember("_draggable")||new zse(this)).init(t),this}});let IW=class{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new To,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Tm();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((t,e,r)=>{const n=this.order[e];this.createHandle.call(this,this.selection,t,e,r,n),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+n).on("mousedown.selection touchstart.selection",lj(n,this.el,this.handlePoints,e))})}createHandleFn(t){t.polyline()}updateHandleFn(t,e,r,n){const a=n.at(r-1),i=n[(r+1)%n.length],s=e,o=[s[0]-a[0],s[1]-a[1]],l=[s[0]-i[0],s[1]-i[1]],u=Math.sqrt(o[0]*o[0]+o[1]*o[1]),d=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=[o[0]/u,o[1]/u],f=[l[0]/d,l[1]/d],p=[s[0]-10*h[0],s[1]-10*h[1]],g=[s[0]-10*f[0],s[1]-10*f[1]];t.plot([p,s,g])}updateResizeHandles(){this.handlePoints.forEach((t,e,r)=>{const n=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,r,n)})}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const r=this.getPoint("t");t.get(0).plot(r[0],r[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",lj("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map(r=>cj(r,e)),this.rotationPoint=cj(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:r,y2:n,cx:a,cy:i}=this.el.bbox()){return[[t,r],[a,r],[e,r],[e,i],[e,n],[a,n],[t,n],[t,i]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const eT=t=>function(e=!0,r={}){typeof e=="object"&&(r=e,e=!0);let n=this.remember("_"+t.name);return n||(e.prototype instanceof IW?(n=new e(this),e=!0):n=new t(this),this.remember("_"+t.name,n)),n.active(e,r),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function uj(t,e,r,n=null){return function(a){a.preventDefault(),a.stopPropagation();var i=a.pageX||a.touches[0].pageX,s=a.pageY||a.touches[0].pageY;e.fire(t,{x:i,y:s,event:a,index:n,points:r})}}function dj([t,e],{a:r,b:n,c:a,d:i,e:s,f:o}){return[t*r+e*a+s,t*n+e*i+o]}$e(Ur,{select:eT(IW)}),$e([Nl,Pl,Al],{pointSelect:eT(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new To,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Tm();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,r)=>{this.createHandle.call(this,this.selection,t,e,r),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",lj("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,r)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,r)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>cj(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class DW{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new To,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const r=Tm();this.observer=new r.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,r){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(r)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,r,n)=>{const a=this.order[r];this.createHandle.call(this,this.selection,e,r,n,a),this.selection.get(r+1).addClass("svg_select_handle svg_select_handle_"+a).on("mousedown.selection touchstart.selection",uj(a,this.el,this.handlePoints,r))})}createHandleFn(e){e.polyline()}updateHandleFn(e,r,n,a){const i=a.at(n-1),s=a[(n+1)%a.length],o=r,l=[o[0]-i[0],o[1]-i[1]],u=[o[0]-s[0],o[1]-s[1]],d=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=Math.sqrt(u[0]*u[0]+u[1]*u[1]),f=[l[0]/d,l[1]/d],p=[u[0]/h,u[1]/h],g=[o[0]-10*f[0],o[1]-10*f[1]],m=[o[0]-10*p[0],o[1]-10*p[1]];e.plot([g,o,m])}updateResizeHandles(){this.handlePoints.forEach((e,r,n)=>{const a=this.order[r];this.updateHandle.call(this,this.selection.get(r+1),e,r,n,a)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,r){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],r[0],r[1]),e.get(1).center(r[0],r[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",uj("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>dj(n,r)),this.rotationPoint=dj(this.getRotationPoint(e),r)}getHandlePoints({x:e,x2:r,y:n,y2:a,cx:i,cy:s}=this.el.bbox()){return[[e,n],[i,n],[r,n],[r,s],[r,a],[i,a],[e,a],[e,s]]}getRotationPoint({y:e,cx:r}=this.el.bbox()){return[r,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const tT=t=>function(e=!0,r={}){typeof e=="object"&&(r=e,e=!0);let n=this.remember("_"+t.name);return n||(e.prototype instanceof DW?(n=new e(this),e=!0):n=new t(this),this.remember("_"+t.name,n)),n.active(e,r),this};$e(Ur,{select:tT(DW)}),$e([Nl,Pl,Al],{pointSelect:tT(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new To,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Tm();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,r)=>{this.createHandle.call(this,this.selection,t,e,r),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",uj("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,r)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,r)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>dj(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const Ig=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY}),rT=t=>{let e=1/0,r=1/0,n=-1/0,a=-1/0;for(let i=0;i<t.length;i++){const s=t[i];e=Math.min(e,s[0]),r=Math.min(r,s[1]),n=Math.max(n,s[0]),a=Math.max(a,s[1])}return new ar(e,r,n-e,a-r)};class nT{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,r){this.preserveAspectRatio=r.preserveAspectRatio??!1,this.aroundCenter=r.aroundCenter??!1,this.grid=r.grid??0,this.degree=r.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:r,index:n,points:a}=e.detail,i=!r.type.indexOf("mouse");if(i&&(r.which||r.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(Ig(r)),this.index=n,this.points=a.slice();const s=(i?"mousemove":"touchmove")+".resize",o=(i?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?us(window,s,this.movePoint):e.type==="rot"?us(window,s,this.rotate):us(window,s,this.resize),us(window,o,this.endResize)}resize(e){this.lastEvent=e;const r=this.snapToGrid(this.el.point(Ig(e)));let n=r.x-this.startPoint.x,a=r.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(n*=2,a*=2);const i=this.box.x+n,s=this.box.y+a,o=this.box.x2+n,l=this.box.y2+a;let u=new ar(this.box);if(this.eventType.includes("l")&&(u.x=Math.min(i,this.box.x2),u.x2=Math.max(i,this.box.x2)),this.eventType.includes("r")&&(u.x=Math.min(o,this.box.x),u.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(u.y=Math.min(s,this.box.y2),u.y2=Math.max(s,this.box.y2)),this.eventType.includes("b")&&(u.y=Math.min(l,this.box.y),u.y2=Math.max(l,this.box.y)),u.width=u.x2-u.x,u.height=u.y2-u.y,this.preserveAspectRatio){const d=u.width/this.box.width,h=u.height/this.box.height,f=["lt","t","rt","r","rb","b","lb","l"],p=(f.indexOf(this.eventType)+4)%f.length,g=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[p];let m=this.eventType.includes("t")||this.eventType.includes("b")?h:d;m=this.eventType.length===2?Math.max(d,h):m,u=function(v,x,y){const b=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]].map(([w,S])=>{const k=w-x[0],C=(S-x[1])*y;return[k*y+x[0],C+x[1]]});return rT(b)}(this.box,g,m)}this.el.dispatch("resize",{box:new ar(u),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(u.width,u.height).move(u.x,u.y)}movePoint(e){this.lastEvent=e;const{x:r,y:n}=this.snapToGrid(this.el.point(Ig(e))),a=this.el.array().slice();a[this.index]=[r,n],this.el.dispatch("resize",{box:rT(a),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(a)}rotate(e){this.lastEvent=e;const r=this.startPoint,n=this.el.point(Ig(e)),{cx:a,cy:i}=this.box,s=r.x-a,o=r.y-i,l=n.x-a,u=n.y-i,d=Math.sqrt(s*s+o*o)*Math.sqrt(l*l+u*u);if(d===0)return;let h=Math.acos((s*l+o*u)/d)/Math.PI*180;if(!h)return;n.x<r.x&&(h=-h);const f=new rt(this.el),{x:p,y:g}=new _t(a,i).transformO(f),{rotate:m}=f.decompose(),v=this.snapToAngle(m+h)-m;this.el.dispatch("resize",{box:this.box,angle:v,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(f.rotateO(v,p,g))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",ja(window,"mousemove.resize touchmove.resize"),ja(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}$e(Ur,{resize:function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let r=this.remember("_ResizeHandler");return r||(t.prototype instanceof nT?(r=new t(this),t=!0):r=new nT(this),this.remember("_resizeHandler",r)),r.active(t,e),this}}),window.SVG===void 0&&(window.SVG=tse),window.Apex===void 0&&(window.Apex={});var aT=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new lh(this.ctx),this.ctx.axes=new dse(this.ctx),this.ctx.core=new $se(this.ctx.el,this.ctx),this.ctx.config=new wp({}),this.ctx.data=new yN(this.ctx),this.ctx.grid=new CW(this.ctx),this.ctx.graphics=new ce(this.ctx),this.ctx.coreUtils=new ir(this.ctx),this.ctx.crosshairs=new oj(this.ctx),this.ctx.events=new cse(this.ctx),this.ctx.exports=new If(this.ctx),this.ctx.fill=new ui(this.ctx),this.ctx.localization=new use(this.ctx),this.ctx.options=new Sl,this.ctx.responsive=new hse(this.ctx),this.ctx.series=new Ea(this.ctx),this.ctx.theme=new fse(this.ctx),this.ctx.formatters=new Im(this.ctx),this.ctx.titleSubtitle=new pse(this.ctx),this.ctx.legend=new AW(this.ctx),this.ctx.toolbar=new NW(this.ctx),this.ctx.tooltip=new ZO(this.ctx),this.ctx.dimensions=new gy(this.ctx),this.ctx.updateHelpers=new Fse(this.ctx),this.ctx.zoomPanSelection=new bse(this.ctx),this.ctx.w.globals.tooltip=new ZO(this.ctx)}}]),t}(),iT=function(){function t(e){ke(this,t),this.ctx=e,this.w=e.w}return Ae(t,[{key:"clear",value:function(e){var r=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:r})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var r=this,n=e.isUpdating,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!n&&(a.parentNode.parentNode.style.minHeight="unset");var i=this.w.globals.dom.baseEl;i&&this.ctx.eventList.forEach(function(o){i.removeEventListener(o,r.ctx.events.documentEvent)});var s=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(s.Paper),s.Paper.remove(),s.elWrap=null,s.elGraphical=null,s.elLegendWrap=null,s.elLegendForeign=null,s.baseEl=null,s.elGridRect=null,s.elGridRectMask=null,s.elGridRectBarMask=null,s.elGridRectMarkerMask=null,s.elForecastMask=null,s.elNonForecastMask=null,s.elDefs=null}}]),t}(),r1=new WeakMap,Bse=function(){function t(e,r){ke(this,t),this.opts=r,this.ctx=this,this.w=new lse(r).init(),this.el=e,this.w.globals.cuid=U.randomId(),this.w.globals.chartID=this.w.config.chart.id?U.escapeString(this.w.config.chart.id):this.w.globals.cuid,new aT(this).initModules(),this.lastUpdateOptions=null,this.create=U.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Ae(t,[{key:"render",value:function(){var e=this;return new Promise(function(r,n){if(U.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var a=e.w.config.chart.events.beforeMount;typeof a=="function"&&a(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(f,p){var g=!1;if(f.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var m=f.getBoundingClientRect();f.style.display!=="none"&&m.width!==0||(g=!0)}var v=new ResizeObserver(function(x){g&&p.call(f,x),g=!0});f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(f.children).forEach(function(x){return v.observe(x)}):v.observe(f),r1.set(p,v)}(e.el.parentNode,e.parentResizeHandler);var i=e.el.getRootNode&&e.el.getRootNode(),s=U.is("ShadowRoot",i),o=e.el.ownerDocument,l=s?i.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!l){var u;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var d=((u=e.opts.chart)===null||u===void 0?void 0:u.nonce)||e.w.config.chart.nonce;d&&l.setAttribute("nonce",d),s?i.prepend(l):o.head.appendChild(l)}var h=e.create(e.w.config.series,{});if(!h)return r(e);e.mount(h).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),r(h)}).catch(function(f){n(f)})}else n(new Error("Element not found"))})}},{key:"create",value:function(e,r){var n=this,a=this.w;new aT(this).initModules();var i=this.w.globals;if(i.noData=!1,i.animationEnded=!1,!U.elementExists(this.el)||(this.responsive.checkResponsiveConfig(r),a.config.xaxis.convertedCatToNumeric&&new bp(a.config).convertCatToNumericXaxis(a.config,this.ctx),this.core.setupElements(),a.config.chart.type==="treemap"&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),i.svgWidth===0))return i.animationEnded=!0,null;var s=e;e.forEach(function(f,p){f.hidden&&(s=n.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:p}))});var o=ir.checkComboSeries(s,a.config.chart.type);i.comboCharts=o.comboCharts,i.comboBarCount=o.comboBarCount;var l=s.every(function(f){return f.data&&f.data.length===0});(s.length===0||l&&i.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(s),this.theme.init(),new hh(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),i.noData&&i.collapsedSeries.length!==i.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),i.axisCharts&&(this.core.coreCalculations(),a.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new ir(this).getLargestMarkerSize(),this.dimensions.plotCoords();var u=this.core.xySettings();this.grid.createGridMask();var d=this.core.plotChartType(s,u),h=new cd(this);return h.bringForward(),a.config.dataLabels.background.enabled&&h.dataLabelsBackground(),this.core.shiftGraphPosition(),a.globals.dataPoints>50&&a.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:d,xyRatios:u,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this,a=n.w;return new Promise(function(i,s){if(n.el===null)return s(new Error("Not enough data to display or target element not found"));(r===null||a.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new CW(n);var o,l,u=n.grid.drawGrid();if(n.annotations=new ose(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),a.config.grid.position==="back"&&(u&&a.globals.dom.elGraphical.add(u.el),u!=null&&(o=u.elGridBorders)!==null&&o!==void 0&&o.node&&a.globals.dom.elGraphical.add(u.elGridBorders)),Array.isArray(r.elGraph))for(var d=0;d<r.elGraph.length;d++)a.globals.dom.elGraphical.add(r.elGraph[d]);else a.globals.dom.elGraphical.add(r.elGraph);a.config.grid.position==="front"&&(u&&a.globals.dom.elGraphical.add(u.el),u!=null&&(l=u.elGridBorders)!==null&&l!==void 0&&l.node&&a.globals.dom.elGraphical.add(u.elGridBorders)),a.config.xaxis.crosshairs.position==="front"&&n.crosshairs.drawXCrosshairs(),a.config.yaxis[0].crosshairs.position==="front"&&n.crosshairs.drawYCrosshairs(),a.config.chart.type!=="treemap"&&n.axes.drawAxis(a.config.chart.type,u);var h=new _p(e.ctx,u),f=new xN(e.ctx,u);if(u!==null&&(h.xAxisLabelCorrections(u.xAxisTickWidth),f.setYAxisTextAlignments(),a.config.yaxis.map(function(g,m){a.globals.ignoreYAxisIndexes.indexOf(m)===-1&&f.yAxisTitleRotate(m,g.opposite)})),n.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&n.w.globals.tooltip.drawTooltip(r.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:r.xyRatios});else{var p=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(g){p[g]=!1})}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach(function(g){g.method(g.params,!1,g.context)}),a.globals.axisCharts||a.globals.noData||n.core.resizeNonAxisCharts(),i(n)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(r,n){var a=r1.get(n);a&&(a.disconnect(),r1.delete(n))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(r,n){r.id===U.escapeString(e)&&Apex._chartInstances.splice(n,1)}),new iT(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return o.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(this.lastUpdateOptions=U.clone(e),e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,u){return r.updateHelpers._extendSeries(l,u)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,a,i,s))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,r,n)}},{key:"appendSeries",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w.config.series.slice();return a.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,r,n)}},{key:"appendData",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var a=n.w.config.series.slice(),i=0;i<a.length;i++)if(e[i]!==null&&e[i]!==void 0)for(var s=0;s<e[i].data.length;s++)a[i].data.push(e[i].data[s]);return n.w.config.series=a,r&&(n.w.globals.initialSeries=U.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var r=this;return new Promise(function(n,a){if(r.lastUpdateOptions&&JSON.stringify(r.lastUpdateOptions)===JSON.stringify(e))return n(r);r.lastUpdateOptions=U.clone(e),new iT(r.ctx).clear({isUpdating:!0});var i=r.create(r.w.config.series,e);if(!i)return n(r);r.mount(i).then(function(){typeof r.w.config.chart.events.updated=="function"&&r.w.config.chart.events.updated(r,r.w),r.events.fireEvent("updated",[r,r.w]),r.w.globals.isDirty=!0,n(r)}).catch(function(s){a(s)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),r=[this];return e.length&&(r=[],e.forEach(function(n){r.push(n)})),r}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(r){if(r.group)return!0}).map(function(r){return e.w.config.chart.group===r.group?r.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,r){return this.series.toggleSeriesOnHover(e,r)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,r)}},{key:"addEventListener",value:function(e,r){this.events.addEventListener(e,r)}},{key:"removeEventListener",value:function(e,r){this.events.removeEventListener(e,r)}},{key:"addXaxisAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addXaxisAnnotationExternal(e,r,a)}},{key:"addYaxisAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addYaxisAnnotationExternal(e,r,a)}},{key:"addPointAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addPointAnnotationExternal(e,r,a)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=this;e&&(r=e),r.annotations.clearAnnotations(r)}},{key:"removeAnnotation",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=this;r&&(n=r),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,r){return this.coreUtils.getSeriesTotalsXRange(e,r)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new sj(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new sj(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,r){return this.updateHelpers.toggleDataPointSelection(e,r)}},{key:"zoomX",value:function(e,r){this.ctx.toolbar.zoomUpdateOptions(e,r)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new If(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new If(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new If(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var r=U.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter(function(a){return a.id===r})[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),r=0;r<e.length;r++)new t(e[r],JSON.parse(e[r].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,r){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var a=null;if(n.publicMethods.indexOf(r)!==-1){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];a=n[r].apply(n,s)}return a}}},{key:"merge",value:function(e,r){return U.extend(e,r)}}]),t}();const Wse=Object.freeze(Object.defineProperty({__proto__:null,default:Bse},Symbol.toStringTag,{value:"Module"})),Hse=ck(Wse);var LW={exports:{}},Use="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Yse=Use,Xse=Yse;function $W(){}function FW(){}FW.resetWarningCache=$W;var Vse=function(){function t(n,a,i,s,o,l){if(l!==Xse){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:FW,resetWarningCache:$W};return r.PropTypes=r,r};LW.exports=Vse();var zW=LW.exports;const Ke=Ct(zW);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var e=o(_),r=i(Hse),n=i(zW),a=["type","width","height","series","options"];function i(w){return w&&w.__esModule?w:{default:w}}function s(w){var S,k;return typeof WeakMap!="function"?null:(S=new WeakMap,k=new WeakMap,(s=function(C){return C?k:S})(w))}function o(w,S){if(!S&&w&&w.__esModule)return w;if(w===null||h(w)!="object"&&typeof w!="function")return{default:w};if(S=s(S),S&&S.has(w))return S.get(w);var k,C,A={__proto__:null},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in w)k!=="default"&&{}.hasOwnProperty.call(w,k)&&((C=N?Object.getOwnPropertyDescriptor(w,k):null)&&(C.get||C.set)?Object.defineProperty(A,k,C):A[k]=w[k]);return A.default=w,S&&S.set(w,A),A}function l(){return(l=Object.assign?Object.assign.bind():function(w){for(var S=1;S<arguments.length;S++){var k,C=arguments[S];for(k in C)!{}.hasOwnProperty.call(C,k)||(w[k]=C[k])}return w}).apply(null,arguments)}function u(w,S){if(w==null)return{};var k,C=d(w,S);if(Object.getOwnPropertySymbols)for(var A=Object.getOwnPropertySymbols(w),N=0;N<A.length;N++)k=A[N],S.includes(k)||{}.propertyIsEnumerable.call(w,k)&&(C[k]=w[k]);return C}function d(w,S){if(w==null)return{};var k,C={};for(k in w)if({}.hasOwnProperty.call(w,k)){if(S.includes(k))continue;C[k]=w[k]}return C}function h(w){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function f(w,S){var k,C=Object.keys(w);return Object.getOwnPropertySymbols&&(k=Object.getOwnPropertySymbols(w),S&&(k=k.filter(function(A){return Object.getOwnPropertyDescriptor(w,A).enumerable})),C.push.apply(C,k)),C}function p(w){for(var S=1;S<arguments.length;S++){var k=arguments[S]!=null?arguments[S]:{};S%2?f(Object(k),!0).forEach(function(C){g(w,C,k[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(k)):f(Object(k)).forEach(function(C){Object.defineProperty(w,C,Object.getOwnPropertyDescriptor(k,C))})}return w}function g(w,S,k){return(S=m(S))in w?Object.defineProperty(w,S,{value:k,enumerable:!0,configurable:!0,writable:!0}):w[S]=k,w}function m(w){return w=v(w,"string"),h(w)=="symbol"?w:w+""}function v(w,S){if(h(w)!="object"||!w)return w;var k=w[Symbol.toPrimitive];if(k===void 0)return(S==="string"?String:Number)(w);if(k=k.call(w,S||"default"),h(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}function x(w,S){var k=p({},w);return S.forEach(function(C){delete k[C]}),k}function y(w,S){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(w!==S){if(h(w)!=="object"||w===null||h(S)!=="object"||S===null)return!1;if(!k.has(w)&&!k.has(S)){k.add(w),k.add(S);var C=Object.keys(w),A=Object.keys(S);if(C.length!==A.length)return!1;for(var N=0,P=C;N<P.length;N++){var E=P[N];if(!A.includes(E)||!y(w[E],S[E],k))return!1}}}return!0}function b(D){function S(R){return R&&h(R)==="object"&&!Array.isArray(R)}var E=D.type,k=E===void 0?"line":E,E=D.width,C=E===void 0?"100%":E,E=D.height,A=E===void 0?"auto":E,N=D.series,P=D.options,E=u(D,a),O=(0,e.useRef)(null),T=(0,e.useRef)(null),M=(0,e.useRef)(),L=((0,e.useEffect)(function(){M.current=P;var R=O.current;return T.current=new r.default(R,L()),T.current.render(),function(){T.current&&typeof T.current.destroy=="function"&&T.current.destroy()}},[]),(0,e.useEffect)(function(){var R=!y(T.current.w.config.series,N),F=!y(M.current,P)||A!==T.current.opts.chart.height||C!==T.current.opts.chart.width;(R||F)&&(!R||F?T.current.updateOptions(L()):T.current.updateSeries(N)),M.current=P},[P,N,A,C]),function(){return I(P,{chart:{type:k,height:A,width:C},series:N})}),I=function(R,F){var z=p({},R);return S(R)&&S(F)&&Object.keys(F).forEach(function(B){S(F[B])&&B in R?z[B]=I(R[B],F[B]):Object.assign(z,g({},B,F[B]))}),z},D=x(E,Object.keys(b.propTypes));return e.default.createElement("div",l({ref:O},D))}b.propTypes={type:n.default.string.isRequired,series:n.default.array.isRequired,options:n.default.object.isRequired,width:n.default.oneOfType([n.default.string,n.default.number]),height:n.default.oneOfType([n.default.string,n.default.number])}})(UB);const qse=Ct(UB);function Gse({data:t}){if(!t.length)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"text-center",children:c.jsx("div",{className:"text-lg font-medium text-muted-foreground",children:"No hay datos para mostrar en el gráfico"})})});const e=[...t].sort((u,d)=>new Date(u.postdate).getTime()-new Date(d.postdate).getTime()),r=e.map(u=>u.postdate);(()=>{let u=-1;for(let d=e.length-1;d>=0;d--)if(e[d].actual!==null&&e[d].actual!==0){u=d;break}return u>=0&&u<e.length-1?e[u+1].postdate:null})();const a=(u,d)=>u.map((h,f)=>h===null||h===0?null:{x:d[f],y:h}).filter(h=>h!==null),i=()=>{const u=e.map((x,y)=>({x:y,y:x.actual,date:x.postdate})).filter(x=>x.y!==null&&x.y!==0);if(u.length<2)return[];const d=u.length,h=u.reduce((x,y)=>x+y.x,0),f=u.reduce((x,y)=>x+y.y,0),p=u.reduce((x,y)=>x+y.x*y.y,0),g=u.reduce((x,y)=>x+y.x*y.x,0),m=(d*p-h*f)/(d*g-h*h),v=(f-m*h)/d;return e.map((x,y)=>({x:x.postdate,y:m*y+v}))},s=[{name:"Historia de ventas",data:a(e.map(u=>u.actual),r)},{name:"Forecast",data:a(e.map(u=>u.forecast),r)},{name:"Objetivo de ventas",data:a(e.map(u=>u.sales_plan),r)},{name:"Demand Planner",data:a(e.map(u=>u.demand_planner),r)},{name:"Historia Ajustada",data:a(e.map(u=>u.fitted_history),r)},{name:"Tendencia",data:i()}],o=`chart-${t.length}-${r[0]}-${r[r.length-1]}-${Date.now()}`,l={chart:{height:350,type:"line",toolbar:{show:!1},zoom:{enabled:!0},animations:{enabled:!1},redrawOnParentResize:!0,redrawOnWindowResize:!0},colors:["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#DC2626"],stroke:{width:[3,3,2,2,2,2],curve:"smooth",dashArray:[0,0,0,0,5,8]},fill:{opacity:[1,1,1,1,1,.8]},markers:{size:[4,4,3,3,3,0],strokeWidth:2,strokeOpacity:.9,fillOpacity:1,hover:{size:6}},xaxis:{type:"datetime",labels:{format:"yyyy-MM-dd",style:{colors:"#374151"}},axisBorder:{show:!0,color:"#E5E7EB"},axisTicks:{show:!0,color:"#E5E7EB"}},yaxis:{title:{text:"Cantidad",style:{color:"#374151",fontSize:"12px",fontWeight:600}},labels:{formatter:function(u){return new Intl.NumberFormat("en-US").format(u)},style:{colors:"#374151"}},axisBorder:{show:!0,color:"#E5E7EB"}},tooltip:{enabled:!0,shared:!0,intersect:!1,theme:"light",followCursor:!0,y:{formatter:function(u){return new Intl.NumberFormat("en-US").format(u)}},x:{format:"dd MMM yyyy"}},legend:{show:!0,position:"bottom",horizontalAlign:"center",floating:!1,fontSize:"12px",fontWeight:500,offsetY:10,labels:{colors:"#374151",useSeriesColors:!1},markers:{strokeWidth:0,offsetX:0,offsetY:0},itemMargin:{horizontal:15,vertical:5}},grid:{show:!0,borderColor:"#E5E7EB",strokeDashArray:1,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},padding:{top:0,right:0,bottom:0,left:0}}};return c.jsx("div",{className:"w-full",children:c.jsx(qse,{options:l,series:s,type:"line",height:350},o)})}function Kse(t,e=[]){let r=[];function n(i,s){const o=_.createContext(s),l=r.length;r=[...r,s];const u=h=>{var x;const{scope:f,children:p,...g}=h,m=((x=f==null?void 0:f[t])==null?void 0:x[l])||o,v=_.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[l])||o,g=_.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return a.scopeName=t,[n,Zse(a,...e)]}function Zse(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...o,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function sT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Qse(...t){return e=>{let r=!1;const n=t.map(a=>{const i=sT(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():sT(t[a],null)}}}}function Jse(t){const e=eoe(t),r=_.forwardRef((n,a)=>{const{children:i,...s}=n,o=_.Children.toArray(i),l=o.find(roe);if(l){const u=l.props.children,d=o.map(h=>h===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...s,ref:a,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function eoe(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const s=aoe(a),o=noe(i,a.props);return a.type!==_.Fragment&&(o.ref=n?Qse(n,s):s),_.cloneElement(a,o)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var toe=Symbol("radix.slottable");function roe(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===toe}function noe(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function aoe(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var ioe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BW=ioe.reduce((t,e)=>{const r=Jse(`Primitive.${e}`),n=_.forwardRef((a,i)=>{const{asChild:s,...o}=a,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),bN="Progress",wN=100,[soe,Nze]=Kse(bN),[ooe,loe]=soe(bN),WW=_.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=coe,...s}=t;(a||a===0)&&!oT(a)&&console.error(uoe(`${a}`,"Progress"));const o=oT(a)?a:wN;n!==null&&!lT(n,o)&&console.error(doe(`${n}`,"Progress"));const l=lT(n,o)?n:null,u=vy(l)?i(l,o):void 0;return c.jsx(ooe,{scope:r,value:l,max:o,children:c.jsx(BW.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":vy(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":YW(l,o),"data-value":l??void 0,"data-max":o,...s,ref:e})})});WW.displayName=bN;var HW="ProgressIndicator",UW=_.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=loe(HW,r);return c.jsx(BW.div,{"data-state":YW(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});UW.displayName=HW;function coe(t,e){return`${Math.round(t/e*100)}%`}function YW(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function vy(t){return typeof t=="number"}function oT(t){return vy(t)&&!isNaN(t)&&t>0}function lT(t,e){return vy(t)&&!isNaN(t)&&t<=e&&t>=0}function uoe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${wN}\`.`}function doe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${wN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var XW=WW,hoe=UW;const ti=_.forwardRef(({className:t,value:e,...r},n)=>c.jsx(XW,{ref:n,className:le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:c.jsx(hoe,{className:"h-full w-full flex-1 bg-custom-slate transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));ti.displayName=XW.displayName;function foe({selectedProductId:t,selectedLocationId:e,selectedCustomerId:r}){const[n,a]=_.useState(null),[i,s]=_.useState(!0);if(_.useEffect(()=>{t?o():(s(!1),a(null))},[t,e,r]),!t)return c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx(ee,{className:"w-full max-w-md",children:c.jsxs(te,{className:"flex flex-col items-center justify-center p-8 text-center space-y-4",children:[c.jsx("div",{className:"flex items-center gap-4 text-muted-foreground",children:c.jsx(Zt,{className:"h-8 w-8"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Selecciona Producto"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Para ver las métricas detalladas, selecciona un producto. La ubicación es opcional."})]})]})})});const o=async()=>{try{s(!0);let d=ue.from("forecast_error_metrics").select("*").order("created_at",{ascending:!1}),h=ue.from("forecast_interpretability").select("*").order("created_at",{ascending:!1});t&&(d=d.eq("product_id",t),h=h.eq("product_id",t)),e&&(d=d.eq("location_id",e),h=h.eq("location_id",e)),r&&(d=d.eq("customer_id",r),h=h.eq("customer_id",r));const{data:f}=await d.limit(1).single(),{data:p}=await h.limit(1).single();if(f&&p){const g={forecast_accuracy:100-(f.mape||0),model_confidence:p.interpretability_score||0,forecast_bias:f.forecast_bias||0,uncertainty_quality:f.uncertainty_quality_score||0,mae:f.mae||0,rmse:f.rmse||0,smape:f.smape||0,model_name:p.model_name||"Unknown",interpretability_score:p.interpretability_score||0,model_complexity:p.model_complexity||"Moderado",confidence_level:p.confidence_level||"Media",forecast_explanation:p.forecast_explanation||"",primary_drivers:p.primary_drivers||[],risk_factors:p.risk_factors||[],recommended_actions:p.recommended_actions||[],data_pattern_type:p.data_pattern_type||"intermittent",zero_frequency:f.zero_frequency||0,volatility_coefficient:f.volatility_coefficient||0,seasonality_strength:f.seasonality_strength||0,inventory_recommendations:String(p.inventory_recommendations||"")};a(g)}}catch(d){console.error("Error fetching metrics data:",d)}finally{s(!1)}},l=(d,h=70)=>d>=h?c.jsx(ia,{className:"h-4 w-4 text-custom-slate"}):c.jsx(gs,{className:"h-4 w-4 text-red-500"}),u=(d,h=70)=>d>=h?"text-custom-slate":"text-red-500";return i?c.jsx("div",{className:"flex items-center justify-center p-8",children:"Cargando métricas..."}):n?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(ee,{children:c.jsx(te,{className:"p-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Precisión del Pronóstico"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:`text-2xl font-bold ${u(n.forecast_accuracy)}`,children:[n.forecast_accuracy.toFixed(1),"%"]}),l(n.forecast_accuracy)]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"MAPE promedio"})]})})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Confianza del Modelo"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:`text-2xl font-bold ${u(n.model_confidence)}`,children:[n.model_confidence.toFixed(0),"%"]}),l(n.model_confidence)]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Score de interpretabilidad"})]})})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Sesgo del Pronóstico"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`text-2xl font-bold ${Math.abs(n.forecast_bias)<.1?"text-custom-slate":"text-red-500"}`,children:n.forecast_bias.toFixed(2)}),Math.abs(n.forecast_bias)<.1?c.jsx(Zr,{className:"h-4 w-4 text-custom-slate"}):c.jsx(Wr,{className:"h-4 w-4 text-red-500"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Tendencia de sobre/sub estimación"})]})})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Calidad de Incertidumbre"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:`text-2xl font-bold ${u(n.uncertainty_quality*100)}`,children:[(n.uncertainty_quality*100).toFixed(0),"%"]}),l(n.uncertainty_quality*100)]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Confiabilidad de intervalos"})]})})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Aa,{className:"h-5 w-5"}),"Rendimiento del Modelo"]})}),c.jsxs(te,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"MAE (Error Absoluto Medio)"}),c.jsx("span",{className:"font-semibold",children:n.mae.toFixed(2)})]}),c.jsx(ti,{value:Math.min(100-n.mae*10,100),className:"h-2 bg-slate-200",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-custom-slate-600 to-custom-slate-800 transition-all",style:{width:`${Math.min(100-n.mae*10,100)}%`}})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"RMSE (Error Cuadrático Medio)"}),c.jsx("span",{className:"font-semibold",children:n.rmse.toFixed(2)})]}),c.jsx(ti,{value:Math.min(100-n.rmse*5,100),className:"h-2 bg-slate-200",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-custom-slate-600 to-custom-slate-800 transition-all",style:{width:`${Math.min(100-n.rmse*5,100)}%`}})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"SMAPE (Error Porcentual Simétrico)"}),c.jsx("span",{className:"font-semibold",children:n.smape.toFixed(2)})]}),c.jsx(ti,{value:Math.min(100-n.smape,100),className:"h-2 bg-slate-200",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-custom-slate-600 to-custom-slate-800 transition-all",style:{width:`${Math.min(100-n.smape,100)}%`}})})]}),c.jsx("div",{className:"pt-3 border-t",children:c.jsx(_e,{variant:"outline",className:"bg-custom-slate-50 text-custom-slate-700 border-custom-slate-200",children:"Aceptable para el negocio"})})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Aa,{className:"h-5 w-5"}),"Características de los Datos"]})}),c.jsxs(te,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm",children:"Patrón de Datos"}),c.jsx("span",{className:"font-semibold",children:"Clasificación"})]}),c.jsx(_e,{variant:"outline",className:"mt-2 bg-slate-100 text-slate-700",children:n.data_pattern_type})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Frecuencia de Ceros"}),c.jsxs("span",{className:"font-semibold",children:[(n.zero_frequency*100).toFixed(2),"%"]})]}),c.jsx(ti,{value:n.zero_frequency*100,className:"h-2 bg-custom-slate-100",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-custom-slate-500 to-custom-slate-700 transition-all",style:{width:`${n.zero_frequency*100}%`}})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Volatilidad"}),c.jsxs("span",{className:"font-semibold",children:[(n.volatility_coefficient*100).toFixed(2),"%"]})]}),c.jsx(ti,{value:n.volatility_coefficient*100,className:"h-2 bg-custom-slate-100",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-custom-slate-500 to-custom-slate-700 transition-all",style:{width:`${n.volatility_coefficient*100}%`}})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Estacionalidad"}),c.jsxs("span",{className:"font-semibold",children:[(n.seasonality_strength*100).toFixed(2),"%"]})]}),c.jsx(ti,{value:n.seasonality_strength*100,className:"h-2 bg-custom-slate-100",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-custom-slate-500 to-custom-slate-700 transition-all",style:{width:`${n.seasonality_strength*100}%`}})})]})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Wr,{className:"h-5 w-5"}),"Insights del Modelo"]})}),c.jsxs(te,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"flex justify-between items-center mb-2",children:c.jsx("span",{className:"text-sm font-medium",children:"Modelo Utilizado"})}),c.jsx(_e,{variant:"secondary",className:"bg-slate-100 text-slate-800",children:n.model_name})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Complejidad"}),c.jsx("p",{className:"text-sm mt-1",children:n.model_complexity})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Nivel de Confianza"}),c.jsx(_e,{variant:"outline",className:"ml-2 bg-custom-slate-50 text-custom-slate-700 border-custom-slate-200",children:n.confidence_level})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Explicación del Pronóstico"}),c.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:n.forecast_explanation||"No disponible."})]})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Zr,{className:"h-5 w-5"}),"Recomendaciones"]})}),c.jsxs(te,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Factores Principales"}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.primary_drivers.length>0?n.primary_drivers.map((d,h)=>c.jsx(_e,{variant:"outline",className:"text-xs bg-custom-slate-50 text-custom-slate-700 border-custom-slate-200",children:d},h)):c.jsx(c.Fragment,{})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Factores de Riesgo"}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.risk_factors.length>0?n.risk_factors.map((d,h)=>c.jsx(_e,{variant:"destructive",className:"text-xs",children:d},h)):c.jsx(c.Fragment,{})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Recomendación de Inventario"}),c.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:n.inventory_recommendations})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Acciones Recomendadas"}),c.jsx("div",{className:"space-y-2 mt-2",children:n.recommended_actions.length>0?n.recommended_actions.map((d,h)=>c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Zr,{className:"h-4 w-4 text-custom-slate mt-0.5"}),c.jsx("span",{className:"text-sm",children:d})]},h)):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Zr,{className:"h-4 w-4 text-custom-slate mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Mantener inventario base mínimo con capacidad de reabastecimiento rápido"})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Zr,{className:"h-4 w-4 text-custom-slate mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Implementar detección de demanda para señales tempranas"})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Zr,{className:"h-4 w-4 text-custom-slate mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Considerar estrategia make-to-order para este ítem"})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Zr,{className:"h-4 w-4 text-custom-slate mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Monitorear precisión del pronóstico y ajustar inventario de seguridad según corresponda"})]})]})})]})]})]})]})]}):c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground",children:"No hay datos disponibles"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No se encontraron métricas para el producto y ubicación seleccionados"})]})})}function _N(t,e,r){const[n,a]=_.useState([]),[i,s]=_.useState(!0),[o,l]=_.useState(null);_.useEffect(()=>{u()},[t,e,r]);const u=async()=>{try{s(!0),l(null);let d=ue.from("forecast_interpretability").select("*").order("created_at",{ascending:!1});t&&(d=d.eq("product_id",t)),e&&(d=d.eq("location_id",e)),r&&(d=d.eq("customer_id",r));const{data:h,error:f}=await d;if(f)throw f;a(h||[])}catch(d){console.error("Error fetching interpretability data:",d),l(d instanceof Error?d.message:"Unknown error")}finally{s(!1)}};return{data:n,loading:i,error:o,refetch:u}}function poe({selectedProductId:t,selectedLocationId:e}){const{data:r,loading:n}=_N(t,e),a=o=>{switch(o){case"Alto":return"text-red-600 bg-red-50";case"Medio":return"text-yellow-600 bg-yellow-50";case"Bajo":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},i=(o,l)=>o.slice(0,3).map((u,d)=>{const h=["Alto","Medio","Bajo"],f=l==="Alta"?h[2]:l==="Media"?h[1]:h[0],p=["7 días","15 días","30 días"],g=["Costo ±15%","Precisión +8%","Inventario -12%"];return{title:u,priority:f,deadline:p[d]||"15 días",impact:g[d]||"Impacto +5%",status:d===0?"urgent":d===1?"in-progress":"planning"}});if(n)return c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Próximos Desafíos"})}),c.jsx(te,{children:c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("p",{className:"text-muted-foreground",children:"Cargando desafíos..."})})})]});if(!r.length)return c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Próximos Desafíos"})}),c.jsx(te,{children:c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("p",{className:"text-muted-foreground",children:"No hay desafíos identificados"})})})]});const s=r.flatMap(o=>i(o.risk_factors||[],o.confidence_level||"Media")).slice(0,3);return c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Próximos Desafíos"})}),c.jsx(te,{children:c.jsx("div",{className:"space-y-4",children:s.map((o,l)=>c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between p-4 border rounded-lg gap-3",children:[c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx(Wr,{className:"h-5 w-5 text-yellow-500 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm leading-relaxed break-words",children:o.title}),c.jsxs("div",{className:"text-sm text-muted-foreground flex flex-wrap items-center gap-4 mt-1",children:[c.jsxs("span",{className:"flex items-center gap-1 whitespace-nowrap",children:[c.jsx(Z4,{className:"h-3 w-3"}),o.deadline]}),c.jsx("span",{className:"whitespace-nowrap",children:o.impact})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[c.jsx(_e,{className:a(o.priority),children:o.priority}),c.jsx(_e,{variant:o.status==="urgent"?"destructive":"outline",children:o.status==="urgent"?"Urgente":o.status==="in-progress"?"En Progreso":"Planeando"})]})]},l))})})]})}function moe({selectedProductId:t,selectedLocationId:e}){const{data:r,loading:n}=_N(t,e);if(n)return c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Acciones Recomendadas"})}),c.jsx(te,{children:c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("p",{className:"text-muted-foreground",children:"Cargando acciones..."})})})]});const a=r.flatMap(o=>o.recommended_actions||[]).slice(0,3),i=r.flatMap(o=>o.risk_factors||[]).slice(0,2);if(!a.length&&!i.length)return c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Acciones Recomendadas"})}),c.jsx(te,{children:c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("p",{className:"text-muted-foreground",children:"No hay acciones recomendadas disponibles"})})})]});const s=o=>{const l=[Wr,id,Zr],u=["text-red-500","text-yellow-500","text-green-500"],d=["bg-red-50","bg-yellow-50","bg-green-50"],h=l[o%l.length],f=u[o%u.length],p=d[o%d.length];return{IconComponent:h,colorClass:f,bgClass:p}};return c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Acciones Recomendadas"})}),c.jsxs(te,{className:"space-y-4",children:[a.map((o,l)=>{const{IconComponent:u,colorClass:d,bgClass:h}=s(l);return c.jsxs("div",{className:`flex items-start gap-3 p-3 ${h} rounded-lg`,children:[c.jsx(u,{className:`h-5 w-5 ${d} mt-0.5`}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:o.length>60?o.substring(0,60)+"...":o}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Basado en análisis de interpretabilidad del modelo"})]})]},l)}),i.map((o,l)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 bg-orange-50 rounded-lg",children:[c.jsx(Wr,{className:"h-5 w-5 text-orange-500 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Mitigar Riesgo Identificado"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:o.length>80?o.substring(0,80)+"...":o})]})]},`risk-${l}`))]})]})}function VW(){const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(null);_.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const{data:l,error:u}=await ue.from("products").select("*").order("product_name");if(u)throw u;e(l||[])}catch(l){console.error("Error fetching products:",l),i(l instanceof Error?l.message:"An error occurred")}finally{n(!1)}};return{products:t,loading:r,error:a,getProductName:l=>{const u=t.find(d=>d.product_id===l);return(u==null?void 0:u.product_name)||`Producto ${l}`},refetch:s}}function qW(){const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(null);_.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const{data:l,error:u}=await ue.from("locations").select("*").order("location_name");if(u)throw u;e(l||[])}catch(l){console.error("Error fetching locations:",l),i(l instanceof Error?l.message:"An error occurred")}finally{n(!1)}};return{locations:t,loading:r,error:a,getLocationName:l=>{const u=t.find(d=>d.location_id===l);return(u==null?void 0:u.location_name)||`Ubicación ${l}`},refetch:s}}function GW(){const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(null);_.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const{data:l,error:u}=await ue.from("customers").select("*").order("customer_name");if(u)throw u;e(l||[])}catch(l){console.error("Error fetching customers:",l),i(l instanceof Error?l.message:"An error occurred")}finally{n(!1)}};return{customers:t,loading:r,error:a,getCustomerName:l=>{const u=t.find(d=>d.customer_id===l);return(u==null?void 0:u.customer_name)||`Cliente ${l}`},refetch:s}}const goe=(t,e,r)=>I4({queryKey:["outliers",t,e,r],queryFn:async()=>{if(!t||!e)return[];const n={product_id:t,customer_id:e};r&&(n.location_id=r);const{data:a,error:i}=await ue.from("demand_outliers").select("*").match(n);if(i)throw i;return(a==null?void 0:a.map(s=>({id:String(s.id||""),product_id:s.product_id||"",location_id:s.location_id||"",customer_id:s.customer_id||"",vendor_id:s.vendor_id||"",capped_value:s.capped_value||0,original_value:s.original_value||0,expected_value:s.expected_value||0,severity:s.severity||"",detection_method:s.detection_method||"",explanation:s.explanation||"",avg_deviation:s.avg_deviation||0,demand_outliers:s.demand_outliers||0,score:s.score||0,postdate:s.postdate||new Date().toISOString().split("T")[0]})))||[]},enabled:!!(t&&e)}),voe=({selectedProductId:t,selectedCustomerId:e,selectedLocationId:r})=>{const{data:n,isLoading:a,error:i}=goe(t,e,r);if(!t||!e)return c.jsx("div",{className:"p-6",children:c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsx("div",{className:"flex items-center justify-center text-center py-8",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(J2,{className:"h-6 w-6 mx-auto text-muted-foreground"}),c.jsx("h3",{className:"text-lg font-medium",children:"Selecciona Filtros"}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-sm",children:"Para ver el análisis de outliers, selecciona un producto y un cliente. La ubicación es opcional."})]})})})})});if(a)return c.jsx("div",{className:"p-6",children:c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cargando análisis de outliers..."})]})})})})});if(i)return c.jsx("div",{className:"p-6",children:c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsx("div",{className:"flex items-center justify-center text-center py-8",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(K4,{className:"h-6 w-6 mx-auto text-destructive"}),c.jsx("h3",{className:"text-lg font-medium",children:"Error al cargar datos"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"No se pudieron cargar los datos de outliers. Intenta de nuevo."})]})})})})});if(!n||n.length===0)return c.jsx("div",{className:"p-6",children:c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsx("div",{className:"flex items-center justify-center text-center py-8",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(J2,{className:"h-6 w-6 mx-auto text-muted-foreground"}),c.jsx("h3",{className:"text-lg font-medium",children:"Sin Outliers Detectados"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"No se encontraron outliers para los filtros seleccionados."})]})})})})});const s=o=>{switch(o==null?void 0:o.toLowerCase()){case"high":case"alto":return"destructive";case"medium":case"medio":return"secondary";case"low":case"bajo":return"outline";default:return"outline"}};return c.jsx("div",{className:"p-6 space-y-6",children:c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Análisis de Outliers de Demanda"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Se encontraron ",n.length," outliers en los datos de demanda"]})]}),c.jsx(te,{children:c.jsx("div",{className:"rounded-md border",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"Fecha"}),c.jsx(je,{children:"Severidad"}),c.jsx(je,{children:"Valor Original"}),c.jsx(je,{children:"Valor Esperado"}),c.jsx(je,{children:"Valor Ajustado"}),c.jsx(je,{children:"Desviación"}),c.jsx(je,{children:"Método"}),c.jsx(je,{children:"Explicación"})]})}),c.jsx(un,{children:n.map(o=>c.jsxs(Qe,{children:[c.jsx(he,{children:o.postdate}),c.jsx(he,{children:c.jsx(_e,{variant:s(o.severity),children:o.severity})}),c.jsx(he,{className:"font-medium",children:o.original_value.toLocaleString()}),c.jsx(he,{children:o.expected_value.toLocaleString()}),c.jsx(he,{children:o.capped_value.toLocaleString()}),c.jsxs(he,{children:[o.avg_deviation.toFixed(2),"%"]}),c.jsx(he,{children:c.jsx(_e,{variant:"outline",children:o.detection_method})}),c.jsx(he,{className:"max-w-xs",children:c.jsx("div",{className:"truncate",title:o.explanation,children:o.explanation})})]},o.id))})]})})})]})})};function yoe(){const[t]=X4(),e=()=>{try{const T=localStorage.getItem("demandForecastFilters");return T?JSON.parse(T):{}}catch{return{}}},r=T=>{try{localStorage.setItem("demandForecastFilters",JSON.stringify(T))}catch(M){console.warn("Failed to save filters to localStorage:",M)}},n=e(),[a,i]=_.useState(t.get("product_id")||n.productId||""),[s,o]=_.useState(t.get("location_id")||n.locationId||""),[l,u]=_.useState(t.get("customer_id")||n.customerId||""),[d,h]=_.useState([]),[f,p]=_.useState(!1),[g,m]=_.useState(!1),[v,x]=_.useState(!1),{data:y}=_N(a,s,l),{getProductName:b}=VW(),{getLocationName:w}=qW(),{getCustomerName:S}=GW();_.useEffect(()=>{const T=t.get("product_id"),M=t.get("location_id"),L=t.get("customer_id");T&&T!==a&&i(T),M&&M!==s&&o(M),L&&L!==l&&u(L)},[t]);const k=T=>{i(T),r({productId:T,locationId:s,customerId:l}),console.log("Producto seleccionado en Demand Forecast:",T)},C=T=>{o(T),r({productId:a,locationId:T,customerId:l}),console.log("Ubicación seleccionada en Demand Forecast:",T)},A=T=>{u(T),r({productId:a,locationId:s,customerId:T}),console.log("Cliente seleccionado en Demand Forecast:",T)},N=T=>{h(T)},P=()=>{i(""),o(""),u(""),r({productId:"",locationId:"",customerId:""}),console.log("Filtros limpiados")},O=(()=>{if(!y.length)return{forecastAccuracy:85,responseTime:"3.2 días",compliance:82,marketAlignment:78};const T=y.reduce((I,D)=>I+(D.interpretability_score||0),0)/y.length,L=y.filter(I=>I.confidence_level==="Alta").length/y.length*100;return{forecastAccuracy:Math.round(T),responseTime:T>80?"2.1 días":"3.5 días",compliance:Math.round(L),marketAlignment:Math.round((T+L)/2)}})();return c.jsxs("div",{className:"space-y-6",children:[c.jsx(ee,{children:c.jsx(te,{className:"p-4",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zt,{className:"h-4 w-4 text-blue-500"}),c.jsx("span",{className:"text-sm font-medium",children:"Producto:"}),a?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_e,{variant:"outline",children:a}),c.jsx(_e,{variant:"secondary",children:b(a)})]}):c.jsx("span",{className:"text-sm text-muted-foreground",children:"No seleccionado (obligatorio)"}),c.jsx(de,{variant:"outline",size:"icon",onClick:()=>p(!0),className:"ml-2 h-8 w-8",children:c.jsx(Eu,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(wm,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{className:"text-sm font-medium",children:"Ubicación:"}),s?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_e,{variant:"outline",children:s}),c.jsx(_e,{variant:"secondary",children:w(s)})]}):c.jsx("span",{className:"text-sm text-muted-foreground",children:"No seleccionada (opcional)"}),c.jsx(de,{variant:"outline",size:"icon",onClick:()=>m(!0),className:"ml-2 h-8 w-8",children:c.jsx(Eu,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(bS,{className:"h-4 w-4 text-orange-500"}),c.jsx("span",{className:"text-sm font-medium",children:"Cliente:"}),l?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_e,{variant:"outline",children:l}),c.jsx(_e,{variant:"secondary",children:S(l)})]}):c.jsx("span",{className:"text-sm text-muted-foreground",children:"No seleccionado (opcional)"}),c.jsx(de,{variant:"outline",size:"icon",onClick:()=>x(!0),className:"ml-2 h-8 w-8",children:c.jsx(Eu,{className:"h-4 w-4"})})]})]}),(a||s||l)&&c.jsx(de,{variant:"outline",size:"icon",onClick:P,className:"h-8 w-8",children:c.jsx(Na,{className:"h-4 w-4"})})]})})}),c.jsxs(ah,{defaultValue:"plan-demanda",className:"w-full",children:[c.jsxs(Ac,{className:"grid w-full grid-cols-4",children:[c.jsx(Rt,{value:"plan-demanda",children:"Plan de la demanda"}),c.jsx(Rt,{value:"metricas",children:"Métricas"}),c.jsx(Rt,{value:"outliers",children:"Outliers"})]}),c.jsxs(Nt,{value:"plan-demanda",className:"space-y-6 mt-6",children:[c.jsx("div",{className:"space-y-6 mt-6",children:c.jsxs(ee,{className:"lg:col-span-4",children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Gráfico de Pronósticos"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Visualización de datos de pronóstico vs. valores reales",a?`${s?` - Ubicación: ${s}`:" - Todas las ubicaciones"}${l?` - Proveedor: ${l}`:" - Todos los proveedores"}`:" - Selecciona producto para ver datos"]})]}),c.jsx(te,{children:c.jsx(Gse,{data:d})})]})}),c.jsxs(ee,{className:"lg:col-span-6",children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Tabla de Datos de Pronóstico"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Datos detallados con capacidad de edición para Demand Planner",a?`${s?` - Ubicación: ${s}`:" - Todas las ubicaciones"}${l?` - Proveedor: ${l}`:" - Todos los proveedores"}`:" - Selecciona producto para ver datos"]})]}),c.jsx(te,{className:"space-y-4",children:c.jsx(Cie,{selectedProductId:a,selectedLocationId:s,selectedCustomerId:l,onDataUpdate:N})})]})]}),c.jsx(Nt,{value:"metricas",className:"space-y-6 mt-6",children:c.jsx(foe,{selectedProductId:a,selectedLocationId:s,selectedCustomerId:l})}),c.jsx(Nt,{value:"outliers",className:"space-y-6 mt-6",children:c.jsx(voe,{selectedProductId:a,selectedCustomerId:l,selectedLocationId:s})}),c.jsx(Nt,{value:"colaboracion",className:"space-y-6 mt-6",children:a?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 gap-6",children:c.jsx(poe,{selectedProductId:a,selectedLocationId:s})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(moe,{selectedProductId:a,selectedLocationId:s}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Métricas de Colaboración"})}),c.jsxs(te,{children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Ventas - Precisión Compartida"}),c.jsxs("span",{className:"font-semibold",children:[O.forecastAccuracy,"%"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Compras - Tiempo de Respuesta"}),c.jsx("span",{className:"font-semibold",children:O.responseTime})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Supply Chain - Cumplimiento"}),c.jsxs("span",{className:"font-semibold",children:[O.compliance,"%"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Marketing - Alineación Promocional"}),c.jsxs("span",{className:"font-semibold",children:[O.marketAlignment,"%"]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t",children:c.jsxs(de,{className:"w-full",children:[c.jsx(bS,{className:"h-4 w-4 mr-2"}),"Generar Reporte S&OP"]})})]})]})]})]}):c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx(ee,{className:"w-full max-w-md",children:c.jsxs(te,{className:"flex flex-col items-center justify-center p-8 text-center space-y-4",children:[c.jsx("div",{className:"flex items-center gap-4 text-muted-foreground",children:c.jsx(Zt,{className:"h-8 w-8"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Selecciona Producto"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Para ver la información de colaboración, selecciona un producto."}),c.jsx(de,{onClick:()=>p(!0),className:"mt-2",children:"Seleccionar Producto"})]})]})})})})]}),c.jsx(Ob,{isOpen:f,onClose:()=>p(!1),onSelect:k}),c.jsx(Tb,{isOpen:g,onClose:()=>m(!1),onSelect:C}),c.jsx(Mb,{isOpen:v,onClose:()=>x(!1),onSelect:A})]})}function xoe({onProductSelect:t,selectedProductId:e}){const[r,n]=_.useState([]),[a,i]=_.useState(""),[s,o]=_.useState(2),[l,u]=_.useState(new Set),[d,h]=_.useState(!0);_.useEffect(()=>{f()},[]),_.useEffect(()=>{s>0&&p()},[s,a]);const f=async()=>{var y;try{console.log("Fetching product levels...");const{data:b,error:w}=await ue.from("system_config").select("product_levels");if(w){console.error("Error fetching product levels:",w),o(2);return}if(console.log("System config data:",b),!b||b.length===0){console.log("No system config found, using default 2 levels"),o(2);return}const S=((y=b[0])==null?void 0:y.product_levels)||2;console.log("Product levels from database:",S),o(S)}catch(b){console.error("Error fetching product levels:",b),o(2)}},p=async()=>{h(!0);try{console.log("Fetching products with levels:",s);let y=ue.from("products").select("*");a&&(y=y.or(`product_name.ilike.%${a}%,category_name.ilike.%${a}%,subcategory_name.ilike.%${a}%,class_name.ilike.%${a}%,subclass_name.ilike.%${a}%`));const{data:b,error:w}=await y;if(w)throw w;console.log("Products data:",b);const S=g(b||[],s);console.log("Built tree:",S),n(S)}catch(y){console.error("Error fetching products:",y)}finally{h(!1)}},g=(y,b)=>{console.log("Building tree with levels:",b);const w=new Map;return y.forEach(S=>{var N,P,E;const k=S.category_id||"no-category",C=S.category_name||"Sin Categoría";w.has(k)||w.set(k,{id:k,name:`${k} - ${C}`,level:"category",children:[],displayId:k});let A=w.get(k);if(b>=2){const O=`${k}-${S.subcategory_id||"no-subcategory"}`,T=S.subcategory_name||"Sin Subcategoría",M=S.subcategory_id||"no-subcategory";let L=(N=A.children)==null?void 0:N.find(I=>I.id===O);L||(L={id:O,name:`${M} - ${T}`,level:"subcategory",children:[],displayId:M},A.children.push(L)),A=L}if(b>=3){const O=`${A.id}-${S.class_id||"no-class"}`,T=S.class_name||"Sin Clase",M=S.class_id||"no-class";let L=(P=A.children)==null?void 0:P.find(I=>I.id===O);L||(L={id:O,name:`${M} - ${T}`,level:"class",children:[],displayId:M},A.children.push(L)),A=L}if(b>=4){const O=`${A.id}-${S.subclass_id||"no-subclass"}`,T=S.subclass_name||"Sin Subclase",M=S.subclass_id||"no-subclass";let L=(E=A.children)==null?void 0:E.find(I=>I.id===O);L||(L={id:O,name:`${M} - ${T}`,level:"subclass",children:[],displayId:M},A.children.push(L)),A=L}if(S.product_name){const O={id:S.product_id,name:`${S.product_id} - ${S.product_name}`,level:"product",displayId:S.product_id};A.children.push(O)}}),Array.from(w.values())},m=y=>{const b=new Set(l);b.has(y)?b.delete(y):b.add(y),u(b)},v=y=>{t==null||t(y)},x=(y,b=0)=>{const w=l.has(y.id),S=y.children&&y.children.length>0,k=y.level==="product",C=e===y.id;return c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:le("flex items-center py-1 px-2 cursor-pointer hover:bg-gray-100 rounded",C&&"bg-green-100 text-green-800",k&&"ml-4"),style:{paddingLeft:`${b*16+8}px`},onClick:()=>{k?v(y.id):S&&m(y.id)},children:[S&&!k&&c.jsx("div",{className:"mr-2",children:w?c.jsx(bm,{className:"h-4 w-4 text-gray-500"}):c.jsx(eh,{className:"h-4 w-4 text-gray-500"})}),k&&c.jsx("div",{className:"mr-2",children:c.jsx("div",{className:"h-4 w-4 flex items-center justify-center",children:c.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"})})}),c.jsx("span",{className:le("text-sm",k?"font-normal":"font-medium",C&&"font-semibold"),children:y.name})]}),S&&w&&c.jsx("div",{className:"ml-4",children:y.children.map(A=>x(A,b+1))})]},y.id)};return c.jsxs("div",{className:"w-full max-w-md bg-white border border-gray-200 p-4 pt-4 my-0 mx-0 px-[14px] rounded-lg h-[500px] flex flex-col",children:[c.jsxs("div",{className:"mb-4 flex-shrink-0",children:[c.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center",children:[c.jsx(xQ,{size:20,color:"#878787"}),"  Productos (Niveles: ",s,")"]}),c.jsxs("div",{className:"relative",children:[c.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(De,{type:"text",placeholder:"Search products...",value:a,onChange:y=>i(y.target.value),className:"pl-10"})]})]}),c.jsx(kc,{className:"flex-1",children:d?c.jsx("div",{className:"text-center py-4 text-gray-500",children:"Cargando productos..."}):r.length===0?c.jsx("div",{className:"text-center py-4 text-gray-500",children:"No se encontraron productos"}):c.jsx("div",{className:"space-y-1 pr-4",children:r.map(y=>x(y))})})]})}function boe(){const[t,e]=_.useState(""),r=n=>{e(n),console.log("Producto seleccionado:",n)};return c.jsx("div",{className:"container mx-auto py-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx(xoe,{onProductSelect:r,selectedProductId:t})}),c.jsx("div",{className:"lg:col-span-2",children:c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contenido del Producto"}),t?c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Producto seleccionado:"}),c.jsx("p",{className:"font-medium text-lg",children:t}),c.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded",children:c.jsx("p",{className:"text-sm text-gray-600",children:"Aquí puedes mostrar los detalles del producto seleccionado, como descripción, precio, imágenes, etc."})})]}):c.jsx("p",{className:"text-gray-500",children:"Selecciona un producto del filtro para ver sus detalles"})]})})]})})}function woe(){const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(""),[s,o]=_.useState(!1),[l,u]=_.useState(null),[d,h]=_.useState({product_id:"",product_name:"",category_name:"",category_id:"",subcategory_name:"",subcategory_id:"",class_name:"",class_id:"",subclass_name:"",subclass_id:""});_.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const{data:y,error:b}=await ue.from("products").select("*").order("product_id");if(b)throw b;const w=(y||[]).map(S=>({product_id:S.product_id,product_name:S.product_name||"",category_name:S.category_name,category_id:S.category_id,subcategory_name:S.subcategory_name,subcategory_id:S.subcategory_id,class_name:S.class_name,class_id:S.class_id,subclass_name:S.subclass_name,subclass_id:S.subclass_id}));e(w)}catch(y){console.error("Error fetching products:",y),ve.error("Error al cargar productos")}finally{n(!1)}},p=async y=>{y.preventDefault();try{if(l){const{error:b}=await ue.from("products").update(d).eq("product_id",l.product_id);if(b)throw b;ve.success("Producto actualizado exitosamente")}else{const b={id:Date.now().toString(),code:d.product_id,product_name:d.product_name,category_name:d.category_name||null,category_id:d.category_id||null,subcategory_name:d.subcategory_name||null,subcategory_id:d.subcategory_id||null,class_name:d.class_name||null,class_id:d.class_id||null,subclass_name:d.subclass_name||null,subclass_id:d.subclass_id||null},{error:w}=await ue.from("products").insert(b);if(w)throw w;ve.success("Producto creado exitosamente")}o(!1),u(null),v(),f()}catch(b){console.error("Error saving product:",b),ve.error("Error al guardar producto")}},g=y=>{u(y),h({product_id:y.product_id,product_name:y.product_name,category_name:y.category_name||"",category_id:y.category_id||"",subcategory_name:y.subcategory_name||"",subcategory_id:y.subcategory_id||"",class_name:y.class_name||"",class_id:y.class_id||"",subclass_name:y.subclass_name||"",subclass_id:y.subclass_id||""}),o(!0)},m=async y=>{if(confirm("¿Está seguro de que desea eliminar este producto?"))try{const{error:b}=await ue.from("products").delete().eq("product_id",y);if(b)throw b;ve.success("Producto eliminado exitosamente"),f()}catch(b){console.error("Error deleting product:",b),ve.error("Error al eliminar producto")}},v=()=>{h({product_id:"",product_name:"",category_name:"",category_id:"",subcategory_name:"",subcategory_id:"",class_name:"",class_id:"",subclass_name:"",subclass_id:""})},x=t.filter(y=>y.product_id.toLowerCase().includes(a.toLowerCase())||y.product_name.toLowerCase().includes(a.toLowerCase())||y.category_name&&y.category_name.toLowerCase().includes(a.toLowerCase())||y.subcategory_name&&y.subcategory_name.toLowerCase().includes(a.toLowerCase()));return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Zt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando productos..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Catálogo de Productos"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu inventario de productos"})]}),c.jsxs(Yr,{open:s,onOpenChange:o,children:[c.jsx(sh,{asChild:!0,children:c.jsxs(de,{onClick:()=>{v(),u(null)},children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Nuevo Producto"]})}),c.jsxs(Tr,{className:"max-w-2xl",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:l?"Editar Producto":"Nuevo Producto"})}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"product_id",children:"ID del Producto"}),c.jsx(De,{id:"product_id",value:d.product_id,onChange:y=>h({...d,product_id:y.target.value}),required:!0,disabled:!!l})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"product_name",children:"Nombre del Producto"}),c.jsx(De,{id:"product_name",value:d.product_name,onChange:y=>h({...d,product_name:y.target.value}),required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"category_name",children:"Categoría"}),c.jsx(De,{id:"category_name",value:d.category_name,onChange:y=>h({...d,category_name:y.target.value})})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"subcategory_name",children:"Subcategoría"}),c.jsx(De,{id:"subcategory_name",value:d.subcategory_name,onChange:y=>h({...d,subcategory_name:y.target.value})})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(de,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),c.jsxs(de,{type:"submit",children:[l?"Actualizar":"Crear"," Producto"]})]})]})]})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Buscar Productos"})}),c.jsx(te,{children:c.jsxs("div",{className:"relative",children:[c.jsx(Jo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(De,{placeholder:"Buscar por ID, nombre o categoría...",value:a,onChange:y=>i(y.target.value),className:"pl-10"})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{children:["Lista de Productos (",x.length,")"]})}),c.jsx(te,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"ID"}),c.jsx(je,{children:"Nombre"}),c.jsx(je,{children:"Categoría"}),c.jsx(je,{children:"Subcategoría"}),c.jsx(je,{children:"Acciones"})]})}),c.jsx(un,{children:x.map(y=>c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:y.product_id}),c.jsx(he,{children:y.product_name}),c.jsx(he,{children:y.category_name||"-"}),c.jsx(he,{children:y.subcategory_name||"-"}),c.jsx(he,{children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(de,{size:"sm",variant:"outline",onClick:()=>g(y),children:c.jsx(th,{className:"h-3 w-3"})}),c.jsx(de,{size:"sm",variant:"outline",onClick:()=>m(y.product_id),children:c.jsx(el,{className:"h-3 w-3"})})]})})]},y.product_id))})]})})})]})]})}function _oe(){const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(""),[s,o]=_.useState(!1),[l,u]=_.useState(null),[d,h]=_.useState({customer_id:"",customer_name:"",customer_logo:"",level_1:"",level_1_name:"",level_2:"",level_2_name:""});_.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const{data:y,error:b}=await ue.from("customers").select("*").order("customer_id");if(b)throw b;e(y||[])}catch(y){console.error("Error fetching customers:",y),ve.error("Error al cargar clientes")}finally{n(!1)}},p=async y=>{y.preventDefault();try{if(l){const{error:b}=await ue.from("customers").update(d).eq("id",l.id);if(b)throw b;ve.success("Cliente actualizado exitosamente")}else{const{error:b}=await ue.from("customers").insert([d]);if(b)throw b;ve.success("Cliente creado exitosamente")}o(!1),u(null),v(),f()}catch(b){console.error("Error saving customer:",b),ve.error("Error al guardar cliente")}},g=y=>{u(y),h({customer_id:y.customer_id,customer_name:y.customer_name,customer_logo:y.customer_logo||"",level_1:y.level_1||"",level_1_name:y.level_1_name||"",level_2:y.level_2||"",level_2_name:y.level_2_name||""}),o(!0)},m=async y=>{if(confirm("¿Está seguro de que desea eliminar este cliente?"))try{const{error:b}=await ue.from("customers").delete().eq("id",y);if(b)throw b;ve.success("Cliente eliminado exitosamente"),f()}catch(b){console.error("Error deleting customer:",b),ve.error("Error al eliminar cliente")}},v=()=>{h({customer_id:"",customer_name:"",customer_logo:"",level_1:"",level_1_name:"",level_2:"",level_2_name:""})},x=t.filter(y=>y.customer_id.toLowerCase().includes(a.toLowerCase())||y.customer_name.toLowerCase().includes(a.toLowerCase())||y.level_1_name&&y.level_1_name.toLowerCase().includes(a.toLowerCase()));return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Er,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando clientes..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Catálogo de Clientes"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu cartera de clientes"})]}),c.jsxs(Yr,{open:s,onOpenChange:o,children:[c.jsx(sh,{asChild:!0,children:c.jsxs(de,{onClick:()=>{v(),u(null)},children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Nuevo Cliente"]})}),c.jsxs(Tr,{className:"max-w-2xl",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:l?"Editar Cliente":"Nuevo Cliente"})}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"customer_id",children:"ID del Cliente"}),c.jsx(De,{id:"customer_id",value:d.customer_id,onChange:y=>h({...d,customer_id:y.target.value}),required:!0,disabled:!!l})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"customer_name",children:"Nombre del Cliente"}),c.jsx(De,{id:"customer_name",value:d.customer_name,onChange:y=>h({...d,customer_name:y.target.value}),required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"level_1",children:"Nivel 1"}),c.jsx(De,{id:"level_1",value:d.level_1,onChange:y=>h({...d,level_1:y.target.value})})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"level_1_name",children:"Nombre Nivel 1"}),c.jsx(De,{id:"level_1_name",value:d.level_1_name,onChange:y=>h({...d,level_1_name:y.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"level_2",children:"Nivel 2"}),c.jsx(De,{id:"level_2",value:d.level_2,onChange:y=>h({...d,level_2:y.target.value})})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"level_2_name",children:"Nombre Nivel 2"}),c.jsx(De,{id:"level_2_name",value:d.level_2_name,onChange:y=>h({...d,level_2_name:y.target.value})})]})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"customer_logo",children:"Logo del Cliente (URL)"}),c.jsx(De,{id:"customer_logo",value:d.customer_logo,onChange:y=>h({...d,customer_logo:y.target.value}),placeholder:"https://ejemplo.com/logo.png"})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(de,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),c.jsxs(de,{type:"submit",children:[l?"Actualizar":"Crear"," Cliente"]})]})]})]})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Buscar Clientes"})}),c.jsx(te,{children:c.jsxs("div",{className:"relative",children:[c.jsx(Jo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(De,{placeholder:"Buscar por ID, nombre o nivel...",value:a,onChange:y=>i(y.target.value),className:"pl-10"})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{children:["Lista de Clientes (",x.length,")"]})}),c.jsx(te,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"ID"}),c.jsx(je,{children:"Nombre"}),c.jsx(je,{children:"Nivel 1"}),c.jsx(je,{children:"Nivel 2"}),c.jsx(je,{children:"Acciones"})]})}),c.jsx(un,{children:x.map(y=>c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:y.customer_id}),c.jsx(he,{children:y.customer_name}),c.jsx(he,{children:y.level_1_name||"-"}),c.jsx(he,{children:y.level_2_name||"-"}),c.jsx(he,{children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(de,{size:"sm",variant:"outline",onClick:()=>g(y),children:c.jsx(th,{className:"h-3 w-3"})}),c.jsx(de,{size:"sm",variant:"outline",onClick:()=>m(y.id),children:c.jsx(el,{className:"h-3 w-3"})})]})})]},y.id))})]})})})]})]})}var Dm=t=>t.type==="checkbox",El=t=>t instanceof Date,mn=t=>t==null;const KW=t=>typeof t=="object";var cr=t=>!mn(t)&&!Array.isArray(t)&&KW(t)&&!El(t),ZW=t=>cr(t)&&t.target?Dm(t.target)?t.target.checked:t.target.value:t,Soe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,QW=(t,e)=>t.has(Soe(e)),joe=t=>{const e=t.constructor&&t.constructor.prototype;return cr(e)&&e.hasOwnProperty("isPrototypeOf")},SN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function En(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(SN&&(t instanceof Blob||t instanceof FileList))&&(r||cr(t)))if(e=r?[]:{},!r&&!joe(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=En(t[n]));else return t;return e}var Db=t=>Array.isArray(t)?t.filter(Boolean):[],rr=t=>t===void 0,Se=(t,e,r)=>{if(!e||!cr(t))return r;const n=Db(e.split(/[,[\].]+?/)).reduce((a,i)=>mn(a)?a:a[i],t);return rr(n)||n===t?rr(t[e])?r:t[e]:n},ba=t=>typeof t=="boolean",jN=t=>/^\w*$/.test(t),JW=t=>Db(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Mt=(t,e,r)=>{let n=-1;const a=jN(e)?[e]:JW(e),i=a.length,s=i-1;for(;++n<i;){const o=a[n];let l=r;if(n!==s){const u=t[o];l=cr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__")return;t[o]=l,t=t[o]}return t};const yy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ri={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eH=$.createContext(null),Lb=()=>$.useContext(eH),Coe=t=>{const{children:e,...r}=t;return $.createElement(eH.Provider,{value:r},e)};var tH=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const s=i;return e._proxyFormState[s]!==ri.all&&(e._proxyFormState[s]=!n||ri.all),r&&(r[s]=!0),t[s]}});return a},Mn=t=>cr(t)&&!Object.keys(t).length,rH=(t,e,r,n)=>{r(t);const{name:a,...i}=t;return Mn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===(!n||ri.all))},Df=t=>Array.isArray(t)?t:[t],nH=(t,e,r)=>!t||!e||t===e||Df(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function CN(t){const e=$.useRef(t);e.current=t,$.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function koe(t){const e=Lb(),{control:r=e.control,disabled:n,name:a,exact:i}=t||{},[s,o]=$.useState(r._formState),l=$.useRef(!0),u=$.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=$.useRef(a);return d.current=a,CN({disabled:n,next:h=>l.current&&nH(d.current,h.name,i)&&rH(h,u.current,r._updateFormState)&&o({...r._formState,...h}),subject:r._subjects.state}),$.useEffect(()=>(l.current=!0,u.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),tH(s,r,u.current,!1)}var Ri=t=>typeof t=="string",aH=(t,e,r,n,a)=>Ri(t)?(n&&e.watch.add(t),Se(r,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Se(r,i))):(n&&(e.watchAll=!0),r);function Aoe(t){const e=Lb(),{control:r=e.control,name:n,defaultValue:a,disabled:i,exact:s}=t||{},o=$.useRef(n);o.current=n,CN({disabled:i,subject:r._subjects.values,next:d=>{nH(o.current,d.name,s)&&u(En(aH(o.current,r._names,d.values||r._formValues,!1,a)))}});const[l,u]=$.useState(r._getWatch(n,a));return $.useEffect(()=>r._removeUnmounted()),l}function Noe(t){const e=Lb(),{name:r,disabled:n,control:a=e.control,shouldUnregister:i}=t,s=QW(a._names.array,r),o=Aoe({control:a,name:r,defaultValue:Se(a._formValues,r,Se(a._defaultValues,r,t.defaultValue)),exact:!0}),l=koe({control:a,name:r,exact:!0}),u=$.useRef(a.register(r,{...t.rules,value:o,...ba(t.disabled)?{disabled:t.disabled}:{}}));return $.useEffect(()=>{const d=a._options.shouldUnregister||i,h=(f,p)=>{const g=Se(a._fields,f);g&&g._f&&(g._f.mount=p)};if(h(r,!0),d){const f=En(Se(a._options.defaultValues,r));Mt(a._defaultValues,r,f),rr(Se(a._formValues,r))&&Mt(a._formValues,r,f)}return()=>{(s?d&&!a._state.action:d)?a.unregister(r):h(r,!1)}},[r,a,s,i]),$.useEffect(()=>{Se(a._fields,r)&&a._updateDisabledField({disabled:n,fields:a._fields,name:r,value:Se(a._fields,r)._f.value})},[n,r,a]),{field:{name:r,value:o,...ba(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:$.useCallback(d=>u.current.onChange({target:{value:ZW(d),name:r},type:yy.CHANGE}),[r]),onBlur:$.useCallback(()=>u.current.onBlur({target:{value:Se(a._formValues,r),name:r},type:yy.BLUR}),[r,a]),ref:$.useCallback(d=>{const h=Se(a._fields,r);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[a._fields,r])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Se(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!Se(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Se(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Se(l.validatingFields,r)},error:{enumerable:!0,get:()=>Se(l.errors,r)}})}}const Poe=t=>t.render(Noe(t));var Eoe=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},cT=t=>({isOnSubmit:!t||t===ri.onSubmit,isOnBlur:t===ri.onBlur,isOnChange:t===ri.onChange,isOnAll:t===ri.all,isOnTouch:t===ri.onTouched}),uT=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Lf=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const i=Se(t,a);if(i){const{_f:s,...o}=i;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],a)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(Lf(o,e))break}else if(cr(o)&&Lf(o,e))break}}};var Ooe=(t,e,r)=>{const n=Df(Se(t,r));return Mt(n,"root",e[r]),Mt(t,r,n),t},kN=t=>t.type==="file",ds=t=>typeof t=="function",xy=t=>{if(!SN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bv=t=>Ri(t),AN=t=>t.type==="radio",by=t=>t instanceof RegExp;const dT={value:!1,isValid:!1},hT={value:!0,isValid:!0};var iH=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!rr(t[0].attributes.value)?rr(t[0].value)||t[0].value===""?hT:{value:t[0].value,isValid:!0}:hT:dT}return dT};const fT={isValid:!1,value:null};var sH=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,fT):fT;function pT(t,e,r="validate"){if(bv(t)||Array.isArray(t)&&t.every(bv)||ba(t)&&!t)return{type:r,message:bv(t)?t:"",ref:e}}var Vc=t=>cr(t)&&!by(t)?t:{value:t,message:""},mT=async(t,e,r,n,a)=>{const{ref:i,refs:s,required:o,maxLength:l,minLength:u,min:d,max:h,pattern:f,validate:p,name:g,valueAsNumber:m,mount:v,disabled:x}=t._f,y=Se(e,g);if(!v||x)return{};const b=s?s[0]:i,w=O=>{n&&b.reportValidity&&(b.setCustomValidity(ba(O)?"":O||""),b.reportValidity())},S={},k=AN(i),C=Dm(i),A=k||C,N=(m||kN(i))&&rr(i.value)&&rr(y)||xy(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,P=Eoe.bind(null,g,r,S),E=(O,T,M,L=Qi.maxLength,I=Qi.minLength)=>{const D=O?T:M;S[g]={type:O?L:I,message:D,ref:i,...P(O?L:I,D)}};if(a?!Array.isArray(y)||!y.length:o&&(!A&&(N||mn(y))||ba(y)&&!y||C&&!iH(s).isValid||k&&!sH(s).isValid)){const{value:O,message:T}=bv(o)?{value:!!o,message:o}:Vc(o);if(O&&(S[g]={type:Qi.required,message:T,ref:b,...P(Qi.required,T)},!r))return w(T),S}if(!N&&(!mn(d)||!mn(h))){let O,T;const M=Vc(h),L=Vc(d);if(!mn(y)&&!isNaN(y)){const I=i.valueAsNumber||y&&+y;mn(M.value)||(O=I>M.value),mn(L.value)||(T=I<L.value)}else{const I=i.valueAsDate||new Date(y),D=z=>new Date(new Date().toDateString()+" "+z),R=i.type=="time",F=i.type=="week";Ri(M.value)&&y&&(O=R?D(y)>D(M.value):F?y>M.value:I>new Date(M.value)),Ri(L.value)&&y&&(T=R?D(y)<D(L.value):F?y<L.value:I<new Date(L.value))}if((O||T)&&(E(!!O,M.message,L.message,Qi.max,Qi.min),!r))return w(S[g].message),S}if((l||u)&&!N&&(Ri(y)||a&&Array.isArray(y))){const O=Vc(l),T=Vc(u),M=!mn(O.value)&&y.length>+O.value,L=!mn(T.value)&&y.length<+T.value;if((M||L)&&(E(M,O.message,T.message),!r))return w(S[g].message),S}if(f&&!N&&Ri(y)){const{value:O,message:T}=Vc(f);if(by(O)&&!y.match(O)&&(S[g]={type:Qi.pattern,message:T,ref:i,...P(Qi.pattern,T)},!r))return w(T),S}if(p){if(ds(p)){const O=await p(y,e),T=pT(O,b);if(T&&(S[g]={...T,...P(Qi.validate,T.message)},!r))return w(T.message),S}else if(cr(p)){let O={};for(const T in p){if(!Mn(O)&&!r)break;const M=pT(await p[T](y,e),b,T);M&&(O={...M,...P(T,M.message)},w(M.message),r&&(S[g]=O))}if(!Mn(O)&&(S[g]={ref:b,...O},!r))return S}}return w(!0),S};function Toe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=rr(t)?n++:t[e[n++]];return t}function Moe(t){for(const e in t)if(t.hasOwnProperty(e)&&!rr(t[e]))return!1;return!0}function vr(t,e){const r=Array.isArray(e)?e:jN(e)?[e]:JW(e),n=r.length===1?t:Toe(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(cr(n)&&Mn(n)||Array.isArray(n)&&Moe(n))&&vr(t,r.slice(0,-1)),t}var n1=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},hj=t=>mn(t)||!KW(t);function so(t,e){if(hj(t)||hj(e))return t===e;if(El(t)&&El(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const a of r){const i=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const s=e[a];if(El(i)&&El(s)||cr(i)&&cr(s)||Array.isArray(i)&&Array.isArray(s)?!so(i,s):i!==s)return!1}}return!0}var oH=t=>t.type==="select-multiple",Roe=t=>AN(t)||Dm(t),a1=t=>xy(t)&&t.isConnected,lH=t=>{for(const e in t)if(ds(t[e]))return!0;return!1};function wy(t,e={}){const r=Array.isArray(t);if(cr(t)||r)for(const n in t)Array.isArray(t[n])||cr(t[n])&&!lH(t[n])?(e[n]=Array.isArray(t[n])?[]:{},wy(t[n],e[n])):mn(t[n])||(e[n]=!0);return e}function cH(t,e,r){const n=Array.isArray(t);if(cr(t)||n)for(const a in t)Array.isArray(t[a])||cr(t[a])&&!lH(t[a])?rr(e)||hj(r[a])?r[a]=Array.isArray(t[a])?wy(t[a],[]):{...wy(t[a])}:cH(t[a],mn(e)?{}:e[a],r[a]):r[a]=!so(t[a],e[a]);return r}var Yh=(t,e)=>cH(t,e,wy(e)),uH=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>rr(t)?t:e?t===""?NaN:t&&+t:r&&Ri(t)?new Date(t):n?n(t):t;function i1(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return kN(e)?e.files:AN(e)?sH(t.refs).value:oH(e)?[...e.selectedOptions].map(({value:r})=>r):Dm(e)?iH(t.refs).value:uH(rr(e.value)?t.ref.value:e.value,t)}var Ioe=(t,e,r,n)=>{const a={};for(const i of t){const s=Se(e,i);s&&Mt(a,i,s._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},Xh=t=>rr(t)?t:by(t)?t.source:cr(t)?by(t.value)?t.value.source:t.value:t;const gT="AsyncFunction";var Doe=t=>(!t||!t.validate)&&!!(ds(t.validate)&&t.validate.constructor.name===gT||cr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===gT)),Loe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function vT(t,e,r){const n=Se(t,r);if(n||jN(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=Se(e,i),o=Se(t,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};a.pop()}return{name:r}}var $oe=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,Foe=(t,e)=>!Db(Se(t,e)).length&&vr(t,e);const zoe={mode:ri.onSubmit,reValidateMode:ri.onChange,shouldFocusError:!0};function Boe(t={}){let e={...zoe,...t},r={submitCount:0,isDirty:!1,isLoading:ds(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=cr(e.defaultValues)||cr(e.values)?En(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:En(a),s={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:n1(),array:n1(),state:n1()},f=cT(e.mode),p=cT(e.reValidateMode),g=e.criteriaMode===ri.all,m=W=>V=>{clearTimeout(u),u=setTimeout(W,V)},v=async W=>{if(!t.disabled&&(d.isValid||W)){const V=e.resolver?Mn((await A()).errors):await P(n,!0);V!==r.isValid&&h.state.next({isValid:V})}},x=(W,V)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((W||Array.from(o.mount)).forEach(J=>{J&&(V?Mt(r.validatingFields,J,V):vr(r.validatingFields,J))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Mn(r.validatingFields)}))},y=(W,V=[],J,we,Y=!0,Q=!0)=>{if(we&&J&&!t.disabled){if(s.action=!0,Q&&Array.isArray(Se(n,W))){const xe=J(Se(n,W),we.argA,we.argB);Y&&Mt(n,W,xe)}if(Q&&Array.isArray(Se(r.errors,W))){const xe=J(Se(r.errors,W),we.argA,we.argB);Y&&Mt(r.errors,W,xe),Foe(r.errors,W)}if(d.touchedFields&&Q&&Array.isArray(Se(r.touchedFields,W))){const xe=J(Se(r.touchedFields,W),we.argA,we.argB);Y&&Mt(r.touchedFields,W,xe)}d.dirtyFields&&(r.dirtyFields=Yh(a,i)),h.state.next({name:W,isDirty:O(W,V),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Mt(i,W,V)},b=(W,V)=>{Mt(r.errors,W,V),h.state.next({errors:r.errors})},w=W=>{r.errors=W,h.state.next({errors:r.errors,isValid:!1})},S=(W,V,J,we)=>{const Y=Se(n,W);if(Y){const Q=Se(i,W,rr(J)?Se(a,W):J);rr(Q)||we&&we.defaultChecked||V?Mt(i,W,V?Q:i1(Y._f)):L(W,Q),s.mount&&v()}},k=(W,V,J,we,Y)=>{let Q=!1,xe=!1;const Ie={name:W};if(!t.disabled){const ft=!!(Se(n,W)&&Se(n,W)._f&&Se(n,W)._f.disabled);if(!J||we){d.isDirty&&(xe=r.isDirty,r.isDirty=Ie.isDirty=O(),Q=xe!==Ie.isDirty);const Tt=ft||so(Se(a,W),V);xe=!!(!ft&&Se(r.dirtyFields,W)),Tt||ft?vr(r.dirtyFields,W):Mt(r.dirtyFields,W,!0),Ie.dirtyFields=r.dirtyFields,Q=Q||d.dirtyFields&&xe!==!Tt}if(J){const Tt=Se(r.touchedFields,W);Tt||(Mt(r.touchedFields,W,J),Ie.touchedFields=r.touchedFields,Q=Q||d.touchedFields&&Tt!==J)}Q&&Y&&h.state.next(Ie)}return Q?Ie:{}},C=(W,V,J,we)=>{const Y=Se(r.errors,W),Q=d.isValid&&ba(V)&&r.isValid!==V;if(t.delayError&&J?(l=m(()=>b(W,J)),l(t.delayError)):(clearTimeout(u),l=null,J?Mt(r.errors,W,J):vr(r.errors,W)),(J?!so(Y,J):Y)||!Mn(we)||Q){const xe={...we,...Q&&ba(V)?{isValid:V}:{},errors:r.errors,name:W};r={...r,...xe},h.state.next(xe)}},A=async W=>{x(W,!0);const V=await e.resolver(i,e.context,Ioe(W||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x(W),V},N=async W=>{const{errors:V}=await A(W);if(W)for(const J of W){const we=Se(V,J);we?Mt(r.errors,J,we):vr(r.errors,J)}else r.errors=V;return V},P=async(W,V,J={valid:!0})=>{for(const we in W){const Y=W[we];if(Y){const{_f:Q,...xe}=Y;if(Q){const Ie=o.array.has(Q.name),ft=Y._f&&Doe(Y._f);ft&&d.validatingFields&&x([we],!0);const Tt=await mT(Y,i,g,e.shouldUseNativeValidation&&!V,Ie);if(ft&&d.validatingFields&&x([we]),Tt[Q.name]&&(J.valid=!1,V))break;!V&&(Se(Tt,Q.name)?Ie?Ooe(r.errors,Tt,Q.name):Mt(r.errors,Q.name,Tt[Q.name]):vr(r.errors,Q.name))}!Mn(xe)&&await P(xe,V,J)}}return J.valid},E=()=>{for(const W of o.unMount){const V=Se(n,W);V&&(V._f.refs?V._f.refs.every(J=>!a1(J)):!a1(V._f.ref))&&fe(W)}o.unMount=new Set},O=(W,V)=>!t.disabled&&(W&&V&&Mt(i,W,V),!so(B(),a)),T=(W,V,J)=>aH(W,o,{...s.mount?i:rr(V)?a:Ri(W)?{[W]:V}:V},J,V),M=W=>Db(Se(s.mount?i:a,W,t.shouldUnregister?Se(a,W,[]):[])),L=(W,V,J={})=>{const we=Se(n,W);let Y=V;if(we){const Q=we._f;Q&&(!Q.disabled&&Mt(i,W,uH(V,Q)),Y=xy(Q.ref)&&mn(V)?"":V,oH(Q.ref)?[...Q.ref.options].forEach(xe=>xe.selected=Y.includes(xe.value)):Q.refs?Dm(Q.ref)?Q.refs.length>1?Q.refs.forEach(xe=>(!xe.defaultChecked||!xe.disabled)&&(xe.checked=Array.isArray(Y)?!!Y.find(Ie=>Ie===xe.value):Y===xe.value)):Q.refs[0]&&(Q.refs[0].checked=!!Y):Q.refs.forEach(xe=>xe.checked=xe.value===Y):kN(Q.ref)?Q.ref.value="":(Q.ref.value=Y,Q.ref.type||h.values.next({name:W,values:{...i}})))}(J.shouldDirty||J.shouldTouch)&&k(W,Y,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&z(W)},I=(W,V,J)=>{for(const we in V){const Y=V[we],Q=`${W}.${we}`,xe=Se(n,Q);(o.array.has(W)||cr(Y)||xe&&!xe._f)&&!El(Y)?I(Q,Y,J):L(Q,Y,J)}},D=(W,V,J={})=>{const we=Se(n,W),Y=o.array.has(W),Q=En(V);Mt(i,W,Q),Y?(h.array.next({name:W,values:{...i}}),(d.isDirty||d.dirtyFields)&&J.shouldDirty&&h.state.next({name:W,dirtyFields:Yh(a,i),isDirty:O(W,Q)})):we&&!we._f&&!mn(Q)?I(W,Q,J):L(W,Q,J),uT(W,o)&&h.state.next({...r}),h.values.next({name:s.mount?W:void 0,values:{...i}})},R=async W=>{s.mount=!0;const V=W.target;let J=V.name,we=!0;const Y=Se(n,J),Q=()=>V.type?i1(Y._f):ZW(W),xe=Ie=>{we=Number.isNaN(Ie)||El(Ie)&&isNaN(Ie.getTime())||so(Ie,Se(i,J,Ie))};if(Y){let Ie,ft;const Tt=Q(),wi=W.type===yy.BLUR||W.type===yy.FOCUS_OUT,zs=!Loe(Y._f)&&!e.resolver&&!Se(r.errors,J)&&!Y._f.deps||$oe(wi,Se(r.touchedFields,J),r.isSubmitted,p,f),Ic=uT(J,o,wi);Mt(i,J,Tt),wi?(Y._f.onBlur&&Y._f.onBlur(W),l&&l(0)):Y._f.onChange&&Y._f.onChange(W);const Oh=k(J,Tt,wi,!1),Jm=!Mn(Oh)||Ic;if(!wi&&h.values.next({name:J,type:W.type,values:{...i}}),zs)return d.isValid&&(t.mode==="onBlur"?wi&&v():v()),Jm&&h.state.next({name:J,...Ic?{}:Oh});if(!wi&&Ic&&h.state.next({...r}),e.resolver){const{errors:Th}=await A([J]);if(xe(Tt),we){const U0=vT(r.errors,n,J),Dc=vT(Th,n,U0.name||J);Ie=Dc.error,J=Dc.name,ft=Mn(Th)}}else x([J],!0),Ie=(await mT(Y,i,g,e.shouldUseNativeValidation))[J],x([J]),xe(Tt),we&&(Ie?ft=!1:d.isValid&&(ft=await P(n,!0)));we&&(Y._f.deps&&z(Y._f.deps),C(J,ft,Ie,Oh))}},F=(W,V)=>{if(Se(r.errors,V)&&W.focus)return W.focus(),1},z=async(W,V={})=>{let J,we;const Y=Df(W);if(e.resolver){const Q=await N(rr(W)?W:Y);J=Mn(Q),we=W?!Y.some(xe=>Se(Q,xe)):J}else W?(we=(await Promise.all(Y.map(async Q=>{const xe=Se(n,Q);return await P(xe&&xe._f?{[Q]:xe}:xe)}))).every(Boolean),!(!we&&!r.isValid)&&v()):we=J=await P(n);return h.state.next({...!Ri(W)||d.isValid&&J!==r.isValid?{}:{name:W},...e.resolver||!W?{isValid:J}:{},errors:r.errors}),V.shouldFocus&&!we&&Lf(n,F,W?Y:o.mount),we},B=W=>{const V={...s.mount?i:a};return rr(W)?V:Ri(W)?Se(V,W):W.map(J=>Se(V,J))},q=(W,V)=>({invalid:!!Se((V||r).errors,W),isDirty:!!Se((V||r).dirtyFields,W),error:Se((V||r).errors,W),isValidating:!!Se(r.validatingFields,W),isTouched:!!Se((V||r).touchedFields,W)}),ie=W=>{W&&Df(W).forEach(V=>vr(r.errors,V)),h.state.next({errors:W?r.errors:{}})},ne=(W,V,J)=>{const we=(Se(n,W,{_f:{}})._f||{}).ref,Y=Se(r.errors,W)||{},{ref:Q,message:xe,type:Ie,...ft}=Y;Mt(r.errors,W,{...ft,...V,ref:we}),h.state.next({name:W,errors:r.errors,isValid:!1}),J&&J.shouldFocus&&we&&we.focus&&we.focus()},Ne=(W,V)=>ds(W)?h.values.subscribe({next:J=>W(T(void 0,V),J)}):T(W,V,!0),fe=(W,V={})=>{for(const J of W?Df(W):o.mount)o.mount.delete(J),o.array.delete(J),V.keepValue||(vr(n,J),vr(i,J)),!V.keepError&&vr(r.errors,J),!V.keepDirty&&vr(r.dirtyFields,J),!V.keepTouched&&vr(r.touchedFields,J),!V.keepIsValidating&&vr(r.validatingFields,J),!e.shouldUnregister&&!V.keepDefaultValue&&vr(a,J);h.values.next({values:{...i}}),h.state.next({...r,...V.keepDirty?{isDirty:O()}:{}}),!V.keepIsValid&&v()},X=({disabled:W,name:V,field:J,fields:we,value:Y})=>{if(ba(W)&&s.mount||W){const Q=W?void 0:rr(Y)?i1(J?J._f:Se(we,V)._f):Y;Mt(i,V,Q),k(V,Q,!1,!1,!0)}},ae=(W,V={})=>{let J=Se(n,W);const we=ba(V.disabled)||ba(t.disabled);return Mt(n,W,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:W}},name:W,mount:!0,...V}}),o.mount.add(W),J?X({field:J,disabled:ba(V.disabled)?V.disabled:t.disabled,name:W,value:V.value}):S(W,!0,V.value),{...we?{disabled:V.disabled||t.disabled}:{},...e.progressive?{required:!!V.required,min:Xh(V.min),max:Xh(V.max),minLength:Xh(V.minLength),maxLength:Xh(V.maxLength),pattern:Xh(V.pattern)}:{},name:W,onChange:R,onBlur:R,ref:Y=>{if(Y){ae(W,V),J=Se(n,W);const Q=rr(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,xe=Roe(Q),Ie=J._f.refs||[];if(xe?Ie.find(ft=>ft===Q):Q===J._f.ref)return;Mt(n,W,{_f:{...J._f,...xe?{refs:[...Ie.filter(a1),Q,...Array.isArray(Se(a,W))?[{}]:[]],ref:{type:Q.type,name:W}}:{ref:Q}}}),S(W,!1,void 0,Q)}else J=Se(n,W,{}),J._f&&(J._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(QW(o.array,W)&&s.action)&&o.unMount.add(W)}}},G=()=>e.shouldFocusError&&Lf(n,F,o.mount),Z=W=>{ba(W)&&(h.state.next({disabled:W}),Lf(n,(V,J)=>{const we=Se(n,J);we&&(V.disabled=we._f.disabled||W,Array.isArray(we._f.refs)&&we._f.refs.forEach(Y=>{Y.disabled=we._f.disabled||W}))},0,!1))},se=(W,V)=>async J=>{let we;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let Y=En(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Q,values:xe}=await A();r.errors=Q,Y=xe}else await P(n);if(vr(r.errors,"root"),Mn(r.errors)){h.state.next({errors:{}});try{await W(Y,J)}catch(Q){we=Q}}else V&&await V({...r.errors},J),G(),setTimeout(G);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(r.errors)&&!we,submitCount:r.submitCount+1,errors:r.errors}),we)throw we},K=(W,V={})=>{Se(n,W)&&(rr(V.defaultValue)?D(W,En(Se(a,W))):(D(W,V.defaultValue),Mt(a,W,En(V.defaultValue))),V.keepTouched||vr(r.touchedFields,W),V.keepDirty||(vr(r.dirtyFields,W),r.isDirty=V.defaultValue?O(W,En(Se(a,W))):O()),V.keepError||(vr(r.errors,W),d.isValid&&v()),h.state.next({...r}))},Pe=(W,V={})=>{const J=W?En(W):a,we=En(J),Y=Mn(W),Q=Y?a:we;if(V.keepDefaultValues||(a=J),!V.keepValues){if(V.keepDirtyValues){const xe=new Set([...o.mount,...Object.keys(Yh(a,i))]);for(const Ie of Array.from(xe))Se(r.dirtyFields,Ie)?Mt(Q,Ie,Se(i,Ie)):D(Ie,Se(Q,Ie))}else{if(SN&&rr(W))for(const xe of o.mount){const Ie=Se(n,xe);if(Ie&&Ie._f){const ft=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(xy(ft)){const Tt=ft.closest("form");if(Tt){Tt.reset();break}}}}n={}}i=t.shouldUnregister?V.keepDefaultValues?En(a):{}:En(Q),h.array.next({values:{...Q}}),h.values.next({values:{...Q}})}o={mount:V.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!V.keepIsValid||!!V.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:V.keepSubmitCount?r.submitCount:0,isDirty:Y?!1:V.keepDirty?r.isDirty:!!(V.keepDefaultValues&&!so(W,a)),isSubmitted:V.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Y?{}:V.keepDirtyValues?V.keepDefaultValues&&i?Yh(a,i):r.dirtyFields:V.keepDefaultValues&&W?Yh(a,W):V.keepDirty?r.dirtyFields:{},touchedFields:V.keepTouched?r.touchedFields:{},errors:V.keepErrors?r.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Te=(W,V)=>Pe(ds(W)?W(i):W,V);return{control:{register:ae,unregister:fe,getFieldState:q,handleSubmit:se,setError:ne,_executeSchema:A,_getWatch:T,_getDirty:O,_updateValid:v,_removeUnmounted:E,_updateFieldArray:y,_updateDisabledField:X,_getFieldArray:M,_reset:Pe,_resetDefaultValues:()=>ds(e.defaultValues)&&e.defaultValues().then(W=>{Te(W,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:W=>{r={...r,...W}},_disableForm:Z,_subjects:h,_proxyFormState:d,_setErrors:w,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(W){s=W},get _defaultValues(){return a},get _names(){return o},set _names(W){o=W},get _formState(){return r},set _formState(W){r=W},get _options(){return e},set _options(W){e={...e,...W}}},trigger:z,register:ae,handleSubmit:se,watch:Ne,setValue:D,getValues:B,reset:Te,resetField:K,clearErrors:ie,unregister:fe,setError:ne,setFocus:(W,V={})=>{const J=Se(n,W),we=J&&J._f;if(we){const Y=we.refs?we.refs[0]:we.ref;Y.focus&&(Y.focus(),V.shouldSelect&&Y.select())}},getFieldState:q}}function Woe(t={}){const e=$.useRef(),r=$.useRef(),[n,a]=$.useState({isDirty:!1,isValidating:!1,isLoading:ds(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ds(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Boe(t),formState:n});const i=e.current.control;return i._options=t,CN({subject:i._subjects.state,next:s=>{rH(s,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),$.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),$.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),$.useEffect(()=>{t.values&&!so(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,a(s=>({...s}))):i._resetDefaultValues()},[t.values,i]),$.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),$.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),$.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),$.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[n]),e.current.formState=tH(n,i),e.current}const Hoe=Coe,dH=_.createContext({}),Ci=({...t})=>c.jsx(dH.Provider,{value:{name:t.name},children:c.jsx(Poe,{...t})}),$b=()=>{const t=_.useContext(dH),e=_.useContext(hH),{getFieldState:r,formState:n}=Lb(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},hH=_.createContext({}),Ba=_.forwardRef(({className:t,...e},r)=>{const n=_.useId();return c.jsx(hH.Provider,{value:{id:n},children:c.jsx("div",{ref:r,className:le("space-y-2",t),...e})})});Ba.displayName="FormItem";const Wa=_.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:a}=$b();return c.jsx(Le,{ref:r,className:le(n&&"text-destructive",t),htmlFor:a,...e})});Wa.displayName="FormLabel";const Ha=_.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=$b();return c.jsx(Xn,{ref:e,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...t})});Ha.displayName="FormControl";const Uoe=_.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=$b();return c.jsx("p",{ref:r,id:n,className:le("text-sm text-muted-foreground",t),...e})});Uoe.displayName="FormDescription";const Ua=_.forwardRef(({className:t,children:e,...r},n)=>{const{error:a,formMessageId:i}=$b(),s=a?String(a==null?void 0:a.message):e;return s?c.jsx("p",{ref:n,id:i,className:le("text-sm font-medium text-destructive",t),...r,children:s}):null});Ua.displayName="FormMessage";const fH=({className:t,...e})=>c.jsx("nav",{role:"navigation","aria-label":"pagination",className:le("mx-auto flex w-full justify-center",t),...e});fH.displayName="Pagination";const pH=_.forwardRef(({className:t,...e},r)=>c.jsx("ul",{ref:r,className:le("flex flex-row items-center gap-1",t),...e}));pH.displayName="PaginationContent";const Gs=_.forwardRef(({className:t,...e},r)=>c.jsx("li",{ref:r,className:le("",t),...e}));Gs.displayName="PaginationItem";const Mu=({className:t,isActive:e,size:r="icon",...n})=>c.jsx("a",{"aria-current":e?"page":void 0,className:le(ny({variant:e?"outline":"ghost",size:r}),t),...n});Mu.displayName="PaginationLink";const mH=({className:t,...e})=>c.jsxs(Mu,{"aria-label":"Go to previous page",size:"default",className:le("gap-1 pl-2.5",t),...e,children:[c.jsx(G4,{className:"h-4 w-4"}),c.jsx("span",{children:"Previous"})]});mH.displayName="PaginationPrevious";const gH=({className:t,...e})=>c.jsxs(Mu,{"aria-label":"Go to next page",size:"default",className:le("gap-1 pr-2.5",t),...e,children:[c.jsx("span",{children:"Next"}),c.jsx(eh,{className:"h-4 w-4"})]});gH.displayName="PaginationNext";const fj=({className:t,...e})=>c.jsxs("span",{"aria-hidden":!0,className:le("flex h-9 w-9 items-center justify-center",t),...e,children:[c.jsx(dQ,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"More pages"})]});fj.displayName="PaginationEllipsis";const Dg=10,Yoe=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(""),[s,o]=_.useState(!1),[l,u]=_.useState(null),[d,h]=_.useState(1),[f,p]=_.useState(0),[g,m]=_.useState(0),v=Woe({defaultValues:{location_id:"",location_name:"",type:"",level_1:"",level_2:"",level_3:"",level_4:"",working_cal:"",borrowing_pct:null,service_level_goal:null,warehouse_control_factors_active:!1}}),x=async(N=1)=>{try{n(!0);const P=(N-1)*Dg,E=P+Dg-1;let O=ue.from("locations").select("*",{count:"exact"}).range(P,E);a&&(O=O.or(`location_id.ilike.%${a}%,location_name.ilike.%${a}%,type.ilike.%${a}%`));const{data:T,error:M,count:L}=await O.order("location_id");if(M)throw M;e(T||[]),p(L||0),m(Math.ceil((L||0)/Dg)),console.log("Locations fetched:",T==null?void 0:T.length,"Total count:",L,"Total pages:",Math.ceil((L||0)/Dg))}catch(P){console.error("Error fetching locations:",P),ve.error("Error al cargar las ubicaciones")}finally{n(!1)}},y=async N=>{try{if(l){const{error:P}=await ue.from("locations").update(N).eq("location_id",l.location_id);if(P)throw P;ve.success("Ubicación actualizada exitosamente")}else{const{error:P}=await ue.from("locations").insert([N]);if(P)throw P;ve.success("Ubicación creada exitosamente")}o(!1),u(null),v.reset(),x(d)}catch(P){console.error("Error saving location:",P),ve.error("Error al guardar la ubicación")}},b=N=>{u(N),v.reset(N),o(!0)},w=async N=>{if(confirm("¿Estás seguro de que quieres eliminar esta ubicación?"))try{const{error:P}=await ue.from("locations").delete().eq("location_id",N);if(P)throw P;ve.success("Ubicación eliminada exitosamente"),x(d)}catch(P){console.error("Error deleting location:",P),ve.error("Error al eliminar la ubicación")}},S=()=>{u(null),v.reset(),o(!0)},k=N=>{N>=1&&N<=g&&(h(N),x(N))},C=()=>{h(1),x(1)};_.useEffect(()=>{x(d)},[]),_.useEffect(()=>{const N=setTimeout(()=>{C()},500);return()=>clearTimeout(N)},[a]);const A=()=>{const N=[],E=Math.max(1,d-Math.floor(2.5)),O=Math.min(g,E+5-1);for(let T=E;T<=O;T++)N.push(c.jsx(Gs,{children:c.jsx(Mu,{onClick:()=>k(T),isActive:T===d,className:"cursor-pointer",children:T})},T));return N};return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(wm,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando ubicaciones..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Catálogo de Ubicaciones"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus ubicaciones y almacenes"})]}),c.jsxs(Yr,{open:s,onOpenChange:o,children:[c.jsx(sh,{asChild:!0,children:c.jsxs(de,{onClick:S,children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Nueva Ubicación"]})}),c.jsxs(Tr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:l?"Editar Ubicación":"Nueva Ubicación"})}),c.jsx(Hoe,{...v,children:c.jsxs("form",{onSubmit:v.handleSubmit(y),className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Ci,{control:v.control,name:"location_id",render:({field:N})=>c.jsxs(Ba,{children:[c.jsx(Wa,{children:"ID de Ubicación *"}),c.jsx(Ha,{children:c.jsx(De,{...N,disabled:!!l})}),c.jsx(Ua,{})]})}),c.jsx(Ci,{control:v.control,name:"location_name",render:({field:N})=>c.jsxs(Ba,{children:[c.jsx(Wa,{children:"Nombre de Ubicación"}),c.jsx(Ha,{children:c.jsx(De,{...N,value:N.value||""})}),c.jsx(Ua,{})]})}),c.jsx(Ci,{control:v.control,name:"type",render:({field:N})=>c.jsxs(Ba,{children:[c.jsx(Wa,{children:"Tipo"}),c.jsx(Ha,{children:c.jsx(De,{...N,value:N.value||""})}),c.jsx(Ua,{})]})}),c.jsx(Ci,{control:v.control,name:"level_1",render:({field:N})=>c.jsxs(Ba,{children:[c.jsx(Wa,{children:"Nivel 1"}),c.jsx(Ha,{children:c.jsx(De,{...N,value:N.value||""})}),c.jsx(Ua,{})]})}),c.jsx(Ci,{control:v.control,name:"level_2",render:({field:N})=>c.jsxs(Ba,{children:[c.jsx(Wa,{children:"Nivel 2"}),c.jsx(Ha,{children:c.jsx(De,{...N,value:N.value||""})}),c.jsx(Ua,{})]})}),c.jsx(Ci,{control:v.control,name:"level_3",render:({field:N})=>c.jsxs(Ba,{children:[c.jsx(Wa,{children:"Nivel 3"}),c.jsx(Ha,{children:c.jsx(De,{...N,value:N.value||""})}),c.jsx(Ua,{})]})}),c.jsx(Ci,{control:v.control,name:"level_4",render:({field:N})=>c.jsxs(Ba,{children:[c.jsx(Wa,{children:"Nivel 4"}),c.jsx(Ha,{children:c.jsx(De,{...N,value:N.value||""})}),c.jsx(Ua,{})]})}),c.jsx(Ci,{control:v.control,name:"working_cal",render:({field:N})=>c.jsxs(Ba,{children:[c.jsx(Wa,{children:"Calendario de Trabajo"}),c.jsx(Ha,{children:c.jsx(De,{...N,value:N.value||""})}),c.jsx(Ua,{})]})}),c.jsx(Ci,{control:v.control,name:"borrowing_pct",render:({field:N})=>c.jsxs(Ba,{children:[c.jsx(Wa,{children:"Porcentaje de Préstamo"}),c.jsx(Ha,{children:c.jsx(De,{...N,type:"number",value:N.value||"",onChange:P=>N.onChange(P.target.value?Number(P.target.value):null)})}),c.jsx(Ua,{})]})}),c.jsx(Ci,{control:v.control,name:"service_level_goal",render:({field:N})=>c.jsxs(Ba,{children:[c.jsx(Wa,{children:"Meta de Nivel de Servicio"}),c.jsx(Ha,{children:c.jsx(De,{...N,type:"number",step:"0.01",value:N.value||"",onChange:P=>N.onChange(P.target.value?Number(P.target.value):null)})}),c.jsx(Ua,{})]})})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(de,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),c.jsx(de,{type:"submit",children:l?"Actualizar":"Crear"})]})]})})]})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Buscar Ubicaciones"})}),c.jsx(te,{children:c.jsxs("div",{className:"relative",children:[c.jsx(Jo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(De,{placeholder:"Buscar ubicaciones por ID, nombre o tipo...",value:a,onChange:N=>i(N.target.value),className:"pl-10"})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{children:["Lista de Ubicaciones (",f,")"]})}),c.jsx(te,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"ID Ubicación"}),c.jsx(je,{children:"Nombre"}),c.jsx(je,{children:"Tipo"}),c.jsx(je,{children:"Nivel 1"}),c.jsx(je,{children:"Nivel 2"}),c.jsx(je,{children:"Nivel de Servicio"}),c.jsx(je,{children:"Acciones"})]})}),c.jsx(un,{children:t.length===0?c.jsx(Qe,{children:c.jsx(he,{colSpan:7,className:"text-center py-4",children:"No se encontraron ubicaciones"})}):t.map(N=>c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:N.location_id}),c.jsx(he,{children:N.location_name||"-"}),c.jsx(he,{children:N.type||"-"}),c.jsx(he,{children:N.level_1||"-"}),c.jsx(he,{children:N.level_2||"-"}),c.jsx(he,{children:N.service_level_goal||"-"}),c.jsx(he,{children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(de,{variant:"outline",size:"sm",onClick:()=>b(N),children:c.jsx(th,{className:"h-3 w-3"})}),c.jsx(de,{variant:"outline",size:"sm",onClick:()=>w(N.location_id),children:c.jsx(el,{className:"h-3 w-3"})})]})})]},N.location_id))})]})})})]}),g>1&&c.jsx("div",{className:"mt-6",children:c.jsx(fH,{children:c.jsxs(pH,{children:[c.jsx(Gs,{children:c.jsx(mH,{onClick:()=>k(d-1),className:d<=1?"pointer-events-none opacity-50":"cursor-pointer"})}),d>3&&g>5&&c.jsxs(c.Fragment,{children:[c.jsx(Gs,{children:c.jsx(Mu,{onClick:()=>k(1),className:"cursor-pointer",children:"1"})}),d>4&&c.jsx(Gs,{children:c.jsx(fj,{})})]}),A(),d<g-2&&g>5&&c.jsxs(c.Fragment,{children:[d<g-3&&c.jsx(Gs,{children:c.jsx(fj,{})}),c.jsx(Gs,{children:c.jsx(Mu,{onClick:()=>k(g),className:"cursor-pointer",children:g})})]}),c.jsx(Gs,{children:c.jsx(gH,{onClick:()=>k(d+1),className:d>=g?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})};function Xoe(){const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(!1),[s,o]=_.useState(null),[l,u]=_.useState({search_name:"",search_criteria:""});_.useEffect(()=>{d()},[]);const d=async()=>{try{n(!0);const v=[{id:1,search_name:"Productos con stock bajo",search_criteria:{stock_level:"low"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:2,search_name:"Productos de alta rotación",search_criteria:{turnover:"high"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];e(v)}catch(v){console.error("Error fetching searches:",v),ve.error("Error al cargar búsquedas guardadas")}finally{n(!1)}},h=async v=>{v.preventDefault();try{const x={id:Date.now(),search_name:l.search_name,search_criteria:JSON.parse(l.search_criteria||"{}"),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};s?(e(y=>y.map(b=>b.id===s.id?x:b)),ve.success("Búsqueda actualizada exitosamente")):(e(y=>[...y,x]),ve.success("Búsqueda guardada exitosamente")),i(!1),o(null),g()}catch(x){console.error("Error saving search:",x),ve.error("Error al guardar búsqueda")}},f=v=>{o(v),u({search_name:v.search_name,search_criteria:JSON.stringify(v.search_criteria,null,2)}),i(!0)},p=async v=>{if(confirm("¿Está seguro de que desea eliminar esta búsqueda?"))try{e(x=>x.filter(y=>y.id!==v)),ve.success("Búsqueda eliminada exitosamente")}catch(x){console.error("Error deleting search:",x),ve.error("Error al eliminar búsqueda")}},g=()=>{u({search_name:"",search_criteria:""})},m=v=>new Date(v).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Jo,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando búsquedas guardadas..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Búsquedas Guardadas"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus búsquedas frecuentes"})]}),c.jsxs(Yr,{open:a,onOpenChange:i,children:[c.jsx(sh,{asChild:!0,children:c.jsxs(de,{onClick:()=>{g(),o(null)},children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Nueva Búsqueda"]})}),c.jsxs(Tr,{className:"max-w-2xl",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:s?"Editar Búsqueda":"Nueva Búsqueda"})}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"search_name",children:"Nombre de la Búsqueda"}),c.jsx(De,{id:"search_name",value:l.search_name,onChange:v=>u({...l,search_name:v.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"search_criteria",children:"Criterios de Búsqueda (JSON)"}),c.jsx("textarea",{id:"search_criteria",className:"w-full h-32 p-2 border border-gray-300 rounded-md",value:l.search_criteria,onChange:v=>u({...l,search_criteria:v.target.value}),placeholder:'{"category": "electronics", "stock_level": "low"}'})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(de,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),c.jsxs(de,{type:"submit",children:[s?"Actualizar":"Guardar"," Búsqueda"]})]})]})]})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{children:["Búsquedas Guardadas (",t.length,")"]})}),c.jsx(te,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"Nombre"}),c.jsx(je,{children:"Criterios"}),c.jsx(je,{children:"Creado"}),c.jsx(je,{children:"Actualizado"}),c.jsx(je,{children:"Acciones"})]})}),c.jsx(un,{children:t.map(v=>c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:v.search_name}),c.jsx(he,{children:c.jsx("code",{className:"text-sm bg-gray-100 p-1 rounded",children:JSON.stringify(v.search_criteria)})}),c.jsx(he,{children:m(v.created_at)}),c.jsx(he,{children:m(v.updated_at)}),c.jsx(he,{children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(de,{size:"sm",variant:"outline",onClick:()=>ve.info("Ejecutando búsqueda..."),children:c.jsx(yS,{className:"h-3 w-3"})}),c.jsx(de,{size:"sm",variant:"outline",onClick:()=>f(v),children:c.jsx(th,{className:"h-3 w-3"})}),c.jsx(de,{size:"sm",variant:"outline",onClick:()=>p(v.id),children:c.jsx(el,{className:"h-3 w-3"})})]})})]},v.id))})]})})})]})]})}const Voe=({onUpload:t,accept:e="*/*",bucket:r,folder:n="",currentUrl:a})=>{const[i,s]=_.useState(!1),[o,l]=_.useState(!1),u=_.useRef(null),d=async v=>{if(v){if(e==="image/*"&&!v.type.startsWith("image/")){ve.error("Solo se permiten archivos de imagen");return}try{s(!0);const x=v.name.split(".").pop(),y=`${Date.now()}-${Math.random().toString(36).substring(2)}.${x}`,b=n?`${n}/${y}`:y,{error:w}=await ue.storage.from(r).upload(b,v);if(w){console.error("Upload error:",w),ve.error("Error al subir el archivo");return}const{data:S}=ue.storage.from(r).getPublicUrl(b);t(S.publicUrl),ve.success("Archivo subido exitosamente")}catch(x){console.error("Error uploading file:",x),ve.error("Error al subir el archivo")}finally{s(!1)}}},h=v=>{var y;const x=(y=v.target.files)==null?void 0:y[0];x&&d(x)},f=v=>{var y;v.preventDefault(),l(!1);const x=(y=v.dataTransfer.files)==null?void 0:y[0];x&&d(x)},p=v=>{v.preventDefault(),l(!0)},g=v=>{v.preventDefault(),l(!1)},m=()=>{t("")};return c.jsxs("div",{className:"w-full",children:[c.jsx("input",{ref:u,type:"file",accept:e,onChange:h,className:"hidden"}),c.jsx("div",{className:`
          border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors
          ${o?"border-primary bg-primary/5":"border-gray-300"}
          ${i?"opacity-50 cursor-not-allowed":"hover:border-primary hover:bg-primary/5"}
        `,onDrop:f,onDragOver:p,onDragLeave:g,onClick:()=>{var v;return!i&&((v=u.current)==null?void 0:v.click())},children:i?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Subiendo archivo..."})]}):c.jsxs("div",{className:"flex flex-col items-center",children:[e==="image/*"?c.jsx(pQ,{className:"h-8 w-8 text-muted-foreground mb-2"}):c.jsx(kQ,{className:"h-8 w-8 text-muted-foreground mb-2"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Arrastra y suelta tu archivo aquí, o"," ",c.jsx("span",{className:"text-primary font-medium",children:"haz clic para seleccionar"})]}),e==="image/*"&&c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Solo se permiten archivos de imagen"})]})}),a&&c.jsxs("div",{className:"mt-2 flex items-center justify-between p-2 bg-gray-50 rounded",children:[c.jsx("span",{className:"text-sm text-muted-foreground truncate",children:"Archivo actual"}),c.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:m,className:"h-6 w-6 p-0",children:c.jsx(Na,{className:"h-3 w-3"})})]})]})},qoe=({config:t,onSuccess:e,onCancel:r})=>{const[n,a]=_.useState({company_name:(t==null?void 0:t.company_name)||"",company_logo:(t==null?void 0:t.company_logo)||""}),[i,s]=_.useState(!1),o=async d=>{if(d.preventDefault(),!n.company_name.trim()){ve.error("El nombre de la compañía es requerido");return}try{s(!0);const h={company_name:n.company_name,company_logo:n.company_logo||null};if(t){const{error:f}=await ue.from("company_config").update(h).eq("id",t.id);if(f){console.error("Error updating config:",f),ve.error("Error al actualizar la configuración");return}ve.success("Configuración actualizada exitosamente")}else{const{error:f}=await ue.from("company_config").insert(h);if(f){console.error("Error creating config:",f),ve.error("Error al crear la configuración");return}ve.success("Configuración creada exitosamente")}e()}catch(h){console.error("Error saving config:",h),ve.error("Error al guardar la configuración")}finally{s(!1)}},l=d=>{a({...n,company_logo:d})},u=()=>{a({...n,company_logo:""})};return c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"company_name",children:"Nombre de la Compañía *"}),c.jsx(De,{id:"company_name",value:n.company_name,onChange:d=>a({...n,company_name:d.target.value}),placeholder:"Ej: Mi Empresa S.A.",required:!0})]}),c.jsxs("div",{children:[c.jsx(Le,{children:"Logo de la Compañía"}),c.jsx(Voe,{onUpload:l,accept:"image/*",bucket:"company-assets",folder:"logos",currentUrl:n.company_logo}),n.company_logo&&c.jsxs("div",{className:"mt-2",children:[c.jsx("img",{src:n.company_logo,alt:"Logo preview",className:"h-20 w-20 object-contain border rounded",onError:d=>{console.error("Error loading image:",n.company_logo),d.currentTarget.style.display="none"}}),c.jsx(de,{type:"button",variant:"outline",size:"sm",onClick:u,className:"mt-2",children:"Remover Logo"})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[c.jsx(de,{type:"button",variant:"outline",onClick:r,children:"Cancelar"}),c.jsx(de,{type:"submit",disabled:i,children:i?"Guardando...":t?"Actualizar Configuración":"Crear Configuración"})]})]})},Goe=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!1),[a,i]=_.useState(null),[s,o]=_.useState(!1);_.useEffect(()=>{l()},[]);const l=async()=>{try{o(!0);const{data:p,error:g}=await ue.from("company_config").select("*").order("id");if(g){console.error("Error fetching company configs:",g),ve.error("Error al cargar las configuraciones");return}e(p||[])}catch(p){console.error("Error fetching company configs:",p),ve.error("Error al cargar las configuraciones")}finally{o(!1)}},u=async p=>{if(confirm("¿Estás seguro de que quieres eliminar esta configuración?"))try{const{error:g}=await ue.from("company_config").delete().eq("id",p);if(g){console.error("Error deleting config:",g),ve.error("Error al eliminar la configuración");return}ve.success("Configuración eliminada exitosamente"),l()}catch(g){console.error("Error deleting config:",g),ve.error("Error al eliminar la configuración")}},d=p=>{i(p),n(!0)},h=()=>{i(null),n(!0)},f=()=>{n(!1),i(null),l()};return c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuración de la Compañía"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona la información y configuración de la empresa"})]}),c.jsxs(Yr,{open:r,onOpenChange:n,children:[c.jsx(sh,{asChild:!0,children:c.jsxs(de,{onClick:h,className:"flex items-center gap-2",children:[c.jsx(cs,{className:"h-4 w-4"}),"Nueva Configuración"]})}),c.jsxs(Tr,{className:"max-w-2xl",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:a?"Editar Configuración":"Nueva Configuración de Compañía"})}),c.jsx(qoe,{config:a,onSuccess:f,onCancel:()=>n(!1)})]})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(cs,{className:"h-5 w-5"}),"Configuraciones de Compañía (",t.length,")"]})}),c.jsx(te,{children:s?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-muted-foreground",children:"Cargando configuraciones..."})}):t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(cs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No hay configuraciones"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Crea la primera configuración de tu compañía"}),c.jsxs(de,{onClick:h,children:[c.jsx(cs,{className:"h-4 w-4 mr-2"}),"Crear Primera Configuración"]})]}):c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"ID"}),c.jsx(je,{children:"Nombre de la Compañía"}),c.jsx(je,{children:"Logo"}),c.jsx(je,{className:"text-right",children:"Acciones"})]})}),c.jsx(un,{children:t.map(p=>c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:p.id}),c.jsx(he,{children:p.company_name||"-"}),c.jsx(he,{children:p.company_logo?c.jsx("img",{src:p.company_logo,alt:"Logo",className:"h-10 w-10 object-contain rounded"}):"-"}),c.jsx(he,{className:"text-right",children:c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(de,{variant:"outline",size:"sm",onClick:()=>d(p),children:c.jsx(th,{className:"h-4 w-4"})}),c.jsx(de,{variant:"outline",size:"sm",onClick:()=>u(p.id),children:c.jsx(el,{className:"h-4 w-4"})})]})})]},p.id))})]})})]})]})},Koe=Jd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fb=_.forwardRef(({className:t,variant:e,...r},n)=>c.jsx("div",{ref:n,role:"alert",className:le(Koe({variant:e}),t),...r}));Fb.displayName="Alert";const Zoe=_.forwardRef(({className:t,...e},r)=>c.jsx("h5",{ref:r,className:le("mb-1 font-medium leading-none tracking-tight",t),...e}));Zoe.displayName="AlertTitle";const zb=_.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:le("text-sm [&_p]:leading-relaxed",t),...e}));zb.displayName="AlertDescription";function Qoe(){const[t,e]=_.useState(""),[r,n]=_.useState(""),[a,i]=_.useState(""),[s,o]=_.useState(""),[l,u]=_.useState(!1),[d,h]=_.useState(null),[f,p]=_.useState([]),[g,m]=_.useState(!0),[v,x]=_.useState(null),[y,b]=_.useState({firstName:"",lastName:"",role:"user"}),{signUp:w}=Cm(),S=async()=>{try{m(!0);const{data:P,error:E}=await ue.auth.admin.listUsers();if(E)throw E;const{data:O,error:T}=await ue.from("user_roles").select("user_id, role");if(T)throw T;const M=P.users.map(L=>{var I;return{...L,role:((I=O.find(D=>D.user_id===L.id))==null?void 0:I.role)||"user"}});p(M)}catch(P){console.error("Error fetching users:",P),ve.error("Error al cargar usuarios")}finally{m(!1)}};_.useEffect(()=>{S()},[]);const k=async P=>{P.preventDefault(),u(!0),h(null);const{error:E}=await w(t,r,a,s);E?(h(E.message),ve.error("Error al crear usuario: "+E.message)):(ve.success("¡Usuario creado exitosamente!"),e(""),n(""),i(""),o(""),S()),u(!1)},C=P=>{x(P),b({firstName:P.user_metadata.first_name||"",lastName:P.user_metadata.last_name||"",role:P.role||"user"})},A=async()=>{if(v)try{const{error:P}=await ue.auth.admin.updateUserById(v.id,{user_metadata:{first_name:y.firstName,last_name:y.lastName}});if(P)throw P;const{error:E}=await ue.from("user_roles").upsert({user_id:v.id,role:y.role});if(E)throw E;ve.success("Usuario actualizado exitosamente"),x(null),S()}catch(P){console.error("Error updating user:",P),ve.error("Error al actualizar usuario")}},N=async P=>{if(confirm("¿Está seguro de que desea eliminar este usuario?"))try{const{error:E}=await ue.auth.admin.deleteUser(P);if(E)throw E;ve.success("Usuario eliminado exitosamente"),S()}catch(E){console.error("Error deleting user:",E),ve.error("Error al eliminar usuario")}};return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Administrar Usuarios"}),c.jsx("p",{className:"text-gray-600",children:"Crear y gestionar usuarios del sistema"})]}),c.jsxs(ee,{className:"max-w-2xl",children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(tz,{className:"h-5 w-5"}),"Crear Nuevo Usuario"]})}),c.jsx(te,{children:c.jsxs("form",{onSubmit:k,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"firstName",children:"Nombre"}),c.jsx(De,{id:"firstName",type:"text",value:a,onChange:P=>i(P.target.value),placeholder:"Nombre"})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"lastName",children:"Apellido"}),c.jsx(De,{id:"lastName",type:"text",value:s,onChange:P=>o(P.target.value),placeholder:"Apellido"})]})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"email-create",children:"Email"}),c.jsx(De,{id:"email-create",type:"email",value:t,onChange:P=>e(P.target.value),required:!0,placeholder:"usuario@email.com"})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"password-create",children:"Contraseña"}),c.jsx(De,{id:"password-create",type:"password",value:r,onChange:P=>n(P.target.value),required:!0,placeholder:"••••••••",minLength:6})]}),d&&c.jsx(Fb,{variant:"destructive",children:c.jsx(zb,{children:d})}),c.jsx(de,{type:"submit",disabled:l,children:l?"Creando usuario...":"Crear Usuario"})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Er,{className:"h-5 w-5"}),"Usuarios Existentes"]})}),c.jsx(te,{children:g?c.jsx("div",{className:"text-center py-4",children:"Cargando usuarios..."}):c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"Nombre"}),c.jsx(je,{children:"Email"}),c.jsx(je,{children:"Rol"}),c.jsx(je,{children:"Fecha Creación"}),c.jsx(je,{children:"Acciones"})]})}),c.jsx(un,{children:f.map(P=>c.jsxs(Qe,{children:[c.jsxs(he,{children:[P.user_metadata.first_name||""," ",P.user_metadata.last_name||""]}),c.jsx(he,{children:P.email}),c.jsx(he,{children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${P.role==="administrator"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:P.role==="administrator"?"Administrador":"Usuario"})}),c.jsx(he,{children:new Date(P.created_at).toLocaleDateString()}),c.jsx(he,{children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{variant:"outline",size:"sm",onClick:()=>C(P),children:c.jsx(th,{className:"h-4 w-4"})}),c.jsx(de,{variant:"destructive",size:"sm",onClick:()=>N(P.id),children:c.jsx(el,{className:"h-4 w-4"})})]})})]},P.id))})]})})]}),c.jsx(Yr,{open:!!v,onOpenChange:P=>!P&&x(null),children:c.jsxs(Tr,{children:[c.jsx(Mr,{children:c.jsx(Rr,{children:"Editar Usuario"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"edit-firstName",children:"Nombre"}),c.jsx(De,{id:"edit-firstName",value:y.firstName,onChange:P=>b({...y,firstName:P.target.value}),placeholder:"Nombre"})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"edit-lastName",children:"Apellido"}),c.jsx(De,{id:"edit-lastName",value:y.lastName,onChange:P=>b({...y,lastName:P.target.value}),placeholder:"Apellido"})]})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"edit-role",children:"Rol"}),c.jsxs(xn,{value:y.role,onValueChange:P=>b({...y,role:P}),children:[c.jsx(an,{children:c.jsx(bn,{placeholder:"Seleccionar rol"})}),c.jsxs(sn,{children:[c.jsx(it,{value:"user",children:"Usuario"}),c.jsx(it,{value:"administrator",children:"Administrador"})]})]})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(de,{variant:"outline",onClick:()=>x(null),children:"Cancelar"}),c.jsx(de,{onClick:A,children:"Guardar Cambios"})]})]})]})})]})}function Joe(){const[t,e]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState([]),[s,o]=_.useState(!0),[l,u]=_.useState(!1),[d,h]=_.useState(""),[f,p]=_.useState(""),[g,m]=_.useState("");_.useEffect(()=>{Promise.all([v(),x(),y()]).finally(()=>o(!1))},[]);const v=async()=>{try{const{data:k,error:C}=await ue.from("profiles").select("id, email, first_name, last_name");if(C){console.error("Error fetching users:",C);return}e(k||[])}catch(k){console.error("Error fetching users:",k),ve.error("Error al cargar usuarios")}},x=async()=>{try{const{data:k,error:C}=await ue.from("vendors").select("id, name, code, active").eq("active",!0).order("name");if(C){console.error("Error fetching vendors:",C),n([{id:1,name:"Proveedor A",code:"PA001",active:!0},{id:2,name:"Proveedor B",code:"PB002",active:!0},{id:3,name:"Proveedor C",code:"PC003",active:!0}]);return}n(k||[])}catch(k){console.error("Error fetching vendors:",k),ve.error("Error al cargar proveedores")}},y=async()=>{try{i([{id:"1",user_id:"user1",vendor_id:1,assigned_at:new Date().toISOString(),user_email:"usuario1@example.com",vendor_name:"Proveedor A",vendor_code:"PA001"}])}catch(k){console.error("Error fetching assignments:",k),i([])}},b=async()=>{var C,A,N;if(!d||!f){ve.error("Por favor selecciona un usuario y un proveedor");return}const k={id:Date.now().toString(),user_id:d,vendor_id:parseInt(f),assigned_at:new Date().toISOString(),user_email:((C=t.find(P=>P.id===d))==null?void 0:C.email)||"Usuario",vendor_name:((A=r.find(P=>P.id===parseInt(f)))==null?void 0:A.name)||"Proveedor",vendor_code:((N=r.find(P=>P.id===parseInt(f)))==null?void 0:N.code)||"N/A"};i(P=>[...P,k]),ve.success("Proveedor asignado exitosamente"),u(!1),h(""),p("")},w=async k=>{i(C=>C.filter(A=>A.id!==k)),ve.success("Asignación removida exitosamente")},S=a.filter(k=>k.user_email.toLowerCase().includes(g.toLowerCase())||k.vendor_name.toLowerCase().includes(g.toLowerCase())||k.vendor_code.toLowerCase().includes(g.toLowerCase()));return s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(cs,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando asignaciones..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Asignación de Proveedores"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona qué proveedores pueden ser accedidos por cada usuario"})]}),c.jsxs(Yr,{open:l,onOpenChange:u,children:[c.jsx(sh,{asChild:!0,children:c.jsxs(de,{children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Nueva Asignación"]})}),c.jsxs(Tr,{children:[c.jsx(Mr,{children:c.jsx(Rr,{children:"Asignar Proveedor a Usuario"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"user-select",children:"Usuario"}),c.jsxs(xn,{value:d,onValueChange:h,children:[c.jsx(an,{children:c.jsx(bn,{placeholder:"Seleccionar usuario"})}),c.jsx(sn,{children:t.map(k=>c.jsxs(it,{value:k.id,children:[k.email," ",k.first_name&&k.last_name?`(${k.first_name} ${k.last_name})`:""]},k.id))})]})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"vendor-select",children:"Proveedor"}),c.jsxs(xn,{value:f,onValueChange:p,children:[c.jsx(an,{children:c.jsx(bn,{placeholder:"Seleccionar proveedor"})}),c.jsx(sn,{children:r.map(k=>c.jsxs(it,{value:k.id.toString(),children:[k.name," (",k.code,")"]},k.id))})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(de,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),c.jsx(de,{onClick:b,children:"Asignar"})]})]})]})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Er,{className:"h-5 w-5"}),"Buscar Asignaciones"]})}),c.jsx(te,{children:c.jsx("div",{className:"flex gap-4",children:c.jsx("div",{className:"flex-1",children:c.jsx(De,{placeholder:"Buscar por usuario, proveedor o código...",value:g,onChange:k=>m(k.target.value)})})})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{children:["Asignaciones Actuales (",S.length,")"]})}),c.jsx(te,{children:S.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(cs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:a.length===0?"No hay asignaciones configuradas":"No se encontraron asignaciones"}),c.jsx("p",{className:"text-muted-foreground",children:a.length===0?"Comienza asignando proveedores a los usuarios del sistema.":"Intenta ajustar los filtros de búsqueda."})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"Usuario"}),c.jsx(je,{children:"Proveedor"}),c.jsx(je,{children:"Código"}),c.jsx(je,{children:"Fecha de Asignación"}),c.jsx(je,{children:"Acciones"})]})}),c.jsx(un,{children:S.map(k=>c.jsxs(Qe,{children:[c.jsx(he,{children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:k.user_email}),c.jsx(_e,{variant:"outline",className:"mt-1",children:"Usuario"})]})}),c.jsx(he,{children:c.jsx("div",{className:"font-medium",children:k.vendor_name})}),c.jsx(he,{children:c.jsx(_e,{variant:"secondary",children:k.vendor_code})}),c.jsx(he,{children:new Date(k.assigned_at).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}),c.jsx(he,{children:c.jsxs(de,{size:"sm",variant:"destructive",onClick:()=>w(k.id),children:[c.jsx(el,{className:"h-3 w-3 mr-1"}),"Remover"]})})]},k.id))})]})})})]})]})}function ele(){const[t,e]=_.useState(""),[r,n]=_.useState(""),[a,i]=_.useState(!1),[s,o]=_.useState(null),[l,u]=_.useState(null),d=xm();_.useEffect(()=>{ue.auth.getSession().then(({data:{session:g}})=>{g&&d("/")});const{data:{subscription:p}}=ue.auth.onAuthStateChange((g,m)=>{m&&d("/")});return h(),()=>p.unsubscribe()},[d]);const h=async()=>{try{const{data:p,error:g}=await ue.from("company_config").select("company_name, company_logo").limit(1).single();if(g){console.error("Error fetching company config:",g);return}p&&u(p)}catch(p){console.error("Error fetching company config:",p)}},f=async p=>{p.preventDefault(),i(!0),o(null);const{error:g}=await ue.auth.signInWithPassword({email:t,password:r});g?(o(g.message),ve.error("Error al iniciar sesión: "+g.message)):(ve.success("¡Sesión iniciada exitosamente!"),d("/")),i(!1)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs(ee,{className:"w-full max-w-md",children:[c.jsxs(pe,{className:"text-center",children:[(l==null?void 0:l.company_logo)&&c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("img",{src:l.company_logo,alt:l.company_name||"Company Logo",className:"h-16 w-auto object-contain",onError:p=>{console.error("Error loading company logo:",l.company_logo),p.currentTarget.style.display="none"}})}),c.jsx(me,{className:"text-2xl font-bold",children:(l==null?void 0:l.company_name)||"M8 Platform"}),c.jsx("p",{className:"text-muted-foreground",children:"Accede a tu cuenta"})]}),c.jsx(te,{children:c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"email",children:"Email"}),c.jsx(De,{id:"email",type:"email",value:t,onChange:p=>e(p.target.value),required:!0,placeholder:"tu@email.com"})]}),c.jsxs("div",{children:[c.jsx(Le,{htmlFor:"password",children:"Contraseña"}),c.jsx(De,{id:"password",type:"password",value:r,onChange:p=>n(p.target.value),required:!0,placeholder:"••••••••"})]}),s&&c.jsx(Fb,{variant:"destructive",children:c.jsx(zb,{children:s})}),c.jsx(de,{type:"submit",className:"w-full",disabled:a,children:a?"Iniciando sesión...":"Iniciar Sesión"})]})})]})})}function tle(){const[t,e]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState(null),[s,o]=_.useState([]),[l,u]=_.useState(null),[d,h]=_.useState(!0),f=xm();_.useEffect(()=>{p()},[]);const p=async()=>{try{h(!0),console.log("Fetching comprehensive dashboard data..."),await g(),await m(),await v(),await x(),await y()}catch(C){console.error("Error fetching dashboard data:",C),ve.error("Error al cargar datos del dashboard")}finally{h(!1)}},g=async()=>{try{const{data:C,error:A}=await ue.from("current_inventory").select("product_id, current_stock, reorder_point").filter("current_stock","lt","reorder_point").limit(10);if(A){console.error("Error fetching low stock items:",A);return}const N=(C||[]).map(P=>({product_id:P.product_id,current_balance:P.current_stock||0,order_point:P.reorder_point||0,product_code:P.product_id}));console.log("Low stock items fetched:",N.length),e(N)}catch(C){console.error("Error in fetchLowStockItems:",C)}},m=async()=>{try{const C=[{id:1,po_number:"PO-2024-001",status:"PENDING",order_date:"2024-12-01",created_at:"2024-12-01T10:00:00Z"},{id:2,po_number:"PO-2024-002",status:"APPROVED",order_date:"2024-12-02",created_at:"2024-12-02T10:00:00Z"},{id:3,po_number:"PO-2024-003",status:"PENDING",order_date:"2024-12-03",created_at:"2024-12-03T10:00:00Z"}];console.log("Using mock purchase orders data");const A=C.map(N=>({id:N.id||0,po_number:N.po_number||"",status:N.status||"DRAFT",order_date:N.order_date||new Date().toISOString()}));console.log("Recent orders fetched:",A.length),n(A)}catch(C){console.error("Error in fetchRecentOrders:",C)}},v=async()=>{try{const{data:C,error:A}=await ue.from("forecast_error_metrics").select("mae, product_id, location_id").not("mae","is",null);if(A){console.error("Error fetching forecast accuracy:",A);return}if(C&&C.length>0){const N=C.reduce((E,O)=>E+(100-(O.mae||0)),0)/C.length,P=new Set(C.map(E=>E.location_id)).size;i({product_count:C.length,avg_accuracy:Math.max(0,Math.min(100,N)),locations_analyzed:P}),console.log("Forecast accuracy calculated:",{avgAccuracy:N,uniqueLocations:P,totalProducts:C.length})}}catch(C){console.error("Error in fetchForecastAccuracy:",C)}},x=async()=>{try{const{data:C,error:A}=await ue.from("forecast_results").select(`
          product_id,
          customer_id,
          mae,
          products!inner(product_name),
          customers!inner(customer_name)
        `).not("mae","is",null).gte("mae",15).order("mae",{ascending:!1}).limit(5);if(A){console.error("Error fetching low accuracy forecasts:",A);return}const N=(C||[]).map(P=>{var E,O;return{product_id:P.product_id,customer_id:P.customer_id,mae:P.mae,product_name:((E=P.products)==null?void 0:E.product_name)||P.product_id,customer_name:((O=P.customers)==null?void 0:O.customer_name)||P.customer_id}});console.log("Low accuracy forecasts fetched:",N.length),o(N)}catch(C){console.error("Error in fetchLowAccuracyForecasts:",C)}},y=async()=>{try{const{count:C}=await ue.from("products").select("*",{count:"exact",head:!0}),A=[{po_number:"PO-2024-001",status:"PENDING"},{po_number:"PO-2024-002",status:"APPROVED"}];console.log("Using mock pending orders data");const{count:N}=await ue.from("demand_outliers").select("*",{count:"exact",head:!0}).gte("postdate",new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0]);u({totalProducts:C||0,activeVendors:0,pendingOrders:(A||[]).length,outlierProducts:N||0}),console.log("Dashboard metrics calculated:",{totalProducts:C,pendingOrders:(A||[]).length,outlierProducts:N})}catch(C){console.error("Error in fetchDashboardMetrics:",C)}},b=t.filter(C=>C.current_balance<=C.order_point*.5),w=t.filter(C=>C.current_balance>C.order_point*.5&&C.current_balance<=C.order_point),S=C=>{const A={DRAFT:{color:"bg-gray-100 text-gray-700",label:"Borrador"},PENDING:{color:"bg-yellow-100 text-yellow-700",label:"Pendiente"},APPROVED:{color:"bg-blue-100 text-blue-700",label:"Aprobada"},SENT:{color:"bg-green-100 text-green-700",label:"Enviada"}},N=A[C]||A.DRAFT;return c.jsx(_e,{className:N.color,children:N.label})},k=C=>new Date(C).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"});return d?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Zt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando dashboard..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard del Planificador"}),c.jsx("p",{className:"text-muted-foreground",children:"Resumen del estado del inventario y análisis de demanda"})]}),c.jsxs(de,{onClick:p,children:[c.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Actualizar"]})]}),c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(gs,{className:"h-5 w-5 text-red-500"}),"Pronósticos con Baja Precisión"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Top 5 productos con mayor error de pronóstico (MAE ≥ 15%)"})]}),c.jsx(te,{children:s.length===0?c.jsx("div",{className:"text-center py-4",children:c.jsx("p",{className:"text-muted-foreground",children:"No se encontraron pronósticos con baja precisión"})}):c.jsx("div",{className:"space-y-3",children:s.map((C,A)=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>f(`/demand-forecast?product_id=${C.product_id}&customer_id=${C.customer_id}`),children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-red-100 text-red-700 rounded-full flex items-center justify-center text-sm font-medium",children:A+1}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:C.product_name}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cliente: ",C.customer_name]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",C.product_id," | Customer: ",C.customer_id]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs(_e,{variant:"destructive",children:["MAE: ",C.mae.toFixed(1),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Click para revisar"})]})]},`${C.product_id}-${C.customer_id}`))})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[c.jsxs(ee,{children:[c.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(me,{className:"text-sm font-medium",children:"Productos Críticos"}),c.jsx(Wr,{className:"h-4 w-4 text-red-500"})]}),c.jsxs(te,{children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Stock < 50% del punto de reorden"})]})]}),c.jsxs(ee,{children:[c.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(me,{className:"text-sm font-medium",children:"Productos en Advertencia"}),c.jsx(ia,{className:"h-4 w-4 text-yellow-500"})]}),c.jsxs(te,{children:[c.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:w.length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Stock por debajo del punto de reorden"})]})]}),c.jsxs(ee,{children:[c.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(me,{className:"text-sm font-medium",children:"Total Productos"}),c.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(te,{children:[c.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.totalProducts)||0}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Productos activos"})]})]}),c.jsxs(ee,{children:[c.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(me,{className:"text-sm font-medium",children:"Órdenes Pendientes"}),c.jsx(NA,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(te,{children:[c.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.pendingOrders)||0}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Órdenes por procesar"})]})]}),c.jsxs(ee,{children:[c.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(me,{className:"text-sm font-medium",children:"Proveedores Activos"}),c.jsx(Er,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(te,{children:[c.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.activeVendors)||0}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Outliers: ",(l==null?void 0:l.outlierProducts)||0]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a&&c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Aa,{className:"h-5 w-5"}),"Precisión de Pronósticos"]})}),c.jsx(te,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Precisión Promedio"}),c.jsxs("span",{className:"font-semibold text-lg",children:[a.avg_accuracy.toFixed(1),"%"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Productos Analizados"}),c.jsx("span",{className:"font-medium",children:a.product_count})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Ubicaciones"}),c.jsx("span",{className:"font-medium",children:a.locations_analyzed})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${a.avg_accuracy}%`}})})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(id,{className:"h-5 w-5"}),"Órdenes Recientes"]})}),c.jsx(te,{children:r.length===0?c.jsx("div",{className:"text-center py-4",children:c.jsx("p",{className:"text-muted-foreground",children:"No hay órdenes recientes"})}):c.jsx("div",{className:"space-y-3",children:r.map(C=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:C.po_number}),c.jsx("div",{className:"text-sm text-muted-foreground",children:k(C.order_date)})]}),c.jsx("div",{className:"text-right",children:c.jsx("div",{className:"mt-1",children:S(C.status)})})]},C.id))})})]})]}),c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Productos con Stock Bajo"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Productos que requieren reabastecimiento inmediato"})]}),c.jsx(te,{children:t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Zt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Todos los productos tienen stock adecuado"}),c.jsx("p",{className:"text-muted-foreground",children:"No hay productos por debajo del punto de reorden en este momento."})]}):c.jsxs("div",{className:"space-y-4",children:[t.slice(0,10).map(C=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:C.current_balance<=C.order_point*.5?c.jsx(_e,{className:"bg-red-100 text-red-700",children:"Crítico"}):c.jsx(_e,{className:"bg-yellow-100 text-yellow-700",children:"Advertencia"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:C.product_code}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",C.product_id]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-medium",children:["Stock: ",C.current_balance.toLocaleString()]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Punto de reorden: ",C.order_point.toLocaleString()]})]})]},C.product_id)),t.length>10&&c.jsx("div",{className:"text-center py-2",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Y ",t.length-10," productos más..."]})})]})})]})]})}function mt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function la(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function gn(t,e){const r=mt(t);return isNaN(e)?la(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function mi(t,e){const r=mt(t);if(isNaN(e))return la(t,NaN);if(!e)return r;const n=r.getDate(),a=la(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const NN=6048e5,rle=864e5;let nle={};function Lm(){return nle}function Yi(t,e){var o,l,u,d;const r=Lm(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=mt(t),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function hc(t){return Yi(t,{weekStartsOn:1})}function vH(t){const e=mt(t),r=e.getFullYear(),n=la(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=hc(n),i=la(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=hc(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function dd(t){const e=mt(t);return e.setHours(0,0,0,0),e}function _y(t){const e=mt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ii(t,e){const r=dd(t),n=dd(e),a=+r-_y(r),i=+n-_y(n);return Math.round((a-i)/rle)}function ale(t){const e=vH(t),r=la(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),hc(r)}function pj(t,e){const r=e*7;return gn(t,r)}function ile(t,e){return mi(t,e*12)}function sle(t){let e;return t.forEach(function(r){const n=mt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function ole(t){let e;return t.forEach(r=>{const n=mt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function Ln(t,e){const r=dd(t),n=dd(e);return+r==+n}function PN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lle(t){if(!PN(t)&&typeof t!="number")return!1;const e=mt(t);return!isNaN(Number(e))}function Sp(t,e){const r=mt(t),n=mt(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function cle(t,e,r){const n=Yi(t,r),a=Yi(e,r),i=+n-_y(n),s=+a-_y(a);return Math.round((i-s)/NN)}function EN(t){const e=mt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Wn(t){const e=mt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function yH(t){const e=mt(t),r=la(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ON(t,e){var o,l,u,d;const r=Lm(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=mt(t),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function xH(t){return ON(t,{weekStartsOn:1})}const ule={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dle=(t,e,r)=>{let n;const a=ule[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function s1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const hle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ple={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mle={date:s1({formats:hle,defaultWidth:"full"}),time:s1({formats:fle,defaultWidth:"full"}),dateTime:s1({formats:ple,defaultWidth:"full"})},gle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vle=(t,e,r,n)=>gle[t];function Vh(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[o]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const yle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ble={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_le={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jle=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cle={ordinalNumber:jle,era:Vh({values:yle,defaultWidth:"wide"}),quarter:Vh({values:xle,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vh({values:ble,defaultWidth:"wide"}),day:Vh({values:wle,defaultWidth:"wide"}),dayPeriod:Vh({values:_le,defaultWidth:"wide",formattingValues:Sle,defaultFormattingWidth:"wide"})};function qh(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Ale(o,h=>h.test(s)):kle(o,h=>h.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function kle(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Ale(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Nle(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(a.length);return{value:s,rest:o}}}const Ple=/^(\d+)(th|st|nd|rd)?/i,Ele=/\d+/i,Ole={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tle={any:[/^b/i,/^(a|c)/i]},Mle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rle={any:[/1/i,/2/i,/3/i,/4/i]},Ile={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$le={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ble={ordinalNumber:Nle({matchPattern:Ple,parsePattern:Ele,valueCallback:t=>parseInt(t,10)}),era:qh({matchPatterns:Ole,defaultMatchWidth:"wide",parsePatterns:Tle,defaultParseWidth:"any"}),quarter:qh({matchPatterns:Mle,defaultMatchWidth:"wide",parsePatterns:Rle,defaultParseWidth:"any",valueCallback:t=>t+1}),month:qh({matchPatterns:Ile,defaultMatchWidth:"wide",parsePatterns:Dle,defaultParseWidth:"any"}),day:qh({matchPatterns:Lle,defaultMatchWidth:"wide",parsePatterns:$le,defaultParseWidth:"any"}),dayPeriod:qh({matchPatterns:Fle,defaultMatchWidth:"any",parsePatterns:zle,defaultParseWidth:"any"})},bH={code:"en-US",formatDistance:dle,formatLong:mle,formatRelative:vle,localize:Cle,match:Ble,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wle(t){const e=mt(t);return Ii(e,yH(e))+1}function wH(t){const e=mt(t),r=+hc(e)-+ale(e);return Math.round(r/NN)+1}function _H(t,e){var d,h,f,p;const r=mt(t),n=r.getFullYear(),a=Lm(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(f=a.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=la(t,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Yi(s,e),l=la(t,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=Yi(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Hle(t,e){var o,l,u,d;const r=Lm(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=_H(t,e),i=la(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Yi(i,e)}function SH(t,e){const r=mt(t),n=+Yi(r,e)-+Hle(r,e);return Math.round(n/NN)+1}function wt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ys={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return wt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):wt(r+1,2)},d(t,e){return wt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return wt(t.getHours()%12||12,e.length)},H(t,e){return wt(t.getHours(),e.length)},m(t,e){return wt(t.getMinutes(),e.length)},s(t,e){return wt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return wt(a,e.length)}},qc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yT={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ys.y(t,e)},Y:function(t,e,r,n){const a=_H(t,n),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return wt(s,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):wt(i,e.length)},R:function(t,e){const r=vH(t);return wt(r,e.length)},u:function(t,e){const r=t.getFullYear();return wt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return wt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return wt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ys.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return wt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=SH(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):wt(a,e.length)},I:function(t,e,r){const n=wH(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):wt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ys.d(t,e)},D:function(t,e,r){const n=Wle(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):wt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return wt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return wt(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return wt(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=qc.noon:n===0?a=qc.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=qc.evening:n>=12?a=qc.afternoon:n>=4?a=qc.morning:a=qc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ys.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ys.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):wt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):wt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ys.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ys.s(t,e)},S:function(t,e){return Ys.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return bT(n);case"XXXX":case"XX":return yl(n);case"XXXXX":case"XXX":default:return yl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return bT(n);case"xxxx":case"xx":return yl(n);case"xxxxx":case"xxx":default:return yl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+xT(n,":");case"OOOO":default:return"GMT"+yl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+xT(n,":");case"zzzz":default:return"GMT"+yl(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return wt(n,e.length)},T:function(t,e,r){const n=t.getTime();return wt(n,e.length)}};function xT(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+wt(i,2)}function bT(t,e){return t%60===0?(t>0?"-":"+")+wt(Math.abs(t)/60,2):yl(t,e)}function yl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=wt(Math.trunc(n/60),2),i=wt(n%60,2);return r+a+e+i}const wT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ule=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return wT(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",wT(n,e)).replace("{{time}}",jH(a,e))},Yle={p:jH,P:Ule},Xle=/^D+$/,Vle=/^Y+$/,qle=["D","DD","YY","YYYY"];function Gle(t){return Xle.test(t)}function Kle(t){return Vle.test(t)}function Zle(t,e,r){const n=Qle(t,e,r);if(console.warn(n),qle.includes(t))throw new RangeError(n)}function Qle(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ece=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tce=/^'([^]*?)'?$/,rce=/''/g,nce=/[a-zA-Z]/;function Ps(t,e,r){var d,h,f,p,g,m,v,x;const n=Lm(),a=(r==null?void 0:r.locale)??n.locale??bH,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,o=mt(t);if(!lle(o))throw new RangeError("Invalid time value");let l=e.match(ece).map(y=>{const b=y[0];if(b==="p"||b==="P"){const w=Yle[b];return w(y,a.formatLong)}return y}).join("").match(Jle).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:ace(y)};if(yT[b])return{isToken:!0,value:y};if(b.match(nce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Kle(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Gle(b))&&Zle(b,e,String(t));const w=yT[b[0]];return w(o,b,a.localize,u)}).join("")}function ace(t){const e=t.match(tce);return e?e[1].replace(rce,"'"):t}function ice(t){const e=mt(t),r=e.getFullYear(),n=e.getMonth(),a=la(t,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function sce(t){return Math.trunc(+mt(t)/1e3)}function oce(t){const e=mt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function lce(t,e){return cle(oce(t),Wn(t),e)+1}function mj(t,e){const r=mt(t),n=mt(e);return r.getTime()>n.getTime()}function CH(t,e){const r=mt(t),n=mt(e);return+r<+n}function TN(t,e){const r=mt(t),n=mt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function cce(t,e){const r=mt(t),n=mt(e);return r.getFullYear()===n.getFullYear()}function o1(t,e){return gn(t,-e)}function l1(t,e){const r=mt(t),n=r.getFullYear(),a=r.getDate(),i=la(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const s=ice(i);return r.setMonth(e,Math.min(a,s)),r}function _T(t,e){const r=mt(t);return isNaN(+r)?la(t,NaN):(r.setFullYear(e),r)}var Be=function(){return Be=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Be.apply(this,arguments)};function uce(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function kH(t,e,r){for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function $m(t){return t.mode==="multiple"}function Fm(t){return t.mode==="range"}function Bb(t){return t.mode==="single"}var dce={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function hce(t,e){return Ps(t,"LLLL y",e)}function fce(t,e){return Ps(t,"d",e)}function pce(t,e){return Ps(t,"LLLL",e)}function mce(t){return"".concat(t)}function gce(t,e){return Ps(t,"cccccc",e)}function vce(t,e){return Ps(t,"yyyy",e)}var yce=Object.freeze({__proto__:null,formatCaption:hce,formatDay:fce,formatMonthCaption:pce,formatWeekNumber:mce,formatWeekdayName:gce,formatYearCaption:vce}),xce=function(t,e,r){return Ps(t,"do MMMM (EEEE)",r)},bce=function(){return"Month: "},wce=function(){return"Go to next month"},_ce=function(){return"Go to previous month"},Sce=function(t,e){return Ps(t,"cccc",e)},jce=function(t){return"Week n. ".concat(t)},Cce=function(){return"Year: "},kce=Object.freeze({__proto__:null,labelDay:xce,labelMonthDropdown:bce,labelNext:wce,labelPrevious:_ce,labelWeekNumber:jce,labelWeekday:Sce,labelYearDropdown:Cce});function Ace(){var t="buttons",e=dce,r=bH,n={},a={},i=1,s={},o=new Date;return{captionLayout:t,classNames:e,formatters:yce,labels:kce,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:s,today:o,mode:"default"}}function Nce(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,a=t.toMonth,i=t.fromDate,s=t.toDate;return n?i=Wn(n):e&&(i=new Date(e,0,1)),a?s=EN(a):r&&(s=new Date(r,11,31)),{fromDate:i?dd(i):void 0,toDate:s?dd(s):void 0}}var AH=_.createContext(void 0);function Pce(t){var e,r=t.initialProps,n=Ace(),a=Nce(r),i=a.fromDate,s=a.toDate,o=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;o!=="buttons"&&(!i||!s)&&(o="buttons");var l;(Bb(r)||$m(r)||Fm(r))&&(l=r.onSelect);var u=Be(Be(Be({},n),r),{captionLayout:o,classNames:Be(Be({},n.classNames),r.classNames),components:Be({},r.components),formatters:Be(Be({},n.formatters),r.formatters),fromDate:i,labels:Be(Be({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Be(Be({},n.modifiers),r.modifiers),modifiersClassNames:Be(Be({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:Be(Be({},n.styles),r.styles),toDate:s});return c.jsx(AH.Provider,{value:u,children:t.children})}function Bt(){var t=_.useContext(AH);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function NH(t){var e=Bt(),r=e.locale,n=e.classNames,a=e.styles,i=e.formatters.formatCaption;return c.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function Ece(t){return c.jsx("svg",Be({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function PH(t){var e,r,n=t.onChange,a=t.value,i=t.children,s=t.caption,o=t.className,l=t.style,u=Bt(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:Ece;return c.jsxs("div",{className:o,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,c.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Oce(t){var e,r=Bt(),n=r.fromDate,a=r.toDate,i=r.styles,s=r.locale,o=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return c.jsx(c.Fragment,{});if(!a)return c.jsx(c.Fragment,{});var h=[];if(cce(n,a))for(var f=Wn(n),p=n.getMonth();p<=a.getMonth();p++)h.push(l1(f,p));else for(var f=Wn(new Date),p=0;p<=11;p++)h.push(l1(f,p));var g=function(v){var x=Number(v.target.value),y=l1(Wn(t.displayMonth),x);t.onChange(y)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:PH;return c.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:s}),children:h.map(function(v){return c.jsx("option",{value:v.getMonth(),children:o(v,{locale:s})},v.getMonth())})})}function Tce(t){var e,r=t.displayMonth,n=Bt(),a=n.fromDate,i=n.toDate,s=n.locale,o=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!a)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});for(var p=a.getFullYear(),g=i.getFullYear(),m=p;m<=g;m++)f.push(_T(yH(new Date),m));var v=function(y){var b=_T(Wn(r),Number(y.target.value));t.onChange(b)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:PH;return c.jsx(x,{name:"years","aria-label":h(),className:l.dropdown_year,style:o.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:s}),children:f.map(function(y){return c.jsx("option",{value:y.getFullYear(),children:d(y,{locale:s})},y.getFullYear())})})}function Mce(t,e){var r=_.useState(t),n=r[0],a=r[1],i=e===void 0?n:e;return[i,a]}function Rce(t){var e=t.month,r=t.defaultMonth,n=t.today,a=e||r||n||new Date,i=t.toDate,s=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(i&&Sp(i,a)<0){var u=-1*(l-1);a=mi(i,u)}return s&&Sp(a,s)<0&&(a=s),Wn(a)}function Ice(){var t=Bt(),e=Rce(t),r=Mce(e,t.month),n=r[0],a=r[1],i=function(s){var o;if(!t.disableNavigation){var l=Wn(s);a(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[n,i]}function Dce(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,a=Wn(t),i=Wn(mi(a,n)),s=Sp(i,a),o=[],l=0;l<s;l++){var u=mi(a,l);o.push(u)}return r&&(o=o.reverse()),o}function Lce(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,s=n?i:1,o=Wn(t);if(!r)return mi(o,s);var l=Sp(r,t);if(!(l<i))return mi(o,s)}}function $ce(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,s=n?i:1,o=Wn(t);if(!r)return mi(o,-s);var l=Sp(o,r);if(!(l<=0))return mi(o,-s)}}var EH=_.createContext(void 0);function Fce(t){var e=Bt(),r=Ice(),n=r[0],a=r[1],i=Dce(n,e),s=Lce(n,e),o=$ce(n,e),l=function(h){return i.some(function(f){return TN(h,f)})},u=function(h,f){l(h)||(f&&CH(h,f)?a(mi(h,1+e.numberOfMonths*-1)):a(h))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:o,nextMonth:s,isDateDisplayed:l};return c.jsx(EH.Provider,{value:d,children:t.children})}function zm(){var t=_.useContext(EH);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function ST(t){var e,r=Bt(),n=r.classNames,a=r.styles,i=r.components,s=zm().goToMonth,o=function(d){s(mi(d,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:NH,u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[c.jsx("div",{className:n.vhidden,children:u}),c.jsx(Oce,{onChange:o,displayMonth:t.displayMonth}),c.jsx(Tce,{onChange:o,displayMonth:t.displayMonth})]})}function zce(t){return c.jsx("svg",Be({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Bce(t){return c.jsx("svg",Be({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Sy=_.forwardRef(function(t,e){var r=Bt(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var s=i.join(" "),o=Be(Be({},a.button_reset),a.button);return t.style&&Object.assign(o,t.style),c.jsx("button",Be({},t,{ref:e,type:"button",className:s,style:o}))});function Wce(t){var e,r,n=Bt(),a=n.dir,i=n.locale,s=n.classNames,o=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,h=n.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var f=u(t.previousMonth,{locale:i}),p=[s.nav_button,s.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:i}),m=[s.nav_button,s.nav_button_next].join(" "),v=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:Bce,x=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:zce;return c.jsxs("div",{className:s.nav,style:o.nav,children:[!t.hidePrevious&&c.jsx(Sy,{name:"previous-month","aria-label":f,className:p,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?c.jsx(v,{className:s.nav_icon,style:o.nav_icon}):c.jsx(x,{className:s.nav_icon,style:o.nav_icon})}),!t.hideNext&&c.jsx(Sy,{name:"next-month","aria-label":g,className:m,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?c.jsx(x,{className:s.nav_icon,style:o.nav_icon}):c.jsx(v,{className:s.nav_icon,style:o.nav_icon})})]})}function jT(t){var e=Bt().numberOfMonths,r=zm(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,s=r.displayMonths,o=s.findIndex(function(g){return TN(t.displayMonth,g)}),l=o===0,u=o===s.length-1,d=e>1&&(l||!u),h=e>1&&(u||!l),f=function(){n&&i(n)},p=function(){a&&i(a)};return c.jsx(Wce,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:a,previousMonth:n,onPreviousClick:f,onNextClick:p})}function Hce(t){var e,r=Bt(),n=r.classNames,a=r.disableNavigation,i=r.styles,s=r.captionLayout,o=r.components,l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:NH,u;return a?u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=c.jsx(ST,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(ST,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx(jT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(jT,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:n.caption,style:i.caption,children:u})}function Uce(t){var e=Bt(),r=e.footer,n=e.styles,a=e.classNames.tfoot;return r?c.jsx("tfoot",{className:a,style:n.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:r})})}):c.jsx(c.Fragment,{})}function Yce(t,e,r){for(var n=r?hc(new Date):Yi(new Date,{locale:t,weekStartsOn:e}),a=[],i=0;i<7;i++){var s=gn(n,i);a.push(s)}return a}function Xce(){var t=Bt(),e=t.classNames,r=t.styles,n=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,s=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=Yce(a,i,s);return c.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&c.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,h){return c.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":l(d,{locale:a}),children:o(d,{locale:a})},h)})]})}function Vce(){var t,e=Bt(),r=e.classNames,n=e.styles,a=e.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:Xce;return c.jsx("thead",{style:n.head,className:r.head,children:c.jsx(i,{})})}function qce(t){var e=Bt(),r=e.locale,n=e.formatters.formatDay;return c.jsx(c.Fragment,{children:n(t.date,{locale:r})})}var MN=_.createContext(void 0);function Gce(t){if(!$m(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(MN.Provider,{value:e,children:t.children})}return c.jsx(Kce,{initialProps:t.initialProps,children:t.children})}function Kce(t){var e=t.initialProps,r=t.children,n=e.selected,a=e.min,i=e.max,s=function(u,d,h){var f,p;(f=e.onDayClick)===null||f===void 0||f.call(e,u,d,h);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var v=n?kH([],n):[];if(d.selected){var x=v.findIndex(function(y){return Ln(u,y)});v.splice(x,1)}else v.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,v,u,d,h)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=i&&n.length>i-1,h=n.some(function(f){return Ln(f,u)});return!!(d&&!h)});var l={selected:n,onDayClick:s,modifiers:o};return c.jsx(MN.Provider,{value:l,children:r})}function RN(){var t=_.useContext(MN);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Zce(t,e){var r=e||{},n=r.from,a=r.to;return n&&a?Ln(a,t)&&Ln(n,t)?void 0:Ln(a,t)?{from:a,to:void 0}:Ln(n,t)?void 0:mj(n,t)?{from:t,to:a}:{from:n,to:t}:a?mj(t,a)?{from:a,to:t}:{from:t,to:a}:n?CH(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var IN=_.createContext(void 0);function Qce(t){if(!Fm(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(IN.Provider,{value:e,children:t.children})}return c.jsx(Jce,{initialProps:t.initialProps,children:t.children})}function Jce(t){var e=t.initialProps,r=t.children,n=e.selected,a=n||{},i=a.from,s=a.to,o=e.min,l=e.max,u=function(p,g,m){var v,x;(v=e.onDayClick)===null||v===void 0||v.call(e,p,g,m);var y=Zce(p,n);(x=e.onSelect)===null||x===void 0||x.call(e,y,p,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],s?(d.range_end=[s],Ln(i,s)||(d.range_middle=[{after:i,before:s}])):d.range_end=[i]):s&&(d.range_start=[s],d.range_end=[s]),o&&(i&&!s&&d.disabled.push({after:o1(i,o-1),before:gn(i,o-1)}),i&&s&&d.disabled.push({after:i,before:gn(i,o-1)}),!i&&s&&d.disabled.push({after:o1(s,o-1),before:gn(s,o-1)})),l){if(i&&!s&&(d.disabled.push({before:gn(i,-l+1)}),d.disabled.push({after:gn(i,l-1)})),i&&s){var h=Ii(s,i)+1,f=l-h;d.disabled.push({before:o1(i,f)}),d.disabled.push({after:gn(s,f)})}!i&&s&&(d.disabled.push({before:gn(s,-l+1)}),d.disabled.push({after:gn(s,l-1)}))}return c.jsx(IN.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function DN(){var t=_.useContext(IN);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function wv(t){return Array.isArray(t)?kH([],t):t!==void 0?[t]:[]}function eue(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],a=r[1];e[n]=wv(a)}),e}var gi;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(gi||(gi={}));var tue=gi.Selected,Ji=gi.Disabled,rue=gi.Hidden,nue=gi.Today,c1=gi.RangeEnd,u1=gi.RangeMiddle,d1=gi.RangeStart,aue=gi.Outside;function iue(t,e,r){var n,a=(n={},n[tue]=wv(t.selected),n[Ji]=wv(t.disabled),n[rue]=wv(t.hidden),n[nue]=[t.today],n[c1]=[],n[u1]=[],n[d1]=[],n[aue]=[],n);return t.fromDate&&a[Ji].push({before:t.fromDate}),t.toDate&&a[Ji].push({after:t.toDate}),$m(t)?a[Ji]=a[Ji].concat(e.modifiers[Ji]):Fm(t)&&(a[Ji]=a[Ji].concat(r.modifiers[Ji]),a[d1]=r.modifiers[d1],a[u1]=r.modifiers[u1],a[c1]=r.modifiers[c1]),a}var OH=_.createContext(void 0);function sue(t){var e=Bt(),r=RN(),n=DN(),a=iue(e,r,n),i=eue(e.modifiers),s=Be(Be({},a),i);return c.jsx(OH.Provider,{value:s,children:t.children})}function TH(){var t=_.useContext(OH);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function oue(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function lue(t){return!!(t&&typeof t=="object"&&"from"in t)}function cue(t){return!!(t&&typeof t=="object"&&"after"in t)}function uue(t){return!!(t&&typeof t=="object"&&"before"in t)}function due(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function hue(t,e){var r,n=e.from,a=e.to;if(n&&a){var i=Ii(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var s=Ii(t,n)>=0&&Ii(a,t)>=0;return s}return a?Ln(a,t):n?Ln(n,t):!1}function fue(t){return PN(t)}function pue(t){return Array.isArray(t)&&t.every(PN)}function mue(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(fue(r))return Ln(t,r);if(pue(r))return r.includes(t);if(lue(r))return hue(t,r);if(due(r))return r.dayOfWeek.includes(t.getDay());if(oue(r)){var n=Ii(r.before,t),a=Ii(r.after,t),i=n>0,s=a<0,o=mj(r.before,r.after);return o?s&&i:i||s}return cue(r)?Ii(t,r.after)>0:uue(r)?Ii(r.before,t)>0:typeof r=="function"?r(t):!1})}function LN(t,e,r){var n=Object.keys(e).reduce(function(i,s){var o=e[s];return mue(t,o)&&i.push(s),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!TN(t,r)&&(a.outside=!0),a}function gue(t,e){for(var r=Wn(t[0]),n=EN(t[t.length-1]),a,i,s=r;s<=n;){var o=LN(s,e),l=!o.disabled&&!o.hidden;if(!l){s=gn(s,1);continue}if(o.selected)return s;o.today&&!i&&(i=s),a||(a=s),s=gn(s,1)}return i||a}var vue=365;function MH(t,e){var r=e.moveBy,n=e.direction,a=e.context,i=e.modifiers,s=e.retry,o=s===void 0?{count:0,lastFocused:t}:s,l=a.weekStartsOn,u=a.fromDate,d=a.toDate,h=a.locale,f={day:gn,week:pj,month:mi,year:ile,startOfWeek:function(v){return a.ISOWeek?hc(v):Yi(v,{locale:h,weekStartsOn:l})},endOfWeek:function(v){return a.ISOWeek?xH(v):ON(v,{locale:h,weekStartsOn:l})}},p=f[r](t,n==="after"?1:-1);n==="before"&&u?p=sle([u,p]):n==="after"&&d&&(p=ole([d,p]));var g=!0;if(i){var m=LN(p,i);g=!m.disabled&&!m.hidden}return g?p:o.count>vue?o.lastFocused:MH(p,{moveBy:r,direction:n,context:a,modifiers:i,retry:Be(Be({},o),{count:o.count+1})})}var RH=_.createContext(void 0);function yue(t){var e=zm(),r=TH(),n=_.useState(),a=n[0],i=n[1],s=_.useState(),o=s[0],l=s[1],u=gue(e.displayMonths,r),d=a??(o&&e.isDateDisplayed(o))?o:u,h=function(){l(a),i(void 0)},f=function(v){i(v)},p=Bt(),g=function(v,x){if(a){var y=MH(a,{moveBy:v,direction:x,context:p,modifiers:r});Ln(a,y)||(e.goToDate(y,a),f(y))}},m={focusedDay:a,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return c.jsx(RH.Provider,{value:m,children:t.children})}function $N(){var t=_.useContext(RH);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function xue(t,e){var r=TH(),n=LN(t,r,e);return n}var FN=_.createContext(void 0);function bue(t){if(!Bb(t.initialProps)){var e={selected:void 0};return c.jsx(FN.Provider,{value:e,children:t.children})}return c.jsx(wue,{initialProps:t.initialProps,children:t.children})}function wue(t){var e=t.initialProps,r=t.children,n=function(i,s,o){var l,u,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,s,o),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,s,o);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,s,o)},a={selected:e.selected,onDayClick:n};return c.jsx(FN.Provider,{value:a,children:r})}function IH(){var t=_.useContext(FN);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function _ue(t,e){var r=Bt(),n=IH(),a=RN(),i=DN(),s=$N(),o=s.focusDayAfter,l=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,h=s.blur,f=s.focus,p=s.focusMonthBefore,g=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,x=s.focusStartOfWeek,y=s.focusEndOfWeek,b=function(D){var R,F,z,B;Bb(r)?(R=n.onDayClick)===null||R===void 0||R.call(n,t,e,D):$m(r)?(F=a.onDayClick)===null||F===void 0||F.call(a,t,e,D):Fm(r)?(z=i.onDayClick)===null||z===void 0||z.call(i,t,e,D):(B=r.onDayClick)===null||B===void 0||B.call(r,t,e,D)},w=function(D){var R;f(t),(R=r.onDayFocus)===null||R===void 0||R.call(r,t,e,D)},S=function(D){var R;h(),(R=r.onDayBlur)===null||R===void 0||R.call(r,t,e,D)},k=function(D){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,t,e,D)},C=function(D){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,t,e,D)},A=function(D){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,t,e,D)},N=function(D){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,t,e,D)},P=function(D){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,t,e,D)},E=function(D){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,t,e,D)},O=function(D){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,t,e,D)},T=function(D){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,t,e,D)},M=function(D){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,t,e,D)},L=function(D){var R;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?o():l();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?l():o();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),u();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),d();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?m():p();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?v():g();break;case"Home":D.preventDefault(),D.stopPropagation(),x();break;case"End":D.preventDefault(),D.stopPropagation(),y();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,t,e,D)},I={onClick:b,onFocus:w,onBlur:S,onKeyDown:L,onKeyUp:M,onMouseEnter:k,onMouseLeave:C,onPointerEnter:A,onPointerLeave:N,onTouchCancel:P,onTouchEnd:E,onTouchMove:O,onTouchStart:T};return I}function Sue(){var t=Bt(),e=IH(),r=RN(),n=DN(),a=Bb(t)?e.selected:$m(t)?r.selected:Fm(t)?n.selected:void 0;return a}function jue(t){return Object.values(gi).includes(t)}function Cue(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var a=t.modifiersClassNames[n];if(a)r.push(a);else if(jue(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function kue(t,e){var r=Be({},t.styles.day);return Object.keys(e).forEach(function(n){var a;r=Be(Be({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Aue(t,e,r){var n,a,i,s=Bt(),o=$N(),l=xue(t,e),u=_ue(t,l),d=Sue(),h=!!(s.onDayClick||s.mode!=="default");_.useEffect(function(){var k;l.outside||o.focusedDay&&h&&Ln(o.focusedDay,t)&&((k=r.current)===null||k===void 0||k.focus())},[o.focusedDay,t,r,h,l.outside]);var f=Cue(s,l).join(" "),p=kue(s,l),g=!!(l.outside&&!s.showOutsideDays||l.hidden),m=(i=(a=s.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:qce,v=c.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),x={style:p,className:f,children:v,role:"gridcell"},y=o.focusTarget&&Ln(o.focusTarget,t)&&!l.outside,b=o.focusedDay&&Ln(o.focusedDay,t),w=Be(Be(Be({},x),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=b||y?0:-1,n)),u),S={isButton:h,isHidden:g,activeModifiers:l,selectedDays:d,buttonProps:w,divProps:x};return S}function Nue(t){var e=_.useRef(null),r=Aue(t.date,t.displayMonth,e);return r.isHidden?c.jsx("div",{role:"gridcell"}):r.isButton?c.jsx(Sy,Be({name:"day",ref:e},r.buttonProps)):c.jsx("div",Be({},r.divProps))}function Pue(t){var e=t.number,r=t.dates,n=Bt(),a=n.onWeekNumberClick,i=n.styles,s=n.classNames,o=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:o});if(!a)return c.jsx("span",{className:s.weeknumber,style:i.weeknumber,children:d});var h=l(Number(e),{locale:o}),f=function(p){a(e,r,p)};return c.jsx(Sy,{name:"week-number","aria-label":h,className:s.weeknumber,style:i.weeknumber,onClick:f,children:d})}function Eue(t){var e,r,n=Bt(),a=n.styles,i=n.classNames,s=n.showWeekNumber,o=n.components,l=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:Nue,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:Pue,d;return s&&(d=c.jsx("td",{className:i.cell,style:a.cell,children:c.jsx(u,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:i.row,style:a.row,children:[d,t.dates.map(function(h){return c.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:h})},sce(h))})]})}function CT(t,e,r){for(var n=r!=null&&r.ISOWeek?xH(e):ON(e,r),a=r!=null&&r.ISOWeek?hc(t):Yi(t,r),i=Ii(n,a),s=[],o=0;o<=i;o++)s.push(gn(a,o));var l=s.reduce(function(u,d){var h=r!=null&&r.ISOWeek?wH(d):SH(d,r),f=u.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return l}function Oue(t,e){var r=CT(Wn(t),EN(t),e);if(e!=null&&e.useFixedWeeks){var n=lce(t,e);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],s=pj(i,6-n),o=CT(pj(i,1),s,e);r.push.apply(r,o)}}return r}function Tue(t){var e,r,n,a=Bt(),i=a.locale,s=a.classNames,o=a.styles,l=a.hideHead,u=a.fixedWeeks,d=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,p=a.ISOWeek,g=Oue(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Vce,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Eue,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Uce;return c.jsxs("table",{id:t.id,className:s.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(m,{}),c.jsx("tbody",{className:s.tbody,style:o.tbody,children:g.map(function(y){return c.jsx(v,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),c.jsx(x,{displayMonth:t.displayMonth})]})}function Mue(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Rue=Mue()?_.useLayoutEffect:_.useEffect,h1=!1,Iue=0;function kT(){return"react-day-picker-".concat(++Iue)}function Due(t){var e,r=t??(h1?kT():null),n=_.useState(r),a=n[0],i=n[1];return Rue(function(){a===null&&i(kT())},[]),_.useEffect(function(){h1===!1&&(h1=!0)},[]),(e=t??a)!==null&&e!==void 0?e:void 0}function Lue(t){var e,r,n=Bt(),a=n.dir,i=n.classNames,s=n.styles,o=n.components,l=zm().displayMonths,u=Due(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,h=[i.month],f=s.month,p=t.displayIndex===0,g=t.displayIndex===l.length-1,m=!p&&!g;a==="rtl"&&(e=[p,g],g=e[0],p=e[1]),p&&(h.push(i.caption_start),f=Be(Be({},f),s.caption_start)),g&&(h.push(i.caption_end),f=Be(Be({},f),s.caption_end)),m&&(h.push(i.caption_between),f=Be(Be({},f),s.caption_between));var v=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:Hce;return c.jsxs("div",{className:h.join(" "),style:f,children:[c.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(Tue,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function $ue(t){var e=Bt(),r=e.classNames,n=e.styles;return c.jsx("div",{className:r.months,style:n.months,children:t.children})}function Fue(t){var e,r,n=t.initialProps,a=Bt(),i=$N(),s=zm(),o=_.useState(!1),l=o[0],u=o[1];_.useEffect(function(){a.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,l,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var h=Be(Be({},a.styles.root),a.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return Be(Be({},g),(v={},v[m]=n[m],v))},{}),p=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:$ue;return c.jsx("div",Be({className:d.join(" "),style:h,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:c.jsx(p,{children:s.displayMonths.map(function(g,m){return c.jsx(Lue,{displayIndex:m,displayMonth:g},m)})})}))}function zue(t){var e=t.children,r=uce(t,["children"]);return c.jsx(Pce,{initialProps:r,children:c.jsx(Fce,{children:c.jsx(bue,{initialProps:r,children:c.jsx(Gce,{initialProps:r,children:c.jsx(Qce,{initialProps:r,children:c.jsx(sue,{children:c.jsx(yue,{children:e})})})})})})})}function Bue(t){return c.jsx(zue,Be({},t,{children:c.jsx(Fue,{initialProps:t})}))}function gj({className:t,classNames:e,showOutsideDays:r=!0,...n}){return c.jsx(Bue,{showOutsideDays:r,className:le("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:le(ny({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:le(ny({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...a})=>c.jsx(G4,{className:"h-4 w-4"}),IconRight:({...a})=>c.jsx(eh,{className:"h-4 w-4"})},...n})}gj.displayName="Calendar";function Mo(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function AT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function DH(...t){return e=>{let r=!1;const n=t.map(a=>{const i=AT(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():AT(t[a],null)}}}}function al(...t){return _.useCallback(DH(...t),t)}function LH(t,e=[]){let r=[];function n(i,s){const o=_.createContext(s),l=r.length;r=[...r,s];const u=h=>{var x;const{scope:f,children:p,...g}=h,m=((x=f==null?void 0:f[t])==null?void 0:x[l])||o,v=_.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[l])||o,g=_.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return a.scopeName=t,[n,Wue(a,...e)]}function Wue(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...o,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function $H(t){const e=Hue(t),r=_.forwardRef((n,a)=>{const{children:i,...s}=n,o=_.Children.toArray(i),l=o.find(Yue);if(l){const u=l.props.children,d=o.map(h=>h===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...s,ref:a,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function Hue(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const s=Vue(a),o=Xue(i,a.props);return a.type!==_.Fragment&&(o.ref=n?DH(n,s):s),_.cloneElement(a,o)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Uue=Symbol("radix.slottable");function Yue(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Uue}function Xue(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function Vue(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var que=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ds=que.reduce((t,e)=>{const r=$H(`Primitive.${e}`),n=_.forwardRef((a,i)=>{const{asChild:s,...o}=a,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Gue(t,e){t&&_c.flushSync(()=>t.dispatchEvent(e))}function hd(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Kue(t,e=globalThis==null?void 0:globalThis.document){const r=hd(t);_.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Zue="DismissableLayer",vj="dismissableLayer.update",Que="dismissableLayer.pointerDownOutside",Jue="dismissableLayer.focusOutside",NT,FH=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zH=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:o,...l}=t,u=_.useContext(FH),[d,h]=_.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),g=al(e,C=>h(C)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=y>=x,S=rde(C=>{const A=C.target,N=[...u.branches].some(P=>P.contains(A));!w||N||(a==null||a(C),s==null||s(C),C.defaultPrevented||o==null||o())},f),k=nde(C=>{const A=C.target;[...u.branches].some(P=>P.contains(A))||(i==null||i(C),s==null||s(C),C.defaultPrevented||o==null||o())},f);return Kue(C=>{y===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},f),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(NT=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),PT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=NT)}},[d,f,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),PT())},[d,u]),_.useEffect(()=>{const C=()=>p({});return document.addEventListener(vj,C),()=>document.removeEventListener(vj,C)},[]),c.jsx(Ds.div,{...l,ref:g,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:Mo(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Mo(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Mo(t.onPointerDownCapture,S.onPointerDownCapture)})});zH.displayName=Zue;var ede="DismissableLayerBranch",tde=_.forwardRef((t,e)=>{const r=_.useContext(FH),n=_.useRef(null),a=al(e,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(Ds.div,{...t,ref:a})});tde.displayName=ede;function rde(t,e=globalThis==null?void 0:globalThis.document){const r=hd(t),n=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let l=function(){BH(Que,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=l,e.addEventListener("click",a.current,{once:!0})):l()}else e.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function nde(t,e=globalThis==null?void 0:globalThis.document){const r=hd(t),n=_.useRef(!1);return _.useEffect(()=>{const a=i=>{i.target&&!n.current&&BH(Jue,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function PT(){const t=new CustomEvent(vj);document.dispatchEvent(t)}function BH(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?Gue(a,i):a.dispatchEvent(i)}var f1=0;function ade(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ET()),document.body.insertAdjacentElement("beforeend",t[1]??ET()),f1++,()=>{f1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),f1--}},[])}function ET(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var p1="focusScope.autoFocusOnMount",m1="focusScope.autoFocusOnUnmount",OT={bubbles:!1,cancelable:!0},ide="FocusScope",WH=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=t,[o,l]=_.useState(null),u=hd(a),d=hd(i),h=_.useRef(null),f=al(e,m=>l(m)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let m=function(b){if(p.paused||!o)return;const w=b.target;o.contains(w)?h.current=w:Ks(h.current,{select:!0})},v=function(b){if(p.paused||!o)return;const w=b.relatedTarget;w!==null&&(o.contains(w)||Ks(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ks(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const y=new MutationObserver(x);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),y.disconnect()}}},[n,o,p.paused]),_.useEffect(()=>{if(o){MT.add(p);const m=document.activeElement;if(!o.contains(m)){const x=new CustomEvent(p1,OT);o.addEventListener(p1,u),o.dispatchEvent(x),x.defaultPrevented||(sde(dde(HH(o)),{select:!0}),document.activeElement===m&&Ks(o))}return()=>{o.removeEventListener(p1,u),setTimeout(()=>{const x=new CustomEvent(m1,OT);o.addEventListener(m1,d),o.dispatchEvent(x),x.defaultPrevented||Ks(m??document.body,{select:!0}),o.removeEventListener(m1,d),MT.remove(p)},0)}}},[o,u,d,p]);const g=_.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const y=m.currentTarget,[b,w]=ode(y);b&&w?!m.shiftKey&&x===w?(m.preventDefault(),r&&Ks(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Ks(w,{select:!0})):x===y&&m.preventDefault()}},[r,n,p.paused]);return c.jsx(Ds.div,{tabIndex:-1,...s,ref:f,onKeyDown:g})});WH.displayName=ide;function sde(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ks(n,{select:e}),document.activeElement!==r)return}function ode(t){const e=HH(t),r=TT(e,t),n=TT(e.reverse(),t);return[r,n]}function HH(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function TT(t,e){for(const r of t)if(!lde(r,{upTo:e}))return r}function lde(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cde(t){return t instanceof HTMLInputElement&&"select"in t}function Ks(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&cde(t)&&e&&t.select()}}var MT=ude();function ude(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=RT(t,e),t.unshift(e)},remove(e){var r;t=RT(t,e),(r=t[0])==null||r.resume()}}}function RT(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function dde(t){return t.filter(e=>e.tagName!=="A")}var Xo=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},hde=Hd[" useId ".trim().toString()]||(()=>{}),fde=0;function pde(t){const[e,r]=_.useState(hde());return Xo(()=>{t||r(n=>n??String(fde++))},[t]),t||(e?`radix-${e}`:"")}var mde="Arrow",UH=_.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return c.jsx(Ds.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});UH.displayName=mde;var gde=UH;function vde(t){const[e,r]=_.useState(void 0);return Xo(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var zN="Popper",[YH,XH]=LH(zN),[yde,VH]=YH(zN),qH=t=>{const{__scopePopper:e,children:r}=t,[n,a]=_.useState(null);return c.jsx(yde,{scope:e,anchor:n,onAnchorChange:a,children:r})};qH.displayName=zN;var GH="PopperAnchor",KH=_.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=VH(GH,r),s=_.useRef(null),o=al(e,s);return _.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:c.jsx(Ds.div,{...a,ref:o})});KH.displayName=GH;var BN="PopperContent",[xde,bde]=YH(BN),ZH=_.forwardRef((t,e)=>{var X,ae,G,Z,se,K;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,v=VH(BN,r),[x,y]=_.useState(null),b=al(e,Pe=>y(Pe)),[w,S]=_.useState(null),k=vde(w),C=(k==null?void 0:k.width)??0,A=(k==null?void 0:k.height)??0,N=n+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],O=E.length>0,T={padding:P,boundary:E.filter(_de),altBoundary:O},{refs:M,floatingStyles:L,placement:I,isPositioned:D,middlewareData:R}=BF({strategy:"fixed",placement:N,whileElementsMounted:(...Pe)=>FF(...Pe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[WF({mainAxis:a+A,alignmentAxis:s}),l&&HF({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?UF():void 0,...T}),l&&YF({...T}),XF({...T,apply:({elements:Pe,rects:Te,availableWidth:nt,availableHeight:tt})=>{const{width:Ot,height:W}=Te.reference,V=Pe.floating.style;V.setProperty("--radix-popper-available-width",`${nt}px`),V.setProperty("--radix-popper-available-height",`${tt}px`),V.setProperty("--radix-popper-anchor-width",`${Ot}px`),V.setProperty("--radix-popper-anchor-height",`${W}px`)}}),w&&qF({element:w,padding:o}),Sde({arrowWidth:C,arrowHeight:A}),f&&VF({strategy:"referenceHidden",...T})]}),[F,z]=e6(I),B=hd(g);Xo(()=>{D&&(B==null||B())},[D,B]);const q=(X=R.arrow)==null?void 0:X.x,ie=(ae=R.arrow)==null?void 0:ae.y,ne=((G=R.arrow)==null?void 0:G.centerOffset)!==0,[Ne,fe]=_.useState();return Xo(()=>{x&&fe(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:D?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(Z=R.transformOrigin)==null?void 0:Z.x,(se=R.transformOrigin)==null?void 0:se.y].join(" "),...((K=R.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(xde,{scope:r,placedSide:F,onArrowChange:S,arrowX:q,arrowY:ie,shouldHideArrow:ne,children:c.jsx(Ds.div,{"data-side":F,"data-align":z,...m,ref:b,style:{...m.style,animation:D?void 0:"none"}})})})});ZH.displayName=BN;var QH="PopperArrow",wde={top:"bottom",right:"left",bottom:"top",left:"right"},JH=_.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=bde(QH,n),s=wde[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(gde,{...a,ref:r,style:{...a.style,display:"block"}})})});JH.displayName=QH;function _de(t){return t!==null}var Sde=t=>({name:"transformOrigin",options:t,fn(e){var v,x,y;const{placement:r,rects:n,middlewareData:a}=e,s=((v=a.arrow)==null?void 0:v.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=e6(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=a.arrow)==null?void 0:x.x)??0)+o/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+l/2;let g="",m="";return u==="bottom"?(g=s?h:`${f}px`,m=`${-l}px`):u==="top"?(g=s?h:`${f}px`,m=`${n.floating.height+l}px`):u==="right"?(g=`${-l}px`,m=s?h:`${p}px`):u==="left"&&(g=`${n.floating.width+l}px`,m=s?h:`${p}px`),{data:{x:g,y:m}}}});function e6(t){const[e,r="center"]=t.split("-");return[e,r]}var jde=qH,t6=KH,Cde=ZH,kde=JH,Ade="Portal",r6=_.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[a,i]=_.useState(!1);Xo(()=>i(!0),[]);const s=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?aA.createPortal(c.jsx(Ds.div,{...n,ref:e}),s):null});r6.displayName=Ade;function Nde(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var WN=t=>{const{present:e,children:r}=t,n=Pde(e),a=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=al(n.ref,Ede(a));return typeof r=="function"||n.isPresent?_.cloneElement(a,{ref:i}):null};WN.displayName="Presence";function Pde(t){const[e,r]=_.useState(),n=_.useRef(null),a=_.useRef(t),i=_.useRef("none"),s=t?"mounted":"unmounted",[o,l]=Nde(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Lg(n.current);i.current=o==="mounted"?u:"none"},[o]),Xo(()=>{const u=n.current,d=a.current;if(d!==t){const f=i.current,p=Lg(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,l]),Xo(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const m=Lg(n.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!a.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=p=>{p.target===e&&(i.current=Lg(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Lg(t){return(t==null?void 0:t.animationName)||"none"}function Ede(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Ode=Hd[" useInsertionEffect ".trim().toString()]||Xo;function Tde({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,s]=Mde({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:a;{const d=_.useRef(t!==void 0);_.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=_.useCallback(d=>{var h;if(o){const f=Rde(d)?d(t):d;f!==t&&((h=s.current)==null||h.call(s,f))}else i(d)},[o,t,i,s]);return[l,u]}function Mde({defaultProp:t,onChange:e}){const[r,n]=_.useState(t),a=_.useRef(r),i=_.useRef(e);return Ode(()=>{i.current=e},[e]),_.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function Rde(t){return typeof t=="function"}var n6=oz(),g1=function(){},Wb=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:g1,onWheelCapture:g1,onTouchMoveCapture:g1}),a=n[0],i=n[1],s=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,b=t.gapMode,w=OA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,k=sz([r,e]),C=tn(tn({},w),a);return _.createElement(_.Fragment,null,d&&_.createElement(S,{sideCar:n6,removeScrollBar:u,shards:h,noRelative:p,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:b}),s?_.cloneElement(_.Children.only(o),tn(tn({},C),{ref:k})):_.createElement(y,tn({},C,{className:l,ref:k}),o))});Wb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wb.classNames={fullWidth:Pf,zeroRight:Nf};var yj=!1;if(typeof window<"u")try{var $g=Object.defineProperty({},"passive",{get:function(){return yj=!0,!0}});window.addEventListener("test",$g,$g),window.removeEventListener("test",$g,$g)}catch{yj=!1}var Gc=yj?{passive:!1}:!1,Ide=function(t){return t.tagName==="TEXTAREA"},a6=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ide(t)&&r[e]==="visible")},Dde=function(t){return a6(t,"overflowY")},Lde=function(t){return a6(t,"overflowX")},IT=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=i6(t,n);if(a){var i=s6(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$de=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Fde=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},i6=function(t,e){return t==="v"?Dde(e):Lde(e)},s6=function(t,e){return t==="v"?$de(e):Fde(e)},zde=function(t,e){return t==="h"&&e==="rtl"?-1:1},Bde=function(t,e,r,n,a){var i=zde(t,window.getComputedStyle(e).direction),s=i*n,o=r.target,l=e.contains(o),u=!1,d=s>0,h=0,f=0;do{if(!o)break;var p=s6(t,o),g=p[0],m=p[1],v=p[2],x=m-v-i*g;(g||x)&&i6(t,o)&&(h+=x,f+=g);var y=o.parentNode;o=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},Fg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},DT=function(t){return[t.deltaX,t.deltaY]},LT=function(t){return t&&"current"in t?t.current:t},Wde=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Hde=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Ude=0,Kc=[];function Yde(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),a=_.useState(Ude++)[0],i=_.useState(TA)[0],s=_.useRef(t);_.useEffect(function(){s.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var m=iz([t.lockRef.current],(t.shards||[]).map(LT),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=_.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var x=Fg(m),y=r.current,b="deltaX"in m?m.deltaX:y[0]-x[0],w="deltaY"in m?m.deltaY:y[1]-x[1],S,k=m.target,C=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in m&&C==="h"&&k.type==="range")return!1;var A=IT(C,k);if(!A)return!0;if(A?S=C:(S=C==="v"?"h":"v",A=IT(C,k)),!A)return!1;if(!n.current&&"changedTouches"in m&&(b||w)&&(n.current=S),!S)return!0;var N=n.current||S;return Bde(N,v,m,N==="h"?b:w,!0)},[]),l=_.useCallback(function(m){var v=m;if(!(!Kc.length||Kc[Kc.length-1]!==i)){var x="deltaY"in v?DT(v):Fg(v),y=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Wde(S.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(LT).filter(Boolean).filter(function(S){return S.contains(v.target)}),w=b.length>0?o(v,b[0]):!s.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),u=_.useCallback(function(m,v,x,y){var b={name:m,delta:v,target:x,should:y,shadowParent:Xde(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),d=_.useCallback(function(m){r.current=Fg(m),n.current=void 0},[]),h=_.useCallback(function(m){u(m.type,DT(m),m.target,o(m,t.lockRef.current))},[]),f=_.useCallback(function(m){u(m.type,Fg(m),m.target,o(m,t.lockRef.current))},[]);_.useEffect(function(){return Kc.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Gc),document.addEventListener("touchmove",l,Gc),document.addEventListener("touchstart",d,Gc),function(){Kc=Kc.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Gc),document.removeEventListener("touchmove",l,Gc),document.removeEventListener("touchstart",d,Gc)}},[]);var p=t.removeScrollBar,g=t.inert;return _.createElement(_.Fragment,null,g?_.createElement(i,{styles:Hde(a)}):null,p?_.createElement(dz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Xde(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Vde=cz(n6,Yde);var o6=_.forwardRef(function(t,e){return _.createElement(Wb,tn({},t,{ref:e,sideCar:Vde}))});o6.classNames=Wb.classNames;var Hb="Popover",[l6,Pze]=LH(Hb,[XH]),Bm=XH(),[qde,il]=l6(Hb),c6=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=t,o=Bm(e),l=_.useRef(null),[u,d]=_.useState(!1),[h,f]=Tde({prop:n,defaultProp:a??!1,onChange:i,caller:Hb});return c.jsx(jde,{...o,children:c.jsx(qde,{scope:e,contentId:pde(),triggerRef:l,open:h,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:_.useCallback(()=>d(!0),[]),onCustomAnchorRemove:_.useCallback(()=>d(!1),[]),modal:s,children:r})})};c6.displayName=Hb;var u6="PopoverAnchor",Gde=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=il(u6,r),i=Bm(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=a;return _.useEffect(()=>(s(),()=>o()),[s,o]),c.jsx(t6,{...i,...n,ref:e})});Gde.displayName=u6;var d6="PopoverTrigger",h6=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=il(d6,r),i=Bm(r),s=al(e,a.triggerRef),o=c.jsx(Ds.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":v6(a.open),...n,ref:s,onClick:Mo(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:c.jsx(t6,{asChild:!0,...i,children:o})});h6.displayName=d6;var HN="PopoverPortal",[Kde,Zde]=l6(HN,{forceMount:void 0}),f6=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,i=il(HN,e);return c.jsx(Kde,{scope:e,forceMount:r,children:c.jsx(WN,{present:r||i.open,children:c.jsx(r6,{asChild:!0,container:a,children:n})})})};f6.displayName=HN;var fd="PopoverContent",p6=_.forwardRef((t,e)=>{const r=Zde(fd,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=il(fd,t.__scopePopover);return c.jsx(WN,{present:n||i.open,children:i.modal?c.jsx(Jde,{...a,ref:e}):c.jsx(ehe,{...a,ref:e})})});p6.displayName=fd;var Qde=$H("PopoverContent.RemoveScroll"),Jde=_.forwardRef((t,e)=>{const r=il(fd,t.__scopePopover),n=_.useRef(null),a=al(e,n),i=_.useRef(!1);return _.useEffect(()=>{const s=n.current;if(s)return lb(s)},[]),c.jsx(o6,{as:Qde,allowPinchZoom:!0,children:c.jsx(m6,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mo(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),i.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Mo(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,u=o.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Mo(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),ehe=_.forwardRef((t,e)=>{const r=il(fd,t.__scopePopover),n=_.useRef(!1),a=_.useRef(!1);return c.jsx(m6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),m6=_.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...h}=t,f=il(fd,r),p=Bm(r);return ade(),c.jsx(WH,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c.jsx(zH,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:c.jsx(Cde,{"data-state":v6(f.open),role:"dialog",id:f.contentId,...p,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),g6="PopoverClose",the=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=il(g6,r);return c.jsx(Ds.button,{type:"button",...n,ref:e,onClick:Mo(t.onClick,()=>a.onOpenChange(!1))})});the.displayName=g6;var rhe="PopoverArrow",nhe=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Bm(r);return c.jsx(kde,{...a,...n,ref:e})});nhe.displayName=rhe;function v6(t){return t?"open":"closed"}var ahe=c6,ihe=h6,she=f6,y6=p6;const $T=ahe,FT=ihe,xj=_.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},a)=>c.jsx(she,{children:c.jsx(y6,{ref:a,align:e,sideOffset:r,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));xj.displayName=y6.displayName;function ohe({filters:t,onFiltersChange:e}){const r=(n,a)=>{e({...t,[n]:a})};return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"vendor",children:"Proveedor"}),c.jsx(De,{id:"vendor",placeholder:"Buscar proveedor...",value:t.vendorFilter,onChange:n=>r("vendorFilter",n.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"product",children:"Producto"}),c.jsx(De,{id:"product",placeholder:"Buscar producto...",value:t.productFilter,onChange:n=>r("productFilter",n.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"status",children:"Estado"}),c.jsxs(xn,{value:t.statusFilter,onValueChange:n=>r("statusFilter",n),children:[c.jsx(an,{children:c.jsx(bn,{placeholder:"Todos los estados"})}),c.jsxs(sn,{children:[c.jsx(it,{value:"all",children:"Todos los estados"}),c.jsx(it,{value:"DRAFT",children:"Borrador"}),c.jsx(it,{value:"PENDING",children:"Pendiente"}),c.jsx(it,{value:"APPROVED",children:"Aprobada"}),c.jsx(it,{value:"SENT",children:"Enviada"}),c.jsx(it,{value:"RECEIVED",children:"Recibida"}),c.jsx(it,{value:"CANCELLED",children:"Cancelada"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Fecha Desde"}),c.jsxs($T,{children:[c.jsx(FT,{asChild:!0,children:c.jsxs(de,{variant:"outline",className:le("w-full justify-start text-left font-normal",!t.dateFrom&&"text-muted-foreground"),children:[c.jsx(id,{className:"mr-2 h-4 w-4"}),t.dateFrom?Ps(t.dateFrom,"dd/MM/yyyy"):"Seleccionar fecha"]})}),c.jsx(xj,{className:"w-auto p-0",children:c.jsx(gj,{mode:"single",selected:t.dateFrom,onSelect:n=>r("dateFrom",n),initialFocus:!0})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Fecha Hasta"}),c.jsxs($T,{children:[c.jsx(FT,{asChild:!0,children:c.jsxs(de,{variant:"outline",className:le("w-full justify-start text-left font-normal",!t.dateTo&&"text-muted-foreground"),children:[c.jsx(id,{className:"mr-2 h-4 w-4"}),t.dateTo?Ps(t.dateTo,"dd/MM/yyyy"):"Seleccionar fecha"]})}),c.jsx(xj,{className:"w-auto p-0",children:c.jsx(gj,{mode:"single",selected:t.dateTo,onSelect:n=>r("dateTo",n),initialFocus:!0})})]})]})]})}function lhe(){const[t,e]=_.useState([]),[r,n]=_.useState(null),[a,i]=_.useState([]),[s,o]=_.useState(!0),[l,u]=_.useState(!1),[d,h]=_.useState(!1),[f,p]=_.useState(!1),[g,m]=_.useState(!1),[v,x]=_.useState({vendorFilter:"",productFilter:"",statusFilter:"",dateFrom:void 0,dateTo:void 0});_.useEffect(()=>{y()},[]);const y=async()=>{try{o(!0),console.log("Fetching purchase order suggestions...");const{data:N,error:P}=await ue.from("purchase_order_suggestions").select("*").order("order_date",{ascending:!1});if(console.log("Purchase order suggestions query result:",{data:N,error:P}),P)throw console.error("Supabase error:",P),P;e(N||[])}catch(N){console.error("Error fetching purchase order suggestions:",N),ve.error("Error al cargar órdenes de reabastecimiento: "+N.message)}finally{o(!1)}},b=async N=>{try{u(!0),n(N),m(!1),i([]),console.log("Fetching details for order:",N.id),p(!0)}catch(P){console.error("Error fetching order details:",P),ve.error("Error al cargar detalles de la orden")}finally{u(!1)}},w=async N=>{try{h(!0),console.log("Fetching calculations for order:",N.id);const{data:P,error:E}=await ue.from("purchase_order_calculations").select("*").eq("purchase_order_suggestion_id",N.id);console.log("Purchase order calculations query result:",{data:P,error:E}),E?(console.error("Error fetching order calculations:",E),ve.error("Error al cargar cálculos de la orden"),i([])):i(P||[])}catch(P){console.error("Error fetching calculations:",P),ve.error("Error al cargar cálculos de la orden"),i([])}finally{h(!1)}},S=N=>{const P={draft:{color:"bg-gray-100 text-gray-700",label:"Borrador"},pending:{color:"bg-yellow-100 text-yellow-700",label:"Pendiente"},approved:{color:"bg-blue-100 text-blue-700",label:"Aprobada"},sent:{color:"bg-green-100 text-green-700",label:"Enviada"},received:{color:"bg-purple-100 text-purple-700",label:"Recibida"},cancelled:{color:"bg-red-100 text-red-700",label:"Cancelada"}},E=P[N==null?void 0:N.toLowerCase()]||P.pending;return c.jsx(_e,{className:E.color,children:E.label})},k=N=>N?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(N):"$0.00",C=N=>N?new Date(N).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"-",A=_.useMemo(()=>t.filter(N=>{if(v.vendorFilter&&!N.vendor_name.toLowerCase().includes(v.vendorFilter.toLowerCase())||v.statusFilter&&v.statusFilter!=="all"&&N.status!==v.statusFilter)return!1;if(v.dateFrom){const P=new Date(N.order_date),E=new Date(v.dateFrom);if(E.setHours(0,0,0,0),P<E)return!1}if(v.dateTo){const P=new Date(N.order_date),E=new Date(v.dateTo);if(E.setHours(23,59,59,999),P>E)return!1}return!0}),[t,v]);return s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(NA,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando órdenes de reabastecimiento..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Órdenes de Reabastecimiento"}),c.jsx("p",{className:"text-muted-foreground",children:"Gestiona y monitorea las órdenes de reabastecimiento"})]}),c.jsxs(de,{children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Nueva Orden"]})]}),c.jsx(ohe,{filters:v,onFiltersChange:x}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{children:["Lista de Órdenes de Reabastecimiento (",A.length,A.length!==t.length&&` de ${t.length}`,")"]})}),c.jsx(te,{children:A.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Zt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.length===0?"No hay órdenes de reabastecimiento":"No se encontraron órdenes con los filtros aplicados"}),c.jsx("p",{className:"text-muted-foreground",children:t.length===0?"No se encontraron órdenes de reabastecimiento en el sistema.":"Intenta ajustar los filtros para encontrar las órdenes que buscas."})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"Producto ID"}),c.jsx(je,{children:"Fecha"}),c.jsx(je,{children:"Estado"}),c.jsx(je,{children:"Total"}),c.jsx(je,{children:"Cantidad Sugerida"}),c.jsx(je,{children:"Proveedor"}),c.jsx(je,{children:"Urgencia"}),c.jsx(je,{children:"Acciones"})]})}),c.jsx(un,{children:A.map(N=>c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:N.product_id}),c.jsx(he,{children:C(N.order_date)}),c.jsx(he,{children:S(N.status)}),c.jsx(he,{children:k(N.total_cost)}),c.jsx(he,{children:N.suggested_quantity.toLocaleString()}),c.jsx(he,{children:N.vendor_name}),c.jsx(he,{children:c.jsx(_e,{className:N.recommended_order_urgency==="urgent"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700",children:N.recommended_order_urgency==="urgent"?"Urgente":"Normal"})}),c.jsx(he,{children:c.jsxs(de,{size:"sm",variant:"outline",onClick:()=>b(N),disabled:l,children:[c.jsx(fQ,{className:"h-3 w-3 mr-1"}),"Ver Detalles"]})})]},N.id))})]})})})]}),c.jsx(Yr,{open:f,onOpenChange:p,children:c.jsxs(Tr,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[c.jsx(Mr,{children:c.jsxs(Rr,{children:["Detalles de Orden - ",r==null?void 0:r.product_id]})}),r&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{className:"text-lg",children:"Resumen de la Orden"})}),c.jsxs(te,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Estado"}),c.jsx("div",{className:"mt-1",children:S(r.status)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),c.jsx("p",{className:"font-medium",children:k(r.total_cost)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha de Orden"}),c.jsx("p",{className:"font-medium",children:C(r.order_date)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Días hasta agotamiento"}),c.jsxs("p",{className:"font-medium",children:[r.days_until_stockout," días"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Proveedor"}),c.jsx("p",{className:"font-medium",children:r.vendor_name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Stock Actual"}),c.jsx("p",{className:"font-medium",children:r.current_stock.toLocaleString()})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Punto de Reorden"}),c.jsx("p",{className:"font-medium",children:r.reorder_point.toLocaleString()})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Tiempo de Entrega"}),c.jsxs("p",{className:"font-medium",children:[r.lead_time_days," días"]})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Razón"}),c.jsx("p",{className:"mt-1",children:r.reason})]})]})]}),c.jsxs(ee,{children:[c.jsxs(pe,{className:"flex flex-row items-center justify-between",children:[c.jsx(me,{className:"text-lg",children:g?"Detalles del Cálculo":"Detalles del Producto"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{variant:g?"outline":"default",size:"sm",onClick:()=>m(!1),children:"Detalles del Producto"}),c.jsx(de,{variant:g?"default":"outline",size:"sm",onClick:()=>{m(!0),r&&a.length===0&&w(r)},disabled:d,children:d?"Cargando...":"Detalles del Cálculo"})]})]}),c.jsx(te,{children:g?c.jsx("div",{children:d?c.jsx("div",{className:"text-center py-4",children:c.jsx("p",{children:"Cargando cálculos..."})}):a.length===0?c.jsx("p",{className:"text-muted-foreground",children:"No se encontraron cálculos para esta orden."}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"ID"}),c.jsx(je,{children:"Paso de Cálculo"}),c.jsx(je,{children:"Orden del Paso"}),c.jsx(je,{children:"Datos del Paso"})]})}),c.jsx(un,{children:a.map(N=>c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:N.id}),c.jsx(he,{children:N.calculation_step}),c.jsx(he,{children:N.step_order}),c.jsx(he,{className:"max-w-xs",children:c.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto",children:JSON.stringify(N.step_data,null,2)})})]},N.id))})]})})}):c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Producto ID"}),c.jsx("p",{className:"font-medium",children:r.product_id})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cantidad Sugerida"}),c.jsx("p",{className:"font-medium",children:r.suggested_quantity.toLocaleString()})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Precio Unitario"}),c.jsx("p",{className:"font-medium",children:k(r.unit_cost)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Stock Disponible"}),c.jsx("p",{className:"font-medium",children:r.available_stock.toLocaleString()})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Stock de Seguridad"}),c.jsx("p",{className:"font-medium",children:r.safety_stock.toLocaleString()})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Pronóstico de Demanda"}),c.jsx("p",{className:"font-medium",children:r.demand_forecast.toFixed(2)})]})]})})]})]})]})})]})}function che(){const[t,e]=_.useState(!0);_.useEffect(()=>{r()},[]);const r=async()=>{try{e(!0);const{data:{user:n}}=await ue.auth.getUser();if(!n){ve.error("Usuario no autenticado");return}}finally{e(!1)}};return{loading:t,refetch:r}}function x6(t,e){return function(){return t.apply(e,arguments)}}const{toString:uhe}=Object.prototype,{getPrototypeOf:UN}=Object,{iterator:Ub,toStringTag:b6}=Symbol,Yb=(t=>e=>{const r=uhe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xi=t=>(t=t.toLowerCase(),e=>Yb(e)===t),Xb=t=>e=>typeof e===t,{isArray:fh}=Array,jp=Xb("undefined");function dhe(t){return t!==null&&!jp(t)&&t.constructor!==null&&!jp(t.constructor)&&Hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const w6=xi("ArrayBuffer");function hhe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&w6(t.buffer),e}const fhe=Xb("string"),Hn=Xb("function"),_6=Xb("number"),Vb=t=>t!==null&&typeof t=="object",phe=t=>t===!0||t===!1,_v=t=>{if(Yb(t)!=="object")return!1;const e=UN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(b6 in t)&&!(Ub in t)},mhe=xi("Date"),ghe=xi("File"),vhe=xi("Blob"),yhe=xi("FileList"),xhe=t=>Vb(t)&&Hn(t.pipe),bhe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hn(t.append)&&((e=Yb(t))==="formdata"||e==="object"&&Hn(t.toString)&&t.toString()==="[object FormData]"))},whe=xi("URLSearchParams"),[_he,She,jhe,Che]=["ReadableStream","Request","Response","Headers"].map(xi),khe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wm(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),fh(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,t[o],o,t)}}function S6(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const Ol=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,j6=t=>!jp(t)&&t!==Ol;function bj(){const{caseless:t}=j6(this)&&this||{},e={},r=(n,a)=>{const i=t&&S6(e,a)||a;_v(e[i])&&_v(n)?e[i]=bj(e[i],n):_v(n)?e[i]=bj({},n):fh(n)?e[i]=n.slice():e[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Wm(arguments[n],r);return e}const Ahe=(t,e,r,{allOwnKeys:n}={})=>(Wm(e,(a,i)=>{r&&Hn(a)?t[i]=x6(a,r):t[i]=a},{allOwnKeys:n}),t),Nhe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Phe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ehe=(t,e,r,n)=>{let a,i,s;const o={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)s=a[i],(!n||n(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=r!==!1&&UN(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Ohe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},The=t=>{if(!t)return null;if(fh(t))return t;let e=t.length;if(!_6(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Mhe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&UN(Uint8Array)),Rhe=(t,e)=>{const n=(t&&t[Ub]).call(t);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},Ihe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Dhe=xi("HTMLFormElement"),Lhe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),zT=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),$he=xi("RegExp"),C6=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Wm(r,(a,i)=>{let s;(s=e(a,i,t))!==!1&&(n[i]=s||a)}),Object.defineProperties(t,n)},Fhe=t=>{C6(t,(e,r)=>{if(Hn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Hn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zhe=(t,e)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return fh(t)?n(t):n(String(t).split(e)),r},Bhe=()=>{},Whe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Hhe(t){return!!(t&&Hn(t.append)&&t[b6]==="FormData"&&t[Ub])}const Uhe=t=>{const e=new Array(10),r=(n,a)=>{if(Vb(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const i=fh(n)?[]:{};return Wm(n,(s,o)=>{const l=r(s,a+1);!jp(l)&&(i[o]=l)}),e[a]=void 0,i}}return n};return r(t,0)},Yhe=xi("AsyncFunction"),Xhe=t=>t&&(Vb(t)||Hn(t))&&Hn(t.then)&&Hn(t.catch),k6=((t,e)=>t?setImmediate:e?((r,n)=>(Ol.addEventListener("message",({source:a,data:i})=>{a===Ol&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ol.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Hn(Ol.postMessage)),Vhe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ol):typeof process<"u"&&process.nextTick||k6,qhe=t=>t!=null&&Hn(t[Ub]),re={isArray:fh,isArrayBuffer:w6,isBuffer:dhe,isFormData:bhe,isArrayBufferView:hhe,isString:fhe,isNumber:_6,isBoolean:phe,isObject:Vb,isPlainObject:_v,isReadableStream:_he,isRequest:She,isResponse:jhe,isHeaders:Che,isUndefined:jp,isDate:mhe,isFile:ghe,isBlob:vhe,isRegExp:$he,isFunction:Hn,isStream:xhe,isURLSearchParams:whe,isTypedArray:Mhe,isFileList:yhe,forEach:Wm,merge:bj,extend:Ahe,trim:khe,stripBOM:Nhe,inherits:Phe,toFlatObject:Ehe,kindOf:Yb,kindOfTest:xi,endsWith:Ohe,toArray:The,forEachEntry:Rhe,matchAll:Ihe,isHTMLForm:Dhe,hasOwnProperty:zT,hasOwnProp:zT,reduceDescriptors:C6,freezeMethods:Fhe,toObjectSet:zhe,toCamelCase:Lhe,noop:Bhe,toFiniteNumber:Whe,findKey:S6,global:Ol,isContextDefined:j6,isSpecCompliantForm:Hhe,toJSONObject:Uhe,isAsyncFn:Yhe,isThenable:Xhe,setImmediate:k6,asap:Vhe,isIterable:qhe};function Ve(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}re.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const A6=Ve.prototype,N6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{N6[t]={value:t}});Object.defineProperties(Ve,N6);Object.defineProperty(A6,"isAxiosError",{value:!0});Ve.from=(t,e,r,n,a,i)=>{const s=Object.create(A6);return re.toFlatObject(t,s,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Ve.call(s,t.message,e,r,n,a),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const Ghe=null;function wj(t){return re.isPlainObject(t)||re.isArray(t)}function P6(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function BT(t,e,r){return t?t.concat(e).map(function(a,i){return a=P6(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function Khe(t){return re.isArray(t)&&!t.some(wj)}const Zhe=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function qb(t,e,r){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!re.isUndefined(v[m])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(re.isDate(g))return g.toISOString();if(re.isBoolean(g))return g.toString();if(!l&&re.isBlob(g))throw new Ve("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(g)||re.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,m,v){let x=g;if(g&&!v&&typeof g=="object"){if(re.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(re.isArray(g)&&Khe(g)||(re.isFileList(g)||re.endsWith(m,"[]"))&&(x=re.toArray(g)))return m=P6(m),x.forEach(function(b,w){!(re.isUndefined(b)||b===null)&&e.append(s===!0?BT([m],w,i):s===null?m:m+"[]",u(b))}),!1}return wj(g)?!0:(e.append(BT(v,m,i),u(g)),!1)}const h=[],f=Object.assign(Zhe,{defaultVisitor:d,convertValue:u,isVisitable:wj});function p(g,m){if(!re.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(g),re.forEach(g,function(x,y){(!(re.isUndefined(x)||x===null)&&a.call(e,x,re.isString(y)?y.trim():y,m,f))===!0&&p(x,m?m.concat(y):[y])}),h.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return p(t),e}function WT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function YN(t,e){this._pairs=[],t&&qb(t,this,e)}const E6=YN.prototype;E6.append=function(e,r){this._pairs.push([e,r])};E6.toString=function(e){const r=e?function(n){return e.call(this,n,WT)}:WT;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Qhe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function O6(t,e,r){if(!e)return t;const n=r&&r.encode||Qhe;re.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(e,r):i=re.isURLSearchParams(e)?e.toString():new YN(e,r).toString(n),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class HT{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(n){n!==null&&e(n)})}}const T6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jhe=typeof URLSearchParams<"u"?URLSearchParams:YN,efe=typeof FormData<"u"?FormData:null,tfe=typeof Blob<"u"?Blob:null,rfe={isBrowser:!0,classes:{URLSearchParams:Jhe,FormData:efe,Blob:tfe},protocols:["http","https","file","blob","url","data"]},XN=typeof window<"u"&&typeof document<"u",_j=typeof navigator=="object"&&navigator||void 0,nfe=XN&&(!_j||["ReactNative","NativeScript","NS"].indexOf(_j.product)<0),afe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ife=XN&&window.location.href||"http://localhost",sfe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:XN,hasStandardBrowserEnv:nfe,hasStandardBrowserWebWorkerEnv:afe,navigator:_j,origin:ife},Symbol.toStringTag,{value:"Module"})),rn={...sfe,...rfe};function ofe(t,e){return qb(t,new rn.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return rn.isNode&&re.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function lfe(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function cfe(t){const e={},r=Object.keys(t);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],e[i]=t[i];return e}function M6(t){function e(r,n,a,i){let s=r[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=i>=r.length;return s=!s&&re.isArray(a)?a.length:s,l?(re.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!o):((!a[s]||!re.isObject(a[s]))&&(a[s]=[]),e(r,n,a[s],i)&&re.isArray(a[s])&&(a[s]=cfe(a[s])),!o)}if(re.isFormData(t)&&re.isFunction(t.entries)){const r={};return re.forEachEntry(t,(n,a)=>{e(lfe(n),a,r,0)}),r}return null}function ufe(t,e,r){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const Hm={transitional:T6,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=re.isObject(e);if(i&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return a?JSON.stringify(M6(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ofe(e,this.formSerializer).toString();if((o=re.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qb(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),ufe(e)):e}],transformResponse:[function(e){const r=this.transitional||Hm.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(n&&!this.responseType||a)){const s=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Ve.from(o,Ve.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{Hm.headers[t]={}});const dfe=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hfe=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!r||e[r]&&dfe[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},UT=Symbol("internals");function Gh(t){return t&&String(t).trim().toLowerCase()}function Sv(t){return t===!1||t==null?t:re.isArray(t)?t.map(Sv):String(t)}function ffe(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const pfe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function v1(t,e,r,n,a){if(re.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!re.isString(e)){if(re.isString(n))return e.indexOf(n)!==-1;if(re.isRegExp(n))return n.test(e)}}function mfe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function gfe(t,e){const r=re.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,i,s){return this[n].call(this,e,a,i,s)},configurable:!0})})}class Un{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function i(o,l,u){const d=Gh(l);if(!d)throw new Error("header name must be a non-empty string");const h=re.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||l]=Sv(o))}const s=(o,l)=>re.forEach(o,(u,d)=>i(u,d,l));if(re.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(re.isString(e)&&(e=e.trim())&&!pfe(e))s(hfe(e),r);else if(re.isObject(e)&&re.isIterable(e)){let o={},l,u;for(const d of e){if(!re.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?re.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}s(o,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Gh(e),e){const n=re.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return ffe(a);if(re.isFunction(r))return r.call(this,a,n);if(re.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Gh(e),e){const n=re.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||v1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function i(s){if(s=Gh(s),s){const o=re.findKey(n,s);o&&(!r||v1(n,n[o],o,r))&&(delete n[o],a=!0)}}return re.isArray(e)?e.forEach(i):i(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!e||v1(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const r=this,n={};return re.forEach(this,(a,i)=>{const s=re.findKey(n,i);if(s){r[s]=Sv(a),delete r[i];return}const o=e?mfe(i):String(i).trim();o!==i&&delete r[i],r[o]=Sv(a),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return re.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&re.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[UT]=this[UT]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=Gh(s);n[o]||(gfe(a,s),n[o]=!0)}return re.isArray(e)?e.forEach(i):i(e),this}}Un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Un.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});re.freezeMethods(Un);function y1(t,e){const r=this||Hm,n=e||r,a=Un.from(n.headers);let i=n.data;return re.forEach(t,function(o){i=o.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function R6(t){return!!(t&&t.__CANCEL__)}function ph(t,e,r){Ve.call(this,t??"canceled",Ve.ERR_CANCELED,e,r),this.name="CanceledError"}re.inherits(ph,Ve,{__CANCEL__:!0});function I6(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ve("Request failed with status code "+r.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function vfe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function yfe(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[i];s||(s=u),r[a]=l,n[a]=u;let h=i,f=0;for(;h!==a;)f+=r[h++],h=h%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),u-s<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function xfe(t,e){let r=0,n=1e3/e,a,i;const s=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?s(u,d):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},n-h)))},()=>a&&s(a)]}const jy=(t,e,r=3)=>{let n=0;const a=yfe(50,250);return xfe(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,u=a(l),d=s<=o;n=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},YT=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},XT=t=>(...e)=>re.asap(()=>t(...e)),bfe=rn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,rn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(rn.origin),rn.navigator&&/(msie|trident)/i.test(rn.navigator.userAgent)):()=>!0,wfe=rn.hasStandardBrowserEnv?{write(t,e,r,n,a,i){const s=[t+"="+encodeURIComponent(e)];re.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),re.isString(n)&&s.push("path="+n),re.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _fe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Sfe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function D6(t,e,r){let n=!_fe(e);return t&&(n||r==!1)?Sfe(t,e):e}const VT=t=>t instanceof Un?{...t}:t;function fc(t,e){e=e||{};const r={};function n(u,d,h,f){return re.isPlainObject(u)&&re.isPlainObject(d)?re.merge.call({caseless:f},u,d):re.isPlainObject(d)?re.merge({},d):re.isArray(d)?d.slice():d}function a(u,d,h,f){if(re.isUndefined(d)){if(!re.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function i(u,d){if(!re.isUndefined(d))return n(void 0,d)}function s(u,d){if(re.isUndefined(d)){if(!re.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,d,h)=>a(VT(u),VT(d),h,!0)};return re.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||a,f=h(t[d],e[d],d);re.isUndefined(f)&&h!==o||(r[d]=f)}),r}const L6=t=>{const e=fc({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=e;e.headers=s=Un.from(s),e.url=O6(D6(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(re.isFormData(r)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...d].join("; "))}}if(rn.hasStandardBrowserEnv&&(n&&re.isFunction(n)&&(n=n(e)),n||n!==!1&&bfe(e.url))){const u=a&&i&&wfe.read(i);u&&s.set(a,u)}return e},jfe=typeof XMLHttpRequest<"u",Cfe=jfe&&function(t){return new Promise(function(r,n){const a=L6(t);let i=a.data;const s=Un.from(a.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=a,d,h,f,p,g;function m(){p&&p(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function x(){if(!v)return;const b=Un.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:t,request:v};I6(function(C){r(C),m()},function(C){n(C),m()},S),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new Ve("Request aborted",Ve.ECONNABORTED,t,v)),v=null)},v.onerror=function(){n(new Ve("Network Error",Ve.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||T6;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),n(new Ve(w,S.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,t,v)),v=null},i===void 0&&s.setContentType(null),"setRequestHeader"in v&&re.forEach(s.toJSON(),function(w,S){v.setRequestHeader(S,w)}),re.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),u&&([f,g]=jy(u,!0),v.addEventListener("progress",f)),l&&v.upload&&([h,p]=jy(l),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=b=>{v&&(n(!b||b.type?new ph(null,t,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const y=vfe(a.url);if(y&&rn.protocols.indexOf(y)===-1){n(new Ve("Unsupported protocol "+y+":",Ve.ERR_BAD_REQUEST,t));return}v.send(i||null)})},kfe=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ve?d:new ph(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,i(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>re.asap(o),l}},Afe=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},Nfe=async function*(t,e){for await(const r of Pfe(t))yield*Afe(r,e)},Pfe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},qT=(t,e,r,n)=>{const a=Nfe(t,e);let i=0,s,o=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await a.next();if(u){o(),l.close();return}let h=d.byteLength;if(r){let f=i+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),a.return()}},{highWaterMark:2})},Gb=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$6=Gb&&typeof ReadableStream=="function",Efe=Gb&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),F6=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Ofe=$6&&F6(()=>{let t=!1;const e=new Request(rn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),GT=64*1024,Sj=$6&&F6(()=>re.isReadableStream(new Response("").body)),Cy={stream:Sj&&(t=>t.body)};Gb&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Cy[e]&&(Cy[e]=re.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,n)})})})(new Response);const Tfe=async t=>{if(t==null)return 0;if(re.isBlob(t))return t.size;if(re.isSpecCompliantForm(t))return(await new Request(rn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(re.isArrayBufferView(t)||re.isArrayBuffer(t))return t.byteLength;if(re.isURLSearchParams(t)&&(t=t+""),re.isString(t))return(await Efe(t)).byteLength},Mfe=async(t,e)=>{const r=re.toFiniteNumber(t.getContentLength());return r??Tfe(e)},Rfe=Gb&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:i,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=L6(t);u=u?(u+"").toLowerCase():"text";let p=kfe([a,i&&i.toAbortSignal()],s),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(l&&Ofe&&r!=="get"&&r!=="head"&&(v=await Mfe(d,n))!==0){let S=new Request(e,{method:"POST",body:n,duplex:"half"}),k;if(re.isFormData(n)&&(k=S.headers.get("content-type"))&&d.setContentType(k),S.body){const[C,A]=YT(v,jy(XT(l)));n=qT(S.body,GT,C,A)}}re.isString(h)||(h=h?"include":"omit");const x="credentials"in Request.prototype;g=new Request(e,{...f,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:x?h:void 0});let y=await fetch(g,f);const b=Sj&&(u==="stream"||u==="response");if(Sj&&(o||b&&m)){const S={};["status","statusText","headers"].forEach(N=>{S[N]=y[N]});const k=re.toFiniteNumber(y.headers.get("content-length")),[C,A]=o&&YT(k,jy(XT(o),!0))||[];y=new Response(qT(y.body,GT,C,()=>{A&&A(),m&&m()}),S)}u=u||"text";let w=await Cy[re.findKey(Cy,u)||"text"](y,t);return!b&&m&&m(),await new Promise((S,k)=>{I6(S,k,{data:w,headers:Un.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:g})})}catch(x){throw m&&m(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,t,g),{cause:x.cause||x}):Ve.from(x,x&&x.code,t,g)}}),jj={http:Ghe,xhr:Cfe,fetch:Rfe};re.forEach(jj,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const KT=t=>`- ${t}`,Ife=t=>re.isFunction(t)||t===null||t===!1,z6={getAdapter:t=>{t=re.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let i=0;i<e;i++){r=t[i];let s;if(n=r,!Ife(r)&&(n=jj[(s=String(r)).toLowerCase()],n===void 0))throw new Ve(`Unknown adapter '${s}'`);if(n)break;a[s||"#"+i]=n}if(!n){const i=Object.entries(a).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(KT).join(`
`):" "+KT(i[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:jj};function x1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ph(null,t)}function ZT(t){return x1(t),t.headers=Un.from(t.headers),t.data=y1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),z6.getAdapter(t.adapter||Hm.adapter)(t).then(function(n){return x1(t),n.data=y1.call(t,t.transformResponse,n),n.headers=Un.from(n.headers),n},function(n){return R6(n)||(x1(t),n&&n.response&&(n.response.data=y1.call(t,t.transformResponse,n.response),n.response.headers=Un.from(n.response.headers))),Promise.reject(n)})}const B6="1.10.0",Kb={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Kb[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const QT={};Kb.transitional=function(e,r,n){function a(i,s){return"[Axios v"+B6+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,o)=>{if(e===!1)throw new Ve(a(s," has been removed"+(r?" in "+r:"")),Ve.ERR_DEPRECATED);return r&&!QT[s]&&(QT[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,s,o):!0}};Kb.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Dfe(t,e,r){if(typeof t!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const i=n[a],s=e[i];if(s){const o=t[i],l=o===void 0||s(o,i,t);if(l!==!0)throw new Ve("option "+i+" must be "+l,Ve.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ve("Unknown option "+i,Ve.ERR_BAD_OPTION)}}const jv={assertOptions:Dfe,validators:Kb},ki=jv.validators;class Gl{constructor(e){this.defaults=e||{},this.interceptors={request:new HT,response:new HT}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=fc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&jv.assertOptions(n,{silentJSONParsing:ki.transitional(ki.boolean),forcedJSONParsing:ki.transitional(ki.boolean),clarifyTimeoutError:ki.transitional(ki.boolean)},!1),a!=null&&(re.isFunction(a)?r.paramsSerializer={serialize:a}:jv.assertOptions(a,{encode:ki.function,serialize:ki.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),jv.assertOptions(r,{baseUrl:ki.spelling("baseURL"),withXsrfToken:ki.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=i&&re.merge(i.common,i[r.method]);i&&re.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Un.concat(s,i);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,h=0,f;if(!l){const g=[ZT.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,u),f=g.length,d=Promise.resolve(r);h<f;)d=d.then(g[h++],g[h++]);return d}f=o.length;let p=r;for(h=0;h<f;){const g=o[h++],m=o[h++];try{p=g(p)}catch(v){m.call(this,v);break}}try{d=ZT.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=fc(this.defaults,e);const r=D6(e.baseURL,e.url,e.allowAbsoluteUrls);return O6(r,e.params,e.paramsSerializer)}}re.forEach(["delete","get","head","options"],function(e){Gl.prototype[e]=function(r,n){return this.request(fc(n||{},{method:e,url:r,data:(n||{}).data}))}});re.forEach(["post","put","patch"],function(e){function r(n){return function(i,s,o){return this.request(fc(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Gl.prototype[e]=r(),Gl.prototype[e+"Form"]=r(!0)});class VN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{n.subscribe(o),i=o}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},e(function(i,s,o){n.reason||(n.reason=new ph(i,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new VN(function(a){e=a}),cancel:e}}}function Lfe(t){return function(r){return t.apply(null,r)}}function $fe(t){return re.isObject(t)&&t.isAxiosError===!0}const Cj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cj).forEach(([t,e])=>{Cj[e]=t});function W6(t){const e=new Gl(t),r=x6(Gl.prototype.request,e);return re.extend(r,Gl.prototype,e,{allOwnKeys:!0}),re.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return W6(fc(t,a))},r}const ur=W6(Hm);ur.Axios=Gl;ur.CanceledError=ph;ur.CancelToken=VN;ur.isCancel=R6;ur.VERSION=B6;ur.toFormData=qb;ur.AxiosError=Ve;ur.Cancel=ur.CanceledError;ur.all=function(e){return Promise.all(e)};ur.spread=Lfe;ur.isAxiosError=$fe;ur.mergeConfig=fc;ur.AxiosHeaders=Un;ur.formToJSON=t=>M6(re.isHTMLForm(t)?new FormData(t):t);ur.getAdapter=z6.getAdapter;ur.HttpStatusCode=Cj;ur.default=ur;var H6={},pd={};Object.defineProperty(pd,"__esModule",{value:!0});pd.IFRAME_COMMS_MESSAGE_TYPE=pd.DASHBOARD_UI_FILTER_CONFIG_URL_PARAM_KEY=void 0;pd.IFRAME_COMMS_MESSAGE_TYPE="__embedded_comms__";pd.DASHBOARD_UI_FILTER_CONFIG_URL_PARAM_KEY={visible:"show_filters",expanded:"expand_filters"};var Mi=function(t){return t.GET="get",t.REPLY="reply",t.EMIT="emit",t.ERROR="error",t}(Mi||{});function Ffe(t){return t.switchboardAction===Mi.GET}function zfe(t){return t.switchboardAction===Mi.REPLY}function Bfe(t){return t.switchboardAction===Mi.EMIT}function Wfe(t){return t.switchboardAction===Mi.ERROR}class U6{constructor(e){this.port=void 0,this.name="",this.methods={},this.incrementor=1,this.debugMode=void 0,this.isInitialised=void 0,e&&this.init(e)}init(e){if(this.isInitialised){this.logError("already initialized");return}const{port:r,name:n="switchboard",debug:a=!1}=e;this.port=r,this.name=n,this.debugMode=a,r.addEventListener("message",async i=>{this.log("message received",i);const s=i.data;if(Ffe(s))this.port.postMessage(await this.getMethodResult(s));else if(Bfe(s)){const{method:o,args:l}=s,u=this.methods[o];u&&u(l)}}),this.isInitialised=!0}async getMethodResult({messageId:e,method:r,args:n}){const a=this.methods[r];if(a==null)return{switchboardAction:Mi.ERROR,messageId:e,error:`[${this.name}] Method "${r}" is not defined`};try{const i=await a(n);return{switchboardAction:Mi.REPLY,messageId:e,result:i}}catch(i){return this.logError(i),{switchboardAction:Mi.ERROR,messageId:e,error:`[${this.name}] Method "${r}" threw an error`}}}defineMethod(e,r){this.methods[e]=r}get(e,r=void 0){return new Promise((n,a)=>{if(!this.isInitialised){a(new Error("Switchboard not initialised"));return}const i=this.getNewMessageId(),s=l=>{const u=l.data;if(u.messageId===i)if(this.port.removeEventListener("message",s),zfe(u))n(u.result);else{const d=Wfe(u)?u.error:"Unexpected response message";a(new Error(d))}};this.port.addEventListener("message",s),this.port.start();const o={switchboardAction:Mi.GET,method:e,messageId:i,args:r};this.port.postMessage(o)})}emit(e,r=void 0){if(!this.isInitialised){this.logError("Switchboard not initialised");return}const n={switchboardAction:Mi.EMIT,method:e,args:r};this.port.postMessage(n)}start(){if(!this.isInitialised){this.logError("Switchboard not initialised");return}this.port.start()}log(...e){this.debugMode&&console.debug(`[${this.name}]`,...e)}logError(...e){console.error(`[${this.name}]`,...e)}getNewMessageId(){return`m_${this.name}_${this.incrementor++}`}}const Hfe=new U6,Ufe=Object.freeze(Object.defineProperty({__proto__:null,Switchboard:U6,default:Hfe},Symbol.toStringTag,{value:"Module"})),Yfe=ck(Ufe);var vs={},md={};Object.defineProperty(md,"__esModule",{value:!0});md.jwtDecode=md.InvalidTokenError=void 0;class vu extends Error{}md.InvalidTokenError=vu;vu.prototype.name="InvalidTokenError";function Xfe(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Vfe(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Xfe(e)}catch{return atob(e)}}function qfe(t,e){if(typeof t!="string")throw new vu("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new vu(`Invalid token specified: missing part #${r+1}`);let a;try{a=Vfe(n)}catch(i){throw new vu(`Invalid token specified: invalid base64 for part #${r+1} (${i.message})`)}try{return JSON.parse(a)}catch(i){throw new vu(`Invalid token specified: invalid json for part #${r+1} (${i.message})`)}}md.jwtDecode=qfe;Object.defineProperty(vs,"__esModule",{value:!0});vs.REFRESH_TIMING_BUFFER_MS=vs.MIN_REFRESH_WAIT_MS=vs.DEFAULT_TOKEN_EXP_MS=void 0;vs.getGuestTokenRefreshTiming=Jfe;var Gfe=md;const Kfe=vs.REFRESH_TIMING_BUFFER_MS=5e3,Zfe=vs.MIN_REFRESH_WAIT_MS=1e4,Qfe=vs.DEFAULT_TOKEN_EXP_MS=3e5;function Jfe(t){const e=(0,Gfe.jwtDecode)(t),r=new Date(/[^0-9\.]/g.test(e.exp)?e.exp:parseFloat(e.exp)*1e3);return(r.toString()!=="Invalid Date"?Math.max(Zfe,r.getTime()-Date.now()):Qfe)-Kfe}Object.defineProperty(H6,"__esModule",{value:!0});var epe=H6.embedDashboard=rpe,JT=pd,tpe=Yfe,eM=vs;async function rpe({id:t,supersetDomain:e,mountPoint:r,fetchGuestToken:n,dashboardUiConfig:a,debug:i=!1,iframeTitle:s="Embedded Dashboard",iframeSandboxExtras:o=[]}){function l(...y){i&&console.debug(`[superset-embedded-sdk][dashboard ${t}]`,...y)}l("embedding"),e.endsWith("/")&&(e=e.slice(0,-1));function u(){let y=0;return a&&(a.hideTitle&&(y+=1),a.hideTab&&(y+=2),a.hideChartControls&&(y+=8)),y}async function d(){return new Promise(y=>{const b=document.createElement("iframe"),w=a?{uiConfig:`${u()}`}:void 0,S=(a==null?void 0:a.filters)||{},k=Object.keys(S),C=Object.fromEntries(k.map(P=>[JT.DASHBOARD_UI_FILTER_CONFIG_URL_PARAM_KEY[P],S[P]])),A={...w,...C,...a==null?void 0:a.urlParams},N=Object.keys(A).length?"?"+new URLSearchParams(A).toString():"";b.sandbox.add("allow-same-origin"),b.sandbox.add("allow-scripts"),b.sandbox.add("allow-presentation"),b.sandbox.add("allow-downloads"),b.sandbox.add("allow-forms"),b.sandbox.add("allow-popups"),o.forEach(P=>{b.sandbox.add(P)}),b.addEventListener("load",()=>{const P=new MessageChannel,E=P.port1,O=P.port2;b.contentWindow.postMessage({type:JT.IFRAME_COMMS_MESSAGE_TYPE,handshake:"port transfer"},e,[O]),l("sent message channel to the iframe"),y(new tpe.Switchboard({port:E,name:"superset-embedded-sdk",debug:i}))}),b.src=`${e}/embedded/${t}${N}`,b.title=s,r.replaceChildren(b),l("placed the iframe")})}const[h,f]=await Promise.all([n(),d()]);f.emit("guestToken",{guestToken:h}),l("sent guest token");async function p(){const y=await n();f.emit("guestToken",{guestToken:y}),setTimeout(p,(0,eM.getGuestTokenRefreshTiming)(y))}setTimeout(p,(0,eM.getGuestTokenRefreshTiming)(h));function g(){l("unmounting"),r.replaceChildren()}return{getScrollSize:()=>f.get("getScrollSize"),unmount:g,getDashboardPermalink:y=>f.get("getDashboardPermalink",{anchor:y}),getActiveTabs:()=>f.get("getActiveTabs")}}const Y6="https://analytics.m8solutions.com.mx/",tM=`${Y6}api/v1/security`;function npe(){const[t,e]=_.useState(null),[r,n]=_.useState([]);_.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o,error:l}=await ue.from("embedded_dashboards").select("uuid, dashboards(dashboard_title)");if(l)throw l;n(o)}catch(o){console.error("Error fetching dashboards:",o.message)}};async function i(o){if(!o){console.error("No dashboard ID selected.");return}try{const l={username:"admin",password:"admin",provider:"db",refresh:!0},u={headers:{"Content-Type":"application/json"}},h=(await ur.post(`${tM}/login`,l,u)).data.access_token;console.log("✅ Logged into Superset:",h);const f={resources:[{type:"dashboard",id:o}],rls:[],user:{username:"sup_user",first_name:"superset",last_name:"user"}},p={headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}},m=(await ur.post(`${tM}/guest_token/`,f,p)).data.token;console.log("✅ Guest token received:",m);const v=document.getElementById("superset-container");v&&(v.innerHTML=""),epe({id:o,supersetDomain:Y6,mountPoint:v,fetchGuestToken:()=>m,dashboardUiConfig:{filters:{expanded:!0},urlParams:{standalone:3}}});const x=document.querySelector("iframe");x&&(x.style.width="100%",x.style.minHeight="100vh")}catch(l){console.error("🚨 Error fetching guest token:",l)}}const{loading:s}=che();return s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Aa,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando dashboard analítica..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard Analítica"}),c.jsx("p",{className:"text-muted-foreground",children:"Colaboración en pronósticos e inteligencia de mercado"})]})}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"dashboard-select",className:"block text-sm font-medium text-gray-700",children:"Selecciona un Dashboard:"}),c.jsxs("select",{id:"dashboard-select",className:"mt-1 block w-1/4 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-lg h-12",value:t||"",onChange:o=>{const l=o.target.value;if(e(l),l){const u=document.getElementById("superset-container");u&&(u.innerHTML=""),i(l)}},children:[c.jsx("option",{value:"",disabled:!0,children:"Selecciona un dashboard"}),r.map(o=>c.jsx("option",{value:o.uuid,children:o.dashboards.dashboard_title},o.uuid))]})]}),c.jsx("div",{id:"superset-container",style:{width:"100%",height:"600px"}})]})}function ape(){return c.jsx(npe,{})}function X6(t,[e,r]){return Math.min(r,Math.max(e,t))}function yu(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function rM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function V6(...t){return e=>{let r=!1;const n=t.map(a=>{const i=rM(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():rM(t[a],null)}}}}function Vo(...t){return _.useCallback(V6(...t),t)}function q6(t,e=[]){let r=[];function n(i,s){const o=_.createContext(s),l=r.length;r=[...r,s];const u=h=>{var x;const{scope:f,children:p,...g}=h,m=((x=f==null?void 0:f[t])==null?void 0:x[l])||o,v=_.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[l])||o,g=_.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return a.scopeName=t,[n,ipe(a,...e)]}function ipe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...o,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var G6=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},spe=Hd[" useInsertionEffect ".trim().toString()]||G6;function ope({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,s]=lpe({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:a;{const d=_.useRef(t!==void 0);_.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=_.useCallback(d=>{var h;if(o){const f=cpe(d)?d(t):d;f!==t&&((h=s.current)==null||h.call(s,f))}else i(d)},[o,t,i,s]);return[l,u]}function lpe({defaultProp:t,onChange:e}){const[r,n]=_.useState(t),a=_.useRef(r),i=_.useRef(e);return spe(()=>{i.current=e},[e]),_.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function cpe(t){return typeof t=="function"}var upe=_.createContext(void 0);function dpe(t){const e=_.useContext(upe);return t||e||"ltr"}function hpe(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function fpe(t){const[e,r]=_.useState(void 0);return G6(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}function kj(t){const e=ppe(t),r=_.forwardRef((n,a)=>{const{children:i,...s}=n,o=_.Children.toArray(i),l=o.find(gpe);if(l){const u=l.props.children,d=o.map(h=>h===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...s,ref:a,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function ppe(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const s=ype(a),o=vpe(i,a.props);return a.type!==_.Fragment&&(o.ref=n?V6(n,s):s),_.cloneElement(a,o)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mpe=Symbol("radix.slottable");function gpe(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mpe}function vpe(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function ype(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var xpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Um=xpe.reduce((t,e)=>{const r=kj(`Primitive.${e}`),n=_.forwardRef((a,i)=>{const{asChild:s,...o}=a,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bpe(t){const e=t+"CollectionProvider",[r,n]=q6(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:v,children:x}=m,y=$.useRef(null),b=$.useRef(new Map).current;return c.jsx(a,{scope:v,itemMap:b,collectionRef:y,children:x})};s.displayName=e;const o=t+"CollectionSlot",l=kj(o),u=$.forwardRef((m,v)=>{const{scope:x,children:y}=m,b=i(o,x),w=Vo(v,b.collectionRef);return c.jsx(l,{ref:w,children:y})});u.displayName=o;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=kj(d),p=$.forwardRef((m,v)=>{const{scope:x,children:y,...b}=m,w=$.useRef(null),S=Vo(v,w),k=i(d,x);return $.useEffect(()=>(k.itemMap.set(w,{ref:w,...b}),()=>void k.itemMap.delete(w))),c.jsx(f,{[h]:"",ref:S,children:y})});p.displayName=d;function g(m){const v=i(t+"CollectionConsumer",m);return $.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((k,C)=>b.indexOf(k.ref.current)-b.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},g,n]}var K6=["PageUp","PageDown"],Z6=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Q6={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},mh="Slider",[Aj,wpe,_pe]=bpe(mh),[J6,Eze]=q6(mh,[_pe]),[Spe,Zb]=J6(mh),e8=_.forwardRef((t,e)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:s="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[n],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:p=!1,form:g,...m}=t,v=_.useRef(new Set),x=_.useRef(0),b=s==="horizontal"?jpe:Cpe,[w=[],S]=ope({prop:d,defaultProp:u,onChange:E=>{var T;(T=[...v.current][x.current])==null||T.focus(),h(E)}}),k=_.useRef(w);function C(E){const O=Epe(w,E);P(E,O)}function A(E){P(E,x.current)}function N(){const E=k.current[x.current];w[x.current]!==E&&f(w)}function P(E,O,{commit:T}={commit:!1}){const M=Rpe(i),L=Ipe(Math.round((E-n)/i)*i+n,M),I=X6(L,[n,a]);S((D=[])=>{const R=Npe(D,I,O);if(Mpe(R,l*i)){x.current=R.indexOf(I);const F=String(R)!==String(D);return F&&T&&f(R),F?R:D}else return D})}return c.jsx(Spe,{scope:t.__scopeSlider,name:r,disabled:o,min:n,max:a,valueIndexToChangeRef:x,thumbs:v.current,values:w,orientation:s,form:g,children:c.jsx(Aj.Provider,{scope:t.__scopeSlider,children:c.jsx(Aj.Slot,{scope:t.__scopeSlider,children:c.jsx(b,{"aria-disabled":o,"data-disabled":o?"":void 0,...m,ref:e,onPointerDown:yu(m.onPointerDown,()=>{o||(k.current=w)}),min:n,max:a,inverted:p,onSlideStart:o?void 0:C,onSlideMove:o?void 0:A,onSlideEnd:o?void 0:N,onHomeKeyDown:()=>!o&&P(n,0,{commit:!0}),onEndKeyDown:()=>!o&&P(a,w.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:O})=>{if(!o){const L=K6.includes(E.key)||E.shiftKey&&Z6.includes(E.key)?10:1,I=x.current,D=w[I],R=i*L*O;P(D+R,I,{commit:!0})}}})})})})});e8.displayName=mh;var[t8,r8]=J6(mh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),jpe=_.forwardRef((t,e)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:u,...d}=t,[h,f]=_.useState(null),p=Vo(e,b=>f(b)),g=_.useRef(void 0),m=dpe(a),v=m==="ltr",x=v&&!i||!v&&i;function y(b){const w=g.current||h.getBoundingClientRect(),S=[0,w.width],C=qN(S,x?[r,n]:[n,r]);return g.current=w,C(b-w.left)}return c.jsx(t8,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:c.jsx(n8,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const w=y(b.clientX);s==null||s(w)},onSlideMove:b=>{const w=y(b.clientX);o==null||o(w)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:b=>{const S=Q6[x?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:S?-1:1})}})})}),Cpe=_.forwardRef((t,e)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:s,onSlideEnd:o,onStepKeyDown:l,...u}=t,d=_.useRef(null),h=Vo(e,d),f=_.useRef(void 0),p=!a;function g(m){const v=f.current||d.current.getBoundingClientRect(),x=[0,v.height],b=qN(x,p?[n,r]:[r,n]);return f.current=v,b(m-v.top)}return c.jsx(t8,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:c.jsx(n8,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const v=g(m.clientY);i==null||i(v)},onSlideMove:m=>{const v=g(m.clientY);s==null||s(v)},onSlideEnd:()=>{f.current=void 0,o==null||o()},onStepKeyDown:m=>{const x=Q6[p?"from-bottom":"from-top"].includes(m.key);l==null||l({event:m,direction:x?-1:1})}})})}),n8=_.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:s,onEndKeyDown:o,onStepKeyDown:l,...u}=t,d=Zb(mh,r);return c.jsx(Um.span,{...u,ref:e,onKeyDown:yu(t.onKeyDown,h=>{h.key==="Home"?(s(h),h.preventDefault()):h.key==="End"?(o(h),h.preventDefault()):K6.concat(Z6).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:yu(t.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():n(h)}),onPointerMove:yu(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:yu(t.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),a8="SliderTrack",i8=_.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=Zb(a8,r);return c.jsx(Um.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:e})});i8.displayName=a8;var Nj="SliderRange",s8=_.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=Zb(Nj,r),i=r8(Nj,r),s=_.useRef(null),o=Vo(e,s),l=a.values.length,u=a.values.map(f=>c8(f,a.min,a.max)),d=l>1?Math.min(...u):0,h=100-Math.max(...u);return c.jsx(Um.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:o,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});s8.displayName=Nj;var Pj="SliderThumb",o8=_.forwardRef((t,e)=>{const r=wpe(t.__scopeSlider),[n,a]=_.useState(null),i=Vo(e,o=>a(o)),s=_.useMemo(()=>n?r().findIndex(o=>o.ref.current===n):-1,[r,n]);return c.jsx(kpe,{...t,ref:i,index:s})}),kpe=_.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:a,...i}=t,s=Zb(Pj,r),o=r8(Pj,r),[l,u]=_.useState(null),d=Vo(e,y=>u(y)),h=l?s.form||!!l.closest("form"):!0,f=fpe(l),p=s.values[n],g=p===void 0?0:c8(p,s.min,s.max),m=Ppe(n,s.values.length),v=f==null?void 0:f[o.size],x=v?Ope(v,g,o.direction):0;return _.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${g}% + ${x}px)`},children:[c.jsx(Aj.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(Um.span,{role:"slider","aria-label":t["aria-label"]||m,"aria-valuemin":s.min,"aria-valuenow":p,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:yu(t.onFocus,()=>{s.valueIndexToChangeRef.current=n})})}),h&&c.jsx(l8,{name:a??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:p},n)]})});o8.displayName=Pj;var Ape="RadioBubbleInput",l8=_.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const a=_.useRef(null),i=Vo(a,n),s=hpe(e);return _.useEffect(()=>{const o=a.current;if(!o)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==e&&d){const h=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[s,e]),c.jsx(Um.input,{style:{display:"none"},...r,ref:i,defaultValue:e})});l8.displayName=Ape;function Npe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((a,i)=>a-i)}function c8(t,e,r){const i=100/(r-e)*(t-e);return X6(i,[0,100])}function Ppe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Epe(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),n=Math.min(...r);return r.indexOf(n)}function Ope(t,e,r){const n=t/2,i=qN([0,50],[0,n]);return(n-i(e)*r)*r}function Tpe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Mpe(t,e){if(e>0){const r=Tpe(t);return Math.min(...r)>=e}return!0}function qN(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Rpe(t){return(String(t).split(".")[1]||"").length}function Ipe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var u8=e8,Dpe=i8,Lpe=s8,$pe=o8;const nu=_.forwardRef(({className:t,...e},r)=>c.jsxs(u8,{ref:r,className:le("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(Dpe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(Lpe,{className:"absolute h-full bg-primary"})}),c.jsx($pe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));nu.displayName=u8.displayName;function Fpe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function nM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function d8(...t){return e=>{let r=!1;const n=t.map(a=>{const i=nM(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():nM(t[a],null)}}}}function h8(...t){return _.useCallback(d8(...t),t)}function zpe(t,e=[]){let r=[];function n(i,s){const o=_.createContext(s),l=r.length;r=[...r,s];const u=h=>{var x;const{scope:f,children:p,...g}=h,m=((x=f==null?void 0:f[t])==null?void 0:x[l])||o,v=_.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[l])||o,g=_.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return a.scopeName=t,[n,Bpe(a,...e)]}function Bpe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...o,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var f8=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},Wpe=Hd[" useInsertionEffect ".trim().toString()]||f8;function Hpe({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,s]=Upe({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:a;{const d=_.useRef(t!==void 0);_.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=_.useCallback(d=>{var h;if(o){const f=Ype(d)?d(t):d;f!==t&&((h=s.current)==null||h.call(s,f))}else i(d)},[o,t,i,s]);return[l,u]}function Upe({defaultProp:t,onChange:e}){const[r,n]=_.useState(t),a=_.useRef(r),i=_.useRef(e);return Wpe(()=>{i.current=e},[e]),_.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function Ype(t){return typeof t=="function"}function Xpe(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Vpe(t){const[e,r]=_.useState(void 0);return f8(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}function qpe(t){const e=Gpe(t),r=_.forwardRef((n,a)=>{const{children:i,...s}=n,o=_.Children.toArray(i),l=o.find(Zpe);if(l){const u=l.props.children,d=o.map(h=>h===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...s,ref:a,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function Gpe(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const s=Jpe(a),o=Qpe(i,a.props);return a.type!==_.Fragment&&(o.ref=n?d8(n,s):s),_.cloneElement(a,o)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Kpe=Symbol("radix.slottable");function Zpe(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Kpe}function Qpe(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function Jpe(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var eme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],p8=eme.reduce((t,e)=>{const r=qpe(`Primitive.${e}`),n=_.forwardRef((a,i)=>{const{asChild:s,...o}=a,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Qb="Switch",[tme,Oze]=zpe(Qb),[rme,nme]=tme(Qb),m8=_.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:l="on",onCheckedChange:u,form:d,...h}=t,[f,p]=_.useState(null),g=h8(e,b=>p(b)),m=_.useRef(!1),v=f?d||!!f.closest("form"):!0,[x,y]=Hpe({prop:a,defaultProp:i??!1,onChange:u,caller:Qb});return c.jsxs(rme,{scope:r,checked:x,disabled:o,children:[c.jsx(p8.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":x8(x),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:g,onClick:Fpe(t.onClick,b=>{y(w=>!w),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&c.jsx(y8,{control:f,bubbles:!m.current,name:n,value:l,checked:x,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});m8.displayName=Qb;var g8="SwitchThumb",v8=_.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=nme(g8,r);return c.jsx(p8.span,{"data-state":x8(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});v8.displayName=g8;var ame="SwitchBubbleInput",y8=_.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=_.useRef(null),o=h8(s,i),l=Xpe(r),u=Vpe(e);return _.useEffect(()=>{const d=s.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[l,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});y8.displayName=ame;function x8(t){return t?"checked":"unchecked"}var b8=m8,ime=v8;const ky=_.forwardRef(({className:t,...e},r)=>c.jsx(b8,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:c.jsx(ime,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ky.displayName=b8.displayName;const sme=({scenarioType:t,parameters:e,onParametersChange:r})=>{const n=(d,h)=>{r({...e,[d]:h})},a=()=>{var d,h,f,p;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Le,{htmlFor:"demand-multiplier",children:["Demand Multiplier: ",(d=e.demand_multiplier)==null?void 0:d.toFixed(1),"x"]}),c.jsx(nu,{id:"demand-multiplier",min:.1,max:5,step:.1,value:[e.demand_multiplier||1],onValueChange:([g])=>n("demand_multiplier",g),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:"0.1x"}),c.jsx("span",{children:"5.0x"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Le,{children:"Seasonality Adjustment"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"peak-multiplier",children:"Peak"}),c.jsx(De,{id:"peak-multiplier",type:"number",step:"0.1",value:((h=e.seasonality_adjustment)==null?void 0:h.peak_multiplier)||1.5,onChange:g=>{var m,v;return n("seasonality_adjustment",{...e.seasonality_adjustment,peak_multiplier:parseFloat(g.target.value)||1.5,normal_multiplier:((m=e.seasonality_adjustment)==null?void 0:m.normal_multiplier)||1,low_multiplier:((v=e.seasonality_adjustment)==null?void 0:v.low_multiplier)||.7})}})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"normal-multiplier",children:"Normal"}),c.jsx(De,{id:"normal-multiplier",type:"number",step:"0.1",value:((f=e.seasonality_adjustment)==null?void 0:f.normal_multiplier)||1,onChange:g=>{var m,v;return n("seasonality_adjustment",{...e.seasonality_adjustment,peak_multiplier:((m=e.seasonality_adjustment)==null?void 0:m.peak_multiplier)||1.5,normal_multiplier:parseFloat(g.target.value)||1,low_multiplier:((v=e.seasonality_adjustment)==null?void 0:v.low_multiplier)||.7})}})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"low-multiplier",children:"Low"}),c.jsx(De,{id:"low-multiplier",type:"number",step:"0.1",value:((p=e.seasonality_adjustment)==null?void 0:p.low_multiplier)||.7,onChange:g=>{var m,v;return n("seasonality_adjustment",{...e.seasonality_adjustment,peak_multiplier:((m=e.seasonality_adjustment)==null?void 0:m.peak_multiplier)||1.5,normal_multiplier:((v=e.seasonality_adjustment)==null?void 0:v.normal_multiplier)||1,low_multiplier:parseFloat(g.target.value)||.7})}})]})]})]})]})},i=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Le,{htmlFor:"lead-time-adjustment",children:["Lead Time Adjustment: +",e.lead_time_adjustment||0," days"]}),c.jsx(nu,{id:"lead-time-adjustment",min:-30,max:90,step:1,value:[e.lead_time_adjustment||0],onValueChange:([d])=>n("lead_time_adjustment",d),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:"-30 days"}),c.jsx("span",{children:"+90 days"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Le,{children:"Vendor Availability"}),c.jsx("div",{className:"space-y-2",children:["VENDOR_A","VENDOR_B","VENDOR_C"].map(d=>{var h;return c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Le,{htmlFor:`vendor-${d}`,children:d}),c.jsx(ky,{id:`vendor-${d}`,checked:((h=e.vendor_availability)==null?void 0:h[d])!==!1,onCheckedChange:f=>n("vendor_availability",{...e.vendor_availability,[d]:f})})]},d)})})]})]}),s=()=>{var d;return c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Le,{htmlFor:"cost-change",children:["Cost Change: ",(e.cost_change_percentage||0)>=0?"+":"",((d=e.cost_change_percentage)==null?void 0:d.toFixed(1))||0,"%"]}),c.jsx(nu,{id:"cost-change",min:-50,max:100,step:.5,value:[e.cost_change_percentage||0],onValueChange:([h])=>n("cost_change_percentage",h),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:"-50%"}),c.jsx("span",{children:"+100%"})]})]})})},o=()=>c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Le,{htmlFor:"service-level",children:["Service Level Target: ",((e.service_level_target||.95)*100).toFixed(1),"%"]}),c.jsx(nu,{id:"service-level",min:.8,max:.99,step:.01,value:[e.service_level_target||.95],onValueChange:([d])=>n("service_level_target",d),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:"80%"}),c.jsx("span",{children:"99%"})]})]})}),l=()=>c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Le,{children:"Capacity Constraints"}),c.jsx("div",{className:"space-y-2",children:["Warehouse_A","Warehouse_B","Production_Line_1"].map(d=>{var h,f;return c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Le,{htmlFor:`capacity-${d}`,children:[d,": ",((((h=e.capacity_constraints)==null?void 0:h[d])||1)*100).toFixed(0),"%"]}),c.jsx(nu,{id:`capacity-${d}`,min:.1,max:2,step:.1,value:[((f=e.capacity_constraints)==null?void 0:f[d])||1],onValueChange:([p])=>n("capacity_constraints",{...e.capacity_constraints,[d]:p}),className:"w-full"})]},d)})})]})}),u=()=>{switch(t){case"demand":return a();case"supply":return i();case"cost":return s();case"service":return o();case"capacity":return l();default:return c.jsx("div",{className:"text-muted-foreground",children:"Select a scenario type to configure parameters"})}};return c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Scenario Parameters"})}),c.jsx(te,{children:u()})]})},ome=({scope:t,onScopeChange:e})=>{var p;const[r,n]=_.useState([]),[a,i]=_.useState([]),[s,o]=_.useState([]);_.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:g,error:m}=await ue.from("products").select("product_id, product_name").limit(100);g&&!m?n(g.map(w=>({id:w.product_id,name:w.product_name||w.product_id}))):m&&(console.warn("Productos no disponibles:",m),n([{id:"PROD_001",name:"Sample Product A"},{id:"PROD_002",name:"Sample Product B"},{id:"PROD_003",name:"Sample Product C"}]));const{data:v,error:x}=await ue.from("vendors").select("code, name").limit(100);v&&!x?i(v.map(w=>({id:w.code,name:w.name||w.code}))):x&&(console.warn("Proveedores no disponibles:",x),i([{id:"VENDOR_A",name:"Vendor Alpha"},{id:"VENDOR_B",name:"Vendor Beta"},{id:"VENDOR_C",name:"Vendor Gamma"}]));const{data:y,error:b}=await ue.from("locations").select("location_id, location_name").limit(100);y&&!b?o(y.map(w=>({id:w.location_id,name:w.location_name||w.location_id}))):b&&(console.warn("Almacenes no disponibles:",b),o([{id:"WH_001",name:"Main Warehouse"},{id:"WH_002",name:"Distribution Center"},{id:"WH_003",name:"Regional Hub"}]))}catch(g){console.error("Error al obtener las opciones de scope:",g),n([{id:"PROD_001",name:"Sample Product A"},{id:"PROD_002",name:"Sample Product B"}]),i([{id:"VENDOR_A",name:"Vendor Alpha"},{id:"VENDOR_B",name:"Vendor Beta"}]),o([{id:"WH_001",name:"Main Warehouse"},{id:"WH_002",name:"Distribution Center"}])}},u=(g,m)=>{e({...t,[g]:m})},d=(g,m)=>{const v=t[g]||[];v.includes(m)||u(g,[...v,m])},h=(g,m)=>{const v=t[g]||[];u(g,v.filter(x=>x!==m))},f=g=>{const m=t[g]||[],v=g==="product_ids"?r:g==="customer_ids"?a:s;return m.map(x=>{const y=v.find(b=>b.id===x);return{id:x,name:(y==null?void 0:y.name)||x}})};return c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Scope y filtros"})}),c.jsxs(te,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"time-horizon",children:"Período de tiempo"}),c.jsxs(xn,{value:((p=t.time_horizon_months)==null?void 0:p.toString())||"6",onValueChange:g=>u("time_horizon_months",parseInt(g)),children:[c.jsx(an,{children:c.jsx(bn,{placeholder:"Seleccionar período de tiempo"})}),c.jsxs(sn,{children:[c.jsx(it,{value:"1",children:"1 mes"}),c.jsx(it,{value:"3",children:"3 meses"}),c.jsx(it,{value:"6",children:"6 meses"}),c.jsx(it,{value:"12",children:"12 meses"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"products",children:"Productos"}),c.jsxs(xn,{onValueChange:g=>d("product_ids",g),children:[c.jsx(an,{children:c.jsx(bn,{placeholder:"Añadir productos..."})}),c.jsx(sn,{children:r.map(g=>c.jsx(it,{value:g.id,children:g.name},g.id))})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:f("product_ids").map(g=>c.jsxs(_e,{variant:"secondary",className:"gap-1",children:[g.name,c.jsx(Na,{className:"h-3 w-3 cursor-pointer",onClick:()=>h("product_ids",g.id)})]},g.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"vendors",children:"Proveedores"}),c.jsxs(xn,{onValueChange:g=>d("customer_ids",g),children:[c.jsx(an,{children:c.jsx(bn,{placeholder:"Añadir proveedores..."})}),c.jsx(sn,{children:a.map(g=>c.jsx(it,{value:g.id,children:g.name},g.id))})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:f("customer_ids").map(g=>c.jsxs(_e,{variant:"secondary",className:"gap-1",children:[g.name,c.jsx(Na,{className:"h-3 w-3 cursor-pointer",onClick:()=>h("customer_ids",g.id)})]},g.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"warehouses",children:"Almacenes"}),c.jsxs(xn,{onValueChange:g=>d("warehouse_ids",g),children:[c.jsx(an,{children:c.jsx(bn,{placeholder:"Añadir almacenes..."})}),c.jsx(sn,{children:s.map(g=>c.jsx(it,{value:g.id,children:g.name},g.id))})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:f("warehouse_ids").map(g=>c.jsxs(_e,{variant:"secondary",className:"gap-1",children:[g.name,c.jsx(Na,{className:"h-3 w-3 cursor-pointer",onClick:()=>h("warehouse_ids",g.id)})]},g.id))})]})]})]})};class lme{async calculateServiceLevelScenario(e){const{parameters:r,scope:n}=e,a=r.service_level_target||.95,i=await this.getCurrentInventoryData(n),s=await this.getHistoricalServiceLevels(n),o=this.calculateBaselineServiceLevel(s),l=await this.calculateProductImpacts(i,s,a),u=this.calculateSummaryMetrics(l,o,a);return{scenario_id:e.id||"",baseline_service_level:o,target_service_level:a,affected_products:l,summary:u}}async getCurrentInventoryData(e){let r=ue.from("current_inventory").select(`
        *,
        products!inner(
          product_id,
          name,
          service_level_default
        )
      `);if(e.product_ids&&e.product_ids.length>0&&(r=r.in("product_id",e.product_ids)),e.warehouse_ids&&e.warehouse_ids.length>0){const i=e.warehouse_ids.map(s=>parseInt(s.toString()));r=r.in("warehouse_id",i)}const{data:n,error:a}=await r;if(a)throw console.error("Error fetching inventory data:",a),a;return n||[]}async getHistoricalServiceLevels(e){return console.log("Using mock historical service levels data for scope:",e),[{product_id:"P001",warehouse_id:1,service_level_achieved:95.5,service_level_goal:98,exception_date:"2024-12-01",exception_type:"stockout"},{product_id:"P002",warehouse_id:2,service_level_achieved:97.2,service_level_goal:98,exception_date:"2024-11-28",exception_type:"stockout"}]}calculateBaselineServiceLevel(e){return!e||e.length===0?.95:e.reduce((n,a)=>n+(a.service_level_achieved||0),0)/e.length}async calculateProductImpacts(e,r,n){var i,s;const a=[];for(const o of e){const l=r.filter(x=>x.product_id===o.product_id&&x.warehouse_id===o.warehouse_id),u=l.length>0?l.reduce((x,y)=>x+(y.service_level_achieved||0),0)/l.length:((i=o.products)==null?void 0:i.service_level_default)||.95,d=n-u,h=this.calculateSafetyStockMultiplier(d),f=Math.round(o.safety_stock*h),p=f-o.safety_stock,g=o.reorder_point+p,m=p*o.unit_cost,v=this.calculateStockoutRiskReduction(d);a.push({product_id:o.product_id,product_name:((s=o.products)==null?void 0:s.name)||"Unknown Product",warehouse_id:o.warehouse_id,current_service_level:u,current_safety_stock:o.safety_stock,current_reorder_point:o.reorder_point,new_safety_stock:f,new_reorder_point:g,inventory_impact:m,cost_impact:m*o.holding_cost_rate,stockout_risk_change:v})}return a}calculateSafetyStockMultiplier(e){if(e<=0)return 1;const r=1+e*2.5;return Math.max(1,Math.min(2,r))}calculateStockoutRiskReduction(e){return e*100}calculateSummaryMetrics(e,r,n){const a=e.length,i=e.reduce((d,h)=>d+(h.new_safety_stock-h.current_safety_stock),0),s=e.reduce((d,h)=>d+h.cost_impact,0),o=e.reduce((d,h)=>d+h.stockout_risk_change,0)/a,l=n-r,u=Math.min(1,Math.max(0,1-l*.1));return{total_products_affected:a,total_inventory_increase:i,total_cost_impact:s,average_stockout_risk_reduction:o,service_level_achievement_rate:u}}async saveScenarioResults(e,r){const{error:n}=await ue.from("what_if_scenarios").update({results:r,status:"completed",updated_at:new Date().toISOString()}).eq("id",e);if(n)throw console.error("Error saving scenario results:",n),n;return r}}const w8=()=>{const t=jA(),{data:e,isLoading:r}=I4({queryKey:["scenarios"],queryFn:async()=>{console.log("🔍 Fetching scenarios from database...");const{data:o,error:l}=await ue.from("what_if_scenarios").select("*").order("created_at",{ascending:!1});if(l)throw console.error("❌ Error fetching scenarios:",l),l;console.log("📊 Raw scenarios data:",o);const u=o==null?void 0:o.map(d=>{let h=d.results;return(!h||!h.impact_summary)&&(h={id:d.id,scenario_execution_id:d.id,impact_summary:{total_order_count_change:12.5,total_value_change:85e3,average_lead_time_change:-5.2,service_level_impact:1.8,stockout_risk_change:-8.7},detailed_changes:[]}),{id:d.id,scenario_name:d.scenario_name,scenario_type:d.scenario_type,created_by:d.created_by,created_at:d.created_at,updated_at:d.updated_at,parameters:d.parameters,scope:{time_horizon_months:6,product_ids:d.product_id?[d.product_id]:[],customer_id:d.customer_id?[d.customer_id]:[],warehouse_ids:d.location_id?[d.location_id]:[]},description:d.description,results:h}});return console.log("🔄 Mapped scenarios:",u),u}}),n=Sg({mutationFn:async o=>{var h,f,p;const l={scenario_name:o.scenario_name,scenario_type:o.scenario_type,parameters:o.parameters,location_id:((h=o.scope.warehouse_ids)==null?void 0:h[0])||"default_location",product_id:((f=o.scope.product_ids)==null?void 0:f[0])||"default_product",description:o.description,created_by:null,status:"draft"};(p=o.scope.customer_ids)!=null&&p[0]&&(l.customer_id=o.scope.customer_ids[0]);const{data:u,error:d}=await ue.from("what_if_scenarios").insert([l]).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["scenarios"]}),ve.success("Scenario created successfully")},onError:o=>{console.error("Error creating scenario:",o),ve.error("Failed to create scenario")}}),a=Sg({mutationFn:async({id:o,...l})=>{var f,p,g,m,v,x;const u={scenario_name:l.scenario_name,scenario_type:l.scenario_type,parameters:l.parameters,location_id:(p=(f=l.scope)==null?void 0:f.warehouse_ids)==null?void 0:p[0],product_id:(m=(g=l.scope)==null?void 0:g.product_ids)==null?void 0:m[0],description:l.description,updated_at:new Date().toISOString()};(x=(v=l.scope)==null?void 0:v.customer_ids)!=null&&x[0]&&(u.customer_id=l.scope.customer_ids[0]);const{data:d,error:h}=await ue.from("what_if_scenarios").update(u).eq("id",o).select().single();if(h)throw h;return d},onSuccess:()=>{t.invalidateQueries({queryKey:["scenarios"]}),ve.success("Scenario updated successfully")},onError:o=>{console.error("Error updating scenario:",o),ve.error("Failed to update scenario")}}),i=Sg({mutationFn:async o=>{const{data:l,error:u}=await ue.from("what_if_scenarios").select("*").eq("id",o).single();if(u)throw u;const{error:d}=await ue.from("what_if_scenarios").update({status:"running",updated_at:new Date().toISOString()}).eq("id",o);if(d)throw d;try{const h={id:l.id,scenario_name:l.scenario_name,scenario_type:l.scenario_type,parameters:l.parameters,scope:{product_ids:l.product_id?[l.product_id]:[],warehouse_ids:l.location_id?[l.location_id]:[],customer_ids:l.customer_id?[l.customer_id]:[],time_horizon_months:6},description:l.description};let f;if(l.scenario_type==="service"){const v=await new lme().calculateServiceLevelScenario(h);f={scenario_type:"service",service_level_results:v,impact_summary:{total_order_count_change:v.summary.total_products_affected,total_value_change:v.summary.total_cost_impact,average_lead_time_change:0,service_level_impact:(v.target_service_level-v.baseline_service_level)*100,stockout_risk_change:-v.summary.average_stockout_risk_reduction}}}else f={scenario_type:l.scenario_type,impact_summary:{total_order_count_change:15.2,total_value_change:125e3,average_lead_time_change:-8.5,service_level_impact:2.1,stockout_risk_change:-12.3}};const{data:p,error:g}=await ue.from("what_if_scenarios").update({status:"completed",results:f,updated_at:new Date().toISOString()}).eq("id",o).select().single();if(g)throw g;return p}catch(h){throw await ue.from("what_if_scenarios").update({status:"failed",updated_at:new Date().toISOString()}).eq("id",o),h}},onSuccess:()=>{t.invalidateQueries({queryKey:["scenarios"]}),ve.success("Scenario executed successfully")},onError:o=>{console.error("Error executing scenario:",o),ve.error("Failed to execute scenario")}}),s=Sg({mutationFn:async o=>{const{error:l}=await ue.from("what_if_scenarios").delete().eq("id",o);if(l)throw l;return o},onSuccess:()=>{t.invalidateQueries({queryKey:["scenarios"]}),ve.success("Scenario deleted successfully")},onError:o=>{console.error("Error deleting scenario:",o),ve.error("Failed to delete scenario")}});return{scenarios:e,isLoading:r,createScenario:n.mutateAsync,updateScenario:a.mutateAsync,executeScenario:i.mutateAsync,deleteScenario:s.mutateAsync,isCreating:n.isPending,isUpdating:a.isPending,isExecuting:i.isPending,isDeleting:s.isPending}},cme=[{type:"demand",label:"Cambio de demanda",description:"Modelo de cambios en las demandas de los clientes",icon:ia,color:"bg-blue-50 border-blue-200 text-blue-800"},{type:"supply",label:"Disrupción de suministro",description:"Simular la disponibilidad de los proveedores y los problemas de tiempo de entrega",icon:Wr,color:"bg-orange-50 border-orange-200 text-orange-800"},{type:"cost",label:"Fluctuación de costos",description:"Analizar el impacto de los cambios de precios",icon:Q4,color:"bg-green-50 border-green-200 text-green-800"},{type:"service",label:"Cambio de nivel de servicio",description:"Ajustar los niveles de servicio y las políticas de stock",icon:oc,color:"bg-purple-50 border-purple-200 text-purple-800"},{type:"capacity",label:"Restricciones de capacidad",description:"Modelo de restricciones de capacidad de los almacenes y la producción",icon:PQ,color:"bg-red-50 border-red-200 text-red-800"}],ume=({initialScenario:t,onSave:e,onCancel:r})=>{const{createScenario:n,updateScenario:a,executeScenario:i,isCreating:s,isUpdating:o,isExecuting:l}=w8(),[u,d]=_.useState((t==null?void 0:t.scenario_name)||""),[h,f]=_.useState((t==null?void 0:t.scenario_type)||null),[p,g]=_.useState((t==null?void 0:t.parameters)||{}),[m,v]=_.useState((t==null?void 0:t.scope)||{time_horizon_months:6,product_ids:[],customer_ids:[],warehouse_ids:[]}),[x,y]=_.useState([]),b=()=>{const C=[];return u.trim()||C.push("Scenario name is required"),h||C.push("Please select a scenario type"),(m.time_horizon_months<1||m.time_horizon_months>12)&&C.push("Time horizon must be between 1 and 12 months"),h==="demand"&&(!p.demand_multiplier||p.demand_multiplier<.1||p.demand_multiplier>5)&&C.push("Demand multiplier must be between 0.1 and 5.0"),h==="cost"&&p.cost_change_percentage!==void 0&&(p.cost_change_percentage<-50||p.cost_change_percentage>100)&&C.push("Cost change must be between -50% and +100%"),h==="service"&&p.service_level_target!==void 0&&(p.service_level_target<.8||p.service_level_target>.99)&&C.push("Service level target must be between 80% and 99%"),y(C),C.length===0},w=async()=>{if(!b())return;const C={scenario_name:u,scenario_type:h,parameters:p,scope:m};try{t!=null&&t.id?await a({id:t.id,...C}):await n(C),e==null||e(C)}catch(A){console.error("Error saving scenario:",A)}},S=async()=>{b()&&console.log("Preview scenario:",{scenarioName:u,selectedType:h,parameters:p,scope:m})},k=async()=>{if(b())try{let C=t==null?void 0:t.id;C||(C=(await n({scenario_name:u,scenario_type:h,parameters:p,scope:m})).id),C&&await i(C)}catch(C){console.error("Error executing scenario:",C)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:t?"Editar escenario":"Constructor de escenarios"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Crea y configura escenarios para analizar el impacto de las ventas"})]}),r&&c.jsxs(de,{variant:"ghost",onClick:r,children:[c.jsx(Na,{className:"h-4 w-4 mr-2"}),"Cerrar"]})]}),x.length>0&&c.jsxs(Fb,{variant:"destructive",children:[c.jsx(K4,{className:"h-4 w-4"}),c.jsx(zb,{children:c.jsx("ul",{className:"list-disc list-inside space-y-1",children:x.map((C,A)=>c.jsx("li",{children:C},A))})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Información del escenario"})}),c.jsx(te,{className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"scenario-name",children:"Nombre del escenario *"}),c.jsx(De,{id:"scenario-name",placeholder:"p.e., Q4 pico estacional",value:u,onChange:C=>d(C.target.value),className:"max-w-md"})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Tipo de escenario *"})}),c.jsx(te,{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:cme.map(C=>{const A=C.icon,N=h===C.type;return c.jsxs("div",{onClick:()=>f(C.type),className:`
                    relative cursor-pointer rounded-lg border-2 p-4 transition-all
                    ${N?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}
                  `,children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:`rounded-md border p-2 ${C.color}`,children:c.jsx(A,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-medium text-gray-900",children:C.label}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.description})]})]}),N&&c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx(_e,{variant:"default",className:"bg-primary",children:"Seleccionado"})})]},C.type)})})})]}),c.jsx(ome,{scope:m,onScopeChange:v}),h&&c.jsx(sme,{scenarioType:h,parameters:p,onParametersChange:g}),c.jsx(PA,{}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs(de,{variant:"outline",onClick:S,disabled:!h||s||o||l,children:[c.jsx(yS,{className:"h-4 w-4 mr-2"}),"Previsualizar impacto"]}),c.jsxs(de,{onClick:w,disabled:!h||s||o,className:"bg-[#0066CC] hover:bg-[#0052A3]",children:[c.jsx(wQ,{className:"h-4 w-4 mr-2"}),s||o?"Guardando...":"Guardar escenario"]})]}),c.jsxs(de,{onClick:k,disabled:!h||l,className:"bg-[#10B981] hover:bg-[#059669]",children:[c.jsx(yS,{className:"h-4 w-4 mr-2"}),l?"Ejecutando análisis...":"Ejecutar análisis completo"]})]}),c.jsxs("div",{className:"text-sm text-muted-foreground bg-gray-50 rounded-lg p-4",children:[c.jsx("p",{className:"font-medium mb-2",children:"Guía rápida:"}),c.jsxs("ul",{className:"space-y-1 text-xs",children:[c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Previsualizar impacto:"})," Validación rápida y previsualización de parámetros"]}),c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Guardar escenario:"})," Almacenar configuración para uso posterior o compartición"]}),c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Ejecutar análisis completo:"})," Ejecutar cálculo completo del escenario y ver resultados"]})]})]})]})},dme=({results:t,scenarioName:e})=>{const r=i=>`${(i*100).toFixed(1)}%`,n=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(i),a=i=>i>0?"text-green-600":i<0?"text-red-600":"text-gray-600";return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados del Escenario de Nivel de Servicio"}),c.jsx("p",{className:"text-muted-foreground",children:e})]}),c.jsxs(_e,{variant:"outline",className:"bg-blue-50 text-blue-800",children:[c.jsx(oc,{className:"h-4 w-4 mr-1"}),"Nivel de Servicio: ",r(t.target_service_level)]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{className:"pb-3",children:c.jsxs(me,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(oc,{className:"h-4 w-4"}),"Mejora del Nivel de Servicio"]})}),c.jsx(te,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{children:["Actual: ",r(t.baseline_service_level)]}),c.jsxs("span",{children:["Objetivo: ",r(t.target_service_level)]})]}),c.jsx(ti,{value:t.target_service_level*100,className:"h-2"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Mejora: ",r(t.target_service_level-t.baseline_service_level)]})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{className:"pb-3",children:c.jsxs(me,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(Zt,{className:"h-4 w-4"}),"Productos Afectados"]})}),c.jsxs(te,{children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.summary.total_products_affected}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Productos que requieren ajustes"})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{className:"pb-3",children:c.jsxs(me,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(Q4,{className:"h-4 w-4"}),"Impacto en Costos"]})}),c.jsxs(te,{children:[c.jsx("div",{className:`text-2xl font-bold ${a(t.summary.total_cost_impact)}`,children:n(t.summary.total_cost_impact)}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Incremento en costos de inventario"})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{className:"pb-3",children:c.jsxs(me,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(SQ,{className:"h-4 w-4"}),"Reducción de Riesgo"]})}),c.jsxs(te,{children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.summary.average_stockout_risk_reduction.toFixed(1),"%"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Reducción promedio del riesgo de desabasto"})]})]})]}),c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Análisis Detallado por Producto"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Impacto específico en cada producto y almacén"})]}),c.jsx(te,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"Producto"}),c.jsx(je,{children:"Almacén"}),c.jsx(je,{className:"text-center",children:"Nivel de Servicio Actual"}),c.jsx(je,{className:"text-center",children:"Stock de Seguridad"}),c.jsx(je,{className:"text-center",children:"Nuevo Stock"}),c.jsx(je,{className:"text-center",children:"Punto de Reorden"}),c.jsx(je,{className:"text-center",children:"Impacto en Costos"}),c.jsx(je,{className:"text-center",children:"Reducción de Riesgo"})]})}),c.jsx(un,{children:t.affected_products.map((i,s)=>c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:i.product_name}),c.jsx("div",{className:"text-xs text-muted-foreground",children:i.product_id})]})}),c.jsx(he,{children:i.warehouse_id}),c.jsx(he,{className:"text-center",children:r(i.current_service_level)}),c.jsx(he,{className:"text-center",children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.current_safety_stock," → ",i.new_safety_stock]}),c.jsxs(_e,{variant:"outline",className:`text-xs ${a(i.new_safety_stock-i.current_safety_stock)}`,children:[i.new_safety_stock-i.current_safety_stock>0?"+":"",i.new_safety_stock-i.current_safety_stock]})]})}),c.jsx(he,{className:"text-center",children:i.new_safety_stock}),c.jsx(he,{className:"text-center",children:c.jsx("div",{className:"space-y-1",children:c.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.current_reorder_point," → ",i.new_reorder_point]})})}),c.jsx(he,{className:"text-center",children:c.jsx("div",{className:`font-medium ${a(i.cost_impact)}`,children:n(i.cost_impact)})}),c.jsx(he,{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx(Zr,{className:"h-4 w-4 text-green-500"}),c.jsxs("span",{className:"text-green-600 font-medium",children:[i.stockout_risk_change.toFixed(1),"%"]})]})})]},`${i.product_id}-${i.warehouse_id}`))})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Zr,{className:"h-5 w-5 text-green-500"}),"Resumen del Impacto"]})}),c.jsx(te,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Productos afectados:"}),c.jsx("span",{className:"font-medium",children:t.summary.total_products_affected})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Incremento total de inventario:"}),c.jsxs("span",{className:"font-medium",children:[t.summary.total_inventory_increase," unidades"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Costo total adicional:"}),c.jsx("span",{className:"font-medium text-red-600",children:n(t.summary.total_cost_impact)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Tasa de logro del objetivo:"}),c.jsx("span",{className:"font-medium text-green-600",children:r(t.summary.service_level_achievement_rate)})]})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Wr,{className:"h-5 w-5 text-yellow-500"}),"Recomendaciones"]})}),c.jsx(te,{children:c.jsxs("ul",{className:"space-y-2 text-sm",children:[t.summary.total_cost_impact>5e4&&c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-yellow-500 mt-1",children:"•"}),c.jsx("span",{children:"El impacto en costos es significativo. Considere implementar gradualmente."})]}),t.summary.service_level_achievement_rate<.8&&c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-500 mt-1",children:"•"}),c.jsx("span",{children:"La tasa de logro es baja. Revise los parámetros del escenario."})]}),t.summary.average_stockout_risk_reduction>10&&c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-500 mt-1",children:"•"}),c.jsx("span",{children:"Excelente reducción del riesgo de desabasto. Implemente pronto."})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),c.jsx("span",{children:"Monitoree el desempeño después de la implementación para ajustar parámetros."})]})]})})]})]})]})},hme=({results:t,scenarioName:e})=>{if(console.log("🔍 resultados:",{results:t,scenarioName:e}),t.scenario_type==="service"&&t.service_level_results)return c.jsx(dme,{results:t.service_level_results,scenarioName:e});const{impact_summary:r}=t||{};if(console.log("📊 resumen de impacto:",r),!r)return console.log("⚠️ No se encontró impact_summary, mostrando mensaje de no datos"),c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("div",{className:"text-muted-foreground mb-4",children:c.jsx(Wr,{className:"h-12 w-12 mx-auto mb-2"})}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay datos disponibles"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Este escenario aún no tiene resultados calculados. Para ver los resultados:"}),c.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("p",{children:"• Ejecuta el escenario desde el constructor de escenarios"}),c.jsx("p",{children:"• O crea un nuevo escenario con parámetros específicos"})]})]})});const n=o=>typeof o!="number"?"text-gray-600":o>0?"text-green-600":o<0?"text-red-600":"text-gray-600",a=o=>typeof o!="number"?Zr:o>0?ia:o<0?gs:Zr,i=o=>typeof o!="number"?"0.0%":`${o>=0?"+":""}${o.toFixed(1)}%`,s=o=>typeof o!="number"?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Resultados del escenario"}),c.jsx("p",{className:"text-muted-foreground",children:e})]}),c.jsxs(_e,{variant:"outline",className:"bg-green-50 text-green-800",children:[c.jsx(Zr,{className:"h-4 w-4 mr-1"}),"Completado"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{className:"pb-3",children:c.jsx(me,{className:"text-sm font-medium",children:"Impacto en el número de pedidos"})}),c.jsxs(te,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[$.createElement(a(r.total_order_count_change),{className:`h-5 w-5 ${n(r.total_order_count_change)}`}),c.jsx("span",{className:`text-2xl font-bold ${n(r.total_order_count_change)}`,children:i(r.total_order_count_change)})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Cambio en el número total de pedidos"})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{className:"pb-3",children:c.jsx(me,{className:"text-sm font-medium",children:"Impacto en el valor"})}),c.jsxs(te,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[$.createElement(a(r.total_value_change),{className:`h-5 w-5 ${n(r.total_value_change)}`}),c.jsx("span",{className:`text-2xl font-bold ${n(r.total_value_change)}`,children:s(r.total_value_change)})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Cambio en el valor total"})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{className:"pb-3",children:c.jsx(me,{className:"text-sm font-medium",children:"Impacto en el tiempo de entrega"})}),c.jsxs(te,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[$.createElement(a(r.average_lead_time_change),{className:`h-5 w-5 ${n(r.average_lead_time_change)}`}),c.jsx("span",{className:`text-2xl font-bold ${n(r.average_lead_time_change)}`,children:i(r.average_lead_time_change)})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Cambio en el tiempo de entrega promedio"})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{className:"pb-3",children:c.jsx(me,{className:"text-sm font-medium",children:"Impacto en el nivel de servicio"})}),c.jsxs(te,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[$.createElement(a(r.service_level_impact),{className:`h-5 w-5 ${n(r.service_level_impact)}`}),c.jsx("span",{className:`text-2xl font-bold ${n(r.service_level_impact)}`,children:i(r.service_level_impact)})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Cambio en el nivel de servicio"})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{className:"pb-3",children:c.jsx(me,{className:"text-sm font-medium",children:"Riesgo de stockout"})}),c.jsxs(te,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[r.stockout_risk_change>0?c.jsx(Wr,{className:"h-5 w-5 text-red-600"}):c.jsx(Zr,{className:"h-5 w-5 text-green-600"}),c.jsx("span",{className:`text-2xl font-bold ${n(r.stockout_risk_change)}`,children:i(r.stockout_risk_change)})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Cambio en el riesgo de stockout"})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{className:"pb-3",children:c.jsx(me,{className:"text-sm font-medium",children:"Puntuación de impacto general"})}),c.jsx(te,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Puntuación de impacto"}),c.jsxs("span",{className:"font-medium",children:[Math.abs((r.total_value_change||0)/1e3).toFixed(1),"/10"]})]}),c.jsx(ti,{value:Math.min(Math.abs((r.total_value_change||0)/1e3),100),className:"h-2"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Basado en el impacto en el valor total"})]})})]})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Análisis detallado"})}),c.jsx(te,{children:c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Cambios clave"}),c.jsxs("ul",{className:"space-y-1 text-sm",children:[c.jsxs("li",{children:["• Frecuencia de pedidos ajustada por ",i(r.total_order_count_change)]}),c.jsxs("li",{children:["• Tiempos de entrega modificados por ",i(r.average_lead_time_change)]}),c.jsxs("li",{children:["• Impacto en el objetivo de nivel de servicio: ",i(r.service_level_impact)]}),c.jsxs("li",{children:["• Variación en el riesgo de stockout: ",i(r.stockout_risk_change)]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Recomendaciones"}),c.jsxs("ul",{className:"space-y-1 text-sm",children:[(r.total_value_change||0)>0&&c.jsx("li",{children:"• Considera implementar este escenario - impacto positivo en el valor"}),(r.stockout_risk_change||0)>5&&c.jsx("li",{children:"• Monitoriza los niveles de inventario - aumento del riesgo de stockout"}),(r.service_level_impact||0)<-2&&c.jsx("li",{children:"• Revisa los objetivos de nivel de servicio - posible degradación"}),Math.abs(r.average_lead_time_change||0)>10&&c.jsx("li",{children:"• Ajusta los horizontes de planificación - impacto significativo en el tiempo de entrega"})]})]})]})})})]})]})};var GN="Checkbox",[fme,Tze]=Rs(GN),[pme,mme]=fme(GN),_8=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:l="on",onCheckedChange:u,form:d,...h}=t,[f,p]=_.useState(null),g=lt(e,w=>p(w)),m=_.useRef(!1),v=f?d||!!f.closest("form"):!0,[x=!1,y]=Wo({prop:a,defaultProp:i,onChange:u}),b=_.useRef(x);return _.useEffect(()=>{const w=f==null?void 0:f.form;if(w){const S=()=>y(b.current);return w.addEventListener("reset",S),()=>w.removeEventListener("reset",S)}},[f,y]),c.jsxs(pme,{scope:r,state:x,disabled:o,children:[c.jsx(We.button,{type:"button",role:"checkbox","aria-checked":Ro(x)?"mixed":x,"aria-required":s,"data-state":C8(x),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:g,onKeyDown:Ce(t.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Ce(t.onClick,w=>{y(S=>Ro(S)?!0:!S),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&c.jsx(gme,{control:f,bubbles:!m.current,name:n,value:l,checked:x,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ro(i)?!1:i})]})});_8.displayName=GN;var S8="CheckboxIndicator",j8=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=mme(S8,r);return c.jsx(Cn,{present:n||Ro(i.state)||i.state===!0,children:c.jsx(We.span,{"data-state":C8(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});j8.displayName=S8;var gme=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:a,...i}=t,s=_.useRef(null),o=aB(r),l=KF(e);_.useEffect(()=>{const d=s.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&p){const g=new Event("click",{bubbles:n});d.indeterminate=Ro(r),p.call(d,Ro(r)?!1:r),d.dispatchEvent(g)}},[o,r,n]);const u=_.useRef(Ro(r)?!1:r);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ro(t){return t==="indeterminate"}function C8(t){return Ro(t)?"indeterminate":t?"checked":"unchecked"}var k8=_8,vme=j8;const Ej=_.forwardRef(({className:t,...e},r)=>c.jsx(k8,{ref:r,className:le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(vme,{className:le("flex items-center justify-center text-current"),children:c.jsx(kA,{className:"h-4 w-4"})})}));Ej.displayName=k8.displayName;var yme=Array.isArray,Vn=yme,xme=typeof nn=="object"&&nn&&nn.Object===Object&&nn,A8=xme,bme=A8,wme=typeof self=="object"&&self&&self.Object===Object&&self,_me=bme||wme||Function("return this")(),Ki=_me,Sme=Ki,jme=Sme.Symbol,Ym=jme,aM=Ym,N8=Object.prototype,Cme=N8.hasOwnProperty,kme=N8.toString,Kh=aM?aM.toStringTag:void 0;function Ame(t){var e=Cme.call(t,Kh),r=t[Kh];try{t[Kh]=void 0;var n=!0}catch{}var a=kme.call(t);return n&&(e?t[Kh]=r:delete t[Kh]),a}var Nme=Ame,Pme=Object.prototype,Eme=Pme.toString;function Ome(t){return Eme.call(t)}var Tme=Ome,iM=Ym,Mme=Nme,Rme=Tme,Ime="[object Null]",Dme="[object Undefined]",sM=iM?iM.toStringTag:void 0;function Lme(t){return t==null?t===void 0?Dme:Ime:sM&&sM in Object(t)?Mme(t):Rme(t)}var Ls=Lme;function $me(t){return t!=null&&typeof t=="object"}var $s=$me,Fme=Ls,zme=$s,Bme="[object Symbol]";function Wme(t){return typeof t=="symbol"||zme(t)&&Fme(t)==Bme}var gh=Wme,Hme=Vn,Ume=gh,Yme=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xme=/^\w*$/;function Vme(t,e){if(Hme(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Ume(t)?!0:Xme.test(t)||!Yme.test(t)||e!=null&&t in Object(e)}var KN=Vme;function qme(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sl=qme;const vh=Ct(sl);var Gme=Ls,Kme=sl,Zme="[object AsyncFunction]",Qme="[object Function]",Jme="[object GeneratorFunction]",ege="[object Proxy]";function tge(t){if(!Kme(t))return!1;var e=Gme(t);return e==Qme||e==Jme||e==Zme||e==ege}var ZN=tge;const Ze=Ct(ZN);var rge=Ki,nge=rge["__core-js_shared__"],age=nge,b1=age,oM=function(){var t=/[^.]+$/.exec(b1&&b1.keys&&b1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ige(t){return!!oM&&oM in t}var sge=ige,oge=Function.prototype,lge=oge.toString;function cge(t){if(t!=null){try{return lge.call(t)}catch{}try{return t+""}catch{}}return""}var P8=cge,uge=ZN,dge=sge,hge=sl,fge=P8,pge=/[\\^$.*+?()[\]{}|]/g,mge=/^\[object .+?Constructor\]$/,gge=Function.prototype,vge=Object.prototype,yge=gge.toString,xge=vge.hasOwnProperty,bge=RegExp("^"+yge.call(xge).replace(pge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wge(t){if(!hge(t)||dge(t))return!1;var e=uge(t)?bge:mge;return e.test(fge(t))}var _ge=wge;function Sge(t,e){return t==null?void 0:t[e]}var jge=Sge,Cge=_ge,kge=jge;function Age(t,e){var r=kge(t,e);return Cge(r)?r:void 0}var Ec=Age,Nge=Ec,Pge=Nge(Object,"create"),Jb=Pge,lM=Jb;function Ege(){this.__data__=lM?lM(null):{},this.size=0}var Oge=Ege;function Tge(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Mge=Tge,Rge=Jb,Ige="__lodash_hash_undefined__",Dge=Object.prototype,Lge=Dge.hasOwnProperty;function $ge(t){var e=this.__data__;if(Rge){var r=e[t];return r===Ige?void 0:r}return Lge.call(e,t)?e[t]:void 0}var Fge=$ge,zge=Jb,Bge=Object.prototype,Wge=Bge.hasOwnProperty;function Hge(t){var e=this.__data__;return zge?e[t]!==void 0:Wge.call(e,t)}var Uge=Hge,Yge=Jb,Xge="__lodash_hash_undefined__";function Vge(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Yge&&e===void 0?Xge:e,this}var qge=Vge,Gge=Oge,Kge=Mge,Zge=Fge,Qge=Uge,Jge=qge;function yh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yh.prototype.clear=Gge;yh.prototype.delete=Kge;yh.prototype.get=Zge;yh.prototype.has=Qge;yh.prototype.set=Jge;var eve=yh;function tve(){this.__data__=[],this.size=0}var rve=tve;function nve(t,e){return t===e||t!==t&&e!==e}var QN=nve,ave=QN;function ive(t,e){for(var r=t.length;r--;)if(ave(t[r][0],e))return r;return-1}var e0=ive,sve=e0,ove=Array.prototype,lve=ove.splice;function cve(t){var e=this.__data__,r=sve(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():lve.call(e,r,1),--this.size,!0}var uve=cve,dve=e0;function hve(t){var e=this.__data__,r=dve(e,t);return r<0?void 0:e[r][1]}var fve=hve,pve=e0;function mve(t){return pve(this.__data__,t)>-1}var gve=mve,vve=e0;function yve(t,e){var r=this.__data__,n=vve(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var xve=yve,bve=rve,wve=uve,_ve=fve,Sve=gve,jve=xve;function xh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xh.prototype.clear=bve;xh.prototype.delete=wve;xh.prototype.get=_ve;xh.prototype.has=Sve;xh.prototype.set=jve;var t0=xh,Cve=Ec,kve=Ki,Ave=Cve(kve,"Map"),JN=Ave,cM=eve,Nve=t0,Pve=JN;function Eve(){this.size=0,this.__data__={hash:new cM,map:new(Pve||Nve),string:new cM}}var Ove=Eve;function Tve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Mve=Tve,Rve=Mve;function Ive(t,e){var r=t.__data__;return Rve(e)?r[typeof e=="string"?"string":"hash"]:r.map}var r0=Ive,Dve=r0;function Lve(t){var e=Dve(this,t).delete(t);return this.size-=e?1:0,e}var $ve=Lve,Fve=r0;function zve(t){return Fve(this,t).get(t)}var Bve=zve,Wve=r0;function Hve(t){return Wve(this,t).has(t)}var Uve=Hve,Yve=r0;function Xve(t,e){var r=Yve(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Vve=Xve,qve=Ove,Gve=$ve,Kve=Bve,Zve=Uve,Qve=Vve;function bh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bh.prototype.clear=qve;bh.prototype.delete=Gve;bh.prototype.get=Kve;bh.prototype.has=Zve;bh.prototype.set=Qve;var eP=bh,E8=eP,Jve="Expected a function";function tP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Jve);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=t.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(tP.Cache||E8),r}tP.Cache=E8;var O8=tP;const eye=Ct(O8);var tye=O8,rye=500;function nye(t){var e=tye(t,function(n){return r.size===rye&&r.clear(),n}),r=e.cache;return e}var aye=nye,iye=aye,sye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oye=/\\(\\)?/g,lye=iye(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sye,function(r,n,a,i){e.push(a?i.replace(oye,"$1"):n||r)}),e}),cye=lye;function uye(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var rP=uye,uM=Ym,dye=rP,hye=Vn,fye=gh,pye=1/0,dM=uM?uM.prototype:void 0,hM=dM?dM.toString:void 0;function T8(t){if(typeof t=="string")return t;if(hye(t))return dye(t,T8)+"";if(fye(t))return hM?hM.call(t):"";var e=t+"";return e=="0"&&1/t==-pye?"-0":e}var mye=T8,gye=mye;function vye(t){return t==null?"":gye(t)}var M8=vye,yye=Vn,xye=KN,bye=cye,wye=M8;function _ye(t,e){return yye(t)?t:xye(t,e)?[t]:bye(wye(t))}var R8=_ye,Sye=gh,jye=1/0;function Cye(t){if(typeof t=="string"||Sye(t))return t;var e=t+"";return e=="0"&&1/t==-jye?"-0":e}var n0=Cye,kye=R8,Aye=n0;function Nye(t,e){e=kye(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Aye(e[r++])];return r&&r==n?t:void 0}var nP=Nye,Pye=nP;function Eye(t,e,r){var n=t==null?void 0:Pye(t,e);return n===void 0?r:n}var I8=Eye;const Oa=Ct(I8);function Oye(t){return t==null}var Tye=Oye;const Ye=Ct(Tye);var Mye=Ls,Rye=Vn,Iye=$s,Dye="[object String]";function Lye(t){return typeof t=="string"||!Rye(t)&&Iye(t)&&Mye(t)==Dye}var $ye=Lye;const Xm=Ct($ye);var D8={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP=Symbol.for("react.element"),iP=Symbol.for("react.portal"),a0=Symbol.for("react.fragment"),i0=Symbol.for("react.strict_mode"),s0=Symbol.for("react.profiler"),o0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),Fye=Symbol.for("react.server_context"),c0=Symbol.for("react.forward_ref"),u0=Symbol.for("react.suspense"),d0=Symbol.for("react.suspense_list"),h0=Symbol.for("react.memo"),f0=Symbol.for("react.lazy"),zye=Symbol.for("react.offscreen"),L8;L8=Symbol.for("react.module.reference");function Da(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case aP:switch(t=t.type,t){case a0:case s0:case i0:case u0:case d0:return t;default:switch(t=t&&t.$$typeof,t){case Fye:case l0:case c0:case f0:case h0:case o0:return t;default:return e}}case iP:return e}}}kt.ContextConsumer=l0;kt.ContextProvider=o0;kt.Element=aP;kt.ForwardRef=c0;kt.Fragment=a0;kt.Lazy=f0;kt.Memo=h0;kt.Portal=iP;kt.Profiler=s0;kt.StrictMode=i0;kt.Suspense=u0;kt.SuspenseList=d0;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(t){return Da(t)===l0};kt.isContextProvider=function(t){return Da(t)===o0};kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===aP};kt.isForwardRef=function(t){return Da(t)===c0};kt.isFragment=function(t){return Da(t)===a0};kt.isLazy=function(t){return Da(t)===f0};kt.isMemo=function(t){return Da(t)===h0};kt.isPortal=function(t){return Da(t)===iP};kt.isProfiler=function(t){return Da(t)===s0};kt.isStrictMode=function(t){return Da(t)===i0};kt.isSuspense=function(t){return Da(t)===u0};kt.isSuspenseList=function(t){return Da(t)===d0};kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===a0||t===s0||t===i0||t===u0||t===d0||t===zye||typeof t=="object"&&t!==null&&(t.$$typeof===f0||t.$$typeof===h0||t.$$typeof===o0||t.$$typeof===l0||t.$$typeof===c0||t.$$typeof===L8||t.getModuleId!==void 0)};kt.typeOf=Da;D8.exports=kt;var $8=D8.exports,Bye=Ls,Wye=$s,Hye="[object Number]";function Uye(t){return typeof t=="number"||Wye(t)&&Bye(t)==Hye}var F8=Uye;const Yye=Ct(F8);var Xye=F8;function Vye(t){return Xye(t)&&t!=+t}var qye=Vye;const wh=Ct(qye);var si=function(e){return e===0?0:e>0?1:-1},Tl=function(e){return Xm(e)&&e.indexOf("%")===e.length-1},be=function(e){return Yye(e)&&!wh(e)},_r=function(e){return be(e)||Xm(e)},Gye=0,Oc=function(e){var r=++Gye;return"".concat(e||"").concat(r)},pc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&!Xm(e))return n;var i;if(Tl(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return wh(i)&&(i=n),a&&i>r&&(i=r),i},oo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Kye=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},lr=function(e,r){return be(e)&&be(r)?function(n){return e+n*(r-e)}:function(){return r}};function Ay(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Oa(n,e))===r})}var Zye=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,a=0,i=0,s=0,o=1/0,l=-1/0,u=0,d=0,h=0;h<r;h++)u=e[h].cx||0,d=e[h].cy||0,n+=u,a+=d,i+=u*d,s+=u*u,o=Math.min(o,u),l=Math.max(l,u);var f=r*s!==n*n?(r*i-n*a)/(r*s-n*n):0;return{xmin:o,xmax:l,a:f,b:(a-f*n)/r}};function Ru(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Oj(t){"@babel/helpers - typeof";return Oj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oj(t)}var Qye=["viewBox","children"],Jye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fM=["points","pathLength"],w1={svg:Qye,polygon:fM,polyline:fM},sP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ny=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),!vh(n))return null;var a={};return Object.keys(n).forEach(function(i){sP.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},exe=function(e,r,n){return function(a){return e(r,n,a),null}},Cp=function(e,r,n){if(!vh(e)||Oj(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];sP.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=exe(s,r,n))}),a},txe=["children"],rxe=["children"];function pM(t,e){if(t==null)return{};var r=nxe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tj(t){"@babel/helpers - typeof";return Tj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tj(t)}var mM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ys=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},gM=null,_1=null,oP=function t(e){if(e===gM&&Array.isArray(_1))return _1;var r=[];return _.Children.forEach(e,function(n){Ye(n)||($8.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),_1=r,gM=e,r};function Yn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return ys(a)}):n=[ys(e)],oP(t).forEach(function(a){var i=Oa(a,"type.displayName")||Oa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Jn(t,e){var r=Yn(t,e);return r&&r[0]}var vM=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!be(n)||n<=0||!be(a)||a<=0)},axe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ixe=function(e){return e&&e.type&&Xm(e.type)&&axe.indexOf(e.type)>=0},z8=function(e){return e&&Tj(e)==="object"&&"clipDot"in e},sxe=function(e,r,n,a){var i,s=(i=w1==null?void 0:w1[a])!==null&&i!==void 0?i:[];return!Ze(e)&&(a&&s.includes(r)||Jye.includes(r))||n&&sP.includes(r)},Ue=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(_.isValidElement(e)&&(a=e.props),!vh(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;sxe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},Mj=function t(e,r){if(e===r)return!0;var n=_.Children.count(e);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return yM(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!yM(i,s))return!1}return!0},yM=function(e,r){if(Ye(e)&&Ye(r))return!0;if(!Ye(e)&&!Ye(r)){var n=e.props||{},a=n.children,i=pM(n,txe),s=r.props||{},o=s.children,l=pM(s,rxe);return a&&o?Ru(i,l)&&Mj(a,o):!a&&!o?Ru(i,l):!1}return!1},xM=function(e,r){var n=[],a={};return oP(e).forEach(function(i,s){if(ixe(i))n.push(i);else if(i){var o=ys(i.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!a[o])){var h=u(i,o,s);n.push(h),a[o]=!0}}}),n},oxe=function(e){var r=e&&e.type;return r&&mM[r]?mM[r]:null},lxe=function(e,r){return oP(r).indexOf(e)},cxe=["children","width","height","viewBox","className","style","title","desc"];function Rj(){return Rj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rj.apply(this,arguments)}function uxe(t,e){if(t==null)return{};var r=dxe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ij(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,o=t.title,l=t.desc,u=uxe(t,cxe),d=a||{width:r,height:n,x:0,y:0},h=st("recharts-surface",i);return $.createElement("svg",Rj({},Ue(u,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,o),$.createElement("desc",null,l),e)}var hxe=["children","className"];function Dj(){return Dj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dj.apply(this,arguments)}function fxe(t,e){if(t==null)return{};var r=pxe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vt=$.forwardRef(function(t,e){var r=t.children,n=t.className,a=fxe(t,hxe),i=st("recharts-layer",n);return $.createElement("g",Dj({className:i},Ue(a,!0),{ref:e}),r)}),xs=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function mxe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var gxe=mxe,vxe=gxe;function yxe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:vxe(t,e,r)}var xxe=yxe,bxe="\\ud800-\\udfff",wxe="\\u0300-\\u036f",_xe="\\ufe20-\\ufe2f",Sxe="\\u20d0-\\u20ff",jxe=wxe+_xe+Sxe,Cxe="\\ufe0e\\ufe0f",kxe="\\u200d",Axe=RegExp("["+kxe+bxe+jxe+Cxe+"]");function Nxe(t){return Axe.test(t)}var B8=Nxe;function Pxe(t){return t.split("")}var Exe=Pxe,W8="\\ud800-\\udfff",Oxe="\\u0300-\\u036f",Txe="\\ufe20-\\ufe2f",Mxe="\\u20d0-\\u20ff",Rxe=Oxe+Txe+Mxe,Ixe="\\ufe0e\\ufe0f",Dxe="["+W8+"]",Lj="["+Rxe+"]",$j="\\ud83c[\\udffb-\\udfff]",Lxe="(?:"+Lj+"|"+$j+")",H8="[^"+W8+"]",U8="(?:\\ud83c[\\udde6-\\uddff]){2}",Y8="[\\ud800-\\udbff][\\udc00-\\udfff]",$xe="\\u200d",X8=Lxe+"?",V8="["+Ixe+"]?",Fxe="(?:"+$xe+"(?:"+[H8,U8,Y8].join("|")+")"+V8+X8+")*",zxe=V8+X8+Fxe,Bxe="(?:"+[H8+Lj+"?",Lj,U8,Y8,Dxe].join("|")+")",Wxe=RegExp($j+"(?="+$j+")|"+Bxe+zxe,"g");function Hxe(t){return t.match(Wxe)||[]}var Uxe=Hxe,Yxe=Exe,Xxe=B8,Vxe=Uxe;function qxe(t){return Xxe(t)?Vxe(t):Yxe(t)}var Gxe=qxe,Kxe=xxe,Zxe=B8,Qxe=Gxe,Jxe=M8;function ebe(t){return function(e){e=Jxe(e);var r=Zxe(e)?Qxe(e):void 0,n=r?r[0]:e.charAt(0),a=r?Kxe(r,1).join(""):e.slice(1);return n[t]()+a}}var tbe=ebe,rbe=tbe,nbe=rbe("toUpperCase"),abe=nbe;const p0=Ct(abe);function $t(t){return function(){return t}}const q8=Math.cos,Py=Math.sin,bi=Math.sqrt,Ey=Math.PI,m0=2*Ey,Fj=Math.PI,zj=2*Fj,xl=1e-6,ibe=zj-xl;function G8(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function sbe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return G8;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class obe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?G8:sbe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-e,u=a-r,d=s-e,h=o-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>xl)if(!(Math.abs(h*l-u*d)>xl)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+u*u,v=p*p+g*g,x=Math.sqrt(m),y=Math.sqrt(f),b=i*Math.tan((Fj-Math.acos((m+f-v)/(2*x*y)))/2),w=b/y,S=b/x;Math.abs(w-1)>xl&&this._append`L${e+w*d},${r+w*h}`,this._append`A${i},${i},0,0,${+(h*p>d*g)},${this._x1=e+S*l},${this._y1=r+S*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),u=e+o,d=r+l,h=1^s,f=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>xl||Math.abs(this._y1-d)>xl)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%zj+zj),f>ibe?this._append`A${n},${n},0,1,${h},${e-o},${r-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>xl&&this._append`A${n},${n},0,${+(f>=Fj)},${h},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lP(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new obe(e)}function cP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K8(t){this._context=t}K8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function g0(t){return new K8(t)}function Z8(t){return t[0]}function Q8(t){return t[1]}function J8(t,e){var r=$t(!0),n=null,a=g0,i=null,s=lP(o);t=typeof t=="function"?t:t===void 0?Z8:$t(t),e=typeof e=="function"?e:e===void 0?Q8:$t(e);function o(l){var u,d=(l=cP(l)).length,h,f=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(h=l[u],u,l))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(h,u,l),+e(h,u,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:$t(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:$t(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:$t(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function zg(t,e,r){var n=null,a=$t(!0),i=null,s=g0,o=null,l=lP(u);t=typeof t=="function"?t:t===void 0?Z8:$t(+t),e=typeof e=="function"?e:$t(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Q8:$t(+r);function u(h){var f,p,g,m=(h=cP(h)).length,v,x=!1,y,b=new Array(m),w=new Array(m);for(i==null&&(o=s(y=l())),f=0;f<=m;++f){if(!(f<m&&a(v=h[f],f,h))===x)if(x=!x)p=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=f-1;g>=p;--g)o.point(b[g],w[g]);o.lineEnd(),o.areaEnd()}x&&(b[f]=+t(v,f,h),w[f]=+e(v,f,h),o.point(n?+n(v,f,h):b[f],r?+r(v,f,h):w[f]))}if(y)return o=null,y+""||null}function d(){return J8().defined(a).curve(s).context(i)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:$t(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:$t(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:$t(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:$t(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:$t(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:$t(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:$t(!!h),u):a},u.curve=function(h){return arguments.length?(s=h,i!=null&&(o=s(i)),u):s},u.context=function(h){return arguments.length?(h==null?i=o=null:o=s(i=h),u):i},u}class eU{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function lbe(t){return new eU(t,!0)}function cbe(t){return new eU(t,!1)}const uP={draw(t,e){const r=bi(e/Ey);t.moveTo(r,0),t.arc(0,0,r,0,m0)}},ube={draw(t,e){const r=bi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},tU=bi(1/3),dbe=tU*2,hbe={draw(t,e){const r=bi(e/dbe),n=r*tU;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},fbe={draw(t,e){const r=bi(e),n=-r/2;t.rect(n,n,r,r)}},pbe=.8908130915292852,rU=Py(Ey/10)/Py(7*Ey/10),mbe=Py(m0/10)*rU,gbe=-q8(m0/10)*rU,vbe={draw(t,e){const r=bi(e*pbe),n=mbe*r,a=gbe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=m0*i/5,o=q8(s),l=Py(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*a,l*n+o*a)}t.closePath()}},S1=bi(3),ybe={draw(t,e){const r=-bi(e/(S1*3));t.moveTo(0,r*2),t.lineTo(-S1*r,-r),t.lineTo(S1*r,-r),t.closePath()}},fa=-.5,pa=bi(3)/2,Bj=1/bi(12),xbe=(Bj/2+1)*3,bbe={draw(t,e){const r=bi(e/xbe),n=r/2,a=r*Bj,i=n,s=r*Bj+r,o=-i,l=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(o,l),t.lineTo(fa*n-pa*a,pa*n+fa*a),t.lineTo(fa*i-pa*s,pa*i+fa*s),t.lineTo(fa*o-pa*l,pa*o+fa*l),t.lineTo(fa*n+pa*a,fa*a-pa*n),t.lineTo(fa*i+pa*s,fa*s-pa*i),t.lineTo(fa*o+pa*l,fa*l-pa*o),t.closePath()}};function wbe(t,e){let r=null,n=lP(a);t=typeof t=="function"?t:$t(t||uP),e=typeof e=="function"?e:$t(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:$t(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:$t(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Oy(){}function Ty(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function nU(t){this._context=t}nU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ty(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ty(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _be(t){return new nU(t)}function aU(t){this._context=t}aU.prototype={areaStart:Oy,areaEnd:Oy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ty(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sbe(t){return new aU(t)}function iU(t){this._context=t}iU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ty(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jbe(t){return new iU(t)}function sU(t){this._context=t}sU.prototype={areaStart:Oy,areaEnd:Oy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Cbe(t){return new sU(t)}function bM(t){return t<0?-1:1}function wM(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(bM(i)+bM(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function _M(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function j1(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,o=(i-n)/3;t._context.bezierCurveTo(n+o,a+o*e,i-o,s-o*r,i,s)}function My(t){this._context=t}My.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:j1(this,this._t0,_M(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,j1(this,_M(this,r=wM(this,t,e)),r);break;default:j1(this,this._t0,r=wM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function oU(t){this._context=new lU(t)}(oU.prototype=Object.create(My.prototype)).point=function(t,e){My.prototype.point.call(this,e,t)};function lU(t){this._context=t}lU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function kbe(t){return new My(t)}function Abe(t){return new oU(t)}function cU(t){this._context=t}cU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=SM(t),a=SM(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SM(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function Nbe(t){return new cU(t)}function v0(t,e){this._context=t,this._t=e}v0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Pbe(t){return new v0(t,.5)}function Ebe(t){return new v0(t,0)}function Obe(t){return new v0(t,1)}function gd(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,o=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Wj(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Tbe(t,e){return t[e]}function Mbe(t){const e=[];return e.key=t,e}function Rbe(){var t=$t([]),e=Wj,r=gd,n=Tbe;function a(i){var s=Array.from(t.apply(this,arguments),Mbe),o,l=s.length,u=-1,d;for(const h of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(h,s[o].key,u,i)]).data=h;for(o=0,d=cP(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:$t(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:$t(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?Wj:typeof i=="function"?i:$t(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??gd,a):r},a}function Ibe(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}gd(t,e)}}function Dbe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}gd(t,e)}}function Lbe(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,g=0;g<o;++g){var m=t[e[g]],v=m[n][1]||0,x=m[n-1][1]||0;p+=v-x}l+=h,u+=p*h}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,gd(t,e)}}function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}var $be=["type","size","sizeType"];function Hj(){return Hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hj.apply(this,arguments)}function jM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(r),!0).forEach(function(n){Fbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fbe(t,e,r){return e=zbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zbe(t){var e=Bbe(t,"string");return kp(e)=="symbol"?e:e+""}function Bbe(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wbe(t,e){if(t==null)return{};var r=Hbe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uU={symbolCircle:uP,symbolCross:ube,symbolDiamond:hbe,symbolSquare:fbe,symbolStar:vbe,symbolTriangle:ybe,symbolWye:bbe},Ube=Math.PI/180,Ybe=function(e){var r="symbol".concat(p0(e));return uU[r]||uP},Xbe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Ube;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Vbe=function(e,r){uU["symbol".concat(p0(e))]=r},y0=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,o=s===void 0?"area":s,l=Wbe(e,$be),u=CM(CM({},l),{},{type:n,size:i,sizeType:o}),d=function(){var v=Ybe(n),x=wbe().type(v).size(Xbe(i,o,n));return x()},h=u.className,f=u.cx,p=u.cy,g=Ue(u,!0);return f===+f&&p===+p&&i===+i?$.createElement("path",Hj({},g,{className:st("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};y0.registerSymbol=Vbe;function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Uj(){return Uj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uj.apply(this,arguments)}function kM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qbe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(r),!0).forEach(function(n){Ap(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hU(n.key),n)}}function Zbe(t,e,r){return e&&Kbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qbe(t,e,r){return e=Ry(e),Jbe(t,dU()?Reflect.construct(e,r||[],Ry(t).constructor):e.apply(t,r))}function Jbe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e0e(t)}function e0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dU=function(){return!!t})()}function Ry(t){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(t)}function t0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yj(t,e)}function Yj(t,e){return Yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yj(t,e)}function Ap(t,e,r){return e=hU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hU(t){var e=r0e(t,"string");return vd(e)=="symbol"?e:e+""}function r0e(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ma=32,dP=function(t){function e(){return Gbe(this,e),Qbe(this,e,arguments)}return t0e(e,t),Zbe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ma/2,s=ma/6,o=ma/3,l=n.inactive?a:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ma,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ma,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ma/8,"h").concat(ma,"v").concat(ma*3/4,"h").concat(-ma,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var u=qbe({},n);return delete u.legendIcon,$.cloneElement(n.legendIcon,u)}return $.createElement(y0,{fill:l,cx:i,cy:i,size:ma,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ma,height:ma},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,v=st(Ap(Ap({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Ze(p.value)?null:p.value;xs(!Ze(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return $.createElement("li",Uj({className:v,style:h,key:"legend-item-".concat(g)},Cp(n.props,p,g)),$.createElement(Ij,{width:s,height:s,viewBox:d,style:f},n.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(x,p,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(_.PureComponent);Ap(dP,"displayName","Legend");Ap(dP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var n0e=t0;function a0e(){this.__data__=new n0e,this.size=0}var i0e=a0e;function s0e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var o0e=s0e;function l0e(t){return this.__data__.get(t)}var c0e=l0e;function u0e(t){return this.__data__.has(t)}var d0e=u0e,h0e=t0,f0e=JN,p0e=eP,m0e=200;function g0e(t,e){var r=this.__data__;if(r instanceof h0e){var n=r.__data__;if(!f0e||n.length<m0e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new p0e(n)}return r.set(t,e),this.size=r.size,this}var v0e=g0e,y0e=t0,x0e=i0e,b0e=o0e,w0e=c0e,_0e=d0e,S0e=v0e;function _h(t){var e=this.__data__=new y0e(t);this.size=e.size}_h.prototype.clear=x0e;_h.prototype.delete=b0e;_h.prototype.get=w0e;_h.prototype.has=_0e;_h.prototype.set=S0e;var fU=_h,j0e="__lodash_hash_undefined__";function C0e(t){return this.__data__.set(t,j0e),this}var k0e=C0e;function A0e(t){return this.__data__.has(t)}var N0e=A0e,P0e=eP,E0e=k0e,O0e=N0e;function Iy(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new P0e;++e<r;)this.add(t[e])}Iy.prototype.add=Iy.prototype.push=E0e;Iy.prototype.has=O0e;var pU=Iy;function T0e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var mU=T0e;function M0e(t,e){return t.has(e)}var gU=M0e,R0e=pU,I0e=mU,D0e=gU,L0e=1,$0e=2;function F0e(t,e,r,n,a,i){var s=r&L0e,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=r&$0e?new R0e:void 0;for(i.set(t,e),i.set(e,t);++h<o;){var g=t[h],m=e[h];if(n)var v=s?n(m,g,h,e,t,i):n(g,m,h,t,e,i);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!I0e(e,function(x,y){if(!D0e(p,y)&&(g===x||a(g,x,r,n,i)))return p.push(y)})){f=!1;break}}else if(!(g===m||a(g,m,r,n,i))){f=!1;break}}return i.delete(t),i.delete(e),f}var vU=F0e,z0e=Ki,B0e=z0e.Uint8Array,W0e=B0e;function H0e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var U0e=H0e;function Y0e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var hP=Y0e,AM=Ym,NM=W0e,X0e=QN,V0e=vU,q0e=U0e,G0e=hP,K0e=1,Z0e=2,Q0e="[object Boolean]",J0e="[object Date]",ewe="[object Error]",twe="[object Map]",rwe="[object Number]",nwe="[object RegExp]",awe="[object Set]",iwe="[object String]",swe="[object Symbol]",owe="[object ArrayBuffer]",lwe="[object DataView]",PM=AM?AM.prototype:void 0,C1=PM?PM.valueOf:void 0;function cwe(t,e,r,n,a,i,s){switch(r){case lwe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case owe:return!(t.byteLength!=e.byteLength||!i(new NM(t),new NM(e)));case Q0e:case J0e:case rwe:return X0e(+t,+e);case ewe:return t.name==e.name&&t.message==e.message;case nwe:case iwe:return t==e+"";case twe:var o=q0e;case awe:var l=n&K0e;if(o||(o=G0e),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=Z0e,s.set(t,e);var d=V0e(o(t),o(e),n,a,i,s);return s.delete(t),d;case swe:if(C1)return C1.call(t)==C1.call(e)}return!1}var uwe=cwe;function dwe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var yU=dwe,hwe=yU,fwe=Vn;function pwe(t,e,r){var n=e(t);return fwe(t)?n:hwe(n,r(t))}var mwe=pwe;function gwe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[a++]=s)}return i}var vwe=gwe;function ywe(){return[]}var xwe=ywe,bwe=vwe,wwe=xwe,_we=Object.prototype,Swe=_we.propertyIsEnumerable,EM=Object.getOwnPropertySymbols,jwe=EM?function(t){return t==null?[]:(t=Object(t),bwe(EM(t),function(e){return Swe.call(t,e)}))}:wwe,Cwe=jwe;function kwe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Awe=kwe,Nwe=Ls,Pwe=$s,Ewe="[object Arguments]";function Owe(t){return Pwe(t)&&Nwe(t)==Ewe}var Twe=Owe,OM=Twe,Mwe=$s,xU=Object.prototype,Rwe=xU.hasOwnProperty,Iwe=xU.propertyIsEnumerable,Dwe=OM(function(){return arguments}())?OM:function(t){return Mwe(t)&&Rwe.call(t,"callee")&&!Iwe.call(t,"callee")},fP=Dwe,Dy={exports:{}};function Lwe(){return!1}var $we=Lwe;Dy.exports;(function(t,e){var r=Ki,n=$we,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(Dy,Dy.exports);var bU=Dy.exports,Fwe=9007199254740991,zwe=/^(?:0|[1-9]\d*)$/;function Bwe(t,e){var r=typeof t;return e=e??Fwe,!!e&&(r=="number"||r!="symbol"&&zwe.test(t))&&t>-1&&t%1==0&&t<e}var pP=Bwe,Wwe=9007199254740991;function Hwe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Wwe}var mP=Hwe,Uwe=Ls,Ywe=mP,Xwe=$s,Vwe="[object Arguments]",qwe="[object Array]",Gwe="[object Boolean]",Kwe="[object Date]",Zwe="[object Error]",Qwe="[object Function]",Jwe="[object Map]",e1e="[object Number]",t1e="[object Object]",r1e="[object RegExp]",n1e="[object Set]",a1e="[object String]",i1e="[object WeakMap]",s1e="[object ArrayBuffer]",o1e="[object DataView]",l1e="[object Float32Array]",c1e="[object Float64Array]",u1e="[object Int8Array]",d1e="[object Int16Array]",h1e="[object Int32Array]",f1e="[object Uint8Array]",p1e="[object Uint8ClampedArray]",m1e="[object Uint16Array]",g1e="[object Uint32Array]",Yt={};Yt[l1e]=Yt[c1e]=Yt[u1e]=Yt[d1e]=Yt[h1e]=Yt[f1e]=Yt[p1e]=Yt[m1e]=Yt[g1e]=!0;Yt[Vwe]=Yt[qwe]=Yt[s1e]=Yt[Gwe]=Yt[o1e]=Yt[Kwe]=Yt[Zwe]=Yt[Qwe]=Yt[Jwe]=Yt[e1e]=Yt[t1e]=Yt[r1e]=Yt[n1e]=Yt[a1e]=Yt[i1e]=!1;function v1e(t){return Xwe(t)&&Ywe(t.length)&&!!Yt[Uwe(t)]}var y1e=v1e;function x1e(t){return function(e){return t(e)}}var wU=x1e,Ly={exports:{}};Ly.exports;(function(t,e){var r=A8,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Ly,Ly.exports);var b1e=Ly.exports,w1e=y1e,_1e=wU,TM=b1e,MM=TM&&TM.isTypedArray,S1e=MM?_1e(MM):w1e,_U=S1e,j1e=Awe,C1e=fP,k1e=Vn,A1e=bU,N1e=pP,P1e=_U,E1e=Object.prototype,O1e=E1e.hasOwnProperty;function T1e(t,e){var r=k1e(t),n=!r&&C1e(t),a=!r&&!n&&A1e(t),i=!r&&!n&&!a&&P1e(t),s=r||n||a||i,o=s?j1e(t.length,String):[],l=o.length;for(var u in t)(e||O1e.call(t,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||N1e(u,l)))&&o.push(u);return o}var M1e=T1e,R1e=Object.prototype;function I1e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||R1e;return t===r}var D1e=I1e;function L1e(t,e){return function(r){return t(e(r))}}var SU=L1e,$1e=SU,F1e=$1e(Object.keys,Object),z1e=F1e,B1e=D1e,W1e=z1e,H1e=Object.prototype,U1e=H1e.hasOwnProperty;function Y1e(t){if(!B1e(t))return W1e(t);var e=[];for(var r in Object(t))U1e.call(t,r)&&r!="constructor"&&e.push(r);return e}var X1e=Y1e,V1e=ZN,q1e=mP;function G1e(t){return t!=null&&q1e(t.length)&&!V1e(t)}var Vm=G1e,K1e=M1e,Z1e=X1e,Q1e=Vm;function J1e(t){return Q1e(t)?K1e(t):Z1e(t)}var x0=J1e,e_e=mwe,t_e=Cwe,r_e=x0;function n_e(t){return e_e(t,r_e,t_e)}var a_e=n_e,RM=a_e,i_e=1,s_e=Object.prototype,o_e=s_e.hasOwnProperty;function l_e(t,e,r,n,a,i){var s=r&i_e,o=RM(t),l=o.length,u=RM(e),d=u.length;if(l!=d&&!s)return!1;for(var h=l;h--;){var f=o[h];if(!(s?f in e:o_e.call(e,f)))return!1}var p=i.get(t),g=i.get(e);if(p&&g)return p==e&&g==t;var m=!0;i.set(t,e),i.set(e,t);for(var v=s;++h<l;){f=o[h];var x=t[f],y=e[f];if(n)var b=s?n(y,x,f,e,t,i):n(x,y,f,t,e,i);if(!(b===void 0?x===y||a(x,y,r,n,i):b)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(m=!1)}return i.delete(t),i.delete(e),m}var c_e=l_e,u_e=Ec,d_e=Ki,h_e=u_e(d_e,"DataView"),f_e=h_e,p_e=Ec,m_e=Ki,g_e=p_e(m_e,"Promise"),v_e=g_e,y_e=Ec,x_e=Ki,b_e=y_e(x_e,"Set"),jU=b_e,w_e=Ec,__e=Ki,S_e=w_e(__e,"WeakMap"),j_e=S_e,Xj=f_e,Vj=JN,qj=v_e,Gj=jU,Kj=j_e,CU=Ls,Sh=P8,IM="[object Map]",C_e="[object Object]",DM="[object Promise]",LM="[object Set]",$M="[object WeakMap]",FM="[object DataView]",k_e=Sh(Xj),A_e=Sh(Vj),N_e=Sh(qj),P_e=Sh(Gj),E_e=Sh(Kj),bl=CU;(Xj&&bl(new Xj(new ArrayBuffer(1)))!=FM||Vj&&bl(new Vj)!=IM||qj&&bl(qj.resolve())!=DM||Gj&&bl(new Gj)!=LM||Kj&&bl(new Kj)!=$M)&&(bl=function(t){var e=CU(t),r=e==C_e?t.constructor:void 0,n=r?Sh(r):"";if(n)switch(n){case k_e:return FM;case A_e:return IM;case N_e:return DM;case P_e:return LM;case E_e:return $M}return e});var O_e=bl,k1=fU,T_e=vU,M_e=uwe,R_e=c_e,zM=O_e,BM=Vn,WM=bU,I_e=_U,D_e=1,HM="[object Arguments]",UM="[object Array]",Bg="[object Object]",L_e=Object.prototype,YM=L_e.hasOwnProperty;function $_e(t,e,r,n,a,i){var s=BM(t),o=BM(e),l=s?UM:zM(t),u=o?UM:zM(e);l=l==HM?Bg:l,u=u==HM?Bg:u;var d=l==Bg,h=u==Bg,f=l==u;if(f&&WM(t)){if(!WM(e))return!1;s=!0,d=!1}if(f&&!d)return i||(i=new k1),s||I_e(t)?T_e(t,e,r,n,a,i):M_e(t,e,l,r,n,a,i);if(!(r&D_e)){var p=d&&YM.call(t,"__wrapped__"),g=h&&YM.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,v=g?e.value():e;return i||(i=new k1),a(m,v,r,n,i)}}return f?(i||(i=new k1),R_e(t,e,r,n,a,i)):!1}var F_e=$_e,z_e=F_e,XM=$s;function kU(t,e,r,n,a){return t===e?!0:t==null||e==null||!XM(t)&&!XM(e)?t!==t&&e!==e:z_e(t,e,r,n,kU,a)}var gP=kU,B_e=fU,W_e=gP,H_e=1,U_e=2;function Y_e(t,e,r,n){var a=r.length,i=a,s=!n;if(t==null)return!i;for(t=Object(t);a--;){var o=r[a];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++a<i;){o=r[a];var l=o[0],u=t[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var h=new B_e;if(n)var f=n(u,d,l,t,e,h);if(!(f===void 0?W_e(d,u,H_e|U_e,n,h):f))return!1}}return!0}var X_e=Y_e,V_e=sl;function q_e(t){return t===t&&!V_e(t)}var AU=q_e,G_e=AU,K_e=x0;function Z_e(t){for(var e=K_e(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,G_e(a)]}return e}var Q_e=Z_e;function J_e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var NU=J_e,eSe=X_e,tSe=Q_e,rSe=NU;function nSe(t){var e=tSe(t);return e.length==1&&e[0][2]?rSe(e[0][0],e[0][1]):function(r){return r===t||eSe(r,t,e)}}var aSe=nSe;function iSe(t,e){return t!=null&&e in Object(t)}var sSe=iSe,oSe=R8,lSe=fP,cSe=Vn,uSe=pP,dSe=mP,hSe=n0;function fSe(t,e,r){e=oSe(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var s=hSe(e[n]);if(!(i=t!=null&&r(t,s)))break;t=t[s]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&dSe(a)&&uSe(s,a)&&(cSe(t)||lSe(t)))}var pSe=fSe,mSe=sSe,gSe=pSe;function vSe(t,e){return t!=null&&gSe(t,e,mSe)}var ySe=vSe,xSe=gP,bSe=I8,wSe=ySe,_Se=KN,SSe=AU,jSe=NU,CSe=n0,kSe=1,ASe=2;function NSe(t,e){return _Se(t)&&SSe(e)?jSe(CSe(t),e):function(r){var n=bSe(r,t);return n===void 0&&n===e?wSe(r,t):xSe(e,n,kSe|ASe)}}var PSe=NSe;function ESe(t){return t}var jh=ESe;function OSe(t){return function(e){return e==null?void 0:e[t]}}var TSe=OSe,MSe=nP;function RSe(t){return function(e){return MSe(e,t)}}var ISe=RSe,DSe=TSe,LSe=ISe,$Se=KN,FSe=n0;function zSe(t){return $Se(t)?DSe(FSe(t)):LSe(t)}var BSe=zSe,WSe=aSe,HSe=PSe,USe=jh,YSe=Vn,XSe=BSe;function VSe(t){return typeof t=="function"?t:t==null?USe:typeof t=="object"?YSe(t)?HSe(t[0],t[1]):WSe(t):XSe(t)}var ol=VSe;function qSe(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var PU=qSe;function GSe(t){return t!==t}var KSe=GSe;function ZSe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var QSe=ZSe,JSe=PU,eje=KSe,tje=QSe;function rje(t,e,r){return e===e?tje(t,e,r):JSe(t,eje,r)}var nje=rje,aje=nje;function ije(t,e){var r=t==null?0:t.length;return!!r&&aje(t,e,0)>-1}var sje=ije;function oje(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var lje=oje;function cje(){}var uje=cje,A1=jU,dje=uje,hje=hP,fje=1/0,pje=A1&&1/hje(new A1([,-0]))[1]==fje?function(t){return new A1(t)}:dje,mje=pje,gje=pU,vje=sje,yje=lje,xje=gU,bje=mje,wje=hP,_je=200;function Sje(t,e,r){var n=-1,a=vje,i=t.length,s=!0,o=[],l=o;if(r)s=!1,a=yje;else if(i>=_je){var u=e?null:bje(t);if(u)return wje(u);s=!1,a=xje,l=new gje}else l=e?[]:o;e:for(;++n<i;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,s&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),o.push(d)}else a(l,h,r)||(l!==o&&l.push(h),o.push(d))}return o}var jje=Sje,Cje=ol,kje=jje;function Aje(t,e){return t&&t.length?kje(t,Cje(e)):[]}var Nje=Aje;const VM=Ct(Nje);function EU(t,e,r){return e===!0?VM(t,r):Ze(e)?VM(t,e):t}function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}var Pje=["ref"];function qM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(r),!0).forEach(function(n){b0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TU(n.key),n)}}function Oje(t,e,r){return e&&GM(t.prototype,e),r&&GM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tje(t,e,r){return e=$y(e),Mje(t,OU()?Reflect.construct(e,r||[],$y(t).constructor):e.apply(t,r))}function Mje(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rje(t)}function Rje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!t})()}function $y(t){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(t)}function Ije(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zj(t,e)}function Zj(t,e){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zj(t,e)}function b0(t,e,r){return e=TU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TU(t){var e=Dje(t,"string");return yd(e)=="symbol"?e:e+""}function Dje(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lje(t,e){if(t==null)return{};var r=$je(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $je(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fje(t){return t.value}function zje(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var r=Lje(e,Pje);return $.createElement(dP,r)}var KM=1,bs=function(t){function e(){var r;Eje(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Tje(this,e,[].concat(a)),b0(r,"lastBoundingBox",{width:-1,height:-1}),r}return Ije(e,t),Oje(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>KM||Math.abs(a.height-this.lastBoundingBox.height)>KM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?es({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();f={top:((d||0)-g.height)/2}}else f=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return es(es({},h),f)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=es(es({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},zje(i,es(es({},this.props),{},{payload:EU(d,u,Fje)})))}}],[{key:"getWithHeight",value:function(n,a){var i=es(es({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&be(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(_.PureComponent);b0(bs,"displayName","Legend");b0(bs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZM=Ym,Bje=fP,Wje=Vn,QM=ZM?ZM.isConcatSpreadable:void 0;function Hje(t){return Wje(t)||Bje(t)||!!(QM&&t&&t[QM])}var Uje=Hje,Yje=yU,Xje=Uje;function MU(t,e,r,n,a){var i=-1,s=t.length;for(r||(r=Xje),a||(a=[]);++i<s;){var o=t[i];e>0&&r(o)?e>1?MU(o,e-1,r,n,a):Yje(a,o):n||(a[a.length]=o)}return a}var RU=MU;function Vje(t){return function(e,r,n){for(var a=-1,i=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++a];if(r(i[l],l,i)===!1)break}return e}}var qje=Vje,Gje=qje,Kje=Gje(),Zje=Kje,Qje=Zje,Jje=x0;function eCe(t,e){return t&&Qje(t,e,Jje)}var IU=eCe,tCe=Vm;function rCe(t,e){return function(r,n){if(r==null)return r;if(!tCe(r))return t(r,n);for(var a=r.length,i=e?a:-1,s=Object(r);(e?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var nCe=rCe,aCe=IU,iCe=nCe,sCe=iCe(aCe),vP=sCe,oCe=vP,lCe=Vm;function cCe(t,e){var r=-1,n=lCe(t)?Array(t.length):[];return oCe(t,function(a,i,s){n[++r]=e(a,i,s)}),n}var DU=cCe;function uCe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var dCe=uCe,JM=gh;function hCe(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=JM(t),s=e!==void 0,o=e===null,l=e===e,u=JM(e);if(!o&&!u&&!i&&t>e||i&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&t<e||u&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var fCe=hCe,pCe=fCe;function mCe(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,s=a.length,o=r.length;++n<s;){var l=pCe(a[n],i[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var gCe=mCe,N1=rP,vCe=nP,yCe=ol,xCe=DU,bCe=dCe,wCe=wU,_Ce=gCe,SCe=jh,jCe=Vn;function CCe(t,e,r){e.length?e=N1(e,function(i){return jCe(i)?function(s){return vCe(s,i.length===1?i[0]:i)}:i}):e=[SCe];var n=-1;e=N1(e,wCe(yCe));var a=xCe(t,function(i,s,o){var l=N1(e,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return bCe(a,function(i,s){return _Ce(i,s,r)})}var kCe=CCe;function ACe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var NCe=ACe,PCe=NCe,eR=Math.max;function ECe(t,e,r){return e=eR(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=eR(n.length-e,0),s=Array(i);++a<i;)s[a]=n[e+a];a=-1;for(var o=Array(e+1);++a<e;)o[a]=n[a];return o[e]=r(s),PCe(t,this,o)}}var OCe=ECe;function TCe(t){return function(){return t}}var MCe=TCe,RCe=Ec,ICe=function(){try{var t=RCe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),LU=ICe,DCe=MCe,tR=LU,LCe=jh,$Ce=tR?function(t,e){return tR(t,"toString",{configurable:!0,enumerable:!1,value:DCe(e),writable:!0})}:LCe,FCe=$Ce,zCe=800,BCe=16,WCe=Date.now;function HCe(t){var e=0,r=0;return function(){var n=WCe(),a=BCe-(n-r);if(r=n,a>0){if(++e>=zCe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var UCe=HCe,YCe=FCe,XCe=UCe,VCe=XCe(YCe),qCe=VCe,GCe=jh,KCe=OCe,ZCe=qCe;function QCe(t,e){return ZCe(KCe(t,e,GCe),t+"")}var JCe=QCe,eke=QN,tke=Vm,rke=pP,nke=sl;function ake(t,e,r){if(!nke(r))return!1;var n=typeof e;return(n=="number"?tke(r)&&rke(e,r.length):n=="string"&&e in r)?eke(r[e],t):!1}var w0=ake,ike=RU,ske=kCe,oke=JCe,rR=w0,lke=oke(function(t,e){if(t==null)return[];var r=e.length;return r>1&&rR(t,e[0],e[1])?e=[]:r>2&&rR(e[0],e[1],e[2])&&(e=[e[0]]),ske(t,ike(e,1),[])}),cke=lke;const yP=Ct(cke);function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function Qj(){return Qj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qj.apply(this,arguments)}function uke(t,e){return pke(t)||fke(t,e)||hke(t,e)||dke()}function dke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hke(t,e){if(t){if(typeof t=="string")return nR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nR(t,e)}}function nR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function pke(t){if(Array.isArray(t))return t}function aR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function P1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(r),!0).forEach(function(n){mke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mke(t,e,r){return e=gke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gke(t){var e=vke(t,"string");return Np(e)=="symbol"?e:e+""}function vke(t,e){if(Np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yke(t){return Array.isArray(t)&&_r(t[0])&&_r(t[1])?t.join(" ~ "):t}var xke=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var O={padding:0,margin:0},T=(f?yP(d,f):d).map(function(M,L){if(M.type==="none")return null;var I=P1({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),D=M.formatter||h||yke,R=M.value,F=M.name,z=R,B=F;if(D&&z!=null&&B!=null){var q=D(R,F,M,L,d);if(Array.isArray(q)){var ie=uke(q,2);z=ie[0],B=ie[1]}else z=q}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:I},_r(B)?$.createElement("span",{className:"recharts-tooltip-item-name"},B):null,_r(B)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},z),$.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:O},T)}return null},w=P1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=P1({margin:0},u),k=!Ye(m),C=k?m:"",A=st("recharts-default-tooltip",p),N=st("recharts-tooltip-label",g);k&&v&&d!==void 0&&d!==null&&(C=v(m,d));var P=y?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",Qj({className:A,style:w},P),$.createElement("p",{className:N,style:S},$.isValidElement(C)?C:"".concat(C)),b())};function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function Wg(t,e,r){return e=bke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bke(t){var e=wke(t,"string");return Pp(e)=="symbol"?e:e+""}function wke(t,e){if(Pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zh="recharts-tooltip-wrapper",_ke={visibility:"hidden"};function Ske(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return st(Zh,Wg(Wg(Wg(Wg({},"".concat(Zh,"-right"),be(r)&&e&&be(e.x)&&r>=e.x),"".concat(Zh,"-left"),be(r)&&e&&be(e.x)&&r<e.x),"".concat(Zh,"-bottom"),be(n)&&e&&be(e.y)&&n>=e.y),"".concat(Zh,"-top"),be(n)&&e&&be(e.y)&&n<e.y))}function iR(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(i&&be(i[n]))return i[n];var d=r[n]-o-a,h=r[n]+a;if(e[n])return s[n]?d:h;if(s[n]){var f=d,p=l[n];return f<p?Math.max(h,l[n]):Math.max(d,l[n])}var g=h+o,m=l[n]+u;return g>m?Math.max(d,l[n]):Math.max(h,l[n])}function jke(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Cke(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,h;return s.height>0&&s.width>0&&r?(d=iR({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=iR({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=jke({translateX:d,translateY:h,useTranslate3d:o})):u=_ke,{cssProperties:u,cssClasses:Ske({translateX:d,translateY:h,coordinate:r})}}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function sR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(r),!0).forEach(function(n){eC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ake(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FU(n.key),n)}}function Nke(t,e,r){return e&&Ake(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pke(t,e,r){return e=Fy(e),Eke(t,$U()?Reflect.construct(e,r||[],Fy(t).constructor):e.apply(t,r))}function Eke(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oke(t)}function Oke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!t})()}function Fy(t){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fy(t)}function Tke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jj(t,e)}function Jj(t,e){return Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jj(t,e)}function eC(t,e,r){return e=FU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FU(t){var e=Mke(t,"string");return xd(e)=="symbol"?e:e+""}function Mke(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lR=1,Rke=function(t){function e(){var r;kke(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Pke(this,e,[].concat(a)),eC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),eC(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Tke(e,t),Nke(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>lR||Math.abs(n.height-this.state.lastBoundingBox.height)>lR)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,b=Cke({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),w=b.cssClasses,S=b.cssProperties,k=oR(oR({transition:f&&i?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return $.createElement("div",{tabIndex:-1,className:w,style:k,ref:function(A){n.wrapperNode=A}},u)}}])}(_.PureComponent),Ike=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},di={isSsr:Ike(),get:function(e){return di[e]},set:function(e,r){if(typeof e=="string")di[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(a){di[a]=e[a]})}}};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function cR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(r),!0).forEach(function(n){xP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BU(n.key),n)}}function $ke(t,e,r){return e&&Lke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fke(t,e,r){return e=zy(e),zke(t,zU()?Reflect.construct(e,r||[],zy(t).constructor):e.apply(t,r))}function zke(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bke(t)}function Bke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!t})()}function zy(t){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(t)}function Wke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tC(t,e)}function tC(t,e){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tC(t,e)}function xP(t,e,r){return e=BU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BU(t){var e=Hke(t,"string");return bd(e)=="symbol"?e:e+""}function Hke(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uke(t){return t.dataKey}function Yke(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(xke,e)}var Ka=function(t){function e(){return Dke(this,e),Fke(this,e,arguments)}return Wke(e,t),$ke(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,f=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,x=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,S=g??[];h&&S.length&&(S=EU(g.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),m,Uke));var k=S.length>0;return $.createElement(Rke,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:f,active:i,coordinate:d,hasPayload:k,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:w},Yke(u,uR(uR({},this.props),{},{payload:S})))}}])}(_.PureComponent);xP(Ka,"displayName","Tooltip");xP(Ka,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!di.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xke=Ki,Vke=function(){return Xke.Date.now()},qke=Vke,Gke=/\s/;function Kke(t){for(var e=t.length;e--&&Gke.test(t.charAt(e)););return e}var Zke=Kke,Qke=Zke,Jke=/^\s+/;function eAe(t){return t&&t.slice(0,Qke(t)+1).replace(Jke,"")}var tAe=eAe,rAe=tAe,dR=sl,nAe=gh,hR=NaN,aAe=/^[-+]0x[0-9a-f]+$/i,iAe=/^0b[01]+$/i,sAe=/^0o[0-7]+$/i,oAe=parseInt;function lAe(t){if(typeof t=="number")return t;if(nAe(t))return hR;if(dR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=dR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=rAe(t);var r=iAe.test(t);return r||sAe.test(t)?oAe(t.slice(2),r?2:8):aAe.test(t)?hR:+t}var WU=lAe,cAe=sl,E1=qke,fR=WU,uAe="Expected a function",dAe=Math.max,hAe=Math.min;function fAe(t,e,r){var n,a,i,s,o,l,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(uAe);e=fR(e)||0,cAe(r)&&(d=!!r.leading,h="maxWait"in r,i=h?dAe(fR(r.maxWait)||0,e):i,f="trailing"in r?!!r.trailing:f);function p(k){var C=n,A=a;return n=a=void 0,u=k,s=t.apply(A,C),s}function g(k){return u=k,o=setTimeout(x,e),d?p(k):s}function m(k){var C=k-l,A=k-u,N=e-C;return h?hAe(N,i-A):N}function v(k){var C=k-l,A=k-u;return l===void 0||C>=e||C<0||h&&A>=i}function x(){var k=E1();if(v(k))return y(k);o=setTimeout(x,m(k))}function y(k){return o=void 0,f&&n?p(k):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=l=a=o=void 0}function w(){return o===void 0?s:y(E1())}function S(){var k=E1(),C=v(k);if(n=arguments,a=this,l=k,C){if(o===void 0)return g(l);if(h)return clearTimeout(o),o=setTimeout(x,e),p(l)}return o===void 0&&(o=setTimeout(x,e)),s}return S.cancel=b,S.flush=w,S}var pAe=fAe,mAe=pAe,gAe=sl,vAe="Expected a function";function yAe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(vAe);return gAe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),mAe(t,e,{leading:n,maxWait:e,trailing:a})}var xAe=yAe;const HU=Ct(xAe);function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){bAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bAe(t,e,r){return e=wAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wAe(t){var e=_Ae(t,"string");return Ep(e)=="symbol"?e:e+""}function _Ae(t,e){if(Ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SAe(t,e){return AAe(t)||kAe(t,e)||CAe(t,e)||jAe()}function jAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CAe(t,e){if(t){if(typeof t=="string")return mR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mR(t,e)}}function mR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function AAe(t){if(Array.isArray(t))return t}var By=_.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,p=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,x=t.className,y=t.onResize,b=t.style,w=b===void 0?{}:b,S=_.useRef(null),k=_.useRef();k.current=y,_.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var C=_.useState({containerWidth:a.width,containerHeight:a.height}),A=SAe(C,2),N=A[0],P=A[1],E=_.useCallback(function(T,M){P(function(L){var I=Math.round(T),D=Math.round(M);return L.containerWidth===I&&L.containerHeight===D?L:{containerWidth:I,containerHeight:D}})},[]);_.useEffect(function(){var T=function(F){var z,B=F[0].contentRect,q=B.width,ie=B.height;E(q,ie),(z=k.current)===null||z===void 0||z.call(k,q,ie)};m>0&&(T=HU(T,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(T),L=S.current.getBoundingClientRect(),I=L.width,D=L.height;return E(I,D),M.observe(S.current),function(){M.disconnect()}},[E,m]);var O=_.useMemo(function(){var T=N.containerWidth,M=N.containerHeight;if(T<0||M<0)return null;xs(Tl(s)||Tl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),xs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Tl(s)?T:s,I=Tl(l)?M:l;r&&r>0&&(L?I=L/r:I&&(L=I*r),f&&I>f&&(I=f)),xs(L>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,I,s,l,d,h,r);var D=!Array.isArray(p)&&ys(p.type).endsWith("Chart");return $.Children.map(p,function(R){return $8.isElement(R)?_.cloneElement(R,Hg({width:L,height:I},D?{style:Hg({height:"100%",width:"100%",maxHeight:I,maxWidth:L},R.props.style)}:{})):R})},[r,p,l,f,h,d,N,s]);return $.createElement("div",{id:v?"".concat(v):void 0,className:st("recharts-responsive-container",x),style:Hg(Hg({},w),{},{width:s,height:l,minWidth:d,minHeight:h,maxHeight:f}),ref:S},O)}),bP=function(e){return null};bP.displayName="Cell";function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function gR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(r),!0).forEach(function(n){NAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NAe(t,e,r){return e=PAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PAe(t){var e=EAe(t,"string");return Op(e)=="symbol"?e:e+""}function EAe(t,e){if(Op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zc={widthCache:{},cacheCount:0},OAe=2e3,TAe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vR="recharts_measurement_span";function MAe(t){var e=rC({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var $f=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||di.isSsr)return{width:0,height:0};var n=MAe(r),a=JSON.stringify({text:e,copyStyle:n});if(Zc.widthCache[a])return Zc.widthCache[a];try{var i=document.getElementById(vR);i||(i=document.createElement("span"),i.setAttribute("id",vR),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=rC(rC({},TAe),n);Object.assign(i.style,s),i.textContent="".concat(e);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Zc.widthCache[a]=l,++Zc.cacheCount>OAe&&(Zc.cacheCount=0,Zc.widthCache={}),l}catch{return{width:0,height:0}}},RAe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function Wy(t,e){return $Ae(t)||LAe(t,e)||DAe(t,e)||IAe()}function IAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DAe(t,e){if(t){if(typeof t=="string")return yR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yR(t,e)}}function yR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function $Ae(t){if(Array.isArray(t))return t}function FAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BAe(n.key),n)}}function zAe(t,e,r){return e&&xR(t.prototype,e),r&&xR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BAe(t){var e=WAe(t,"string");return Tp(e)=="symbol"?e:e+""}function WAe(t,e){if(Tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HAe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UAe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YAe=Object.keys(UU),xu="NaN";function XAe(t,e){return t*UU[e]}var Ug=function(){function t(e,r){FAe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!HAe.test(r)&&(this.num=NaN,this.unit=""),YAe.includes(r)&&(this.num=XAe(e,r),this.unit="px")}return zAe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=UAe.exec(r))!==null&&n!==void 0?n:[],i=Wy(a,3),s=i[1],o=i[2];return new t(parseFloat(s),o??"")}}])}();function YU(t){if(t.includes(xu))return xu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=bR.exec(e))!==null&&r!==void 0?r:[],a=Wy(n,4),i=a[1],s=a[2],o=a[3],l=Ug.parse(i??""),u=Ug.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return xu;e=e.replace(bR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=wR.exec(e))!==null&&h!==void 0?h:[],p=Wy(f,4),g=p[1],m=p[2],v=p[3],x=Ug.parse(g??""),y=Ug.parse(v??""),b=m==="+"?x.add(y):x.subtract(y);if(b.isNaN())return xu;e=e.replace(wR,b.toString())}return e}var _R=/\(([^()]*)\)/;function VAe(t){for(var e=t;e.includes("(");){var r=_R.exec(e),n=Wy(r,2),a=n[1];e=e.replace(_R,YU(a))}return e}function qAe(t){var e=t.replace(/\s+/g,"");return e=VAe(e),e=YU(e),e}function GAe(t){try{return qAe(t)}catch{return xu}}function O1(t){var e=GAe(t.slice(5,-1));return e===xu?"":e}var KAe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ZAe=["dx","dy","angle","className","breakAll"];function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nC.apply(this,arguments)}function SR(t,e){if(t==null)return{};var r=QAe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jR(t,e){return rNe(t)||tNe(t,e)||eNe(t,e)||JAe()}function JAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eNe(t,e){if(t){if(typeof t=="string")return CR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CR(t,e)}}function CR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function rNe(t){if(Array.isArray(t))return t}var XU=/[ \f\n\r\t\v\u2028\u2029]+/,VU=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Ye(r)||(n?i=r.toString().split(""):i=r.toString().split(XU));var s=i.map(function(l){return{word:l,width:$f(l,a).width}}),o=n?0:$f(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},nNe=function(e,r,n,a,i){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=be(s),h=o,f=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(I,D){var R=D.word,F=D.width,z=I[I.length-1];if(z&&(a==null||i||z.width+F+n<Number(a)))z.words.push(R),z.width+=F+n;else{var B={words:[R],width:F};I.push(B)}return I},[])},p=f(r),g=function(L){return L.reduce(function(I,D){return I.width>D.width?I:D})};if(!d)return p;for(var m="…",v=function(L){var I=h.slice(0,L),D=VU({breakAll:u,style:l,children:I+m}).wordsWithComputedWidth,R=f(D),F=R.length>s||g(R).width>Number(a);return[F,R]},x=0,y=h.length-1,b=0,w;x<=y&&b<=h.length-1;){var S=Math.floor((x+y)/2),k=S-1,C=v(k),A=jR(C,2),N=A[0],P=A[1],E=v(S),O=jR(E,1),T=O[0];if(!N&&!T&&(x=S+1),N&&T&&(y=S-1),!N&&T){w=P;break}b++}return w||p},kR=function(e){var r=Ye(e)?[]:e.toString().split(XU);return[{words:r}]},aNe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!di.isSsr){var l,u,d=VU({breakAll:s,children:a,style:i});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;l=h,u=f}else return kR(a);return nNe({breakAll:s,children:a,maxLines:o,style:i},l,u,r,n)}return kR(a)},AR="#808080",Hy=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,p=f===void 0?"start":f,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,x=v===void 0?AR:v,y=SR(e,KAe),b=_.useMemo(function(){return aNe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),w=y.dx,S=y.dy,k=y.angle,C=y.className,A=y.breakAll,N=SR(y,ZAe);if(!_r(n)||!_r(i))return null;var P=n+(be(w)?w:0),E=i+(be(S)?S:0),O;switch(m){case"start":O=O1("calc(".concat(u,")"));break;case"middle":O=O1("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=O1("calc(".concat(b.length-1," * -").concat(o,")"));break}var T=[];if(h){var M=b[0].width,L=y.width;T.push("scale(".concat((be(L)?L/M:1)/M,")"))}return k&&T.push("rotate(".concat(k,", ").concat(P,", ").concat(E,")")),T.length&&(N.transform=T.join(" ")),$.createElement("text",nC({},Ue(N,!0),{x:P,y:E,className:st("recharts-text",C),textAnchor:p,fill:x.includes("url")?AR:x}),b.map(function(I,D){var R=I.words.join(A?"":" ");return $.createElement("tspan",{x:P,dy:D===0?O:o,key:"".concat(R,"-").concat(D)},R)}))};function Io(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iNe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wP(t){let e,r,n;t.length!==2?(e=Io,r=(o,l)=>Io(t(o),l),n=(o,l)=>t(o)-l):(e=t===Io||t===iNe?t:sNe,r=t,n=t);function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;r(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;r(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){const h=a(o,l,u,d-1);return h>u&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:a,center:s,right:i}}function sNe(){return 0}function qU(t){return t===null?NaN:+t}function*oNe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const lNe=wP(Io),qm=lNe.right;wP(qU).center;class NR extends Map{constructor(e,r=dNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(PR(this,e))}has(e){return super.has(PR(this,e))}set(e,r){return super.set(cNe(this,e),r)}delete(e){return super.delete(uNe(this,e))}}function PR({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function cNe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function uNe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function dNe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hNe(t=Io){if(t===Io)return GU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function GU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fNe=Math.sqrt(50),pNe=Math.sqrt(10),mNe=Math.sqrt(2);function Uy(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=fNe?10:i>=pNe?5:i>=mNe?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,a)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?Uy(t,e,r*2):[o,l,u]}function aC(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?Uy(e,t,r):Uy(t,e,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(i-u)/-s;else for(let u=0;u<o;++u)l[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(a+u)/-s;else for(let u=0;u<o;++u)l[u]=(a+u)*s;return l}function iC(t,e,r){return e=+e,t=+t,r=+r,Uy(t,e,r)[2]}function sC(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?iC(e,t,r):iC(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function ER(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function OR(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function KU(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?GU:hNe(a);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*h/l+f)),g=Math.min(n,Math.floor(e+(l-u)*h/l+f));KU(t,e,p,g,a)}const i=t[e];let s=r,o=n;for(Qh(t,r,e),a(t[n],i)>0&&Qh(t,r,n);s<o;){for(Qh(t,s,o),++s,--o;a(t[s],i)<0;)++s;for(;a(t[o],i)>0;)--o}a(t[r],i)===0?Qh(t,r,o):(++o,Qh(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Qh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function gNe(t,e,r){if(t=Float64Array.from(oNe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return OR(t);if(e>=1)return ER(t);var n,a=(n-1)*e,i=Math.floor(a),s=ER(KU(t,i).subarray(0,i+1)),o=OR(t.subarray(i+1));return s+(o-s)*(a-i)}}function vNe(t,e,r=qU){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),o=+r(t[i+1],i+1,t);return s+(o-s)*(a-i)}}function yNe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function La(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const oC=Symbol("implicit");function _P(){var t=new NR,e=[],r=[],n=oC;function a(i){let s=t.get(i);if(s===void 0){if(n!==oC)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new NR;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _P(e,r).unknown(n)},La.apply(a,arguments),a}function Mp(){var t=_P().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,f-l+u*2),o&&(i=Math.floor(i)),g+=(m-g-i*(f-l))*d,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=yNe(f).map(function(x){return g+i*x});return r(p?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,a]=f,n=+n,a=+a,h()):[n,a]},t.rangeRound=function(f){return[n,a]=f,n=+n,a=+a,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return Mp(e(),[n,a]).round(o).paddingInner(l).paddingOuter(u).align(d)},La.apply(h(),arguments)}function ZU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ZU(e())},t}function Ff(){return ZU(Mp.apply(null,arguments).paddingInner(1))}function SP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function QU(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Gm(){}var Rp=.7,Yy=1/Rp,Iu="\\s*([+-]?\\d+)\\s*",Ip="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xNe=/^#([0-9a-f]{3,8})$/,bNe=new RegExp(`^rgb\\(${Iu},${Iu},${Iu}\\)$`),wNe=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),_Ne=new RegExp(`^rgba\\(${Iu},${Iu},${Iu},${Ip}\\)$`),SNe=new RegExp(`^rgba\\(${zi},${zi},${zi},${Ip}\\)$`),jNe=new RegExp(`^hsl\\(${Ip},${zi},${zi}\\)$`),CNe=new RegExp(`^hsla\\(${Ip},${zi},${zi},${Ip}\\)$`),TR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SP(Gm,Dp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:MR,formatHex:MR,formatHex8:kNe,formatHsl:ANe,formatRgb:RR,toString:RR});function MR(){return this.rgb().formatHex()}function kNe(){return this.rgb().formatHex8()}function ANe(){return JU(this).formatHsl()}function RR(){return this.rgb().formatRgb()}function Dp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=xNe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?IR(e):r===3?new $n(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Yg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Yg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bNe.exec(t))?new $n(e[1],e[2],e[3],1):(e=wNe.exec(t))?new $n(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_Ne.exec(t))?Yg(e[1],e[2],e[3],e[4]):(e=SNe.exec(t))?Yg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jNe.exec(t))?$R(e[1],e[2]/100,e[3]/100,1):(e=CNe.exec(t))?$R(e[1],e[2]/100,e[3]/100,e[4]):TR.hasOwnProperty(t)?IR(TR[t]):t==="transparent"?new $n(NaN,NaN,NaN,0):null}function IR(t){return new $n(t>>16&255,t>>8&255,t&255,1)}function Yg(t,e,r,n){return n<=0&&(t=e=r=NaN),new $n(t,e,r,n)}function NNe(t){return t instanceof Gm||(t=Dp(t)),t?(t=t.rgb(),new $n(t.r,t.g,t.b,t.opacity)):new $n}function lC(t,e,r,n){return arguments.length===1?NNe(t):new $n(t,e,r,n??1)}function $n(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}SP($n,lC,QU(Gm,{brighter(t){return t=t==null?Yy:Math.pow(Yy,t),new $n(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rp:Math.pow(Rp,t),new $n(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $n(Kl(this.r),Kl(this.g),Kl(this.b),Xy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DR,formatHex:DR,formatHex8:PNe,formatRgb:LR,toString:LR}));function DR(){return`#${Ml(this.r)}${Ml(this.g)}${Ml(this.b)}`}function PNe(){return`#${Ml(this.r)}${Ml(this.g)}${Ml(this.b)}${Ml((isNaN(this.opacity)?1:this.opacity)*255)}`}function LR(){const t=Xy(this.opacity);return`${t===1?"rgb(":"rgba("}${Kl(this.r)}, ${Kl(this.g)}, ${Kl(this.b)}${t===1?")":`, ${t})`}`}function Xy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ml(t){return t=Kl(t),(t<16?"0":"")+t.toString(16)}function $R(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ni(t,e,r,n)}function JU(t){if(t instanceof ni)return new ni(t.h,t.s,t.l,t.opacity);if(t instanceof Gm||(t=Dp(t)),!t)return new ni;if(t instanceof ni)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(e===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new ni(s,o,l,t.opacity)}function ENe(t,e,r,n){return arguments.length===1?JU(t):new ni(t,e,r,n??1)}function ni(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}SP(ni,ENe,QU(Gm,{brighter(t){return t=t==null?Yy:Math.pow(Yy,t),new ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rp:Math.pow(Rp,t),new ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new $n(T1(t>=240?t-240:t+120,a,n),T1(t,a,n),T1(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ni(FR(this.h),Xg(this.s),Xg(this.l),Xy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xy(this.opacity);return`${t===1?"hsl(":"hsla("}${FR(this.h)}, ${Xg(this.s)*100}%, ${Xg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function FR(t){return t=(t||0)%360,t<0?t+360:t}function Xg(t){return Math.max(0,Math.min(1,t||0))}function T1(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const jP=t=>()=>t;function ONe(t,e){return function(r){return t+r*e}}function TNe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function MNe(t){return(t=+t)==1?eY:function(e,r){return r-e?TNe(e,r,t):jP(isNaN(e)?r:e)}}function eY(t,e){var r=e-t;return r?ONe(t,r):jP(isNaN(t)?e:t)}const zR=function t(e){var r=MNe(e);function n(a,i){var s=r((a=lC(a)).r,(i=lC(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),u=eY(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function RNe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function INe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function DNe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Ch(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function LNe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Vy(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function $Ne(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Ch(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var cC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,M1=new RegExp(cC.source,"g");function FNe(t){return function(){return t}}function zNe(t){return function(e){return t(e)+""}}function BNe(t,e){var r=cC.lastIndex=M1.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=cC.exec(t))&&(a=M1.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Vy(n,a)})),r=M1.lastIndex;return r<e.length&&(i=e.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?zNe(l[0].x):FNe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function Ch(t,e){var r=typeof e,n;return e==null||r==="boolean"?jP(e):(r==="number"?Vy:r==="string"?(n=Dp(e))?(e=n,zR):BNe:e instanceof Dp?zR:e instanceof Date?LNe:INe(e)?RNe:Array.isArray(e)?DNe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$Ne:Vy)(t,e)}function CP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function WNe(t,e){e===void 0&&(e=t,t=Ch);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function HNe(t){return function(){return t}}function qy(t){return+t}var BR=[0,1];function wn(t){return t}function uC(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:HNe(isNaN(e)?NaN:.5)}function UNe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function YNe(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=uC(a,n),i=r(s,i)):(n=uC(n,a),i=r(i,s)),function(o){return i(n(o))}}function XNe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=uC(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(o){var l=qm(t,o,1,n)-1;return i[l](a[l](o))}}function Km(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _0(){var t=BR,e=BR,r=Ch,n,a,i,s=wn,o,l,u;function d(){var f=Math.min(t.length,e.length);return s!==wn&&(s=UNe(t[0],t[f-1])),o=f>2?XNe:YNe,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(l||(l=o(t.map(n),e,r)))(n(s(f)))}return h.invert=function(f){return s(a((u||(u=o(e,t.map(n),Vy)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,qy),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=CP,d()},h.clamp=function(f){return arguments.length?(s=f?!0:wn,d()):s!==wn},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,p){return n=f,a=p,d()}}function kP(){return _0()(wn,wn)}function VNe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gy(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function wd(t){return t=Gy(Math.abs(t)),t?t[1]:NaN}function qNe(t,e){return function(r,n){for(var a=r.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function GNe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var KNe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lp(t){if(!(e=KNe.exec(t)))throw new Error("invalid format: "+t);var e;return new AP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lp.prototype=AP.prototype;function AP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZNe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var tY;function QNe(t,e){var r=Gy(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(tY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Gy(t,Math.max(0,e+i-1))[0]}function WR(t,e){var r=Gy(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const HR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:VNe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>WR(t*100,e),r:WR,s:QNe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function UR(t){return t}var YR=Array.prototype.map,XR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function JNe(t){var e=t.grouping===void 0||t.thousands===void 0?UR:qNe(YR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?UR:GNe(YR.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Lp(h);var f=h.fill,p=h.align,g=h.sign,m=h.symbol,v=h.zero,x=h.width,y=h.comma,b=h.precision,w=h.trim,S=h.type;S==="n"?(y=!0,S="g"):HR[S]||(b===void 0&&(b=12),w=!0,S="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var k=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C=m==="$"?n:/[%p]/.test(S)?s:"",A=HR[S],N=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(E){var O=k,T=C,M,L,I;if(S==="c")T=A(E)+T,E="";else{E=+E;var D=E<0||1/E<0;if(E=isNaN(E)?l:A(Math.abs(E),b),w&&(E=ZNe(E)),D&&+E==0&&g!=="+"&&(D=!1),O=(D?g==="("?g:o:g==="-"||g==="("?"":g)+O,T=(S==="s"?XR[8+tY/3]:"")+T+(D&&g==="("?")":""),N){for(M=-1,L=E.length;++M<L;)if(I=E.charCodeAt(M),48>I||I>57){T=(I===46?a+E.slice(M+1):E.slice(M))+T,E=E.slice(0,M);break}}}y&&!v&&(E=e(E,1/0));var R=O.length+E.length+T.length,F=R<x?new Array(x-R+1).join(f):"";switch(y&&v&&(E=e(F+E,F.length?x-T.length:1/0),F=""),p){case"<":E=O+E+T+F;break;case"=":E=O+F+E+T;break;case"^":E=F.slice(0,R=F.length>>1)+O+E+T+F.slice(R);break;default:E=F+O+E+T;break}return i(E)}return P.toString=function(){return h+""},P}function d(h,f){var p=u((h=Lp(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(wd(f)/3)))*3,m=Math.pow(10,-g),v=XR[8+g/3];return function(x){return p(m*x)+v}}return{format:u,formatPrefix:d}}var Vg,NP,rY;ePe({thousands:",",grouping:[3],currency:["$",""]});function ePe(t){return Vg=JNe(t),NP=Vg.format,rY=Vg.formatPrefix,Vg}function tPe(t){return Math.max(0,-wd(Math.abs(t)))}function rPe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wd(e)/3)))*3-wd(Math.abs(t)))}function nPe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wd(e)-wd(t))+1}function nY(t,e,r,n){var a=sC(t,e,r),i;switch(n=Lp(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=rPe(a,s))&&(n.precision=i),rY(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=nPe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=tPe(a))&&(n.precision=i-(n.type==="%")*2);break}}return NP(n)}function ll(t){var e=t.domain;return t.ticks=function(r){var n=e();return aC(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return nY(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],o=n[i],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=iC(s,o,r),u===l)return n[a]=s,n[i]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Ky(){var t=kP();return t.copy=function(){return Km(t,Ky())},La.apply(t,arguments),ll(t)}function aY(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,qy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return aY(t).unknown(e)},t=arguments.length?Array.from(t,qy):[0,1],ll(r)}function iY(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function VR(t){return Math.log(t)}function qR(t){return Math.exp(t)}function aPe(t){return-Math.log(-t)}function iPe(t){return-Math.exp(-t)}function sPe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oPe(t){return t===10?sPe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lPe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function GR(t){return(e,r)=>-t(-e,r)}function PP(t){const e=t(VR,qR),r=e.domain;let n=10,a,i;function s(){return a=lPe(n),i=oPe(n),r()[0]<0?(a=GR(a),i=GR(i),t(aPe,iPe)):t(VR,qR),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=a(u),p=a(d),g,m;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(g=1;g<n;++g)if(m=f<0?g/i(-f):g*i(f),!(m<u)){if(m>d)break;x.push(m)}}else for(;f<=p;++f)for(g=n-1;g>=1;--g)if(m=f>0?g/i(-f):g*i(f),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=aC(u,d,v))}else x=aC(f,p,Math.min(p-f,v)).map(i);return h?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Lp(l)).precision==null&&(l.trim=!0),l=NP(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*n<n-.5&&(h*=n),h<=u?l(d):""}},e.nice=()=>r(iY(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),e}function sY(){const t=PP(_0()).domain([1,10]);return t.copy=()=>Km(t,sY()).base(t.base()),La.apply(t,arguments),t}function KR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ZR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function EP(t){var e=1,r=t(KR(e),ZR(e));return r.constant=function(n){return arguments.length?t(KR(e=+n),ZR(e)):e},ll(r)}function oY(){var t=EP(_0());return t.copy=function(){return Km(t,oY()).constant(t.constant())},La.apply(t,arguments)}function QR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cPe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function uPe(t){return t<0?-t*t:t*t}function OP(t){var e=t(wn,wn),r=1;function n(){return r===1?t(wn,wn):r===.5?t(cPe,uPe):t(QR(r),QR(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},ll(e)}function TP(){var t=OP(_0());return t.copy=function(){return Km(t,TP()).exponent(t.exponent())},La.apply(t,arguments),t}function dPe(){return TP.apply(null,arguments).exponent(.5)}function JR(t){return Math.sign(t)*t*t}function hPe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lY(){var t=kP(),e=[0,1],r=!1,n;function a(i){var s=hPe(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(JR(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,qy)).map(JR)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return lY(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},La.apply(a,arguments),ll(a)}function cY(){var t=[],e=[],r=[],n;function a(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=vNe(t,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:e[qm(r,s)]}return i.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Io),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return cY().domain(t).range(e).unknown(n)},La.apply(i,arguments)}function uY(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[qm(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return uY().domain([t,e]).range(a).unknown(i)},La.apply(ll(s),arguments)}function dY(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[qm(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return dY().domain(t).range(e).unknown(r)},La.apply(a,arguments)}const R1=new Date,I1=new Date;function Cr(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let u;do l.push(u=new Date(+i)),e(i,o),t(i);while(u<i&&i<s);return l},a.filter=i=>Cr(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!i(s););else for(;--o>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(R1.setTime(+i),I1.setTime(+s),t(R1),t(I1),Math.floor(r(R1,I1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Zy=Cr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Cr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Zy);Zy.range;const hs=1e3,Ca=hs*60,fs=Ca*60,Es=fs*24,MP=Es*7,eI=Es*30,D1=Es*365,Rl=Cr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getUTCSeconds());Rl.range;const RP=Cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hs)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getMinutes());RP.range;const IP=Cr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getUTCMinutes());IP.range;const DP=Cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hs-t.getMinutes()*Ca)},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getHours());DP.range;const LP=Cr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getUTCHours());LP.range;const Zm=Cr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ca)/Es,t=>t.getDate()-1);Zm.range;const S0=Cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Es,t=>t.getUTCDate()-1);S0.range;const hY=Cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Es,t=>Math.floor(t/Es));hY.range;function Tc(t){return Cr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ca)/MP)}const j0=Tc(0),Qy=Tc(1),fPe=Tc(2),pPe=Tc(3),_d=Tc(4),mPe=Tc(5),gPe=Tc(6);j0.range;Qy.range;fPe.range;pPe.range;_d.range;mPe.range;gPe.range;function Mc(t){return Cr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/MP)}const C0=Mc(0),Jy=Mc(1),vPe=Mc(2),yPe=Mc(3),Sd=Mc(4),xPe=Mc(5),bPe=Mc(6);C0.range;Jy.range;vPe.range;yPe.range;Sd.range;xPe.range;bPe.range;const $P=Cr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$P.range;const FP=Cr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FP.range;const Os=Cr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Os.range;const Ts=Cr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ts.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ts.range;function fY(t,e,r,n,a,i){const s=[[Rl,1,hs],[Rl,5,5*hs],[Rl,15,15*hs],[Rl,30,30*hs],[i,1,Ca],[i,5,5*Ca],[i,15,15*Ca],[i,30,30*Ca],[a,1,fs],[a,3,3*fs],[a,6,6*fs],[a,12,12*fs],[n,1,Es],[n,2,2*Es],[r,1,MP],[e,1,eI],[e,3,3*eI],[t,1,D1]];function o(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:l(u,d,h),g=p?p.range(u,+d+1):[];return f?g.reverse():g}function l(u,d,h){const f=Math.abs(d-u)/h,p=wP(([,,v])=>v).right(s,f);if(p===s.length)return t.every(sC(u/D1,d/D1,h));if(p===0)return Zy.every(Math.max(sC(u,d,h),1));const[g,m]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return g.every(m)}return[o,l]}const[wPe,_Pe]=fY(Ts,FP,C0,hY,LP,IP),[SPe,jPe]=fY(Os,$P,j0,Zm,DP,RP);function L1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function CPe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=ef(a),d=tf(a),h=ef(i),f=tf(i),p=ef(s),g=tf(s),m=ef(o),v=tf(o),x=ef(l),y=tf(l),b={a:D,A:R,b:F,B:z,c:null,d:sI,e:sI,f:qPe,g:aEe,G:sEe,H:YPe,I:XPe,j:VPe,L:pY,m:GPe,M:KPe,p:B,q,Q:cI,s:uI,S:ZPe,u:QPe,U:JPe,V:eEe,w:tEe,W:rEe,x:null,X:null,y:nEe,Y:iEe,Z:oEe,"%":lI},w={a:ie,A:ne,b:Ne,B:fe,c:null,d:oI,e:oI,f:dEe,g:wEe,G:SEe,H:lEe,I:cEe,j:uEe,L:gY,m:hEe,M:fEe,p:X,q:ae,Q:cI,s:uI,S:pEe,u:mEe,U:gEe,V:vEe,w:yEe,W:xEe,x:null,X:null,y:bEe,Y:_Ee,Z:jEe,"%":lI},S={a:P,A:E,b:O,B:T,c:M,d:aI,e:aI,f:BPe,g:nI,G:rI,H:iI,I:iI,j:LPe,L:zPe,m:DPe,M:$Pe,p:N,q:IPe,Q:HPe,s:UPe,S:FPe,u:EPe,U:OPe,V:TPe,w:PPe,W:MPe,x:L,X:I,y:nI,Y:rI,Z:RPe,"%":WPe};b.x=k(r,b),b.X=k(n,b),b.c=k(e,b),w.x=k(r,w),w.X=k(n,w),w.c=k(e,w);function k(G,Z){return function(se){var K=[],Pe=-1,Te=0,nt=G.length,tt,Ot,W;for(se instanceof Date||(se=new Date(+se));++Pe<nt;)G.charCodeAt(Pe)===37&&(K.push(G.slice(Te,Pe)),(Ot=tI[tt=G.charAt(++Pe)])!=null?tt=G.charAt(++Pe):Ot=tt==="e"?" ":"0",(W=Z[tt])&&(tt=W(se,Ot)),K.push(tt),Te=Pe+1);return K.push(G.slice(Te,Pe)),K.join("")}}function C(G,Z){return function(se){var K=Jh(1900,void 0,1),Pe=A(K,G,se+="",0),Te,nt;if(Pe!=se.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(Z&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Te=$1(Jh(K.y,0,1)),nt=Te.getUTCDay(),Te=nt>4||nt===0?Jy.ceil(Te):Jy(Te),Te=S0.offset(Te,(K.V-1)*7),K.y=Te.getUTCFullYear(),K.m=Te.getUTCMonth(),K.d=Te.getUTCDate()+(K.w+6)%7):(Te=L1(Jh(K.y,0,1)),nt=Te.getDay(),Te=nt>4||nt===0?Qy.ceil(Te):Qy(Te),Te=Zm.offset(Te,(K.V-1)*7),K.y=Te.getFullYear(),K.m=Te.getMonth(),K.d=Te.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),nt="Z"in K?$1(Jh(K.y,0,1)).getUTCDay():L1(Jh(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(nt+5)%7:K.w+K.U*7-(nt+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,$1(K)):L1(K)}}function A(G,Z,se,K){for(var Pe=0,Te=Z.length,nt=se.length,tt,Ot;Pe<Te;){if(K>=nt)return-1;if(tt=Z.charCodeAt(Pe++),tt===37){if(tt=Z.charAt(Pe++),Ot=S[tt in tI?Z.charAt(Pe++):tt],!Ot||(K=Ot(G,se,K))<0)return-1}else if(tt!=se.charCodeAt(K++))return-1}return K}function N(G,Z,se){var K=u.exec(Z.slice(se));return K?(G.p=d.get(K[0].toLowerCase()),se+K[0].length):-1}function P(G,Z,se){var K=p.exec(Z.slice(se));return K?(G.w=g.get(K[0].toLowerCase()),se+K[0].length):-1}function E(G,Z,se){var K=h.exec(Z.slice(se));return K?(G.w=f.get(K[0].toLowerCase()),se+K[0].length):-1}function O(G,Z,se){var K=x.exec(Z.slice(se));return K?(G.m=y.get(K[0].toLowerCase()),se+K[0].length):-1}function T(G,Z,se){var K=m.exec(Z.slice(se));return K?(G.m=v.get(K[0].toLowerCase()),se+K[0].length):-1}function M(G,Z,se){return A(G,e,Z,se)}function L(G,Z,se){return A(G,r,Z,se)}function I(G,Z,se){return A(G,n,Z,se)}function D(G){return s[G.getDay()]}function R(G){return i[G.getDay()]}function F(G){return l[G.getMonth()]}function z(G){return o[G.getMonth()]}function B(G){return a[+(G.getHours()>=12)]}function q(G){return 1+~~(G.getMonth()/3)}function ie(G){return s[G.getUTCDay()]}function ne(G){return i[G.getUTCDay()]}function Ne(G){return l[G.getUTCMonth()]}function fe(G){return o[G.getUTCMonth()]}function X(G){return a[+(G.getUTCHours()>=12)]}function ae(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var Z=k(G+="",b);return Z.toString=function(){return G},Z},parse:function(G){var Z=C(G+="",!1);return Z.toString=function(){return G},Z},utcFormat:function(G){var Z=k(G+="",w);return Z.toString=function(){return G},Z},utcParse:function(G){var Z=C(G+="",!0);return Z.toString=function(){return G},Z}}}var tI={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,kPe=/^%/,APe=/[\\^$*+?|[\]().{}]/g;function gt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function NPe(t){return t.replace(APe,"\\$&")}function ef(t){return new RegExp("^(?:"+t.map(NPe).join("|")+")","i")}function tf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function PPe(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function EPe(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function OPe(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function TPe(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function MPe(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function rI(t,e,r){var n=Ir.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function nI(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function RPe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function IPe(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function DPe(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function aI(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function LPe(t,e,r){var n=Ir.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function iI(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function $Pe(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function FPe(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function zPe(t,e,r){var n=Ir.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function BPe(t,e,r){var n=Ir.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function WPe(t,e,r){var n=kPe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function HPe(t,e,r){var n=Ir.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function UPe(t,e,r){var n=Ir.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function sI(t,e){return gt(t.getDate(),e,2)}function YPe(t,e){return gt(t.getHours(),e,2)}function XPe(t,e){return gt(t.getHours()%12||12,e,2)}function VPe(t,e){return gt(1+Zm.count(Os(t),t),e,3)}function pY(t,e){return gt(t.getMilliseconds(),e,3)}function qPe(t,e){return pY(t,e)+"000"}function GPe(t,e){return gt(t.getMonth()+1,e,2)}function KPe(t,e){return gt(t.getMinutes(),e,2)}function ZPe(t,e){return gt(t.getSeconds(),e,2)}function QPe(t){var e=t.getDay();return e===0?7:e}function JPe(t,e){return gt(j0.count(Os(t)-1,t),e,2)}function mY(t){var e=t.getDay();return e>=4||e===0?_d(t):_d.ceil(t)}function eEe(t,e){return t=mY(t),gt(_d.count(Os(t),t)+(Os(t).getDay()===4),e,2)}function tEe(t){return t.getDay()}function rEe(t,e){return gt(Qy.count(Os(t)-1,t),e,2)}function nEe(t,e){return gt(t.getFullYear()%100,e,2)}function aEe(t,e){return t=mY(t),gt(t.getFullYear()%100,e,2)}function iEe(t,e){return gt(t.getFullYear()%1e4,e,4)}function sEe(t,e){var r=t.getDay();return t=r>=4||r===0?_d(t):_d.ceil(t),gt(t.getFullYear()%1e4,e,4)}function oEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function oI(t,e){return gt(t.getUTCDate(),e,2)}function lEe(t,e){return gt(t.getUTCHours(),e,2)}function cEe(t,e){return gt(t.getUTCHours()%12||12,e,2)}function uEe(t,e){return gt(1+S0.count(Ts(t),t),e,3)}function gY(t,e){return gt(t.getUTCMilliseconds(),e,3)}function dEe(t,e){return gY(t,e)+"000"}function hEe(t,e){return gt(t.getUTCMonth()+1,e,2)}function fEe(t,e){return gt(t.getUTCMinutes(),e,2)}function pEe(t,e){return gt(t.getUTCSeconds(),e,2)}function mEe(t){var e=t.getUTCDay();return e===0?7:e}function gEe(t,e){return gt(C0.count(Ts(t)-1,t),e,2)}function vY(t){var e=t.getUTCDay();return e>=4||e===0?Sd(t):Sd.ceil(t)}function vEe(t,e){return t=vY(t),gt(Sd.count(Ts(t),t)+(Ts(t).getUTCDay()===4),e,2)}function yEe(t){return t.getUTCDay()}function xEe(t,e){return gt(Jy.count(Ts(t)-1,t),e,2)}function bEe(t,e){return gt(t.getUTCFullYear()%100,e,2)}function wEe(t,e){return t=vY(t),gt(t.getUTCFullYear()%100,e,2)}function _Ee(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function SEe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Sd(t):Sd.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function jEe(){return"+0000"}function lI(){return"%"}function cI(t){return+t}function uI(t){return Math.floor(+t/1e3)}var Qc,yY,xY;CEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function CEe(t){return Qc=CPe(t),yY=Qc.format,Qc.parse,xY=Qc.utcFormat,Qc.utcParse,Qc}function kEe(t){return new Date(t)}function AEe(t){return t instanceof Date?+t:+new Date(+t)}function zP(t,e,r,n,a,i,s,o,l,u){var d=kP(),h=d.invert,f=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),w=u("%Y");function S(k){return(l(k)<k?p:o(k)<k?g:s(k)<k?m:i(k)<k?v:n(k)<k?a(k)<k?x:y:r(k)<k?b:w)(k)}return d.invert=function(k){return new Date(h(k))},d.domain=function(k){return arguments.length?f(Array.from(k,AEe)):f().map(kEe)},d.ticks=function(k){var C=f();return t(C[0],C[C.length-1],k??10)},d.tickFormat=function(k,C){return C==null?S:u(C)},d.nice=function(k){var C=f();return(!k||typeof k.range!="function")&&(k=e(C[0],C[C.length-1],k??10)),k?f(iY(C,k)):d},d.copy=function(){return Km(d,zP(t,e,r,n,a,i,s,o,l,u))},d}function NEe(){return La.apply(zP(SPe,jPe,Os,$P,j0,Zm,DP,RP,Rl,yY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PEe(){return La.apply(zP(wPe,_Pe,Ts,FP,C0,S0,LP,IP,Rl,xY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k0(){var t=0,e=1,r,n,a,i,s=wn,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(a===0?.5:(h=(i(h)-r)*a,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(f){var p,g;return arguments.length?([p,g]=f,s=h(p,g),u):[s(0),s(1)]}}return u.range=d(Ch),u.rangeRound=d(CP),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return i=h,r=h(t),n=h(e),a=r===n?0:1/(n-r),u}}function cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bY(){var t=ll(k0()(wn));return t.copy=function(){return cl(t,bY())},Fs.apply(t,arguments)}function wY(){var t=PP(k0()).domain([1,10]);return t.copy=function(){return cl(t,wY()).base(t.base())},Fs.apply(t,arguments)}function _Y(){var t=EP(k0());return t.copy=function(){return cl(t,_Y()).constant(t.constant())},Fs.apply(t,arguments)}function BP(){var t=OP(k0());return t.copy=function(){return cl(t,BP()).exponent(t.exponent())},Fs.apply(t,arguments)}function EEe(){return BP.apply(null,arguments).exponent(.5)}function SY(){var t=[],e=wn;function r(n){if(n!=null&&!isNaN(n=+n))return e((qm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Io),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>gNe(t,i/n))},r.copy=function(){return SY(e).domain(t)},Fs.apply(r,arguments)}function A0(){var t=0,e=.5,r=1,n=1,a,i,s,o,l,u=wn,d,h=!1,f;function p(m){return isNaN(m=+m)?f:(m=.5+((m=+d(m))-i)*(n*m<n*i?o:l),u(h?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,r]=m,a=d(t=+t),i=d(e=+e),s=d(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[t,e,r]},p.clamp=function(m){return arguments.length?(h=!!m,p):h},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=WNe(m,[x,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(Ch),p.rangeRound=g(CP),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return d=m,a=m(t),i=m(e),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function jY(){var t=ll(A0()(wn));return t.copy=function(){return cl(t,jY())},Fs.apply(t,arguments)}function CY(){var t=PP(A0()).domain([.1,1,10]);return t.copy=function(){return cl(t,CY()).base(t.base())},Fs.apply(t,arguments)}function kY(){var t=EP(A0());return t.copy=function(){return cl(t,kY()).constant(t.constant())},Fs.apply(t,arguments)}function WP(){var t=OP(A0());return t.copy=function(){return cl(t,WP()).exponent(t.exponent())},Fs.apply(t,arguments)}function OEe(){return WP.apply(null,arguments).exponent(.5)}const dI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mp,scaleDiverging:jY,scaleDivergingLog:CY,scaleDivergingPow:WP,scaleDivergingSqrt:OEe,scaleDivergingSymlog:kY,scaleIdentity:aY,scaleImplicit:oC,scaleLinear:Ky,scaleLog:sY,scaleOrdinal:_P,scalePoint:Ff,scalePow:TP,scaleQuantile:cY,scaleQuantize:uY,scaleRadial:lY,scaleSequential:bY,scaleSequentialLog:wY,scaleSequentialPow:BP,scaleSequentialQuantile:SY,scaleSequentialSqrt:EEe,scaleSequentialSymlog:_Y,scaleSqrt:dPe,scaleSymlog:oY,scaleThreshold:dY,scaleTime:NEe,scaleUtc:PEe,tickFormat:nY},Symbol.toStringTag,{value:"Module"}));var TEe=gh;function MEe(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],s=e(i);if(s!=null&&(o===void 0?s===s&&!TEe(s):r(s,o)))var o=s,l=i}return l}var AY=MEe;function REe(t,e){return t>e}var IEe=REe,DEe=AY,LEe=IEe,$Ee=jh;function FEe(t){return t&&t.length?DEe(t,$Ee,LEe):void 0}var zEe=FEe;const wo=Ct(zEe);function BEe(t,e){return t<e}var WEe=BEe,HEe=AY,UEe=WEe,YEe=jh;function XEe(t){return t&&t.length?HEe(t,YEe,UEe):void 0}var VEe=XEe;const N0=Ct(VEe);var qEe=rP,GEe=ol,KEe=DU,ZEe=Vn;function QEe(t,e){var r=ZEe(t)?qEe:KEe;return r(t,GEe(e))}var JEe=QEe,e2e=RU,t2e=JEe;function r2e(t,e){return e2e(t2e(t,e),1)}var n2e=r2e;const a2e=Ct(n2e);var i2e=gP;function s2e(t,e){return i2e(t,e)}var o2e=s2e;const mc=Ct(o2e);var kh=1e9,l2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UP,Gt=!0,Ra="[DecimalError] ",Zl=Ra+"Invalid argument: ",HP=Ra+"Exponent out of range: ",Ah=Math.floor,wl=Math.pow,c2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ta,Ar=1e7,Xt=7,NY=9007199254740991,ex=Ah(NY/Xt),Re={};Re.absoluteValue=Re.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Re.comparedTo=Re.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Xt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Re.dividedBy=Re.div=function(t){return ws(this,new this.constructor(t))};Re.dividedToIntegerBy=Re.idiv=function(t){var e=this,r=e.constructor;return It(ws(e,new r(t),0,1),r.precision)};Re.equals=Re.eq=function(t){return!this.cmp(t)};Re.exponent=function(){return pr(this)};Re.greaterThan=Re.gt=function(t){return this.cmp(t)>0};Re.greaterThanOrEqualTo=Re.gte=function(t){return this.cmp(t)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(t){return this.cmp(t)<0};Re.lessThanOrEqualTo=Re.lte=function(t){return this.cmp(t)<1};Re.logarithm=Re.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ta))throw Error(Ra+"NaN");if(r.s<1)throw Error(Ra+(r.s?"NaN":"-Infinity"));return r.eq(ta)?new n(0):(Gt=!1,e=ws($p(r,i),$p(t,i),i),Gt=!0,It(e,a))};Re.minus=Re.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OY(e,t):PY(e,(t.s=-t.s,t))};Re.modulo=Re.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Ra+"NaN");return r.s?(Gt=!1,e=ws(r,t,0,1).times(t),Gt=!0,r.minus(e)):It(new n(r),a)};Re.naturalExponential=Re.exp=function(){return EY(this)};Re.naturalLogarithm=Re.ln=function(){return $p(this)};Re.negated=Re.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Re.plus=Re.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PY(e,t):OY(e,(t.s=-t.s,t))};Re.precision=Re.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zl+t);if(e=pr(a)+1,n=a.d.length-1,r=n*Xt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Re.squareRoot=Re.sqrt=function(){var t,e,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ra+"NaN")}for(t=pr(o),Gt=!1,a=Math.sqrt(+o),a==0||a==1/0?(e=Di(o.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Ah((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(ws(o,i,s+2)).times(.5),Di(i.d).slice(0,s)===(e=Di(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(It(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(e!="9999")break;s+=4}return Gt=!0,It(n,r)};Re.times=Re.mul=function(t){var e,r,n,a,i,s,o,l,u,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,l=f.length,u=p.length,l<u&&(i=f,f=p,p=i,s=l,l=u,u=s),i=[],s=l+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=l+n;a>n;)o=i[a]+p[n]*f[a-n-1]+e,i[a--]=o%Ar|0,e=o/Ar|0;i[a]=(i[a]+e)%Ar|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Gt?It(t,h.precision):t};Re.toDecimalPlaces=Re.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Xi(t,0,kh),e===void 0?e=n.rounding:Xi(e,0,8),It(r,t+pr(r)+1,e))};Re.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=gc(n,!0):(Xi(t,0,kh),e===void 0?e=a.rounding:Xi(e,0,8),n=It(new a(n),t+1,e),r=gc(n,!0,t+1)),r};Re.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?gc(a):(Xi(t,0,kh),e===void 0?e=i.rounding:Xi(e,0,8),n=It(new i(a),t+pr(a)+1,e),r=gc(n.abs(),!1,t+pr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Re.toInteger=Re.toint=function(){var t=this,e=t.constructor;return It(new e(t),pr(t)+1,e.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(t){var e,r,n,a,i,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(ta);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ra+"Infinity");return o}if(o.eq(ta))return o;if(n=l.precision,t.eq(ta))return It(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=o.s,s){if((r=d<0?-d:d)<=NY){for(a=new l(ta),e=Math.ceil(n/Xt+4),Gt=!1;r%2&&(a=a.times(o),fI(a.d,e)),r=Ah(r/2),r!==0;)o=o.times(o),fI(o.d,e);return Gt=!0,t.s<0?new l(ta).div(a):It(a,n)}}else if(i<0)throw Error(Ra+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Gt=!1,a=t.times($p(o,n+u)),Gt=!0,a=EY(a),a.s=i,a};Re.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=pr(a),n=gc(a,r<=i.toExpNeg||r>=i.toExpPos)):(Xi(t,1,kh),e===void 0?e=i.rounding:Xi(e,0,8),a=It(new i(a),t,e),r=pr(a),n=gc(a,t<=r||r<=i.toExpNeg,t)),n};Re.toSignificantDigits=Re.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Xi(t,1,kh),e===void 0?e=n.rounding:Xi(e,0,8)),It(new n(r),t,e)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pr(t),r=t.constructor;return gc(t,e<=r.toExpNeg||e>=r.toExpPos)};function PY(t,e){var r,n,a,i,s,o,l,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Gt?It(e,h):e;if(l=t.d,u=e.d,s=t.e,a=e.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=u.length):(n=u,a=s,o=l.length),s=Math.ceil(h/Xt),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=u.length,o-i<0&&(i=o,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Ar|0,l[i]%=Ar;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=a,Gt?It(e,h):e}function Xi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Zl+t)}function Di(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=Xt-n.length,r&&(i+=to(r)),i+=n;s=t[e],n=s+"",r=Xt-n.length,r&&(i+=to(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ws=function(){function t(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Ar|0,s=i/Ar|0;return s&&n.unshift(s),n}function e(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ar+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,u,d,h,f,p,g,m,v,x,y,b,w,S,k,C,A,N=n.constructor,P=n.s==a.s?1:-1,E=n.d,O=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Ra+"Division by zero");for(l=n.e-a.e,C=O.length,S=E.length,p=new N(P),g=p.d=[],u=0;O[u]==(E[u]||0);)++u;if(O[u]>(E[u]||0)&&--l,i==null?y=i=N.precision:s?y=i+(pr(n)-pr(a))+1:y=i,y<0)return new N(0);if(y=y/Xt+2|0,u=0,C==1)for(d=0,O=O[0],y++;(u<S||d)&&y--;u++)b=d*Ar+(E[u]||0),g[u]=b/O|0,d=b%O|0;else{for(d=Ar/(O[0]+1)|0,d>1&&(O=t(O,d),E=t(E,d),C=O.length,S=E.length),w=C,m=E.slice(0,C),v=m.length;v<C;)m[v++]=0;A=O.slice(),A.unshift(0),k=O[0],O[1]>=Ar/2&&++k;do d=0,o=e(O,m,C,v),o<0?(x=m[0],C!=v&&(x=x*Ar+(m[1]||0)),d=x/k|0,d>1?(d>=Ar&&(d=Ar-1),h=t(O,d),f=h.length,v=m.length,o=e(h,m,f,v),o==1&&(d--,r(h,C<f?A:O,f))):(d==0&&(o=d=1),h=O.slice()),f=h.length,f<v&&h.unshift(0),r(m,h,v),o==-1&&(v=m.length,o=e(O,m,C,v),o<1&&(d++,r(m,C<v?A:O,v))),v=m.length):o===0&&(d++,m=[0]),g[u++]=d,o&&m[0]?m[v++]=E[w]||0:(m=[E[w]],v=1);while((w++<S||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=l,It(p,s?i+pr(p)+1:i)}}();function EY(t,e){var r,n,a,i,s,o,l=0,u=0,d=t.constructor,h=d.precision;if(pr(t)>16)throw Error(HP+pr(t));if(!t.s)return new d(ta);for(e==null?(Gt=!1,o=h):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(wl(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(ta),d.precision=o;;){if(a=It(a.times(t),o),r=r.times(++l),s=i.plus(ws(a,r,o)),Di(s.d).slice(0,o)===Di(i.d).slice(0,o)){for(;u--;)i=It(i.times(i),o);return d.precision=h,e==null?(Gt=!0,It(i,h)):i}i=s}}function pr(t){for(var e=t.e*Xt,r=t.d[0];r>=10;r/=10)e++;return e}function F1(t,e,r){if(e>t.LN10.sd())throw Gt=!0,r&&(t.precision=r),Error(Ra+"LN10 precision limit exceeded");return It(new t(t.LN10),e)}function to(t){for(var e="";t--;)e+="0";return e}function $p(t,e){var r,n,a,i,s,o,l,u,d,h=1,f=10,p=t,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Ra+(p.s?"NaN":"-Infinity"));if(p.eq(ta))return new m(0);if(e==null?(Gt=!1,u=v):u=e,p.eq(10))return e==null&&(Gt=!0),F1(m,u);if(u+=f,m.precision=u,r=Di(g),n=r.charAt(0),i=pr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Di(p.d),n=r.charAt(0),h++;i=pr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=F1(m,u+2,v).times(i+""),p=$p(new m(n+"."+r.slice(1)),u-f).plus(l),m.precision=v,e==null?(Gt=!0,It(p,v)):p;for(o=s=p=ws(p.minus(ta),p.plus(ta),u),d=It(p.times(p),u),a=3;;){if(s=It(s.times(d),u),l=o.plus(ws(s,new m(a),u)),Di(l.d).slice(0,u)===Di(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(F1(m,u+2,v).times(i+""))),o=ws(o,new m(h),u),m.precision=v,e==null?(Gt=!0,It(o,v)):o;o=l,a+=2}}function hI(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Ah(r/Xt),t.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Xt;n<a;)t.d.push(+e.slice(n,n+=Xt));e=e.slice(n),n=Xt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Gt&&(t.e>ex||t.e<-ex))throw Error(HP+r)}else t.s=0,t.e=0,t.d=[0];return t}function It(t,e,r){var n,a,i,s,o,l,u,d,h=t.d;for(s=1,i=h[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=Xt,a=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Xt),i=h.length,d>=i)return t;for(u=i=h[d],s=1;i>=10;i/=10)s++;n%=Xt,a=n-Xt+s}if(r!==void 0&&(i=wl(10,s-a-1),o=u/i%10|0,l=e<0||h[d+1]!==void 0||u%i,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?u/wl(10,s-a):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return l?(i=pr(t),h.length=1,e=e-i-1,h[0]=wl(10,(Xt-e%Xt)%Xt),t.e=Ah(-e/Xt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,i=1,d--):(h.length=d+1,i=wl(10,Xt-n),h[d]=a>0?(u/wl(10,s-a)%wl(10,a)|0)*i:0),l)for(;;)if(d==0){(h[0]+=i)==Ar&&(h[0]=1,++t.e);break}else{if(h[d]+=i,h[d]!=Ar)break;h[d--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Gt&&(t.e>ex||t.e<-ex))throw Error(HP+pr(t));return t}function OY(t,e){var r,n,a,i,s,o,l,u,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Gt?It(e,p):e;if(l=t.d,h=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=h.length):(r=h,n=u,o=l.length),a=Math.max(Math.ceil(p/Xt),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=h.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(l[a]!=h[a]){d=l[a]<h[a];break}s=0}for(d&&(r=l,l=h,h=r,e.s=-e.s),o=l.length,a=h.length-o;a>0;--a)l[o++]=0;for(a=h.length;a>s;){if(l[--a]<h[a]){for(i=a;i&&l[--i]===0;)l[i]=Ar-1;--l[i],l[a]+=Ar}l[a]-=h[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Gt?It(e,p):e):new f(0)}function gc(t,e,r){var n,a=pr(t),i=Di(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+to(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+to(-a-1)+i,r&&(n=r-s)>0&&(i+=to(n))):a>=s?(i+=to(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+to(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=to(n))),t.s<0?"-"+i:i}function fI(t,e){if(t.length>e)return t.length=e,!0}function TY(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Zl+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return hI(s,i.toString())}else if(typeof i!="string")throw Error(Zl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,c2e.test(i))hI(s,i);else throw Error(Zl+i)}if(a.prototype=Re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=TY,a.config=a.set=u2e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function u2e(t){if(!t||typeof t!="object")throw Error(Ra+"Object expected");var e,r,n,a=["precision",1,kh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Ah(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Zl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zl+r+": "+n);return this}var UP=TY(l2e);ta=new UP(1);const At=UP;function d2e(t){return m2e(t)||p2e(t)||f2e(t)||h2e()}function h2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f2e(t,e){if(t){if(typeof t=="string")return dC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dC(t,e)}}function p2e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function m2e(t){if(Array.isArray(t))return dC(t)}function dC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g2e=function(e){return e},MY={"@@functional/placeholder":!0},RY=function(e){return e===MY},pI=function(e){return function r(){return arguments.length===0||arguments.length===1&&RY(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},v2e=function t(e,r){return e===1?r:pI(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==MY}).length;return s>=e?r.apply(void 0,a):t(e-s,pI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=a.map(function(h){return RY(h)?l.shift():h});return r.apply(void 0,d2e(d).concat(l))}))})},P0=function(e){return v2e(e.length,e)},hC=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},y2e=P0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),x2e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return g2e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},fC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},IY=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=e.apply(void 0,i)),n}};function b2e(t){var e;return t===0?e=1:e=Math.floor(new At(t).abs().log(10).toNumber())+1,e}function w2e(t,e,r){for(var n=new At(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var _2e=P0(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),S2e=P0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),j2e=P0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const E0={rangeStep:w2e,getDigitCount:b2e,interpolateNumber:_2e,uninterpolateNumber:S2e,uninterpolateTruncation:j2e};function pC(t){return A2e(t)||k2e(t)||DY(t)||C2e()}function C2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k2e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function A2e(t){if(Array.isArray(t))return mC(t)}function Fp(t,e){return E2e(t)||P2e(t,e)||DY(t,e)||N2e()}function N2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DY(t,e){if(t){if(typeof t=="string")return mC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mC(t,e)}}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P2e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function E2e(t){if(Array.isArray(t))return t}function LY(t){var e=Fp(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function $Y(t,e,r){if(t.lte(0))return new At(0);var n=E0.getDigitCount(t.toNumber()),a=new At(10).pow(n),i=t.div(a),s=n!==1?.05:.1,o=new At(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return e?l:new At(Math.ceil(l))}function O2e(t,e,r){var n=1,a=new At(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new At(10).pow(E0.getDigitCount(t)-1),a=new At(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new At(Math.floor(t)))}else t===0?a=new At(Math.floor((e-1)/2)):r||(a=new At(Math.floor(t)));var s=Math.floor((e-1)/2),o=x2e(y2e(function(l){return a.add(new At(l-s).mul(n)).toNumber()}),hC);return o(0,e)}function FY(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var i=$Y(new At(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new At(0):(s=new At(t).add(e).div(2),s=s.sub(new At(s).mod(i)));var o=Math.ceil(s.sub(t).div(i).toNumber()),l=Math.ceil(new At(e).sub(s).div(i).toNumber()),u=o+l+1;return u>r?FY(t,e,r,n,a+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:i,tickMin:s.sub(new At(o).mul(i)),tickMax:s.add(new At(l).mul(i))})}function T2e(t){var e=Fp(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=LY([r,n]),l=Fp(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(pC(hC(0,a-1).map(function(){return 1/0}))):[].concat(pC(hC(0,a-1).map(function(){return-1/0})),[d]);return r>n?fC(h):h}if(u===d)return O2e(u,a,i);var f=FY(u,d,s,i),p=f.step,g=f.tickMin,m=f.tickMax,v=E0.rangeStep(g,m.add(new At(.1).mul(p)),p);return r>n?fC(v):v}function M2e(t,e){var r=Fp(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=LY([n,a]),o=Fp(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(e,2),h=$Y(new At(u).sub(l).div(d-1),i,0),f=[].concat(pC(E0.rangeStep(new At(l),new At(u).sub(new At(.99).mul(h)),h)),[u]);return n>a?fC(f):f}var R2e=IY(T2e),I2e=IY(M2e),D2e="Invariant failed";function vc(t,e){throw new Error(D2e)}var L2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tx.apply(this,arguments)}function $2e(t,e){return W2e(t)||B2e(t,e)||z2e(t,e)||F2e()}function F2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z2e(t,e){if(t){if(typeof t=="string")return mI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mI(t,e)}}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function W2e(t){if(Array.isArray(t))return t}function H2e(t,e){if(t==null)return{};var r=U2e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Y2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WY(n.key),n)}}function V2e(t,e,r){return e&&X2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q2e(t,e,r){return e=rx(e),G2e(t,zY()?Reflect.construct(e,r||[],rx(t).constructor):e.apply(t,r))}function G2e(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K2e(t)}function K2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zY=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(t)}function Z2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gC(t,e)}function gC(t,e){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gC(t,e)}function BY(t,e,r){return e=WY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WY(t){var e=Q2e(t,"string");return jd(e)=="symbol"?e:e+""}function Q2e(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nh=function(t){function e(){return Y2e(this,e),q2e(this,e,arguments)}return Z2e(e,t),V2e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=H2e(n,L2e),p=Ue(f,!1);this.props.direction==="x"&&d.type!=="number"&&vc();var g=l.map(function(m){var v=u(m,o),x=v.x,y=v.y,b=v.value,w=v.errorVal;if(!w)return null;var S=[],k,C;if(Array.isArray(w)){var A=$2e(w,2);k=A[0],C=A[1]}else k=C=w;if(i==="vertical"){var N=d.scale,P=y+a,E=P+s,O=P-s,T=N(b-k),M=N(b+C);S.push({x1:M,y1:E,x2:M,y2:O}),S.push({x1:T,y1:P,x2:M,y2:P}),S.push({x1:T,y1:E,x2:T,y2:O})}else if(i==="horizontal"){var L=h.scale,I=x+a,D=I-s,R=I+s,F=L(b-k),z=L(b+C);S.push({x1:D,y1:z,x2:R,y2:z}),S.push({x1:I,y1:F,x2:I,y2:z}),S.push({x1:D,y1:F,x2:R,y2:F})}return $.createElement(vt,tx({className:"recharts-errorBar",key:"bar-".concat(S.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},p),S.map(function(B){return $.createElement("line",tx({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return $.createElement(vt,{className:"recharts-errorBars"},g)}}])}($.Component);BY(Nh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BY(Nh,"displayName","ErrorBar");function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function gI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(r),!0).forEach(function(n){J2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J2e(t,e,r){return e=eOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eOe(t){var e=tOe(t,"string");return zp(e)=="symbol"?e:e+""}function tOe(t,e){if(zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HY=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=Jn(r,bs);if(!s)return null;var o=bs.defaultProps,l=o!==void 0?hl(hl({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,p=h.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:s.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?hl(hl({},f),h.props):{},g=p.dataKey,m=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:g,type:l.iconType||v||"square",color:YP(h),value:m||g,payload:p}}),hl(hl(hl({},l),bs.getWithHeight(s,a)),{},{payload:u,item:s})};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function vI(t){return iOe(t)||aOe(t)||nOe(t)||rOe()}function rOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nOe(t,e){if(t){if(typeof t=="string")return vC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(t,e)}}function aOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iOe(t){if(Array.isArray(t))return vC(t)}function vC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(r),!0).forEach(function(n){Du(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Du(t,e,r){return e=sOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sOe(t){var e=oOe(t,"string");return Bp(e)=="symbol"?e:e+""}function oOe(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jr(t,e,r){return Ye(t)||Ye(e)?r:_r(e)?Oa(t,e,r):Ze(e)?e(t):r}function zf(t,e,r,n){var a=a2e(t,function(o){return jr(o,e)});if(r==="number"){var i=a.filter(function(o){return be(o)||parseFloat(o)});return i.length?[N0(i),wo(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Ye(o)}):a;return s.map(function(o){return _r(o)||o instanceof Date?o:""})}var lOe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<o;u++){var d=u>0?a[u-1].coordinate:a[o-1].coordinate,h=a[u].coordinate,f=u>=o-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(si(h-d)!==si(f-h)){var g=[];if(si(f-h)===si(l[1]-l[0])){p=f;var m=h+l[1]-l[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=f+l[1]-l[0];g[0]=Math.min(h,(v+h)/2),g[1]=Math.max(h,(v+h)/2)}var x=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){s=a[u].index;break}}else{var y=Math.min(d,f),b=Math.max(d,f);if(e>(y+h)/2&&e<=(b+h)/2){s=a[u].index;break}}}else for(var w=0;w<o;w++)if(w===0&&e<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<o-1&&e>(n[w].coordinate+n[w-1].coordinate)/2&&e<=(n[w].coordinate+n[w+1].coordinate)/2||w===o-1&&e>(n[w].coordinate+n[w-1].coordinate)/2){s=n[w].index;break}return s},YP=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?nr(nr({},e.type.defaultProps),e.props):e.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},cOe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,u=o.length;l<u;l++)for(var d=i[o[l]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var g=d[h[f]],m=g.items,v=g.cateAxisId,x=m.filter(function(C){return ys(C.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?nr(nr({},y),x[0].props):x[0].props,w=b.barSize,S=b[v];s[S]||(s[S]=[]);var k=Ye(w)?r:w;s[S].push({item:x[0],stackList:x.slice(1),barSize:Ye(k)?void 0:pc(k,n,0)})}}return s},uOe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=pc(r,a,0,!0),d,h=[];if(s[0].barSize===+s[0].barSize){var f=!1,p=a/l,g=s.reduce(function(w,S){return w+S.barSize||0},0);g+=(l-1)*u,g>=a&&(g-=(l-1)*u,u=0),g>=a&&p>0&&(f=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,v={offset:m-u,size:0};d=s.reduce(function(w,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:f?p:S.barSize}},C=[].concat(vI(w),[k]);return v=C[C.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){C.push({item:A,position:v})}),C},h)}else{var x=pc(n,a,0,!0);a-2*x-(l-1)*u<=0&&(u=0);var y=(a-2*x-(l-1)*u)/l;y>1&&(y>>=0);var b=o===+o?Math.min(y,o):y;d=s.reduce(function(w,S,k){var C=[].concat(vI(w),[{item:S.item,position:{offset:x+(y+u)*k+(y-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){C.push({item:A,position:C[C.length-1].position})}),C},h)}return d},dOe=function(e,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=HY({children:i,legendWidth:l});if(u){var d=a||{},h=d.width,f=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&be(e[p]))return nr(nr({},e),{},Du({},p,e[p]+(h||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&be(e[g]))return nr(nr({},e),{},Du({},g,e[g]+(f||0)))}return e},hOe=function(e,r,n){return Ye(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},UY=function(e,r,n,a,i){var s=r.props.children,o=Yn(s,Nh).filter(function(u){return hOe(a,i,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=jr(d,n);if(Ye(h))return u;var f=Array.isArray(h)?[N0(h),wo(h)]:[h,h],p=l.reduce(function(g,m){var v=jr(d,m,0),x=f[0]-Math.abs(Array.isArray(v)?v[0]:v),y=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},fOe=function(e,r,n,a,i){var s=r.map(function(o){return UY(e,o,n,i,a)}).filter(function(o){return!Ye(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},YY=function(e,r,n,a,i){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&UY(e,l,u,a)||zf(e,u,n,i)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,h=u.length;d<h;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},XY=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},VY=function(e,r,n,a){if(a)return e.map(function(l){return l.coordinate});var i,s,o=e.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},ps=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?si(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+u,value:h,offset:u}});return d.filter(function(h){return!wh(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:a(h)+u,value:h,index:f,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,f){return{coordinate:a(h)+u,value:i?i[h]:h,index:f,offset:u}})},z1=new WeakMap,qg=function(e,r){if(typeof r!="function")return e;z1.has(e)||z1.set(e,new WeakMap);var n=z1.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},pOe=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,o=e.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Mp(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Ky(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ff(),realScaleType:"point"}:i==="category"?{scale:Mp(),realScaleType:"band"}:{scale:Ky(),realScaleType:"linear"};if(Xm(a)){var l="scale".concat(p0(a));return{scale:(dI[l]||Ff)(),realScaleType:dI[l]?l:"point"}}return Ze(a)?{scale:a}:{scale:Ff(),realScaleType:"point"}},xI=1e-4,mOe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-xI,s=Math.max(a[0],a[1])+xI,o=e(r[0]),l=e(r[n-1]);(o<i||o>s||l<i||l>s)&&e.domain([r[0],r[n-1]])}},gOe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},vOe=function(e,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!be(e[0])||e[0]<n)&&(i[0]=n),(!be(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},yOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=wh(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},xOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=wh(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},bOe={sign:yOe,expand:Ibe,none:gd,silhouette:Dbe,wiggle:Lbe,positive:xOe},wOe=function(e,r,n){var a=r.map(function(o){return o.props.dataKey}),i=bOe[n],s=Rbe().keys(a).value(function(o,l){return+jr(o,l,0)}).order(Wj).offset(i);return s(e)},_Oe=function(e,r,n,a,i,s){if(!e)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(h,f){var p,g=(p=f.type)!==null&&p!==void 0&&p.defaultProps?nr(nr({},f.type.defaultProps),f.props):f.props,m=g.stackId,v=g.hide;if(v)return h;var x=g[n],y=h[x]||{hasStack:!1,stackGroups:{}};if(_r(m)){var b=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(f),y.hasStack=!0,y.stackGroups[m]=b}else y.stackGroups[Oc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[f]};return nr(nr({},h),{},Du({},x,y))},l),d={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var x=p.stackGroups[v];return nr(nr({},m),{},Du({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:wOe(e,x.items,i)}))},g)}return nr(nr({},h),{},Du({},f,p))},d)},SOe=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=R2e(u,i,o);return e.domain([N0(d),wo(d)]),{niceTicks:d}}if(i&&a==="number"){var h=e.domain(),f=I2e(h,i,o);return{niceTicks:f}}return null};function Cd(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ye(a[e.dataKey])){var o=Ay(r,"value",a[e.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=jr(a,Ye(s)?e.dataKey:s);return Ye(l)?null:e.scale(l)}var bI=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=jr(s,r.dataKey,r.domain[o]);return Ye(l)?null:r.scale(l)-i/2+a},jOe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},COe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?nr(nr({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(_r(i)){var s=r[i];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},kOe=function(e){return e.reduce(function(r,n){return[N0(n.concat([r[0]]).filter(be)),wo(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},qY=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],o=s.stackedData,l=o.reduce(function(u,d){var h=kOe(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},wI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_I=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yC=function(e,r,n){if(Ze(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(be(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(wI.test(e[0])){var i=+wI.exec(e[0])[1];a[0]=r[0]-i}else Ze(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(be(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(_I.test(e[1])){var s=+_I.exec(e[1])[1];a[1]=r[1]+s}else Ze(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},nx=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=yP(r,function(h){return h.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},SI=function(e,r,n){return!e||!e.length||mc(e,Oa(n,"type.defaultProps.domain"))?r:e},GY=function(e,r){var n=e.type.defaultProps?nr(nr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return nr(nr({},Ue(e,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:YP(e),value:jr(r,a),type:l,payload:r,chartType:u,hide:d})};function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function jI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(r),!0).forEach(function(n){AOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AOe(t,e,r){return e=NOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NOe(t){var e=POe(t,"string");return Wp(e)=="symbol"?e:e+""}function POe(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ax=Math.PI/180,EOe=function(e){return e*180/Math.PI},zr=function(e,r,n,a){return{x:e+Math.cos(-ax*a)*n,y:r+Math.sin(-ax*a)*n}},OOe=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},TOe=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,o=OOe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,u=Math.acos(l);return a>s&&(u=2*Math.PI-u),{radius:o,angle:EOe(u),angleInRadian:u}},MOe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},ROe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return e+o*360},kI=function(e,r){var n=e.x,a=e.y,i=TOe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=MOe(r),h=d.startAngle,f=d.endAngle,p=o,g;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}return g?CI(CI({},r),{},{radius:s,angle:ROe(p,r)}):null};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}var IOe=["offset"];function DOe(t){return zOe(t)||FOe(t)||$Oe(t)||LOe()}function LOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Oe(t,e){if(t){if(typeof t=="string")return xC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xC(t,e)}}function FOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zOe(t){if(Array.isArray(t))return xC(t)}function xC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BOe(t,e){if(t==null)return{};var r=WOe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){HOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HOe(t,e,r){return e=UOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UOe(t){var e=YOe(t,"string");return Hp(e)=="symbol"?e:e+""}function YOe(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Up.apply(this,arguments)}var XOe=function(e){var r=e.value,n=e.formatter,a=Ye(e.children)?r:e.children;return Ze(n)?n(a):a},VOe=function(e,r){var n=si(r-e),a=Math.min(Math.abs(r-e),360);return n*a},qOe=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,o=e.className,l=i,u=l.cx,d=l.cy,h=l.innerRadius,f=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(h+f)/2,x=VOe(p,g),y=x>=0?1:-1,b,w;a==="insideStart"?(b=p+y*s,w=m):a==="insideEnd"?(b=g-y*s,w=!m):a==="end"&&(b=g+y*s,w=m),w=x<=0?w:!w;var S=zr(u,d,v,b),k=zr(u,d,v,b+(w?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(k.x,",").concat(k.y),A=Ye(e.id)?Oc("recharts-radial-line-"):e.id;return $.createElement("text",Up({},n,{dominantBaseline:"central",className:st("recharts-radial-bar-label",o)}),$.createElement("defs",null,$.createElement("path",{id:A,d:C})),$.createElement("textPath",{xlinkHref:"#".concat(A)},r))},GOe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,f=(d+h)/2;if(a==="outside"){var p=zr(s,o,u+n,f),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=zr(s,o,v,f),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},KOe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,h=d>=0?1:-1,f=h*a,p=h>0?"end":"start",g=h>0?"start":"end",m=u>=0?1:-1,v=m*a,x=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var b={x:o+u/2,y:l-h*a,textAnchor:"middle",verticalAnchor:p};return gr(gr({},b),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var w={x:o+u/2,y:l+d+f,textAnchor:"middle",verticalAnchor:g};return gr(gr({},w),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var S={x:o-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return gr(gr({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var k={x:o+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return gr(gr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return i==="insideLeft"?gr({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideRight"?gr({x:o+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},C):i==="insideTop"?gr({x:o+u/2,y:l+f,textAnchor:"middle",verticalAnchor:g},C):i==="insideBottom"?gr({x:o+u/2,y:l+d-f,textAnchor:"middle",verticalAnchor:p},C):i==="insideTopLeft"?gr({x:o+v,y:l+f,textAnchor:y,verticalAnchor:g},C):i==="insideTopRight"?gr({x:o+u-v,y:l+f,textAnchor:x,verticalAnchor:g},C):i==="insideBottomLeft"?gr({x:o+v,y:l+d-f,textAnchor:y,verticalAnchor:p},C):i==="insideBottomRight"?gr({x:o+u-v,y:l+d-f,textAnchor:x,verticalAnchor:p},C):vh(i)&&(be(i.x)||Tl(i.x))&&(be(i.y)||Tl(i.y))?gr({x:o+pc(i.x,u),y:l+pc(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):gr({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},ZOe=function(e){return"cx"in e&&be(e.cx)};function Jr(t){var e=t.offset,r=e===void 0?5:e,n=BOe(t,IOe),a=gr({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,u=a.content,d=a.className,h=d===void 0?"":d,f=a.textBreakAll;if(!i||Ye(o)&&Ye(l)&&!_.isValidElement(u)&&!Ze(u))return null;if(_.isValidElement(u))return _.cloneElement(u,a);var p;if(Ze(u)){if(p=_.createElement(u,a),_.isValidElement(p))return p}else p=XOe(a);var g=ZOe(i),m=Ue(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return qOe(a,p,m);var v=g?GOe(a):KOe(a);return $.createElement(Hy,Up({className:st("recharts-label",h)},m,v,{breakAll:f}),p)}Jr.displayName="Label";var KY=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,p=e.top,g=e.left,m=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(be(m)&&be(v)){if(be(h)&&be(f))return{x:h,y:f,width:m,height:v};if(be(p)&&be(g))return{x:p,y:g,width:m,height:v}}return be(h)&&be(f)?{x:h,y:f,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},QOe=function(e,r){return e?e===!0?$.createElement(Jr,{key:"label-implicit",viewBox:r}):_r(e)?$.createElement(Jr,{key:"label-implicit",viewBox:r,value:e}):_.isValidElement(e)?e.type===Jr?_.cloneElement(e,{key:"label-implicit",viewBox:r}):$.createElement(Jr,{key:"label-implicit",content:e,viewBox:r}):Ze(e)?$.createElement(Jr,{key:"label-implicit",content:e,viewBox:r}):vh(e)?$.createElement(Jr,Up({viewBox:r},e,{key:"label-implicit"})):null:null},JOe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=KY(e),s=Yn(a,Jr).map(function(l,u){return _.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=QOe(e.label,r||i);return[o].concat(DOe(s))};Jr.parseViewBox=KY;Jr.renderCallByParent=JOe;function eTe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var tTe=eTe;const rTe=Ct(tTe);function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}var nTe=["valueAccessor"],aTe=["data","dataKey","clockWise","id","textBreakAll"];function iTe(t){return cTe(t)||lTe(t)||oTe(t)||sTe()}function sTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oTe(t,e){if(t){if(typeof t=="string")return bC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bC(t,e)}}function lTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cTe(t){if(Array.isArray(t))return bC(t)}function bC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ix.apply(this,arguments)}function NI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(r),!0).forEach(function(n){uTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uTe(t,e,r){return e=dTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dTe(t){var e=hTe(t,"string");return Yp(e)=="symbol"?e:e+""}function hTe(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EI(t,e){if(t==null)return{};var r=fTe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pTe=function(e){return Array.isArray(e.value)?rTe(e.value):e.value};function Bi(t){var e=t.valueAccessor,r=e===void 0?pTe:e,n=EI(t,nTe),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=EI(n,aTe);return!a||!a.length?null:$.createElement(vt,{className:"recharts-label-list"},a.map(function(d,h){var f=Ye(i)?r(d,h):jr(d&&d.payload,i),p=Ye(o)?{}:{id:"".concat(o,"-").concat(h)};return $.createElement(Jr,ix({},Ue(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:Jr.parseViewBox(Ye(s)?d:PI(PI({},d),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}Bi.displayName="LabelList";function mTe(t,e){return t?t===!0?$.createElement(Bi,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Ze(t)?$.createElement(Bi,{key:"labelList-implicit",data:e,content:t}):vh(t)?$.createElement(Bi,ix({data:e},t,{key:"labelList-implicit"})):null:null}function gTe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Yn(n,Bi).map(function(s,o){return _.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return a;var i=mTe(t.label,e);return[i].concat(iTe(a))}Bi.renderCallByParent=gTe;function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function wC(){return wC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wC.apply(this,arguments)}function OI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(r),!0).forEach(function(n){vTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vTe(t,e,r){return e=yTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yTe(t){var e=xTe(t,"string");return Xp(e)=="symbol"?e:e+""}function xTe(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bTe=function(e,r){var n=si(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Gg=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+a,h=Math.asin(l/d)/ax,f=u?i:i+s*h,p=zr(r,n,d,f),g=zr(r,n,a,f),m=u?i-s*h:i,v=zr(r,n,d*Math.cos(h*ax),m);return{center:p,circleTangency:g,lineTangency:v,theta:h}},ZY=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,o=e.endAngle,l=bTe(s,o),u=s+l,d=zr(r,n,i,s),h=zr(r,n,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var p=zr(r,n,a,s),g=zr(r,n,a,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},wTe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=si(d-u),f=Gg({cx:r,cy:n,radius:i,angle:u,sign:h,cornerRadius:s,cornerIsExternal:l}),p=f.circleTangency,g=f.lineTangency,m=f.theta,v=Gg({cx:r,cy:n,radius:i,angle:d,sign:-h,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,b=v.theta,w=l?Math.abs(u-d):Math.abs(u-d)-m-b;if(w<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):ZY({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var k=Gg({cx:r,cy:n,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=k.circleTangency,A=k.lineTangency,N=k.theta,P=Gg({cx:r,cy:n,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=P.circleTangency,O=P.lineTangency,T=P.theta,M=l?Math.abs(u-d):Math.abs(u-d)-N-T;if(M<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},_Te={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QY=function(e){var r=TI(TI({},_Te),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(s<i||d===h)return null;var p=st("recharts-sector",f),g=s-i,m=pc(o,g,0,!0),v;return m>0&&Math.abs(d-h)<360?v=wTe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):v=ZY({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:h}),$.createElement("path",wC({},Ue(r,!0),{className:p,d:v,role:"img"}))};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function _C(){return _C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_C.apply(this,arguments)}function MI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(r),!0).forEach(function(n){STe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function STe(t,e,r){return e=jTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jTe(t){var e=CTe(t,"string");return Vp(e)=="symbol"?e:e+""}function CTe(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var II={curveBasisClosed:Sbe,curveBasisOpen:jbe,curveBasis:_be,curveBumpX:lbe,curveBumpY:cbe,curveLinearClosed:Cbe,curveLinear:g0,curveMonotoneX:kbe,curveMonotoneY:Abe,curveNatural:Nbe,curveStep:Pbe,curveStepAfter:Obe,curveStepBefore:Ebe},Kg=function(e){return e.x===+e.x&&e.y===+e.y},rf=function(e){return e.x},nf=function(e){return e.y},kTe=function(e,r){if(Ze(e))return e;var n="curve".concat(p0(e));return(n==="curveMonotone"||n==="curveBump")&&r?II["".concat(n).concat(r==="vertical"?"Y":"X")]:II[n]||g0},ATe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=kTe(n,o),h=u?i.filter(function(m){return Kg(m)}):i,f;if(Array.isArray(s)){var p=u?s.filter(function(m){return Kg(m)}):s,g=h.map(function(m,v){return RI(RI({},m),{},{base:p[v]})});return o==="vertical"?f=zg().y(nf).x1(rf).x0(function(m){return m.base.x}):f=zg().x(rf).y1(nf).y0(function(m){return m.base.y}),f.defined(Kg).curve(d),f(g)}return o==="vertical"&&be(s)?f=zg().y(nf).x1(rf).x0(s):be(s)?f=zg().x(rf).y1(nf).y0(s):f=J8().x(rf).y(nf),f.defined(Kg).curve(d),f(h)},Ql=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?ATe(e):a;return $.createElement("path",_C({},Ue(e,!1),Ny(e),{className:st("recharts-curve",r),d:s,ref:i}))},NTe=Object.getOwnPropertyNames,PTe=Object.getOwnPropertySymbols,ETe=Object.prototype.hasOwnProperty;function DI(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Zg(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=t(r,n,a);return i.delete(r),i.delete(n),l}}function LI(t){return NTe(t).concat(PTe(t))}var JY=Object.hasOwn||function(t,e){return ETe.call(t,e)};function Ph(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var eX="_owner",$I=Object.getOwnPropertyDescriptor,FI=Object.keys;function OTe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function TTe(t,e){return Ph(t.getTime(),e.getTime())}function zI(t,e,r){if(t.size!==e.size)return!1;for(var n={},a=t.entries(),i=0,s,o;(s=a.next())&&!s.done;){for(var l=e.entries(),u=!1,d=0;(o=l.next())&&!o.done;){var h=s.value,f=h[0],p=h[1],g=o.value,m=g[0],v=g[1];!u&&!n[d]&&(u=r.equals(f,m,i,d,t,e,r)&&r.equals(p,v,f,m,t,e,r))&&(n[d]=!0),d++}if(!u)return!1;i++}return!0}function MTe(t,e,r){var n=FI(t),a=n.length;if(FI(e).length!==a)return!1;for(var i;a-- >0;)if(i=n[a],i===eX&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!JY(e,i)||!r.equals(t[i],e[i],i,i,t,e,r))return!1;return!0}function af(t,e,r){var n=LI(t),a=n.length;if(LI(e).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],i===eX&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!JY(e,i)||!r.equals(t[i],e[i],i,i,t,e,r)||(s=$I(t,i),o=$I(e,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function RTe(t,e){return Ph(t.valueOf(),e.valueOf())}function ITe(t,e){return t.source===e.source&&t.flags===e.flags}function BI(t,e,r){if(t.size!==e.size)return!1;for(var n={},a=t.values(),i,s;(i=a.next())&&!i.done;){for(var o=e.values(),l=!1,u=0;(s=o.next())&&!s.done;)!l&&!n[u]&&(l=r.equals(i.value,s.value,i.value,s.value,t,e,r))&&(n[u]=!0),u++;if(!l)return!1}return!0}function DTe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var LTe="[object Arguments]",$Te="[object Boolean]",FTe="[object Date]",zTe="[object Map]",BTe="[object Number]",WTe="[object Object]",HTe="[object RegExp]",UTe="[object Set]",YTe="[object String]",XTe=Array.isArray,WI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,HI=Object.assign,VTe=Object.prototype.toString.call.bind(Object.prototype.toString);function qTe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,a=t.areObjectsEqual,i=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,o=t.areSetsEqual,l=t.areTypedArraysEqual;return function(d,h,f){if(d===h)return!0;if(d==null||h==null||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;var p=d.constructor;if(p!==h.constructor)return!1;if(p===Object)return a(d,h,f);if(XTe(d))return e(d,h,f);if(WI!=null&&WI(d))return l(d,h,f);if(p===Date)return r(d,h,f);if(p===RegExp)return s(d,h,f);if(p===Map)return n(d,h,f);if(p===Set)return o(d,h,f);var g=VTe(d);return g===FTe?r(d,h,f):g===HTe?s(d,h,f):g===zTe?n(d,h,f):g===UTe?o(d,h,f):g===WTe?typeof d.then!="function"&&typeof h.then!="function"&&a(d,h,f):g===LTe?a(d,h,f):g===$Te||g===BTe||g===YTe?i(d,h,f):!1}}function GTe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?af:OTe,areDatesEqual:TTe,areMapsEqual:n?DI(zI,af):zI,areObjectsEqual:n?af:MTe,arePrimitiveWrappersEqual:RTe,areRegExpsEqual:ITe,areSetsEqual:n?DI(BI,af):BI,areTypedArraysEqual:n?af:DTe};if(r&&(a=HI({},a,r(a))),e){var i=Zg(a.areArraysEqual),s=Zg(a.areMapsEqual),o=Zg(a.areObjectsEqual),l=Zg(a.areSetsEqual);a=HI({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function KTe(t){return function(e,r,n,a,i,s,o){return t(e,r,o)}}function ZTe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(l,u){var d=n(),h=d.cache,f=h===void 0?e?new WeakMap:void 0:h,p=d.meta;return r(l,u,{cache:f,equals:a,meta:p,strict:i})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,s)}}var QTe=ul();ul({strict:!0});ul({circular:!0});ul({circular:!0,strict:!0});ul({createInternalComparator:function(){return Ph}});ul({strict:!0,createInternalComparator:function(){return Ph}});ul({circular:!0,createInternalComparator:function(){return Ph}});ul({circular:!0,createInternalComparator:function(){return Ph},strict:!0});function ul(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,o=GTe(t),l=qTe(o),u=n?n(l):KTe(l);return ZTe({circular:r,comparator:l,createState:a,equals:u,strict:s})}function JTe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function UI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):JTe(a)};requestAnimationFrame(n)}function SC(t){"@babel/helpers - typeof";return SC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SC(t)}function eMe(t){return aMe(t)||nMe(t)||rMe(t)||tMe()}function tMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rMe(t,e){if(t){if(typeof t=="string")return YI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YI(t,e)}}function YI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aMe(t){if(Array.isArray(t))return t}function iMe(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=eMe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){UI(a.bind(null,u),l);return}a(l),UI(a.bind(null,u));return}SC(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function XI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(r),!0).forEach(function(n){tX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tX(t,e,r){return e=sMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sMe(t){var e=oMe(t,"string");return qp(e)==="symbol"?e:String(e)}function oMe(t,e){if(qp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lMe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},cMe=function(e){return e},uMe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Bf=function(e,r){return Object.keys(r).reduce(function(n,a){return VI(VI({},n),{},tX({},a,e(a,r[a])))},{})},qI=function(e,r,n){return e.map(function(a){return"".concat(uMe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function dMe(t,e){return pMe(t)||fMe(t,e)||rX(t,e)||hMe()}function hMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function pMe(t){if(Array.isArray(t))return t}function mMe(t){return yMe(t)||vMe(t)||rX(t)||gMe()}function gMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rX(t,e){if(t){if(typeof t=="string")return jC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jC(t,e)}}function vMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yMe(t){if(Array.isArray(t))return jC(t)}function jC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var sx=1e-4,nX=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},aX=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},GI=function(e,r){return function(n){var a=nX(e,r);return aX(a,n)}},xMe=function(e,r){return function(n){var a=nX(e,r),i=[].concat(mMe(a.map(function(s,o){return s*o}).slice(1)),[0]);return aX(i,n)}},KI=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=dMe(u,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var h=GI(a,s),f=GI(i,o),p=xMe(a,s),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var y=x>1?1:x,b=y,w=0;w<8;++w){var S=h(b)-y,k=p(b);if(Math.abs(S-y)<sx||k<sx)return f(b);b=g(b-S/k)}return f(b)};return m.isStepper=!1,m},bMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,o=s===void 0?17:s,l=function(d,h,f){var p=-(d-h)*n,g=f*i,m=f+(p-g)*o/1e3,v=f*o/1e3+d;return Math.abs(v-h)<sx&&Math.abs(m)<sx?[h,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},wMe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KI(a);case"spring":return bMe();default:if(a.split("(")[0]==="cubic-bezier")return KI(a)}return typeof a=="function"?a:null};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function ZI(t){return jMe(t)||SMe(t)||iX(t)||_Me()}function _Me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jMe(t){if(Array.isArray(t))return kC(t)}function QI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(r),!0).forEach(function(n){CC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CC(t,e,r){return e=CMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CMe(t){var e=kMe(t,"string");return Gp(e)==="symbol"?e:String(e)}function kMe(t,e){if(Gp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AMe(t,e){return EMe(t)||PMe(t,e)||iX(t,e)||NMe()}function NMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iX(t,e){if(t){if(typeof t=="string")return kC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function EMe(t){if(Array.isArray(t))return t}var ox=function(e,r,n){return e+(r-e)*n},AC=function(e){var r=e.from,n=e.to;return r!==n},OMe=function t(e,r,n){var a=Bf(function(i,s){if(AC(s)){var o=e(s.from,s.to,s.velocity),l=AMe(o,2),u=l[0],d=l[1];return Dr(Dr({},s),{},{from:u,velocity:d})}return s},r);return n<1?Bf(function(i,s){return AC(s)?Dr(Dr({},s),{},{velocity:ox(s.velocity,a[i].velocity,n),from:ox(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const TMe=function(t,e,r,n,a){var i=lMe(t,e),s=i.reduce(function(v,x){return Dr(Dr({},v),{},CC({},x,[t[x],e[x]]))},{}),o=i.reduce(function(v,x){return Dr(Dr({},v),{},CC({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,h=function(){return null},f=function(){return Bf(function(x,y){return y.from},o)},p=function(){return!Object.values(o).filter(AC).length},g=function(x){u||(u=x);var y=x-u,b=y/r.dt;o=OMe(r,o,b),a(Dr(Dr(Dr({},t),e),f())),u=x,p()||(l=requestAnimationFrame(h))},m=function(x){d||(d=x);var y=(x-d)/n,b=Bf(function(S,k){return ox.apply(void 0,ZI(k).concat([r(y)]))},s);if(a(Dr(Dr(Dr({},t),e),b)),y<1)l=requestAnimationFrame(h);else{var w=Bf(function(S,k){return ox.apply(void 0,ZI(k).concat([r(1)]))},s);a(Dr(Dr(Dr({},t),e),w))}};return h=r.isStepper?g:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}var MMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function RMe(t,e){if(t==null)return{};var r=IMe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IMe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function B1(t){return FMe(t)||$Me(t)||LMe(t)||DMe()}function DMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LMe(t,e){if(t){if(typeof t=="string")return NC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(t,e)}}function $Me(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FMe(t){if(Array.isArray(t))return NC(t)}function NC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(r),!0).forEach(function(n){vf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vf(t,e,r){return e=sX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sX(n.key),n)}}function WMe(t,e,r){return e&&BMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sX(t){var e=HMe(t,"string");return kd(e)==="symbol"?e:String(e)}function HMe(t,e){if(kd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PC(t,e)}function PC(t,e){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PC(t,e)}function YMe(t){var e=XMe();return function(){var n=lx(t),a;if(e){var i=lx(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return EC(this,a)}}function EC(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OC(t)}function OC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lx(t)}var vi=function(t){UMe(r,t);var e=YMe(r);function r(n,a){var i;zMe(this,r),i=e.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,h=s.steps,f=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(OC(i)),i.changeStyle=i.changeStyle.bind(OC(i)),!o||p<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),EC(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof f=="function")return i.state={style:u},EC(i);i.state={style:l?vf({},l,u):u}}else i.state={style:{}};return i}return WMe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,f=this.state.style;if(o){if(!s){var p={style:l?vf({},l,d):d};this.state&&f&&(l&&f[l]!==d||!l&&f!==d)&&this.setState(p);return}if(!(QTe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?h:a.to;if(this.state&&f){var v={style:l?vf({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(v)}this.runAnimation(Fa(Fa({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,p=TMe(s,o,wMe(u),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([f,d,g,l,h])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,u=s[0],d=u.style,h=u.duration,f=h===void 0?0:h,p=function(m,v,x){if(x===0)return m;var y=v.duration,b=v.easing,w=b===void 0?"ease":b,S=v.style,k=v.properties,C=v.onAnimationEnd,A=x>0?s[x-1]:v,N=k||Object.keys(S);if(typeof w=="function"||w==="spring")return[].concat(B1(m),[i.runJSAnimation.bind(i,{from:A.style,to:S,duration:y,easing:w}),y]);var P=qI(N,y,w),E=Fa(Fa(Fa({},A.style),S),{},{transition:P});return[].concat(B1(m),[E,y,C]).filter(cMe)};return this.manager.start([l].concat(B1(s.reduce(p,[d,Math.max(f,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=iMe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var m=o?vf({},o,l):l,v=qI(Object.keys(m),s,u);g.start([d,i,Fa(Fa({},m),{},{transition:v}),s,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=RMe(a,MMe),u=_.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||u===0||s<=0)return i;var h=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,x=g.className,y=_.cloneElement(p,Fa(Fa({},l),{},{style:Fa(Fa({},v),d),className:x}));return y};return u===1?h(_.Children.only(i)):$.createElement("div",null,_.Children.map(i,function(f){return h(f)}))}}]),r}(_.PureComponent);vi.displayName="Animate";vi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vi.propTypes={from:Ke.oneOfType([Ke.object,Ke.string]),to:Ke.oneOfType([Ke.object,Ke.string]),attributeName:Ke.string,duration:Ke.number,begin:Ke.number,easing:Ke.oneOfType([Ke.string,Ke.func]),steps:Ke.arrayOf(Ke.shape({duration:Ke.number.isRequired,style:Ke.object.isRequired,easing:Ke.oneOfType([Ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ke.func]),properties:Ke.arrayOf("string"),onAnimationEnd:Ke.func})),children:Ke.oneOfType([Ke.node,Ke.func]),isActive:Ke.bool,canBegin:Ke.bool,onAnimationEnd:Ke.func,shouldReAnimate:Ke.bool,onAnimationStart:Ke.func,onAnimationReStart:Ke.func};Ke.object,Ke.object,Ke.object,Ke.element;Ke.object,Ke.object,Ke.object,Ke.oneOfType([Ke.array,Ke.element]),Ke.any;function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cx.apply(this,arguments)}function VMe(t,e){return ZMe(t)||KMe(t,e)||GMe(t,e)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GMe(t,e){if(t){if(typeof t=="string")return eD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eD(t,e)}}function eD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function ZMe(t){if(Array.isArray(t))return t}function tD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(r),!0).forEach(function(n){QMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QMe(t,e,r){return e=JMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JMe(t){var e=eRe(t,"string");return Kp(e)=="symbol"?e:e+""}function eRe(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nD=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=i[f]>s?s:i[f];d="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(r)),d+="L ".concat(e+n-l*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*h[1])),d+="L ".concat(e+n,",").concat(r+a-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(r+a)),d+="L ".concat(e+l*h[3],",").concat(r+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-o*h[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(e,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*g,`
            L `).concat(e+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-l*g,",").concat(r+a,`
            L `).concat(e+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-o*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},tRe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(i,i+o),d=Math.max(i,i+o),h=Math.min(s,s+l),f=Math.max(s,s+l);return n>=u&&n<=d&&a>=h&&a<=f}return!1},rRe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XP=function(e){var r=rD(rD({},rRe),e),n=_.useRef(),a=_.useState(-1),i=VMe(a,2),s=i[0],o=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var b=st("recharts-rectangle",p);return y?$.createElement(vi,{canBegin:s>0,from:{width:d,height:h,x:l,y:u},to:{width:d,height:h,x:l,y:u},duration:m,animationEasing:g,isActive:y},function(w){var S=w.width,k=w.height,C=w.x,A=w.y;return $.createElement(vi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},$.createElement("path",cx({},Ue(r,!0),{className:b,d:nD(C,A,S,k,f),ref:n})))}):$.createElement("path",cx({},Ue(r,!0),{className:b,d:nD(l,u,d,h,f)}))};function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TC.apply(this,arguments)}var O0=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=st("recharts-dot",i);return r===+r&&n===+n&&a===+a?$.createElement("circle",TC({},Ue(e,!1),Ny(e),{className:s,cx:r,cy:n,r:a})):null};function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}var nRe=["x","y","top","left","width","height","className"];function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MC.apply(this,arguments)}function aD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aRe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(r),!0).forEach(function(n){iRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iRe(t,e,r){return e=sRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sRe(t){var e=oRe(t,"string");return Zp(e)=="symbol"?e:e+""}function oRe(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lRe(t,e){if(t==null)return{};var r=cRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uRe=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},dRe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,h=d===void 0?0:d,f=e.height,p=f===void 0?0:f,g=e.className,m=lRe(e,nRe),v=aRe({x:n,y:i,top:o,left:u,width:h,height:p},m);return!be(n)||!be(i)||!be(h)||!be(p)||!be(o)||!be(u)?null:$.createElement("path",MC({},Ue(v,!0),{className:st("recharts-cross",g),d:uRe(n,i,h,p,o,u)}))},hRe=SU,fRe=hRe(Object.getPrototypeOf,Object),pRe=fRe,mRe=Ls,gRe=pRe,vRe=$s,yRe="[object Object]",xRe=Function.prototype,bRe=Object.prototype,oX=xRe.toString,wRe=bRe.hasOwnProperty,_Re=oX.call(Object);function SRe(t){if(!vRe(t)||mRe(t)!=yRe)return!1;var e=gRe(t);if(e===null)return!0;var r=wRe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&oX.call(r)==_Re}var jRe=SRe;const CRe=Ct(jRe);var kRe=Ls,ARe=$s,NRe="[object Boolean]";function PRe(t){return t===!0||t===!1||ARe(t)&&kRe(t)==NRe}var ERe=PRe;const ORe=Ct(ERe);function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ux.apply(this,arguments)}function TRe(t,e){return DRe(t)||IRe(t,e)||RRe(t,e)||MRe()}function MRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RRe(t,e){if(t){if(typeof t=="string")return iD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iD(t,e)}}function iD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function DRe(t){if(Array.isArray(t))return t}function sD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(r),!0).forEach(function(n){LRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LRe(t,e,r){return e=$Re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Re(t){var e=FRe(t,"string");return Qp(e)=="symbol"?e:e+""}function FRe(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lD=function(e,r,n,a,i){var s=n-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+i),o+="L ".concat(e+n-s/2-a,",").concat(r+i),o+="L ".concat(e,",").concat(r," Z"),o},zRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BRe=function(e){var r=oD(oD({},zRe),e),n=_.useRef(),a=_.useState(-1),i=TRe(a,2),s=i[0],o=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var y=st("recharts-trapezoid",p);return x?$.createElement(vi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:l,y:u},duration:m,animationEasing:g,isActive:x},function(b){var w=b.upperWidth,S=b.lowerWidth,k=b.height,C=b.x,A=b.y;return $.createElement(vi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},$.createElement("path",ux({},Ue(r,!0),{className:y,d:lD(C,A,w,S,k),ref:n})))}):$.createElement("g",null,$.createElement("path",ux({},Ue(r,!0),{className:y,d:lD(l,u,d,h,f)})))},WRe=["option","shapeType","propTransformer","activeClassName","isActive"];function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function HRe(t,e){if(t==null)return{};var r=URe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function URe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(r),!0).forEach(function(n){YRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YRe(t,e,r){return e=XRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XRe(t){var e=VRe(t,"string");return Jp(e)=="symbol"?e:e+""}function VRe(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qRe(t,e){return dx(dx({},e),t)}function GRe(t,e){return t==="symbols"}function uD(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return $.createElement(XP,r);case"trapezoid":return $.createElement(BRe,r);case"sector":return $.createElement(QY,r);case"symbols":if(GRe(e))return $.createElement(y0,r);break;default:return null}}function KRe(t){return _.isValidElement(t)?t.props:t}function RC(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?qRe:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,o=t.isActive,l=HRe(t,WRe),u;if(_.isValidElement(e))u=_.cloneElement(e,dx(dx({},l),KRe(e)));else if(Ze(e))u=e(l);else if(CRe(e)&&!ORe(e)){var d=a(e,l);u=$.createElement(uD,{shapeType:r,elementProps:d})}else{var h=l;u=$.createElement(uD,{shapeType:r,elementProps:h})}return o?$.createElement(vt,{className:s},u):u}function T0(t,e){return e!=null&&"trapezoids"in t.props}function M0(t,e){return e!=null&&"sectors"in t.props}function em(t,e){return e!=null&&"points"in t.props}function ZRe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function QRe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function JRe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function eIe(t,e){var r;return T0(t,e)?r=ZRe:M0(t,e)?r=QRe:em(t,e)&&(r=JRe),r}function tIe(t,e){var r;return T0(t,e)?r="trapezoids":M0(t,e)?r="sectors":em(t,e)&&(r="points"),r}function rIe(t,e){if(T0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(M0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return em(t,e)?e.payload:{}}function nIe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=tIe(r,e),i=rIe(r,e),s=n.filter(function(l,u){var d=mc(i,l),h=r.props[a].filter(function(g){var m=eIe(r,e);return m(g,e)}),f=r.props[a].indexOf(h[h.length-1]),p=u===f;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var aIe=Math.ceil,iIe=Math.max;function sIe(t,e,r,n){for(var a=-1,i=iIe(aIe((e-t)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=t,t+=r;return s}var oIe=sIe,lIe=WU,dD=1/0,cIe=17976931348623157e292;function uIe(t){if(!t)return t===0?t:0;if(t=lIe(t),t===dD||t===-dD){var e=t<0?-1:1;return e*cIe}return t===t?t:0}var lX=uIe,dIe=oIe,hIe=w0,W1=lX;function fIe(t){return function(e,r,n){return n&&typeof n!="number"&&hIe(e,r,n)&&(r=n=void 0),e=W1(e),r===void 0?(r=e,e=0):r=W1(r),n=n===void 0?e<r?1:-1:W1(n),dIe(e,r,n,t)}}var pIe=fIe,mIe=pIe,gIe=mIe(),vIe=gIe;const hx=Ct(vIe);function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function hD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(r),!0).forEach(function(n){cX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cX(t,e,r){return e=yIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yIe(t){var e=xIe(t,"string");return tm(e)=="symbol"?e:e+""}function xIe(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bIe=["Webkit","Moz","O","ms"],wIe=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=bIe.reduce(function(i,s){return fD(fD({},i),{},cX({},s+n,r))},{});return a[e]=r,a};function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fx.apply(this,arguments)}function pD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function H1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(r),!0).forEach(function(n){Gn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dX(n.key),n)}}function SIe(t,e,r){return e&&mD(t.prototype,e),r&&mD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jIe(t,e,r){return e=px(e),CIe(t,uX()?Reflect.construct(e,r||[],px(t).constructor):e.apply(t,r))}function CIe(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kIe(t)}function kIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uX=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},px(t)}function AIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IC(t,e)}function IC(t,e){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IC(t,e)}function Gn(t,e,r){return e=dX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dX(t){var e=NIe(t,"string");return Ad(e)=="symbol"?e:e+""}function NIe(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PIe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Ff().domain(hx(0,l)).range([i,i+s-o]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},gD=function(e){return e.changedTouches&&!!e.changedTouches.length},Nd=function(t){function e(r){var n;return _Ie(this,e),n=jIe(this,e,[r]),Gn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Gn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Gn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Gn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Gn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Gn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Gn(n,"handleSlideDragStart",function(a){var i=gD(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return AIe(e,t),SIe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,h=Math.min(a,i),f=Math.max(a,i),p=e.getIndexInRange(s,h),g=e.getIndexInRange(s,f);return{startIndex:p-p%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=jr(i[n],o,n);return Ze(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,u=l.x,d=l.width,h=l.travellerWidth,f=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-h-o,u+d-h-s):m<0&&(m=Math.max(m,u-s,u-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==f||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=gD(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,u=this.state[s],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,h+f-p-u):y<0&&(y=Math.max(y,h-u)),x[s]=u+y;var b=this.getIndex(x),w=b.startIndex,S=b.endIndex,k=function(){var A=v.length-1;return s==="startX"&&(o>l?w%m===0:S%m===0)||o<l&&S===A||s==="endX"&&(o>l?S%m===0:w%m===0)||o>l&&S===A};this.setState(Gn(Gn({},s,u+y),"brushMoveStartX",n.pageX),function(){g&&k()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[a],h=o.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=o.length)){var p=o[f];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(Gn({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return $.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,h=_.Children.only(u);return h?$.cloneElement(h,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,h=l.height,f=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=H1(H1({},Ue(this.props,!1)),{},{x,y:u,width:d,height:h}),b=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return $.createElement(vt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,h=Math.max(Math.abs(a-n)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:h,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,p=5,g={pointerEvents:"none",fill:u};return $.createElement(vt,{className:"recharts-brush-texts"},$.createElement(Hy,fx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:s+o/2},g),this.getTextOfTick(a)),$.createElement(Hy,fx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,p=f.startX,g=f.endX,m=f.isTextActive,v=f.isSlideMoving,x=f.isTravellerMoving,y=f.isTravellerFocused;if(!a||!a.length||!be(o)||!be(l)||!be(u)||!be(d)||u<=0||d<=0)return null;var b=st("recharts-brush",i),w=$.Children.count(s)===1,S=wIe("userSelect","none");return $.createElement(vt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(i+o/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),$.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return $.isValidElement(n)?i=$.cloneElement(n,a):Ze(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return H1({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?PIe({data:i,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var f=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(_.PureComponent);Gn(Nd,"displayName","Brush");Gn(Nd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var EIe=vP;function OIe(t,e){var r;return EIe(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var TIe=OIe,MIe=mU,RIe=ol,IIe=TIe,DIe=Vn,LIe=w0;function $Ie(t,e,r){var n=DIe(t)?MIe:IIe;return r&&LIe(t,e,r)&&(e=void 0),n(t,RIe(e))}var FIe=$Ie;const zIe=Ct(FIe);var Wi=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},vD=LU;function BIe(t,e,r){e=="__proto__"&&vD?vD(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var WIe=BIe,HIe=WIe,UIe=IU,YIe=ol;function XIe(t,e){var r={};return e=YIe(e),UIe(t,function(n,a,i){HIe(r,a,e(n,a,i))}),r}var VIe=XIe;const qIe=Ct(VIe);function GIe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var KIe=GIe,ZIe=vP;function QIe(t,e){var r=!0;return ZIe(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var JIe=QIe,eDe=KIe,tDe=JIe,rDe=ol,nDe=Vn,aDe=w0;function iDe(t,e,r){var n=nDe(t)?eDe:tDe;return r&&aDe(t,e,r)&&(e=void 0),n(t,rDe(e))}var sDe=iDe;const hX=Ct(sDe);var oDe=["x","y"];function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DC.apply(this,arguments)}function yD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(r),!0).forEach(function(n){lDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lDe(t,e,r){return e=cDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cDe(t){var e=uDe(t,"string");return rm(e)=="symbol"?e:e+""}function uDe(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dDe(t,e){if(t==null)return{};var r=hDe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fDe(t,e){var r=t.x,n=t.y,a=dDe(t,oDe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||a.height),d=parseInt(u,10),h="".concat(e.width||a.width),f=parseInt(h,10);return sf(sf(sf(sf(sf({},e),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function xD(t){return $.createElement(RC,DC({shapeType:"rectangle",propTransformer:fDe,activeClassName:"recharts-active-bar"},t))}var pDe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,a):(i||vc(),r)}},mDe=["value","background"],fX;function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function gDe(t,e){if(t==null)return{};var r=vDe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mx.apply(this,arguments)}function bD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(r),!0).forEach(function(n){_o(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mX(n.key),n)}}function xDe(t,e,r){return e&&wD(t.prototype,e),r&&wD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bDe(t,e,r){return e=gx(e),wDe(t,pX()?Reflect.construct(e,r||[],gx(t).constructor):e.apply(t,r))}function wDe(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _De(t)}function _De(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pX=function(){return!!t})()}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gx(t)}function SDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LC(t,e)}function LC(t,e){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LC(t,e)}function _o(t,e,r){return e=mX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mX(t){var e=jDe(t,"string");return Pd(e)=="symbol"?e:e+""}function jDe(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vi=function(t){function e(){var r;yDe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=bDe(this,e,[].concat(a)),_o(r,"state",{isAnimationFinished:!1}),_o(r,"id",Oc("recharts-bar-")),_o(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),_o(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return SDe(e,t),xDe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,u=i.activeBar,d=Ue(this.props,!1);return n&&n.map(function(h,f){var p=f===l,g=p?u:s,m=dr(dr(dr({},d),h),{},{isActive:p,option:g,index:f,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return $.createElement(vt,mx({className:"recharts-bar-rectangle"},Cp(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),$.createElement(xD,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,f=this.state.prevData;return $.createElement(vi,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,x){var y=f&&f[x];if(y){var b=lr(y.x,v.x),w=lr(y.y,v.y),S=lr(y.width,v.width),k=lr(y.height,v.height);return dr(dr({},v),{},{x:b(g),y:w(g),width:S(g),height:k(g)})}if(s==="horizontal"){var C=lr(0,v.height),A=C(g);return dr(dr({},v),{},{y:v.y+v.height-A,height:A})}var N=lr(0,v.width),P=N(g);return dr(dr({},v),{},{width:P})});return $.createElement(vt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!mc(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=Ue(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,f=gDe(u,mDe);if(!h)return null;var p=dr(dr(dr(dr(dr({},f),{},{fill:"#eee"},h),l),Cp(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(xD,mx({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,h=Yn(d,Nh);if(!h)return null;var f=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:jr(v,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(vt,g,h.map(function(m){return $.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=st("recharts-bar",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,w=y||b,S=Ye(m)?this.id:m;return $.createElement(vt,{className:x},y||b?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:y?u:u-h/2,y:b?d:d-f/2,width:y?h:h*2,height:b?f:f*2}))):null,$.createElement(vt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,S),(!p||v)&&Bi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(_.PureComponent);fX=Vi;_o(Vi,"displayName","Bar");_o(Vi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!di.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_o(Vi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=gOe(n,r);if(!p)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?dr(dr({},m),r.props):r.props,x=v.dataKey,y=v.children,b=v.minPointSize,w=g==="horizontal"?s:i,S=u?w.scale.domain():null,k=jOe({numericAxis:w}),C=Yn(y,bP),A=h.map(function(N,P){var E,O,T,M,L,I;u?E=vOe(u[d+P],S):(E=jr(N,x),Array.isArray(E)||(E=[k,E]));var D=pDe(b,fX.defaultProps.minPointSize)(E[1],P);if(g==="horizontal"){var R,F=[s.scale(E[0]),s.scale(E[1])],z=F[0],B=F[1];O=bI({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:N,index:P}),T=(R=B??z)!==null&&R!==void 0?R:void 0,M=p.size;var q=z-B;if(L=Number.isNaN(q)?0:q,I={x:O,y:s.y,width:M,height:s.height},Math.abs(D)>0&&Math.abs(L)<Math.abs(D)){var ie=si(L||D)*(Math.abs(D)-Math.abs(L));T-=ie,L+=ie}}else{var ne=[i.scale(E[0]),i.scale(E[1])],Ne=ne[0],fe=ne[1];if(O=Ne,T=bI({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:N,index:P}),M=fe-Ne,L=p.size,I={x:i.x,y:T,width:i.width,height:L},Math.abs(D)>0&&Math.abs(M)<Math.abs(D)){var X=si(M||D)*(Math.abs(D)-Math.abs(M));M+=X}}return dr(dr(dr({},N),{},{x:O,y:T,width:M,height:L,value:u?E:E[1],payload:N,background:I},C&&C[P]&&C[P].props),{},{tooltipPayload:[GY(r,N)],tooltipPosition:{x:O+M/2,y:T+L/2}})});return dr({data:A,layout:g},f)});function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function CDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gX(n.key),n)}}function kDe(t,e,r){return e&&_D(t.prototype,e),r&&_D(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(r),!0).forEach(function(n){R0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R0(t,e,r){return e=gX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gX(t){var e=ADe(t,"string");return nm(e)=="symbol"?e:e+""}function ADe(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VP=function(e,r,n,a,i){var s=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},f=!!Jn(u,Vi);return d.reduce(function(p,g){var m=r[g],v=m.orientation,x=m.domain,y=m.padding,b=y===void 0?{}:y,w=m.mirror,S=m.reversed,k="".concat(v).concat(w?"Mirror":""),C,A,N,P,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=x[1]-x[0],T=1/0,M=m.categoricalDomain.sort();if(M.forEach(function(ne,Ne){Ne>0&&(T=Math.min((ne||0)-(M[Ne-1]||0),T))}),Number.isFinite(T)){var L=T/O,I=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(C=L*I/2),m.padding==="no-gap"){var D=pc(e.barCategoryGap,L*I),R=L*I/2;C=R-D-(R-D)/I*D}}}a==="xAxis"?A=[n.left+(b.left||0)+(C||0),n.left+n.width-(b.right||0)-(C||0)]:a==="yAxis"?A=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(C||0),n.top+n.height-(b.bottom||0)-(C||0)]:A=m.range,S&&(A=[A[1],A[0]]);var F=pOe(m,i,f),z=F.scale,B=F.realScaleType;z.domain(x).range(A),mOe(z);var q=SOe(z,Za(Za({},m),{},{realScaleType:B}));a==="xAxis"?(E=v==="top"&&!w||v==="bottom"&&w,N=n.left,P=h[k]-E*m.height):a==="yAxis"&&(E=v==="left"&&!w||v==="right"&&w,N=h[k]-E*m.width,P=n.top);var ie=Za(Za(Za({},m),q),{},{realScaleType:B,x:N,y:P,scale:z,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return ie.bandSize=nx(ie,q),!m.hide&&a==="xAxis"?h[k]+=(E?-1:1)*ie.height:m.hide||(h[k]+=(E?-1:1)*ie.width),Za(Za({},p),{},R0({},g,ie))},{})},vX=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},NDe=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return vX({x:r,y:n},{x:a,y:i})},yX=function(){function t(e){CDe(this,t),this.scale=e}return kDe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();R0(yX,"EPS",1e-4);var qP=function(e){var r=Object.keys(e).reduce(function(n,a){return Za(Za({},n),{},R0({},a,yX.create(e[a])))},{});return Za(Za({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return qIe(a,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return hX(a,function(i,s){return r[s].isInRange(i)})}})};function PDe(t){return(t%180+180)%180}var EDe=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=PDe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},ODe=ol,TDe=Vm,MDe=x0;function RDe(t){return function(e,r,n){var a=Object(e);if(!TDe(e)){var i=ODe(r);e=MDe(e),r=function(o){return i(a[o],o,a)}}var s=t(e,r,n);return s>-1?a[i?e[s]:s]:void 0}}var IDe=RDe,DDe=lX;function LDe(t){var e=DDe(t),r=e%1;return e===e?r?e-r:e:0}var $De=LDe,FDe=PU,zDe=ol,BDe=$De,WDe=Math.max;function HDe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:BDe(r);return a<0&&(a=WDe(n+a,0)),FDe(t,zDe(e),a)}var UDe=HDe,YDe=IDe,XDe=UDe,VDe=YDe(XDe),qDe=VDe;const GDe=Ct(qDe);var KDe=eye(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),GP=_.createContext(void 0),KP=_.createContext(void 0),xX=_.createContext(void 0),bX=_.createContext({}),wX=_.createContext(void 0),_X=_.createContext(0),SX=_.createContext(0),jD=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,d=KDe(i);return $.createElement(GP.Provider,{value:n},$.createElement(KP.Provider,{value:a},$.createElement(bX.Provider,{value:i},$.createElement(xX.Provider,{value:d},$.createElement(wX.Provider,{value:s},$.createElement(_X.Provider,{value:u},$.createElement(SX.Provider,{value:l},o)))))))},ZDe=function(){return _.useContext(wX)},jX=function(e){var r=_.useContext(GP);r==null&&vc();var n=r[e];return n==null&&vc(),n},QDe=function(){var e=_.useContext(GP);return oo(e)},JDe=function(){var e=_.useContext(KP),r=GDe(e,function(n){return hX(n.domain,Number.isFinite)});return r||oo(e)},CX=function(e){var r=_.useContext(KP);r==null&&vc();var n=r[e];return n==null&&vc(),n},eLe=function(){var e=_.useContext(xX);return e},tLe=function(){return _.useContext(bX)},ZP=function(){return _.useContext(SX)},QP=function(){return _.useContext(_X)};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function rLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AX(n.key),n)}}function aLe(t,e,r){return e&&nLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iLe(t,e,r){return e=vx(e),sLe(t,kX()?Reflect.construct(e,r||[],vx(t).constructor):e.apply(t,r))}function sLe(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oLe(t)}function oLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kX=function(){return!!t})()}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vx(t)}function lLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$C(t,e)}function CD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(r),!0).forEach(function(n){JP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JP(t,e,r){return e=AX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AX(t){var e=cLe(t,"string");return Ed(e)=="symbol"?e:e+""}function cLe(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uLe(t,e){return pLe(t)||fLe(t,e)||hLe(t,e)||dLe()}function dLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hLe(t,e){if(t){if(typeof t=="string")return AD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AD(t,e)}}function AD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function pLe(t){if(Array.isArray(t))return t}function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FC.apply(this,arguments)}var mLe=function(e,r){var n;return $.isValidElement(e)?n=$.cloneElement(e,r):Ze(e)?n=e(r):n=$.createElement("line",FC({},r,{className:"recharts-reference-line-line"})),n},gLe=function(e,r,n,a,i,s,o,l,u){var d=i.x,h=i.y,f=i.width,p=i.height;if(n){var g=u.y,m=e.y.apply(g,{position:s});if(Wi(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:d+f,y:m},{x:d,y:m}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=e.x.apply(x,{position:s});if(Wi(u,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:h+p},{x:y,y:h}];return o==="top"?b.reverse():b}if(a){var w=u.segment,S=w.map(function(k){return e.apply(k,{position:s})});return Wi(u,"discard")&&zIe(S,function(k){return!e.isInRange(k)})?null:S}return null};function vLe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=ZDe(),d=jX(a),h=CX(i),f=eLe();if(!u||!f)return null;xs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=qP({x:d.scale,y:h.scale}),g=_r(e),m=_r(r),v=n&&n.length===2,x=gLe(p,g,m,v,f,t.position,d.orientation,h.orientation,t);if(!x)return null;var y=uLe(x,2),b=y[0],w=b.x,S=b.y,k=y[1],C=k.x,A=k.y,N=Wi(t,"hidden")?"url(#".concat(u,")"):void 0,P=kD(kD({clipPath:N},Ue(t,!0)),{},{x1:w,y1:S,x2:C,y2:A});return $.createElement(vt,{className:st("recharts-reference-line",o)},mLe(s,P),Jr.renderCallByParent(t,NDe({x1:w,y1:S,x2:C,y2:A})))}var Il=function(t){function e(){return rLe(this,e),iLe(this,e,arguments)}return lLe(e,t),aLe(e,[{key:"render",value:function(){return $.createElement(vLe,this.props)}}])}($.Component);JP(Il,"displayName","ReferenceLine");JP(Il,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zC.apply(this,arguments)}function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function ND(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(r),!0).forEach(function(n){I0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PX(n.key),n)}}function bLe(t,e,r){return e&&xLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wLe(t,e,r){return e=yx(e),_Le(t,NX()?Reflect.construct(e,r||[],yx(t).constructor):e.apply(t,r))}function _Le(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SLe(t)}function SLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NX=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yx(t)}function jLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BC(t,e)}function BC(t,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BC(t,e)}function I0(t,e,r){return e=PX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PX(t){var e=CLe(t,"string");return Od(e)=="symbol"?e:e+""}function CLe(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kLe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=qP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Wi(e,"discard")&&!s.isInRange(o)?null:o},D0=function(t){function e(){return yLe(this,e),wLe(this,e,arguments)}return jLe(e,t),bLe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=_r(a),d=_r(i);if(xs(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=kLe(this.props);if(!h)return null;var f=h.x,p=h.y,g=this.props,m=g.shape,v=g.className,x=Wi(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=PD(PD({clipPath:x},Ue(this.props,!0)),{},{cx:f,cy:p});return $.createElement(vt,{className:st("recharts-reference-dot",v)},e.renderDot(m,y),Jr.renderCallByParent(this.props,{x:f-s,y:p-s,width:2*s,height:2*s}))}}])}($.Component);I0(D0,"displayName","ReferenceDot");I0(D0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});I0(D0,"renderDot",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):Ze(t)?r=t(e):r=$.createElement(O0,zC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function WC(){return WC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WC.apply(this,arguments)}function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function ED(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(r),!0).forEach(function(n){L0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ALe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OX(n.key),n)}}function PLe(t,e,r){return e&&NLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ELe(t,e,r){return e=xx(e),OLe(t,EX()?Reflect.construct(e,r||[],xx(t).constructor):e.apply(t,r))}function OLe(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TLe(t)}function TLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EX=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(t)}function MLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HC(t,e)}function L0(t,e,r){return e=OX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OX(t){var e=RLe(t,"string");return Td(e)=="symbol"?e:e+""}function RLe(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ILe=function(e,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var f=qP({x:d.scale,y:h.scale}),p={x:e?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(l,{position:"start"}):f.y.rangeMin},g={x:r?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Wi(i,"discard")&&(!f.isInRange(p)||!f.isInRange(g))?null:vX(p,g)},$0=function(t){function e(){return ALe(this,e),ELe(this,e,arguments)}return MLe(e,t),PLe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;xs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=_r(a),f=_r(i),p=_r(s),g=_r(o),m=this.props.shape;if(!h&&!f&&!p&&!g&&!m)return null;var v=ILe(h,f,p,g,this.props);if(!v&&!m)return null;var x=Wi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(vt,{className:st("recharts-reference-area",l)},e.renderRect(m,OD(OD({clipPath:x},Ue(this.props,!0)),v)),Jr.renderCallByParent(this.props,v))}}])}($.Component);L0($0,"displayName","ReferenceArea");L0($0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});L0($0,"renderRect",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):Ze(t)?r=t(e):r=$.createElement(XP,WC({},e,{className:"recharts-reference-area-rect"})),r});function TX(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function DLe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return EDe(n,r)}function LLe(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,o=t.height;return e===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function bx(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function $Le(t,e){return TX(t,e+1)}function FLe(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,o=e.end,l=0,u=1,d=s,h=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:TX(n,u)};var m=l,v,x=function(){return v===void 0&&(v=r(g,m)),v},y=g.coordinate,b=l===0||bx(t,y,x,d,o);b||(l=0,d=s,u+=1),b&&(d=y+t*(x()/2+a),l+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function TD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(r),!0).forEach(function(n){zLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zLe(t,e,r){return e=BLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BLe(t){var e=WLe(t,"string");return am(e)=="symbol"?e:e+""}function WLe(t,e){if(am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HLe(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=e.start,l=e.end,u=function(f){var p=i[f],g,m=function(){return g===void 0&&(g=r(p,f)),g};if(f===s-1){var v=t*(p.coordinate+t*m()/2-l);i[f]=p=Kr(Kr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else i[f]=p=Kr(Kr({},p),{},{tickCoord:p.coordinate});var x=bx(t,p.tickCoord,m,o,l);x&&(l=p.tickCoord-t*(m()/2+a),i[f]=Kr(Kr({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function ULe(t,e,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end;if(i){var d=n[o-1],h=r(d,o-1),f=t*(d.coordinate+t*h/2-u);s[o-1]=d=Kr(Kr({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=bx(t,d.tickCoord,function(){return h},l,u);p&&(u=d.tickCoord-t*(h/2+a),s[o-1]=Kr(Kr({},d),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(y){var b=s[y],w,S=function(){return w===void 0&&(w=r(b,y)),w};if(y===0){var k=t*(b.coordinate-t*S()/2-l);s[y]=b=Kr(Kr({},b),{},{tickCoord:k<0?b.coordinate-k*t:b.coordinate})}else s[y]=b=Kr(Kr({},b),{},{tickCoord:b.coordinate});var C=bx(t,b.tickCoord,S,l,u);C&&(l=b.tickCoord+t*(S()/2+a),s[y]=Kr(Kr({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function eE(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!a||!a.length||!n)return[];if(be(l)||di.isSsr)return $Le(a,typeof l=="number"&&be(l)?l:0);var f=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?$f(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(b,w){var S=Ze(u)?u(b.value,w):b.value;return p==="width"?DLe($f(S,{fontSize:e,letterSpacing:r}),g,h):$f(S,{fontSize:e,letterSpacing:r})[p]},v=a.length>=2?si(a[1].coordinate-a[0].coordinate):1,x=LLe(i,v,p);return l==="equidistantPreserveStart"?FLe(v,x,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?f=ULe(v,x,m,a,s,l==="preserveStartEnd"):f=HLe(v,x,m,a,s),f.filter(function(y){return y.isShow}))}var YLe=["viewBox"],XLe=["viewBox"],VLe=["ticks"];function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bu.apply(this,arguments)}function MD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(r),!0).forEach(function(n){tE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U1(t,e){if(t==null)return{};var r=qLe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RX(n.key),n)}}function KLe(t,e,r){return e&&RD(t.prototype,e),r&&RD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZLe(t,e,r){return e=wx(e),QLe(t,MX()?Reflect.construct(e,r||[],wx(t).constructor):e.apply(t,r))}function QLe(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JLe(t)}function JLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MX=function(){return!!t})()}function wx(t){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wx(t)}function e$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UC(t,e)}function UC(t,e){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UC(t,e)}function tE(t,e,r){return e=RX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RX(t){var e=t$e(t,"string");return Md(e)=="symbol"?e:e+""}function t$e(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eh=function(t){function e(r){var n;return GLe(this,e),n=ZLe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return e$e(e,t),KLe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=U1(n,YLe),o=this.props,l=o.viewBox,u=U1(o,XLe);return!Ru(i,l)||!Ru(s,u)||!Ru(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,f=a.tickMargin,p,g,m,v,x,y,b=h?-1:1,w=n.tickSize||d,S=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=s+ +!h*l,m=v-b*w,y=m-b*f,x=S;break;case"left":m=v=n.coordinate,g=i+ +!h*o,p=g-b*w,x=p-b*f,y=S;break;case"right":m=v=n.coordinate,g=i+ +h*o,p=g+b*w,x=p+b*f,y=S;break;default:p=g=n.coordinate,v=s+ +h*l,m=v+b*w,y=m+b*f,x=S;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,h=dn(dn(dn({},Ue(this.props,!1)),Ue(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);h=dn(dn({},h),{},{x1:a,y1:i+f*o,x2:a+s,y2:i+f*o})}else{var p=+(l==="left"&&!u||l==="right"&&u);h=dn(dn({},h),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return $.createElement("line",bu({},h,{className:st("recharts-cartesian-axis-line",Oa(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,h=o.tickFormatter,f=o.unit,p=eE(dn(dn({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Ue(this.props,!1),x=Ue(d,!1),y=dn(dn({},v),{},{fill:"none"},Ue(l,!1)),b=p.map(function(w,S){var k=s.getTickLineCoord(w),C=k.line,A=k.tick,N=dn(dn(dn(dn({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),A),{},{index:S,payload:w,visibleTicksCount:p.length,tickFormatter:h});return $.createElement(vt,bu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Cp(s.props,w,S)),l&&$.createElement("line",bu({},y,C,{className:st("recharts-cartesian-axis-tick-line",Oa(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(Ze(h)?h(w.value,S):w.value).concat(f||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,f=h.ticks,p=U1(h,VLe),g=f;return Ze(l)&&(g=f&&f.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:$.createElement(vt,{className:st("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Jr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return $.isValidElement(n)?s=$.cloneElement(n,a):Ze(n)?s=n(a):s=$.createElement(Hy,bu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(_.Component);tE(Eh,"displayName","CartesianAxis");tE(Eh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var r$e=["x1","y1","x2","y2","key"],n$e=["offset"];function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function ID(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(r),!0).forEach(function(n){a$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a$e(t,e,r){return e=i$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i$e(t){var e=s$e(t,"string");return yc(e)=="symbol"?e:e+""}function s$e(t,e){if(yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dl.apply(this,arguments)}function DD(t,e){if(t==null)return{};var r=o$e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var l$e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,o=e.height,l=e.ry;return $.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function IX(t,e){var r;if($.isValidElement(t))r=$.cloneElement(t,e);else if(Ze(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.key,l=DD(e,r$e),u=Ue(l,!1);u.offset;var d=DD(u,n$e);r=$.createElement("line",Dl({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function c$e(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var u=en(en({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return IX(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function u$e(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var u=en(en({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return IX(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function d$e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(f){return Math.round(f+a-a)}).sort(function(f,p){return f-p});a!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var g=!d[p+1],m=g?a+s-f:d[p+1]-f;if(m<=0)return null;var v=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:m,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function h$e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var g=!d[p+1],m=g?i+o-f:d[p+1]-f;if(m<=0)return null;var v=p%n.length;return $.createElement("rect",{key:"react-".concat(p),x:f,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var f$e=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return VY(eE(en(en(en({},Eh.defaultProps),n),{},{ticks:ps(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},p$e=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return VY(eE(en(en(en({},Eh.defaultProps),n),{},{ticks:ps(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Jc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _x(t){var e,r,n,a,i,s,o=ZP(),l=QP(),u=tLe(),d=en(en({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Jc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Jc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Jc.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Jc.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Jc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Jc.verticalFill,x:be(t.x)?t.x:u.left,y:be(t.y)?t.y:u.top,width:be(t.width)?t.width:u.width,height:be(t.height)?t.height:u.height}),h=d.x,f=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=QDe(),b=JDe();if(!be(p)||p<=0||!be(g)||g<=0||!be(h)||h!==+h||!be(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||f$e,S=d.horizontalCoordinatesGenerator||p$e,k=d.horizontalPoints,C=d.verticalPoints;if((!k||!k.length)&&Ze(S)){var A=v&&v.length,N=S({yAxis:b?en(en({},b),{},{ticks:A?v:b.ticks}):void 0,width:o,height:l,offset:u},A?!0:m);xs(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yc(N),"]")),Array.isArray(N)&&(k=N)}if((!C||!C.length)&&Ze(w)){var P=x&&x.length,E=w({xAxis:y?en(en({},y),{},{ticks:P?x:y.ticks}):void 0,width:o,height:l,offset:u},P?!0:m);xs(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yc(E),"]")),Array.isArray(E)&&(C=E)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(l$e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(c$e,Dl({},d,{offset:u,horizontalPoints:k,xAxis:y,yAxis:b})),$.createElement(u$e,Dl({},d,{offset:u,verticalPoints:C,xAxis:y,yAxis:b})),$.createElement(d$e,Dl({},d,{horizontalPoints:k})),$.createElement(h$e,Dl({},d,{verticalPoints:C})))}_x.displayName="CartesianGrid";var m$e=["type","layout","connectNulls","ref"],g$e=["key"];function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function LD(t,e){if(t==null)return{};var r=v$e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wf.apply(this,arguments)}function $D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(r),!0).forEach(function(n){Qa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$D(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eu(t){return w$e(t)||b$e(t)||x$e(t)||y$e()}function y$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x$e(t,e){if(t){if(typeof t=="string")return YC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YC(t,e)}}function b$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w$e(t){if(Array.isArray(t))return YC(t)}function YC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LX(n.key),n)}}function S$e(t,e,r){return e&&FD(t.prototype,e),r&&FD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function j$e(t,e,r){return e=Sx(e),C$e(t,DX()?Reflect.construct(e,r||[],Sx(t).constructor):e.apply(t,r))}function C$e(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k$e(t)}function k$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DX=function(){return!!t})()}function Sx(t){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sx(t)}function A$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XC(t,e)}function Qa(t,e,r){return e=LX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LX(t){var e=N$e(t,"string");return Rd(e)=="symbol"?e:e+""}function N$e(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xc=function(t){function e(){var r;_$e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=j$e(this,e,[].concat(a)),Qa(r,"state",{isAnimationFinished:!0,totalLength:0}),Qa(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Qa(r,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),h=s%u,f=o-s,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>h){p=[].concat(eu(l.slice(0,g)),[h-m]);break}var v=p.length%2===0?[0,f]:[f];return[].concat(eu(e.repeat(l,d)),eu(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Qa(r,"id",Oc("recharts-line-")),Qa(r,"pathRef",function(s){r.mainCurve=s}),Qa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Qa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return A$e(e,t),S$e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,h=Yn(d,Nh);if(!h)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:jr(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(vt,p,h.map(function(g){return $.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,d=o.dataKey,h=Ue(this.props,!1),f=Ue(l,!0),p=u.map(function(m,v){var x=qn(qn(qn({key:"dot-".concat(v),r:3},h),f),{},{value:m.value,dataKey:d,cx:m.x,cy:m.y,index:v,payload:m.payload});return e.renderDotItem(l,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return $.createElement(vt,Wf({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,u=o.layout,d=o.connectNulls;o.ref;var h=LD(o,m$e),f=qn(qn(qn({},Ue(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:u,connectNulls:d});return $.createElement(Ql,Wf({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,h=s.animationDuration,f=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,x=this.state,y=x.prevPoints,b=x.totalLength;return $.createElement(vi,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var S=w.t;if(y){var k=y.length/o.length,C=o.map(function(O,T){var M=Math.floor(T*k);if(y[M]){var L=y[M],I=lr(L.x,O.x),D=lr(L.y,O.y);return qn(qn({},O),{},{x:I(S),y:D(S)})}if(g){var R=lr(m*2,O.x),F=lr(v/2,O.y);return qn(qn({},O),{},{x:R(S),y:F(S)})}return qn(qn({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(C,n,a)}var A=lr(0,b),N=A(S),P;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});P=i.getStrokeDasharray(N,b,E)}else P=i.generateSimpleStrokeDasharray(b,N);return i.renderCurveStatically(o,n,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!u&&d>0||!mc(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,u=a.xAxis,d=a.yAxis,h=a.top,f=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=st("recharts-line",l),w=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=w||S,C=Ye(v)?this.id:v,A=(n=Ue(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=A.r,P=N===void 0?3:N,E=A.strokeWidth,O=E===void 0?2:E,T=z8(s)?s:{},M=T.clipDot,L=M===void 0?!0:M,I=P*2+O;return $.createElement(vt,{className:b},w||S?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(C)},$.createElement("rect",{x:w?f:f-p/2,y:S?h:h-g/2,width:w?p:p*2,height:S?g:g*2})),!L&&$.createElement("clipPath",{id:"clipPath-dots-".concat(C)},$.createElement("rect",{x:f-I/2,y:h-I/2,width:p+I,height:g+I}))):null,!y&&this.renderCurve(k,C),this.renderErrorBar(k,C),(y||s)&&this.renderDots(k,L,C),(!m||x)&&Bi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(eu(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(eu(s),eu(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if($.isValidElement(n))i=$.cloneElement(n,a);else if(Ze(n))i=n(a);else{var s=a.key,o=LD(a,g$e),l=st("recharts-line-dot",typeof n!="boolean"?n.className:"");i=$.createElement(O0,Wf({key:s},o,{className:l}))}return i}}])}(_.PureComponent);Qa(xc,"displayName","Line");Qa(xc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!di.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qa(xc,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,h=l.map(function(f,p){var g=jr(f,s);return d==="horizontal"?{x:Cd({axis:r,ticks:a,bandSize:o,entry:f,index:p}),y:Ye(g)?null:n.scale(g),value:g,payload:f}:{x:Ye(g)?null:r.scale(g),y:Cd({axis:n,ticks:i,bandSize:o,entry:f,index:p}),value:g,payload:f}});return qn({points:h,layout:d},u)});var P$e=["layout","type","stroke","connectNulls","isRange","ref"],E$e=["key"],$X;function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function FX(t,e){if(t==null)return{};var r=O$e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ll.apply(this,arguments)}function zD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(r),!0).forEach(function(n){Li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BX(n.key),n)}}function M$e(t,e,r){return e&&BD(t.prototype,e),r&&BD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R$e(t,e,r){return e=jx(e),I$e(t,zX()?Reflect.construct(e,r||[],jx(t).constructor):e.apply(t,r))}function I$e(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D$e(t)}function D$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zX=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(t)}function L$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VC(t,e)}function VC(t,e){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VC(t,e)}function Li(t,e,r){return e=BX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BX(t){var e=$$e(t,"string");return Id(e)=="symbol"?e:e+""}function $$e(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rc=function(t){function e(){var r;T$e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=R$e(this,e,[].concat(a)),Li(r,"state",{isAnimationFinished:!0}),Li(r,"id",Oc("recharts-area-")),Li(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ze(s)&&s()}),Li(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ze(s)&&s()}),r}return L$e(e,t),M$e(e,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,u=l.dot,d=l.points,h=l.dataKey,f=Ue(this.props,!1),p=Ue(u,!0),g=d.map(function(v,x){var y=Zs(Zs(Zs({key:"dot-".concat(x),r:3},f),p),{},{index:x,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return $.createElement(vt,Ll({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,l=s[0].x,u=s[s.length-1].x,d=n*Math.abs(l-u),h=wo(s.map(function(f){return f.y||0}));return be(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(wo(i.map(function(f){return f.y||0})),h)),be(h)?$.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(h+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,l=s[0].y,u=s[s.length-1].y,d=n*Math.abs(l-u),h=wo(s.map(function(f){return f.x||0}));return be(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(wo(i.map(function(f){return f.x||0})),h)),be(h)?$.createElement("rect",{x:0,y:l<u?l:l-d,width:h+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var o=this.props,l=o.layout,u=o.type,d=o.stroke,h=o.connectNulls,f=o.isRange;o.ref;var p=FX(o,P$e);return $.createElement(vt,{clipPath:i?"url(#clipPath-".concat(s,")"):null},$.createElement(Ql,Ll({},Ue(p,!0),{points:n,connectNulls:h,type:u,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&$.createElement(Ql,Ll({},Ue(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:n})),d!=="none"&&f&&$.createElement(Ql,Ll({},Ue(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,h=s.animationDuration,f=s.animationEasing,p=s.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return $.createElement(vi,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(m){var b=m.length/o.length,w=o.map(function(A,N){var P=Math.floor(N*b);if(m[P]){var E=m[P],O=lr(E.x,A.x),T=lr(E.y,A.y);return Zs(Zs({},A),{},{x:O(y),y:T(y)})}return A}),S;if(be(l)&&typeof l=="number"){var k=lr(v,l);S=k(y)}else if(Ye(l)||wh(l)){var C=lr(v,0);S=C(y)}else S=l.map(function(A,N){var P=Math.floor(N*b);if(v[P]){var E=v[P],O=lr(E.x,A.x),T=lr(E.y,A.y);return Zs(Zs({},A),{},{x:O(y),y:T(y)})}return A});return i.renderAreaStatically(w,S,n,a)}return $.createElement(vt,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),$.createElement(vt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(o,l,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,o=i.baseLine,l=i.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,f=u.totalLength;return l&&s&&s.length&&(!d&&f>0||!mc(d,s)||!mc(h,o))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,u=a.top,d=a.left,h=a.xAxis,f=a.yAxis,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=st("recharts-area",l),w=h&&h.allowDataOverflow,S=f&&f.allowDataOverflow,k=w||S,C=Ye(v)?this.id:v,A=(n=Ue(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=A.r,P=N===void 0?3:N,E=A.strokeWidth,O=E===void 0?2:E,T=z8(s)?s:{},M=T.clipDot,L=M===void 0?!0:M,I=P*2+O;return $.createElement(vt,{className:b},w||S?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(C)},$.createElement("rect",{x:w?d:d-p/2,y:S?u:u-g/2,width:w?p:p*2,height:S?g:g*2})),!L&&$.createElement("clipPath",{id:"clipPath-dots-".concat(C)},$.createElement("rect",{x:d-I/2,y:u-I/2,width:p+I,height:g+I}))):null,y?null:this.renderArea(k,C),(s||y)&&this.renderDots(k,L,C),(!m||x)&&Bi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(_.PureComponent);$X=Rc;Li(Rc,"displayName","Area");Li(Rc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!di.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Li(Rc,"getBaseValue",function(t,e,r,n){var a=t.layout,i=t.baseValue,s=e.props.baseValue,o=s??i;if(be(o)&&typeof o=="number")return o;var l=a==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return o==="dataMin"?h:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Li(Rc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=e.layout,g=u&&u.length,m=$X.getBaseValue(e,r,n,a),v=p==="horizontal",x=!1,y=h.map(function(w,S){var k;g?k=u[d+S]:(k=jr(w,l),Array.isArray(k)?x=!0:k=[m,k]);var C=k[1]==null||g&&jr(w,l)==null;return v?{x:Cd({axis:n,ticks:i,bandSize:o,entry:w,index:S}),y:C?null:a.scale(k[1]),value:k,payload:w}:{x:C?null:n.scale(k[1]),y:Cd({axis:a,ticks:s,bandSize:o,entry:w,index:S}),value:k,payload:w}}),b;return g||x?b=y.map(function(w){var S=Array.isArray(w.value)?w.value[0]:null;return v?{x:w.x,y:S!=null&&w.y!=null?a.scale(S):null}:{x:S!=null?n.scale(S):null,y:w.y}}):b=v?a.scale(m):n.scale(m),Zs({points:y,baseLine:b,layout:p,isRange:x},f)});Li(Rc,"renderDotItem",function(t,e){var r;if($.isValidElement(t))r=$.cloneElement(t,e);else if(Ze(t))r=t(e);else{var n=st("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,i=FX(e,E$e);r=$.createElement(O0,Ll({},i,{key:a,className:n}))}return r});function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function F$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UX(n.key),n)}}function B$e(t,e,r){return e&&z$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W$e(t,e,r){return e=Cx(e),H$e(t,WX()?Reflect.construct(e,r||[],Cx(t).constructor):e.apply(t,r))}function H$e(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U$e(t)}function U$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WX=function(){return!!t})()}function Cx(t){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cx(t)}function Y$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qC(t,e)}function qC(t,e){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qC(t,e)}function HX(t,e,r){return e=UX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UX(t){var e=X$e(t,"string");return Dd(e)=="symbol"?e:e+""}function X$e(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F0=function(t){function e(){return F$e(this,e),W$e(this,e,arguments)}return Y$e(e,t),B$e(e,[{key:"render",value:function(){return null}}])}($.Component);HX(F0,"displayName","ZAxis");HX(F0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var V$e=["option","isActive"];function Hf(){return Hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hf.apply(this,arguments)}function q$e(t,e){if(t==null)return{};var r=G$e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K$e(t){var e=t.option,r=t.isActive,n=q$e(t,V$e);return typeof e=="string"?$.createElement(RC,Hf({option:$.createElement(y0,Hf({type:e},n)),isActive:r,shapeType:"symbols"},n)):$.createElement(RC,Hf({option:e,isActive:r,shapeType:"symbols"},n))}function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uf.apply(this,arguments)}function WD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(r),!0).forEach(function(n){So(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XX(n.key),n)}}function Q$e(t,e,r){return e&&HD(t.prototype,e),r&&HD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function J$e(t,e,r){return e=kx(e),eFe(t,YX()?Reflect.construct(e,r||[],kx(t).constructor):e.apply(t,r))}function eFe(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tFe(t)}function tFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YX=function(){return!!t})()}function kx(t){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(t)}function rFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GC(t,e)}function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GC(t,e)}function So(t,e,r){return e=XX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XX(t){var e=nFe(t,"string");return Ld(e)=="symbol"?e:e+""}function nFe(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z0=function(t){function e(){var r;Z$e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=J$e(this,e,[].concat(a)),So(r,"state",{isAnimationFinished:!1}),So(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),So(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),So(r,"id",Oc("recharts-scatter-")),r}return rFe(e,t),Q$e(e,[{key:"renderSymbolsStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.activeShape,l=i.activeIndex,u=Ue(this.props,!1);return n.map(function(d,h){var f=l===h,p=f?o:s,g=ga(ga({},u),d);return $.createElement(vt,Uf({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(h)},Cp(a.props,d,h),{role:"img"}),$.createElement(K$e,Uf({option:p,isActive:f,key:"symbol-".concat(h)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,i=a.points,s=a.isAnimationActive,o=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state.prevPoints;return $.createElement(vi,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,g=i.map(function(m,v){var x=h&&h[v];if(x){var y=lr(x.cx,m.cx),b=lr(x.cy,m.cy),w=lr(x.size,m.size);return ga(ga({},m),{},{cx:y(p),cy:b(p),size:w(p)})}var S=lr(0,m.size);return ga(ga({},m),{},{size:S(p)})});return $.createElement(vt,null,n.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,s=this.state.prevPoints;return i&&a&&a.length&&(!s||!mc(s,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,s=a.xAxis,o=a.yAxis,l=a.children,u=Yn(l,Nh);return u?u.map(function(d,h){var f=d.props,p=f.direction,g=f.dataKey;return $.cloneElement(d,{key:"".concat(p,"-").concat(g,"-").concat(i[h]),data:i,xAxis:s,yAxis:o,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(v,x){return{x:v.cx,y:v.cy,value:p==="x"?+v.node.x:+v.node.y,errorVal:jr(v,x)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,i=n.line,s=n.lineType,o=n.lineJointType,l=Ue(this.props,!1),u=Ue(i,!1),d,h;if(s==="joint")d=a.map(function(b){return{x:b.cx,y:b.cy}});else if(s==="fitting"){var f=Zye(a),p=f.xmin,g=f.xmax,m=f.a,v=f.b,x=function(w){return m*w+v};d=[{x:p,y:x(p)},{x:g,y:x(g)}]}var y=ga(ga(ga({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:d});return $.isValidElement(i)?h=$.cloneElement(i,y):Ze(i)?h=i(y):h=$.createElement(Ql,Uf({},y,{type:o})),$.createElement(vt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.points,s=n.line,o=n.className,l=n.xAxis,u=n.yAxis,d=n.left,h=n.top,f=n.width,p=n.height,g=n.id,m=n.isAnimationActive;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=st("recharts-scatter",o),y=l&&l.allowDataOverflow,b=u&&u.allowDataOverflow,w=y||b,S=Ye(g)?this.id:g;return $.createElement(vt,{className:x,clipPath:w?"url(#clipPath-".concat(S,")"):null},y||b?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:y?d:d-f/2,y:b?h:h-p/2,width:y?f:f*2,height:b?p:p*2}))):null,s&&this.renderLine(),this.renderErrorBar(),$.createElement(vt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||v)&&Bi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(_.PureComponent);So(z0,"displayName","Scatter");So(z0,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!di.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});So(z0,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,a=t.item,i=t.displayedData,s=t.xAxisTicks,o=t.yAxisTicks,l=t.offset,u=a.props.tooltipType,d=Yn(a.props.children,bP),h=Ye(e.dataKey)?a.props.dataKey:e.dataKey,f=Ye(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,g=n?n.range:F0.defaultProps.range,m=g&&g[0],v=e.scale.bandwidth?e.scale.bandwidth():0,x=r.scale.bandwidth?r.scale.bandwidth():0,y=i.map(function(b,w){var S=jr(b,h),k=jr(b,f),C=!Ye(p)&&jr(b,p)||"-",A=[{name:Ye(e.dataKey)?a.props.name:e.name||e.dataKey,unit:e.unit||"",value:S,payload:b,dataKey:h,type:u},{name:Ye(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:b,dataKey:f,type:u}];C!=="-"&&A.push({name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:b,dataKey:p,type:u});var N=Cd({axis:e,ticks:s,bandSize:v,entry:b,index:w,dataKey:h}),P=Cd({axis:r,ticks:o,bandSize:x,entry:b,index:w,dataKey:f}),E=C!=="-"?n.scale(C):m,O=Math.sqrt(Math.max(E,0)/Math.PI);return ga(ga({},b),{},{cx:N,cy:P,x:N-O,y:P-O,xAxis:e,yAxis:r,zAxis:n,width:2*O,height:2*O,size:E,node:{x:S,y:k,z:C},tooltipPayload:A,tooltipPosition:{x:N,y:P},payload:b},d&&d[w]&&d[w].props)});return ga({points:y},l)});function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function aFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GX(n.key),n)}}function sFe(t,e,r){return e&&iFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oFe(t,e,r){return e=Ax(e),lFe(t,VX()?Reflect.construct(e,r||[],Ax(t).constructor):e.apply(t,r))}function lFe(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cFe(t)}function cFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VX=function(){return!!t})()}function Ax(t){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ax(t)}function uFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KC(t,e)}function KC(t,e){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KC(t,e)}function qX(t,e,r){return e=GX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GX(t){var e=dFe(t,"string");return $d(e)=="symbol"?e:e+""}function dFe(t,e){if($d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZC.apply(this,arguments)}function hFe(t){var e=t.xAxisId,r=ZP(),n=QP(),a=jX(e);return a==null?null:$.createElement(Eh,ZC({},a,{className:st("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ps(s,!0)}}))}var qo=function(t){function e(){return aFe(this,e),oFe(this,e,arguments)}return uFe(e,t),sFe(e,[{key:"render",value:function(){return $.createElement(hFe,this.props)}}])}($.Component);qX(qo,"displayName","XAxis");qX(qo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function fFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QX(n.key),n)}}function mFe(t,e,r){return e&&pFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gFe(t,e,r){return e=Nx(e),vFe(t,KX()?Reflect.construct(e,r||[],Nx(t).constructor):e.apply(t,r))}function vFe(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yFe(t)}function yFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!t})()}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(t)}function xFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QC(t,e)}function QC(t,e){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QC(t,e)}function ZX(t,e,r){return e=QX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QX(t){var e=bFe(t,"string");return Fd(e)=="symbol"?e:e+""}function bFe(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JC(){return JC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JC.apply(this,arguments)}var wFe=function(e){var r=e.yAxisId,n=ZP(),a=QP(),i=CX(r);return i==null?null:$.createElement(Eh,JC({},i,{className:st("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return ps(o,!0)}}))},Go=function(t){function e(){return fFe(this,e),gFe(this,e,arguments)}return xFe(e,t),mFe(e,[{key:"render",value:function(){return $.createElement(wFe,this.props)}}])}($.Component);ZX(Go,"displayName","YAxis");ZX(Go,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UD(t){return CFe(t)||jFe(t)||SFe(t)||_Fe()}function _Fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SFe(t,e){if(t){if(typeof t=="string")return ek(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(t,e)}}function jFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CFe(t){if(Array.isArray(t))return ek(t)}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tk=function(e,r,n,a,i){var s=Yn(e,Il),o=Yn(e,D0),l=[].concat(UD(s),UD(o)),u=Yn(e,$0),d="".concat(a,"Id"),h=a[0],f=r;if(l.length&&(f=l.reduce(function(m,v){if(v.props[d]===n&&Wi(v.props,"extendDomain")&&be(v.props[h])){var x=v.props[h];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},f)),u.length){var p="".concat(h,"1"),g="".concat(h,"2");f=u.reduce(function(m,v){if(v.props[d]===n&&Wi(v.props,"extendDomain")&&be(v.props[p])&&be(v.props[g])){var x=v.props[p],y=v.props[g];return[Math.min(m[0],x,y),Math.max(m[1],x,y)]}return m},f)}return i&&i.length&&(f=i.reduce(function(m,v){return be(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},f)),f},JX={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,h||l,f),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,f,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,p),!0;case 6:return v.fn.call(v.context,d,h,f,p,g),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var w=v.length,S;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,h);break;case 4:v[b].fn.call(v[b].context,d,h,f);break;default:if(!y)for(S=1,y=new Array(x-1);S<x;S++)y[S-1]=arguments[S];v[b].fn.apply(v[b].context,y)}}return!0},o.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&s(this,p);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==d||f&&!g[m].once||h&&g[m].context!==h)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(JX);var kFe=JX.exports;const AFe=Ct(kFe);var Y1=new AFe,X1="recharts.syncMouseEvents";function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function NFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eV(n.key),n)}}function EFe(t,e,r){return e&&PFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V1(t,e,r){return e=eV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eV(t){var e=OFe(t,"string");return im(e)=="symbol"?e:e+""}function OFe(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TFe=function(){function t(){NFe(this,t),V1(this,"activeIndex",0),V1(this,"coordinateList",[]),V1(this,"layout","horizontal")}return EFe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+l+u,f=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function MFe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&be(n)&&be(a))return!0}return!1}function RFe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function tV(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=zr(e,r,n,a),o=zr(e,r,n,i);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function IFe(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=zr(o,l,u,h),p=zr(o,l,d,h);n=f.x,a=f.y,i=p.x,s=p.y}else return tV(e);return[{x:n,y:a},{x:i,y:s}]}function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function YD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(r),!0).forEach(function(n){DFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DFe(t,e,r){return e=LFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LFe(t){var e=$Fe(t,"string");return sm(e)=="symbol"?e:e+""}function $Fe(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FFe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||f!=="ScatterChart"&&a!=="axis")return null;var g,m=Ql;if(f==="ScatterChart")g=s,m=dRe;else if(f==="BarChart")g=RFe(h,s,l,d),m=XP;else if(h==="radial"){var v=tV(s),x=v.cx,y=v.cy,b=v.radius,w=v.startAngle,S=v.endAngle;g={cx:x,cy:y,startAngle:w,endAngle:S,innerRadius:b,outerRadius:b},m=QY}else g={points:IFe(h,s,l)},m=Ql;var k=Qg(Qg(Qg(Qg({stroke:"#ccc",pointerEvents:"none"},l),g),Ue(p,!1)),{},{payload:o,payloadIndex:u,className:st("recharts-tooltip-cursor",p.className)});return _.isValidElement(p)?_.cloneElement(p,k):_.createElement(m,k)}var zFe=["item"],BFe=["children","className","width","height","style","compact","title","desc"];function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yf.apply(this,arguments)}function XD(t,e){return UFe(t)||HFe(t,e)||nV(t,e)||WFe()}function WFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function UFe(t){if(Array.isArray(t))return t}function VD(t,e){if(t==null)return{};var r=YFe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aV(n.key),n)}}function qFe(t,e,r){return e&&VFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GFe(t,e,r){return e=Px(e),KFe(t,rV()?Reflect.construct(e,r||[],Px(t).constructor):e.apply(t,r))}function KFe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZFe(t)}function ZFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!t})()}function Px(t){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Px(t)}function QFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rk(t,e)}function rk(t,e){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rk(t,e)}function Bd(t){return t4e(t)||e4e(t)||nV(t)||JFe()}function JFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(t,e){if(t){if(typeof t=="string")return nk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(t,e)}}function e4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t4e(t){if(Array.isArray(t))return nk(t)}function nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(r),!0).forEach(function(n){ze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ze(t,e,r){return e=aV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aV(t){var e=r4e(t,"string");return zd(e)=="symbol"?e:e+""}function r4e(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n4e={xAxis:["bottom","top"],yAxis:["left","right"]},a4e={width:"100%",height:"100%"},iV={x:0,y:0};function Jg(t){return t}var i4e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},s4e=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,o=a.radius;return oe(oe(oe({},a),zr(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,u=a.angle;return oe(oe(oe({},a),zr(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return iV},B0=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Bd(o),Bd(u)):o},[]);return s.length>0?s:e&&e.length&&be(a)&&be(i)?e.slice(a,i+1):[]};function sV(t){return t==="number"?[0,"auto"]:void 0}var ak=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,o=B0(r,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var p=h===void 0?o:h;f=Ay(p,s.dataKey,a)}else f=h&&h[n]||o[n];return f?[].concat(Bd(l),[GY(u,f)]):l},[])},GD=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=i4e(i,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=lOe(s,o,u,l);if(d>=0&&u){var h=u[d]&&u[d].value,f=ak(e,r,d,h),p=s4e(n,o,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},o4e=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,p=XY(d,i);return n.reduce(function(g,m){var v,x=m.type.defaultProps!==void 0?oe(oe({},m.type.defaultProps),m.props):m.props,y=x.type,b=x.dataKey,w=x.allowDataOverflow,S=x.allowDuplicatedCategory,k=x.scale,C=x.ticks,A=x.includeHidden,N=x[s];if(g[N])return g;var P=B0(e.data,{graphicalItems:a.filter(function(q){var ie,ne=s in q.props?q.props[s]:(ie=q.type.defaultProps)===null||ie===void 0?void 0:ie[s];return ne===N}),dataStartIndex:l,dataEndIndex:u}),E=P.length,O,T,M;MFe(x.domain,w,y)&&(O=yC(x.domain,null,w),p&&(y==="number"||k!=="auto")&&(M=zf(P,b,"category")));var L=sV(y);if(!O||O.length===0){var I,D=(I=x.domain)!==null&&I!==void 0?I:L;if(b){if(O=zf(P,b,y),y==="category"&&p){var R=Kye(O);S&&R?(T=O,O=hx(0,E)):S||(O=SI(D,O,m).reduce(function(q,ie){return q.indexOf(ie)>=0?q:[].concat(Bd(q),[ie])},[]))}else if(y==="category")S?O=O.filter(function(q){return q!==""&&!Ye(q)}):O=SI(D,O,m).reduce(function(q,ie){return q.indexOf(ie)>=0||ie===""||Ye(ie)?q:[].concat(Bd(q),[ie])},[]);else if(y==="number"){var F=fOe(P,a.filter(function(q){var ie,ne,Ne=s in q.props?q.props[s]:(ie=q.type.defaultProps)===null||ie===void 0?void 0:ie[s],fe="hide"in q.props?q.props.hide:(ne=q.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return Ne===N&&(A||!fe)}),b,i,d);F&&(O=F)}p&&(y==="number"||k!=="auto")&&(M=zf(P,b,"category"))}else p?O=hx(0,E):o&&o[N]&&o[N].hasStack&&y==="number"?O=f==="expand"?[0,1]:qY(o[N].stackGroups,l,u):O=YY(P,a.filter(function(q){var ie=s in q.props?q.props[s]:q.type.defaultProps[s],ne="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return ie===N&&(A||!ne)}),y,d,!0);if(y==="number")O=tk(h,O,N,i,C),D&&(O=yC(D,O,w));else if(y==="category"&&D){var z=D,B=O.every(function(q){return z.indexOf(q)>=0});B&&(O=z)}}return oe(oe({},g),{},ze({},N,oe(oe({},x),{},{axisType:i,domain:O,categoricalDomain:M,duplicateDomain:T,originalDomain:(v=x.domain)!==null&&v!==void 0?v:L,isCategorical:p,layout:d})))},{})},l4e=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=B0(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=f.length,g=XY(d,i),m=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?oe(oe({},x.type.defaultProps),x.props):x.props,b=y[s],w=sV("number");if(!v[b]){m++;var S;return g?S=hx(0,p):o&&o[b]&&o[b].hasStack?(S=qY(o[b].stackGroups,l,u),S=tk(h,S,b,i)):(S=yC(w,YY(f,n.filter(function(k){var C,A,N=s in k.props?k.props[s]:(C=k.type.defaultProps)===null||C===void 0?void 0:C[s],P="hide"in k.props?k.props.hide:(A=k.type.defaultProps)===null||A===void 0?void 0:A.hide;return N===b&&!P}),"number",d),a.defaultProps.allowDataOverflow),S=tk(h,S,b,i)),oe(oe({},v),{},ze({},b,oe(oe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Oa(n4e,"".concat(i,".").concat(m%2),null),domain:S,originalDomain:w,isCategorical:g,layout:d})))}return v},{})},c4e=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(a,"Id"),f=Yn(d,i),p={};return f&&f.length?p=o4e(e,{axes:f,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=l4e(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},u4e=function(e){var r=oo(e),n=ps(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:yP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:nx(r,n)}},KD=function(e){var r=e.children,n=e.defaultShowTooltip,a=Jn(r,Nd),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},d4e=function(e){return!e||!e.length?!1:e.some(function(r){var n=ys(r&&r.type);return n&&n.indexOf("Bar")>=0})},ZD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},h4e=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,h=n.children,f=n.margin||{},p=Jn(h,Nd),g=Jn(h,bs),m=Object.keys(l).reduce(function(S,k){var C=l[k],A=C.orientation;return!C.mirror&&!C.hide?oe(oe({},S),{},ze({},A,S[A]+C.width)):S},{left:f.left||0,right:f.right||0}),v=Object.keys(s).reduce(function(S,k){var C=s[k],A=C.orientation;return!C.mirror&&!C.hide?oe(oe({},S),{},ze({},A,Oa(S,"".concat(A))+C.height)):S},{top:f.top||0,bottom:f.bottom||0}),x=oe(oe({},v),m),y=x.bottom;p&&(x.bottom+=p.props.height||Nd.defaultProps.height),g&&r&&(x=dOe(x,a,n,r));var b=u-x.left-x.right,w=d-x.top-x.bottom;return oe(oe({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(w,0)})},f4e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},rE=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(v,x){var y=x.graphicalItems,b=x.stackGroups,w=x.offset,S=x.updateId,k=x.dataStartIndex,C=x.dataEndIndex,A=v.barSize,N=v.layout,P=v.barGap,E=v.barCategoryGap,O=v.maxBarSize,T=ZD(N),M=T.numericAxisName,L=T.cateAxisName,I=d4e(y),D=[];return y.forEach(function(R,F){var z=B0(v.data,{graphicalItems:[R],dataStartIndex:k,dataEndIndex:C}),B=R.type.defaultProps!==void 0?oe(oe({},R.type.defaultProps),R.props):R.props,q=B.dataKey,ie=B.maxBarSize,ne=B["".concat(M,"Id")],Ne=B["".concat(L,"Id")],fe={},X=l.reduce(function(J,we){var Y=x["".concat(we.axisType,"Map")],Q=B["".concat(we.axisType,"Id")];Y&&Y[Q]||we.axisType==="zAxis"||vc();var xe=Y[Q];return oe(oe({},J),{},ze(ze({},we.axisType,xe),"".concat(we.axisType,"Ticks"),ps(xe)))},fe),ae=X[L],G=X["".concat(L,"Ticks")],Z=b&&b[ne]&&b[ne].hasStack&&COe(R,b[ne].stackGroups),se=ys(R.type).indexOf("Bar")>=0,K=nx(ae,G),Pe=[],Te=I&&cOe({barSize:A,stackGroups:b,totalSize:f4e(X,L)});if(se){var nt,tt,Ot=Ye(ie)?O:ie,W=(nt=(tt=nx(ae,G,!0))!==null&&tt!==void 0?tt:Ot)!==null&&nt!==void 0?nt:0;Pe=uOe({barGap:P,barCategoryGap:E,bandSize:W!==K?W:K,sizeList:Te[Ne],maxBarSize:Ot}),W!==K&&(Pe=Pe.map(function(J){return oe(oe({},J),{},{position:oe(oe({},J.position),{},{offset:J.position.offset-W/2})})}))}var V=R&&R.type&&R.type.getComposedData;V&&D.push({props:oe(oe({},V(oe(oe({},X),{},{displayedData:z,props:v,dataKey:q,item:R,bandSize:K,barPosition:Pe,offset:w,stackedData:Z,layout:N,dataStartIndex:k,dataEndIndex:C}))),{},ze(ze(ze({key:R.key||"item-".concat(F)},M,X[M]),L,X[L]),"animationId",S)),childIndex:lxe(R,v.children),item:R})}),D},p=function(v,x){var y=v.props,b=v.dataStartIndex,w=v.dataEndIndex,S=v.updateId;if(!vM({props:y}))return null;var k=y.children,C=y.layout,A=y.stackOffset,N=y.data,P=y.reverseStackOrder,E=ZD(C),O=E.numericAxisName,T=E.cateAxisName,M=Yn(k,n),L=_Oe(N,M,"".concat(O,"Id"),"".concat(T,"Id"),A,P),I=l.reduce(function(B,q){var ie="".concat(q.axisType,"Map");return oe(oe({},B),{},ze({},ie,c4e(y,oe(oe({},q),{},{graphicalItems:M,stackGroups:q.axisType===O&&L,dataStartIndex:b,dataEndIndex:w}))))},{}),D=h4e(oe(oe({},I),{},{props:y,graphicalItems:M}),x==null?void 0:x.legendBBox);Object.keys(I).forEach(function(B){I[B]=d(y,I[B],D,B.replace("Map",""),r)});var R=I["".concat(T,"Map")],F=u4e(R),z=f(y,oe(oe({},I),{},{dataStartIndex:b,dataEndIndex:w,updateId:S,graphicalItems:M,stackGroups:L,offset:D}));return oe(oe({formattedGraphicalItems:z,graphicalItems:M,offset:D,stackGroups:L},F),I)},g=function(m){function v(x){var y,b,w;return XFe(this,v),w=GFe(this,v,[x]),ze(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(w,"accessibilityManager",new TFe),ze(w,"handleLegendBBoxUpdate",function(S){if(S){var k=w.state,C=k.dataStartIndex,A=k.dataEndIndex,N=k.updateId;w.setState(oe({legendBBox:S},p({props:w.props,dataStartIndex:C,dataEndIndex:A,updateId:N},oe(oe({},w.state),{},{legendBBox:S}))))}}),ze(w,"handleReceiveSyncEvent",function(S,k,C){if(w.props.syncId===S){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(k)}}),ze(w,"handleBrushChange",function(S){var k=S.startIndex,C=S.endIndex;if(k!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return oe({dataStartIndex:k,dataEndIndex:C},p({props:w.props,dataStartIndex:k,dataEndIndex:C,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:k,dataEndIndex:C})}}),ze(w,"handleMouseEnter",function(S){var k=w.getMouseInfo(S);if(k){var C=oe(oe({},k),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var A=w.props.onMouseEnter;Ze(A)&&A(C,S)}}),ze(w,"triggeredAfterMouseMove",function(S){var k=w.getMouseInfo(S),C=k?oe(oe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var A=w.props.onMouseMove;Ze(A)&&A(C,S)}),ze(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ze(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),ze(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),ze(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var C=w.props.onMouseLeave;Ze(C)&&C(k,S)}),ze(w,"handleOuterEvent",function(S){var k=oxe(S),C=Oa(w.props,"".concat(k));if(k&&Ze(C)){var A,N;/.*touch.*/i.test(k)?N=w.getMouseInfo(S.changedTouches[0]):N=w.getMouseInfo(S),C((A=N)!==null&&A!==void 0?A:{},S)}}),ze(w,"handleClick",function(S){var k=w.getMouseInfo(S);if(k){var C=oe(oe({},k),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var A=w.props.onClick;Ze(A)&&A(C,S)}}),ze(w,"handleMouseDown",function(S){var k=w.props.onMouseDown;if(Ze(k)){var C=w.getMouseInfo(S);k(C,S)}}),ze(w,"handleMouseUp",function(S){var k=w.props.onMouseUp;if(Ze(k)){var C=w.getMouseInfo(S);k(C,S)}}),ze(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ze(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),ze(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),ze(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Y1.emit(X1,w.props.syncId,S,w.eventEmitterSymbol)}),ze(w,"applySyncEvent",function(S){var k=w.props,C=k.layout,A=k.syncMethod,N=w.state.updateId,P=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(oe({dataStartIndex:P,dataEndIndex:E},p({props:w.props,dataStartIndex:P,dataEndIndex:E,updateId:N},w.state)));else if(S.activeTooltipIndex!==void 0){var O=S.chartX,T=S.chartY,M=S.activeTooltipIndex,L=w.state,I=L.offset,D=L.tooltipTicks;if(!I)return;if(typeof A=="function")M=A(D,S);else if(A==="value"){M=-1;for(var R=0;R<D.length;R++)if(D[R].value===S.activeLabel){M=R;break}}var F=oe(oe({},I),{},{x:I.left,y:I.top}),z=Math.min(O,F.x+F.width),B=Math.min(T,F.y+F.height),q=D[M]&&D[M].value,ie=ak(w.state,w.props.data,M),ne=D[M]?{x:C==="horizontal"?D[M].coordinate:z,y:C==="horizontal"?B:D[M].coordinate}:iV;w.setState(oe(oe({},S),{},{activeLabel:q,activeCoordinate:ne,activePayload:ie,activeTooltipIndex:M}))}else w.setState(S)}),ze(w,"renderCursor",function(S){var k,C=w.state,A=C.isTooltipActive,N=C.activeCoordinate,P=C.activePayload,E=C.offset,O=C.activeTooltipIndex,T=C.tooltipAxisBandSize,M=w.getTooltipEventType(),L=(k=S.props.active)!==null&&k!==void 0?k:A,I=w.props.layout,D=S.key||"_recharts-cursor";return $.createElement(FFe,{key:D,activeCoordinate:N,activePayload:P,activeTooltipIndex:O,chartName:r,element:S,isActive:L,layout:I,offset:E,tooltipAxisBandSize:T,tooltipEventType:M})}),ze(w,"renderPolarAxis",function(S,k,C){var A=Oa(S,"type.axisType"),N=Oa(w.state,"".concat(A,"Map")),P=S.type.defaultProps,E=P!==void 0?oe(oe({},P),S.props):S.props,O=N&&N[E["".concat(A,"Id")]];return _.cloneElement(S,oe(oe({},O),{},{className:st(A,O.className),key:S.key||"".concat(k,"-").concat(C),ticks:ps(O,!0)}))}),ze(w,"renderPolarGrid",function(S){var k=S.props,C=k.radialLines,A=k.polarAngles,N=k.polarRadius,P=w.state,E=P.radiusAxisMap,O=P.angleAxisMap,T=oo(E),M=oo(O),L=M.cx,I=M.cy,D=M.innerRadius,R=M.outerRadius;return _.cloneElement(S,{polarAngles:Array.isArray(A)?A:ps(M,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(N)?N:ps(T,!0).map(function(F){return F.coordinate}),cx:L,cy:I,innerRadius:D,outerRadius:R,key:S.key||"polar-grid",radialLines:C})}),ze(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,k=w.props,C=k.children,A=k.width,N=k.height,P=w.props.margin||{},E=A-(P.left||0)-(P.right||0),O=HY({children:C,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!O)return null;var T=O.item,M=VD(O,zFe);return _.cloneElement(T,oe(oe({},M),{},{chartWidth:A,chartHeight:N,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),ze(w,"renderTooltip",function(){var S,k=w.props,C=k.children,A=k.accessibilityLayer,N=Jn(C,Ka);if(!N)return null;var P=w.state,E=P.isTooltipActive,O=P.activeCoordinate,T=P.activePayload,M=P.activeLabel,L=P.offset,I=(S=N.props.active)!==null&&S!==void 0?S:E;return _.cloneElement(N,{viewBox:oe(oe({},L),{},{x:L.left,y:L.top}),active:I,label:M,payload:I?T:[],coordinate:O,accessibilityLayer:A})}),ze(w,"renderBrush",function(S){var k=w.props,C=k.margin,A=k.data,N=w.state,P=N.offset,E=N.dataStartIndex,O=N.dataEndIndex,T=N.updateId;return _.cloneElement(S,{key:S.key||"_recharts-brush",onChange:qg(w.handleBrushChange,S.props.onChange),data:A,x:be(S.props.x)?S.props.x:P.left,y:be(S.props.y)?S.props.y:P.top+P.height+P.brushBottom-(C.bottom||0),width:be(S.props.width)?S.props.width:P.width,startIndex:E,endIndex:O,updateId:"brush-".concat(T)})}),ze(w,"renderReferenceElement",function(S,k,C){if(!S)return null;var A=w,N=A.clipPathId,P=w.state,E=P.xAxisMap,O=P.yAxisMap,T=P.offset,M=S.type.defaultProps||{},L=S.props,I=L.xAxisId,D=I===void 0?M.xAxisId:I,R=L.yAxisId,F=R===void 0?M.yAxisId:R;return _.cloneElement(S,{key:S.key||"".concat(k,"-").concat(C),xAxis:E[D],yAxis:O[F],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:N})}),ze(w,"renderActivePoints",function(S){var k=S.item,C=S.activePoint,A=S.basePoint,N=S.childIndex,P=S.isRange,E=[],O=k.props.key,T=k.item.type.defaultProps!==void 0?oe(oe({},k.item.type.defaultProps),k.item.props):k.item.props,M=T.activeDot,L=T.dataKey,I=oe(oe({index:N,dataKey:L,cx:C.x,cy:C.y,r:4,fill:YP(k.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ue(M,!1)),Ny(M));return E.push(v.renderActiveDot(M,I,"".concat(O,"-activePoint-").concat(N))),A?E.push(v.renderActiveDot(M,oe(oe({},I),{},{cx:A.x,cy:A.y}),"".concat(O,"-basePoint-").concat(N))):P&&E.push(null),E}),ze(w,"renderGraphicChild",function(S,k,C){var A=w.filterFormatItem(S,k,C);if(!A)return null;var N=w.getTooltipEventType(),P=w.state,E=P.isTooltipActive,O=P.tooltipAxis,T=P.activeTooltipIndex,M=P.activeLabel,L=w.props.children,I=Jn(L,Ka),D=A.props,R=D.points,F=D.isRange,z=D.baseLine,B=A.item.type.defaultProps!==void 0?oe(oe({},A.item.type.defaultProps),A.item.props):A.item.props,q=B.activeDot,ie=B.hide,ne=B.activeBar,Ne=B.activeShape,fe=!!(!ie&&E&&I&&(q||ne||Ne)),X={};N!=="axis"&&I&&I.props.trigger==="click"?X={onClick:qg(w.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(X={onMouseLeave:qg(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:qg(w.handleItemMouseEnter,S.props.onMouseEnter)});var ae=_.cloneElement(S,oe(oe({},A.props),X));function G(we){return typeof O.dataKey=="function"?O.dataKey(we.payload):null}if(fe)if(T>=0){var Z,se;if(O.dataKey&&!O.allowDuplicatedCategory){var K=typeof O.dataKey=="function"?G:"payload.".concat(O.dataKey.toString());Z=Ay(R,K,M),se=F&&z&&Ay(z,K,M)}else Z=R==null?void 0:R[T],se=F&&z&&z[T];if(Ne||ne){var Pe=S.props.activeIndex!==void 0?S.props.activeIndex:T;return[_.cloneElement(S,oe(oe(oe({},A.props),X),{},{activeIndex:Pe})),null,null]}if(!Ye(Z))return[ae].concat(Bd(w.renderActivePoints({item:A,activePoint:Z,basePoint:se,childIndex:T,isRange:F})))}else{var Te,nt=(Te=w.getItemByXY(w.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:ae},tt=nt.graphicalItem,Ot=tt.item,W=Ot===void 0?S:Ot,V=tt.childIndex,J=oe(oe(oe({},A.props),X),{},{activeIndex:V});return[_.cloneElement(W,J),null,null]}return F?[ae,null,null]:[ae,null]}),ze(w,"renderCustomized",function(S,k,C){return _.cloneElement(S,oe(oe({key:"recharts-customized-".concat(C)},w.props),w.state))}),ze(w,"renderMap",{CartesianGrid:{handler:Jg,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Jg},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Jg},YAxis:{handler:Jg},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((y=x.id)!==null&&y!==void 0?y:Oc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=HU(w.triggeredAfterMouseMove,(b=x.throttleDelay)!==null&&b!==void 0?b:1e3/60),w.state={},w}return QFe(v,m),qFe(v,[{key:"componentDidMount",value:function(){var y,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,b=y.children,w=y.data,S=y.height,k=y.layout,C=Jn(b,Ka);if(C){var A=C.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,P=ak(this.state,w,A,N),E=this.state.tooltipTicks[A].coordinate,O=(this.state.offset.top+S)/2,T=k==="horizontal",M=T?{x:E,y:O}:{y:E,x:O},L=this.state.formattedGraphicalItems.find(function(D){var R=D.item;return R.type.name==="Scatter"});L&&(M=oe(oe({},M),L.props.points[A].tooltipPosition),P=L.props.points[A].tooltipPayload);var I={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:N,activePayload:P,activeCoordinate:M};this.setState(I),this.renderCursor(C),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){Mj([Jn(y.children,Ka)],[Jn(this.props.children,Ka)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Jn(this.props.children,Ka);if(y&&typeof y.props.shared=="boolean"){var b=y.props.shared?"axis":"item";return o.indexOf(b)>=0?b:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var b=this.container,w=b.getBoundingClientRect(),S=RAe(w),k={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},C=w.width/b.offsetWidth||1,A=this.inRange(k.chartX,k.chartY,C);if(!A)return null;var N=this.state,P=N.xAxisMap,E=N.yAxisMap,O=this.getTooltipEventType();if(O!=="axis"&&P&&E){var T=oo(P).scale,M=oo(E).scale,L=T&&T.invert?T.invert(k.chartX):null,I=M&&M.invert?M.invert(k.chartY):null;return oe(oe({},k),{},{xValue:L,yValue:I})}var D=GD(this.state,this.props.data,this.props.layout,A);return D?oe(oe({},k),D):null}},{key:"inRange",value:function(y,b){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=y/w,C=b/w;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,N=k>=A.left&&k<=A.left+A.width&&C>=A.top&&C<=A.top+A.height;return N?{x:k,y:C}:null}var P=this.state,E=P.angleAxisMap,O=P.radiusAxisMap;if(E&&O){var T=oo(E);return kI({x:k,y:C},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,b=this.getTooltipEventType(),w=Jn(y,Ka),S={};w&&b==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var k=Ny(this.props,this.handleOuterEvent);return oe(oe({},k),S)}},{key:"addListener",value:function(){Y1.on(X1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Y1.removeListener(X1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,b,w){for(var S=this.state.formattedGraphicalItems,k=0,C=S.length;k<C;k++){var A=S[k];if(A.item===y||A.props.key===y.key||b===ys(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,b=this.state.offset,w=b.left,S=b.top,k=b.height,C=b.width;return $.createElement("defs",null,$.createElement("clipPath",{id:y},$.createElement("rect",{x:w,y:S,height:k,width:C})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(b,w){var S=XD(w,2),k=S[0],C=S[1];return oe(oe({},b),{},ze({},k,C.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(b,w){var S=XD(w,2),k=S[0],C=S[1];return oe(oe({},b),{},ze({},k,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[y])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(y){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[y])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(y){var b=this.state,w=b.formattedGraphicalItems,S=b.activeItem;if(w&&w.length)for(var k=0,C=w.length;k<C;k++){var A=w[k],N=A.props,P=A.item,E=P.type.defaultProps!==void 0?oe(oe({},P.type.defaultProps),P.props):P.props,O=ys(P.type);if(O==="Bar"){var T=(N.data||[]).find(function(D){return tRe(y,D)});if(T)return{graphicalItem:A,payload:T}}else if(O==="RadialBar"){var M=(N.data||[]).find(function(D){return kI(y,D)});if(M)return{graphicalItem:A,payload:M}}else if(T0(A,S)||M0(A,S)||em(A,S)){var L=nIe({graphicalItem:A,activeTooltipItem:S,itemData:E.data}),I=E.activeIndex===void 0?L:E.activeIndex;return{graphicalItem:oe(oe({},A),{},{childIndex:I}),payload:em(A,S)?E.data[L]:A.props.data[L]}}}return null}},{key:"render",value:function(){var y=this;if(!vM(this))return null;var b=this.props,w=b.children,S=b.className,k=b.width,C=b.height,A=b.style,N=b.compact,P=b.title,E=b.desc,O=VD(b,BFe),T=Ue(O,!1);if(N)return $.createElement(jD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(Ij,Yf({},T,{width:k,height:C,title:P,desc:E}),this.renderClipPath(),xM(w,this.renderMap)));if(this.props.accessibilityLayer){var M,L;T.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,T.role=(L=this.props.role)!==null&&L!==void 0?L:"application",T.onKeyDown=function(D){y.accessibilityManager.keyboardEvent(D)},T.onFocus=function(){y.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return $.createElement(jD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Yf({className:st("recharts-wrapper",S),style:oe({position:"relative",cursor:"default",width:k,height:C},A)},I,{ref:function(R){y.container=R}}),$.createElement(Ij,Yf({},T,{width:k,height:C,title:P,desc:E,style:a4e}),this.renderClipPath(),xM(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);return ze(g,"displayName",r),ze(g,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ze(g,"getDerivedStateFromProps",function(m,v){var x=m.dataKey,y=m.data,b=m.children,w=m.width,S=m.height,k=m.layout,C=m.stackOffset,A=m.margin,N=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var E=KD(m);return oe(oe(oe({},E),{},{updateId:0},p(oe(oe({props:m},E),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:y,prevWidth:w,prevHeight:S,prevLayout:k,prevStackOffset:C,prevMargin:A,prevChildren:b})}if(x!==v.prevDataKey||y!==v.prevData||w!==v.prevWidth||S!==v.prevHeight||k!==v.prevLayout||C!==v.prevStackOffset||!Ru(A,v.prevMargin)){var O=KD(m),T={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},M=oe(oe({},GD(v,y,k)),{},{updateId:v.updateId+1}),L=oe(oe(oe({},O),T),M);return oe(oe(oe({},L),p(oe({props:m},L),v)),{},{prevDataKey:x,prevData:y,prevWidth:w,prevHeight:S,prevLayout:k,prevStackOffset:C,prevMargin:A,prevChildren:b})}if(!Mj(b,v.prevChildren)){var I,D,R,F,z=Jn(b,Nd),B=z&&(I=(D=z.props)===null||D===void 0?void 0:D.startIndex)!==null&&I!==void 0?I:N,q=z&&(R=(F=z.props)===null||F===void 0?void 0:F.endIndex)!==null&&R!==void 0?R:P,ie=B!==N||q!==P,ne=!Ye(y),Ne=ne&&!ie?v.updateId:v.updateId+1;return oe(oe({updateId:Ne},p(oe(oe({props:m},v),{},{updateId:Ne,dataStartIndex:B,dataEndIndex:q}),v)),{},{prevChildren:b,dataStartIndex:B,dataEndIndex:q})}return null}),ze(g,"renderActiveDot",function(m,v,x){var y;return _.isValidElement(m)?y=_.cloneElement(m,v):Ze(m)?y=m(v):y=$.createElement(O0,v),$.createElement(vt,{className:"recharts-active-dot",key:x},y)}),function(v){return $.createElement(g,v)}},p4e=rE({chartName:"LineChart",GraphicalChild:xc,axisComponents:[{axisType:"xAxis",AxisComp:qo},{axisType:"yAxis",AxisComp:Go}],formatAxisMap:VP}),QD=rE({chartName:"BarChart",GraphicalChild:Vi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qo},{axisType:"yAxis",AxisComp:Go}],formatAxisMap:VP}),m4e=rE({chartName:"ComposedChart",GraphicalChild:[xc,Rc,Vi,z0],axisComponents:[{axisType:"xAxis",AxisComp:qo},{axisType:"yAxis",AxisComp:Go},{axisType:"zAxis",AxisComp:F0}],formatAxisMap:VP});const of=[{product:"PROD_001",current_qty:500,vendor:"VEND_A",current_cost:12500,scenarios:{scenario_1:{qty:750,cost:18750,change:50},scenario_2:{qty:400,cost:1e4,change:-20},scenario_3:{qty:650,cost:16250,change:30}}},{product:"PROD_002",current_qty:200,vendor:"VEND_B",current_cost:8e3,scenarios:{scenario_1:{qty:0,cost:0,change:-100},scenario_2:{qty:240,cost:9600,change:20},scenario_3:{qty:180,cost:7200,change:-10}}},{product:"PROD_003",current_qty:0,vendor:"VEND_C",current_cost:0,scenarios:{scenario_1:{qty:300,cost:15e3,change:0},scenario_2:{qty:0,cost:0,change:0},scenario_3:{qty:450,cost:22500,change:0}}},{product:"PROD_004",current_qty:350,vendor:"VEND_A",current_cost:7e3,scenarios:{scenario_1:{qty:420,cost:8400,change:20},scenario_2:{qty:280,cost:5600,change:-20},scenario_3:{qty:350,cost:7e3,change:0}}},{product:"PROD_005",current_qty:150,vendor:"VEND_D",current_cost:4500,scenarios:{scenario_1:{qty:225,cost:6750,change:50},scenario_2:{qty:120,cost:3600,change:-20},scenario_3:{qty:180,cost:5400,change:20}}}],g4e=({comparisonData:t,includeBaseline:e=!0})=>{const r=of.map(s=>{const o={product:s.product,vendor:s.vendor,current:s.current_qty};return t.forEach((l,u)=>{const d=`scenario_${u+1}`,h=s.scenarios[d];h&&(o[l.scenario.scenario_name]=h.qty)}),o}),n=s=>s>0?"text-green-600 bg-green-50":s<0?"text-red-600 bg-red-50":"text-blue-600 bg-blue-50",a=s=>s>0?ia:s<0?gs:yn,i=["#0066CC","#10B981","#EF4444","#8B5CF6","#F59E0B"];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(QD,{className:"h-5 w-5"}),"Impacto en Órdenes de Compra por Producto"]})}),c.jsx(te,{children:c.jsx(By,{width:"100%",height:400,children:c.jsxs(QD,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(_x,{strokeDasharray:"3 3"}),c.jsx(qo,{dataKey:"product"}),c.jsx(Go,{}),c.jsx(Ka,{formatter:(s,o)=>[s,o],labelFormatter:s=>`Producto: ${s}`}),c.jsx(bs,{}),e&&c.jsx(Vi,{dataKey:"current",fill:"#6B7280",name:"Actual"}),t.map((s,o)=>c.jsx(Vi,{dataKey:s.scenario.scenario_name,fill:i[o%i.length],name:s.scenario.scenario_name},s.scenario.id))]})})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Recomendaciones Detalladas de Órdenes de Compra"})}),c.jsx(te,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-3 font-medium",children:"Producto"}),c.jsx("th",{className:"text-left p-3 font-medium",children:"Proveedor"}),c.jsx("th",{className:"text-center p-3 font-medium",children:"Cantidad Actual"}),t.map(s=>c.jsx("th",{className:"text-center p-3 font-medium",children:s.scenario.scenario_name},s.scenario.id))]})}),c.jsx("tbody",{children:of.map((s,o)=>c.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[c.jsx("td",{className:"p-3 font-medium",children:s.product}),c.jsx("td",{className:"p-3 text-muted-foreground",children:s.vendor}),c.jsx("td",{className:"p-3 text-center",children:s.current_qty}),t.map((l,u)=>{const d=`scenario_${u+1}`,h=s.scenarios[d];if(!h)return c.jsx("td",{className:"p-3 text-center",children:"-"},l.scenario.id);const f=h.change,p=a(f);return c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("span",{className:"font-medium",children:h.qty}),f!==0&&c.jsxs(_e,{variant:"outline",className:`text-xs ${n(f)}`,children:[c.jsx(p,{className:"h-3 w-3 mr-1"}),f>0?"+":"",f,"%"]}),h.qty===0&&s.current_qty>0&&c.jsx(_e,{variant:"outline",className:"text-xs text-red-600 bg-red-50",children:"CANCELADO"}),h.qty>0&&s.current_qty===0&&c.jsx(_e,{variant:"outline",className:"text-xs text-blue-600 bg-blue-50",children:"NUEVO"})]})},l.scenario.id)})]},s.product))})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(ee,{children:c.jsxs(te,{className:"p-4",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:of.reduce((s,o)=>s+t.reduce((l,u,d)=>{const h=`scenario_${d+1}`,f=o.scenarios[h];return l+(f&&f.qty>o.current_qty?1:0)},0),0)}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Órdenes Incrementadas"})]})}),c.jsx(ee,{children:c.jsxs(te,{className:"p-4",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:of.reduce((s,o)=>s+t.reduce((l,u,d)=>{const h=`scenario_${d+1}`,f=o.scenarios[h];return l+(f&&f.qty<o.current_qty?1:0)},0),0)}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Órdenes Reducidas"})]})}),c.jsx(ee,{children:c.jsxs(te,{className:"p-4",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:of.reduce((s,o)=>s+t.reduce((l,u,d)=>{const h=`scenario_${d+1}`,f=o.scenarios[h];return l+(f&&f.qty>0&&o.current_qty===0?1:0)},0),0)}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Órdenes Nuevas"})]})})]})]})},ut={total_orders:847,total_value:24e5,avg_lead_time:14.2,service_level:98.2,stockout_risk:2.1},v4e=({scenarios:t,isLoading:e=!1})=>{const[r,n]=_.useState([]),[a,i]=_.useState(!0),s=_.useMemo(()=>t.map(m=>({scenario:m,results:{total_order_count_change:Math.random()*40-20,total_value_change:Math.random()*5e5-25e4,average_lead_time_change:Math.random()*20-10,service_level_impact:Math.random()*4-2,stockout_risk_change:Math.random()*20-10}})),[t]),o=m=>{n(v=>v.includes(m)?v.filter(x=>x!==m):[...v,m])},l=s.filter(m=>r.includes(m.scenario.id||"")),u=m=>m>0?"text-green-600":m<0?"text-red-600":"text-gray-600",d=m=>m>0?ia:m<0?gs:yQ,h=m=>`${m>=0?"+":""}${m.toFixed(1)}%`,f=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(m),p=(m,v)=>Math.round(m*(1+v/100)),g=()=>{if(l.length===0){console.log("No scenarios selected for export");return}new Date().toISOString(),l.map(w=>({name:w.scenario.scenario_name,type:w.scenario.scenario_type,metrics:{total_orders:{current:ut.total_orders,scenario:p(ut.total_orders,w.results.total_order_count_change),change:w.results.total_order_count_change},total_value:{current:ut.total_value,scenario:p(ut.total_value,w.results.total_value_change/ut.total_value*100),change:w.results.total_value_change},avg_lead_time:{current:ut.avg_lead_time,scenario:ut.avg_lead_time*(1+w.results.average_lead_time_change/100),change:w.results.average_lead_time_change},service_level:{current:ut.service_level,scenario:ut.service_level+w.results.service_level_impact,change:w.results.service_level_impact},stockout_risk:{current:ut.stockout_risk,scenario:ut.stockout_risk+w.results.stockout_risk_change,change:w.results.stockout_risk_change}}}));const v=[["Metric","Current",...l.map(w=>w.scenario.scenario_name)],["Total Orders",ut.total_orders,...l.map(w=>p(ut.total_orders,w.results.total_order_count_change))],["Total Value ($)",ut.total_value,...l.map(w=>p(ut.total_value,w.results.total_value_change/ut.total_value*100))],["Avg Lead Time (days)",ut.avg_lead_time,...l.map(w=>(ut.avg_lead_time*(1+w.results.average_lead_time_change/100)).toFixed(1))],["Service Level (%)",ut.service_level,...l.map(w=>(ut.service_level+w.results.service_level_impact).toFixed(1))],["Stockout Risk (%)",ut.stockout_risk,...l.map(w=>(ut.stockout_risk+w.results.stockout_risk_change).toFixed(1))]].map(w=>w.join(",")).join(`
`),x=new Blob([v],{type:"text/csv;charset=utf-8;"}),y=document.createElement("a"),b=URL.createObjectURL(x);y.setAttribute("href",b),y.setAttribute("download",`scenario_comparison_${new Date().toISOString().split("T")[0]}.csv`),y.style.visibility="hidden",document.body.appendChild(y),y.click(),document.body.removeChild(y),console.log("Comparison data exported successfully")};return e?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Comparación de Escenarios"}),c.jsx("p",{className:"text-muted-foreground",children:"Compare múltiples escenarios para identificar la mejor estrategia"})]}),c.jsxs(de,{onClick:g,variant:"outline",className:"flex items-center gap-2",disabled:l.length===0,children:[c.jsx(J4,{className:"h-4 w-4"}),"Exportar"]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs(ee,{className:"lg:col-span-1",children:[c.jsx(pe,{children:c.jsx(me,{className:"text-lg",children:"Selección de Escenarios"})}),c.jsxs(te,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ej,{id:"baseline",checked:a,onCheckedChange:m=>i(!!m)}),c.jsx("label",{htmlFor:"baseline",className:"text-sm font-medium cursor-pointer",children:"Línea Base Actual"}),c.jsx(_e,{variant:"outline",className:"bg-gray-50",children:"Base"})]}),c.jsx("div",{className:"space-y-2",children:t.map(m=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ej,{id:m.id,checked:r.includes(m.id||""),onCheckedChange:()=>o(m.id||"")}),c.jsx("label",{htmlFor:m.id,className:"text-sm cursor-pointer flex-1",children:m.scenario_name}),c.jsx(_e,{variant:"outline",className:"text-xs",children:m.scenario_type})]},m.id))}),t.length===0&&c.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[c.jsx(Aa,{className:"h-8 w-8 mx-auto mb-2"}),c.jsx("p",{className:"text-sm",children:"No hay escenarios disponibles"})]})]})]}),c.jsx("div",{className:"lg:col-span-3 space-y-6",children:r.length>0||a?c.jsxs(c.Fragment,{children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Aa,{className:"h-5 w-5"}),"Comparación de Métricas Clave"]})}),c.jsx(te,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"Métrica"}),a&&c.jsx(je,{className:"text-center",children:"Actual"}),l.map(m=>c.jsx(je,{className:"text-center",children:m.scenario.scenario_name},m.scenario.id))]})}),c.jsxs(un,{children:[c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:"Total de Órdenes"}),a&&c.jsx(he,{className:"text-center",children:ut.total_orders}),l.map(m=>{const v=p(ut.total_orders,m.results.total_order_count_change);return c.jsx(he,{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("span",{children:v}),c.jsx("span",{className:`text-xs ${u(m.results.total_order_count_change)}`,children:h(m.results.total_order_count_change)})]})},m.scenario.id)})]}),c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:"Valor Total"}),a&&c.jsx(he,{className:"text-center",children:f(ut.total_value)}),l.map(m=>{const v=p(ut.total_value,m.results.total_value_change/ut.total_value*100);return c.jsx(he,{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("span",{children:f(v)}),c.jsx("span",{className:`text-xs ${u(m.results.total_value_change)}`,children:f(m.results.total_value_change)})]})},m.scenario.id)})]}),c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:"Tiempo Promedio de Entrega"}),a&&c.jsxs(he,{className:"text-center",children:[ut.avg_lead_time,"d"]}),l.map(m=>{const v=(ut.avg_lead_time*(1+m.results.average_lead_time_change/100)).toFixed(1);return c.jsx(he,{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsxs("span",{children:[v,"d"]}),c.jsx("span",{className:`text-xs ${u(m.results.average_lead_time_change)}`,children:h(m.results.average_lead_time_change)})]})},m.scenario.id)})]}),c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:"Nivel de Servicio"}),a&&c.jsxs(he,{className:"text-center",children:[ut.service_level,"%"]}),l.map(m=>{const v=(ut.service_level+m.results.service_level_impact).toFixed(1);return c.jsx(he,{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsxs("span",{children:[v,"%"]}),c.jsx("span",{className:`text-xs ${u(m.results.service_level_impact)}`,children:h(m.results.service_level_impact)})]})},m.scenario.id)})]}),c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:"Riesgo de Desabasto"}),a&&c.jsxs(he,{className:"text-center",children:[ut.stockout_risk,"%"]}),l.map(m=>{const v=(ut.stockout_risk+m.results.stockout_risk_change).toFixed(1);return c.jsx(he,{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsxs("span",{children:[v,"%"]}),c.jsx("span",{className:`text-xs ${u(-m.results.stockout_risk_change)}`,children:h(m.results.stockout_risk_change)})]})},m.scenario.id)})]})]})]})})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(m=>c.jsxs(ee,{children:[c.jsxs(pe,{className:"pb-3",children:[c.jsx(me,{className:"text-sm font-medium",children:m.scenario.scenario_name}),c.jsx(_e,{variant:"outline",className:"w-fit",children:m.scenario.scenario_type})]}),c.jsxs(te,{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Impacto en Valor"}),c.jsxs("div",{className:"flex items-center gap-1",children:[$.createElement(d(m.results.total_value_change),{className:`h-4 w-4 ${u(m.results.total_value_change)}`}),c.jsx("span",{className:`font-medium ${u(m.results.total_value_change)}`,children:f(m.results.total_value_change)})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Cambio en Órdenes"}),c.jsx("span",{className:`font-medium ${u(m.results.total_order_count_change)}`,children:h(m.results.total_order_count_change)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Riesgo de Desabasto"}),c.jsxs("div",{className:"flex items-center gap-1",children:[m.results.stockout_risk_change>0?c.jsx(Wr,{className:"h-4 w-4 text-red-500"}):c.jsx(Zr,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{className:`font-medium ${u(-m.results.stockout_risk_change)}`,children:h(m.results.stockout_risk_change)})]})]})]})]},m.scenario.id))}),l.length>0&&c.jsx(g4e,{comparisonData:l,includeBaseline:a})]}):c.jsx(ee,{children:c.jsxs(te,{className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx(Aa,{className:"h-12 w-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Seleccione Escenarios para Comparar"}),c.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Elija uno o más escenarios de la lista lateral para ver una comparación detallada."})]})})})]})]})},y4e=async()=>{const t=[{scenario_name:"Escenario de Demanda Alta",scenario_type:"forecast_adjustment",product_id:"PROD_001",location_id:"WH_001",description:"Simulación de incremento del 20% en la demanda",parameters:{percentage:20},results:{id:"1",scenario_execution_id:"1",impact_summary:{total_order_count_change:18.5,total_value_change:145e3,average_lead_time_change:-12.3,service_level_impact:3.2,stockout_risk_change:-15.7},detailed_changes:[]},status:"completed"},{scenario_name:"Escenario de Disrupción de Suministro",scenario_type:"supply_disruption",product_id:"PROD_002",location_id:"WH_001",description:"Simulación de reducción del 30% en la disponibilidad",parameters:{reduction:30},results:{id:"2",scenario_execution_id:"2",impact_summary:{total_order_count_change:-28.5,total_value_change:-95e3,average_lead_time_change:18.7,service_level_impact:-7.3,stockout_risk_change:32.1},detailed_changes:[]},status:"completed"},{scenario_name:"Escenario de Nivel de Servicio",scenario_type:"service",product_id:"PROD_003",location_id:"WH_002",description:"Optimización del nivel de servicio al 98%",parameters:{target_service_level:.98},results:{id:"3",scenario_execution_id:"3",scenario_type:"service",service_level_results:{target_service_level:.98,baseline_service_level:.95,summary:{total_products_affected:45,total_inventory_increase:1250,total_cost_impact:45e3,service_level_achievement_rate:.98,average_stockout_risk_reduction:.03}},impact_summary:{total_order_count_change:12.8,total_value_change:52e3,average_lead_time_change:0,service_level_impact:3,stockout_risk_change:-3}},status:"completed"},{scenario_name:"Escenario de Promoción",scenario_type:"promotional_impact",product_id:"PROD_004",location_id:"WH_001",description:"Simulación de campaña promocional con 25% de incremento",parameters:{lift:.25},results:{id:"4",scenario_execution_id:"4",impact_summary:{total_order_count_change:22.3,total_value_change:187500,average_lead_time_change:-8.9,service_level_impact:4.1,stockout_risk_change:-18.2},detailed_changes:[]},status:"completed"},{scenario_name:"Escenario de Optimización de Inventario",scenario_type:"inventory_optimization",product_id:"PROD_005",location_id:"WH_002",description:"Reducción de inventario con mantenimiento de servicio",parameters:{reduction:15},results:{id:"5",scenario_execution_id:"5",impact_summary:{total_order_count_change:-5.2,total_value_change:-35e3,average_lead_time_change:2.1,service_level_impact:-1.5,stockout_risk_change:8.7},detailed_changes:[]},status:"completed"}];try{console.log("📝 Creating sample scenarios...");for(const e of t){const{data:r,error:n}=await ue.from("what_if_scenarios").insert([e]).select();n?console.error("❌ Error creating sample scenario:",n):console.log("✅ Created sample scenario:",r[0].scenario_name)}console.log("🎉 Sample scenarios created successfully!")}catch(e){console.error("❌ Error creating sample scenarios:",e)}},x4e=()=>{const[t,e]=_.useState("builder"),[r,n]=_.useState(!1),[a,i]=_.useState(null),{scenarios:s,isLoading:o,deleteScenario:l,isDeleting:u}=w8(),d=()=>{n(!0),e("builder")},h=()=>{n(!1),e("library")},f=g=>{console.log("🔍 Viewing scenario:",g),console.log("📊 Available scenarios:",s);const m=s==null?void 0:s.find(v=>v.id===a);console.log("🎯 Selected scenario data:",m),i(g),e("library")},p=async()=>{try{await y4e(),window.location.reload()}catch(g){console.error("Error creating sample scenarios:",g)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Análisis What-If"}),c.jsx("p",{className:"text-muted-foreground",children:"Simule escenarios y analice el impacto en las recomendaciones de compra"})]}),c.jsxs(de,{onClick:d,className:"bg-[#0066CC] hover:bg-[#0052A3]",children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Nuevo Escenario"]})]}),c.jsxs(ah,{value:t,onValueChange:e,className:"w-full",children:[c.jsxs(Ac,{className:"grid w-full grid-cols-3",children:[c.jsxs(Rt,{value:"builder",className:"flex items-center gap-2",children:[c.jsx(vS,{className:"h-4 w-4"}),"Constructor"]}),c.jsxs(Rt,{value:"library",className:"flex items-center gap-2",children:[c.jsx(eO,{className:"h-4 w-4"}),"Biblioteca de Escenarios"]}),c.jsxs(Rt,{value:"comparison",className:"flex items-center gap-2",children:[c.jsx(oQ,{className:"h-4 w-4"}),"Comparación"]})]}),c.jsx(Nt,{value:"builder",className:"mt-6",children:r?c.jsx(ume,{onSave:h,onCancel:()=>n(!1)}):c.jsx(ee,{children:c.jsxs(te,{className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx(vS,{className:"h-12 w-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Crear Nuevo Escenario"}),c.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Configure parámetros y simule diferentes condiciones de mercado para optimizar sus decisiones de compra."}),c.jsxs(de,{onClick:d,className:"bg-[#0066CC] hover:bg-[#0052A3]",children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Comenzar Nuevo Escenario"]})]})})}),c.jsx(Nt,{value:"library",className:"mt-6",children:a?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx(de,{variant:"outline",onClick:()=>i(null),children:"← Volver a Biblioteca"})}),(()=>{const g=s==null?void 0:s.find(v=>v.id===a),m=(g==null?void 0:g.results)||{id:"1",scenario_execution_id:a,impact_summary:{total_order_count_change:15.2,total_value_change:125e3,average_lead_time_change:-8.5,service_level_impact:2.1,stockout_risk_change:-12.3},detailed_changes:[]};return console.log("🎯 Passing results to ScenarioResults:",m),c.jsx(hme,{results:m,scenarioName:(g==null?void 0:g.scenario_name)||"Scenario"})})()]}):c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Biblioteca de Escenarios"}),c.jsxs(_e,{variant:"outline",children:[o?"...":(s==null?void 0:s.length)||0," escenarios"]})]})}),c.jsx(te,{children:o?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s&&s.length>0?c.jsx("div",{className:"space-y-4",children:s.map(g=>c.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:g.scenario_name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tipo: ",g.scenario_type," • Creado: ",new Date(g.created_at||"").toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(_e,{variant:"outline",children:g.scenario_type}),c.jsx(de,{variant:"outline",size:"sm",onClick:()=>f(g.id||""),children:"Ver Detalles"}),c.jsx(de,{variant:"destructive",size:"sm",onClick:m=>{m.stopPropagation(),confirm("¿Está seguro de que desea eliminar este escenario?")&&l(g.id||"")},disabled:u,children:c.jsx(el,{className:"h-4 w-4"})})]})]})},g.id))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(eO,{className:"h-12 w-12 text-muted-foreground mb-4 mx-auto"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay escenarios guardados"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Cree su primer escenario para comenzar con el análisis what-if."}),c.jsxs("div",{className:"flex gap-2 justify-center",children:[c.jsxs(de,{onClick:d,variant:"outline",children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Crear Primer Escenario"]}),c.jsxs(de,{onClick:p,variant:"outline",children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Crear Escenarios de Prueba"]})]})]})})]})}),c.jsx(Nt,{value:"comparison",className:"mt-6",children:c.jsx(v4e,{scenarios:s||[],isLoading:o})})]})]})},b4e={light:"",dark:".dark"},oV=_.createContext(null);function lV(){const t=_.useContext(oV);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const ik=_.forwardRef(({id:t,className:e,children:r,config:n,...a},i)=>{const s=_.useId(),o=`chart-${t||s.replace(/:/g,"")}`;return c.jsx(oV.Provider,{value:{config:n},children:c.jsxs("div",{"data-chart":o,ref:i,className:le("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...a,children:[c.jsx(w4e,{id:o,config:n}),c.jsx(By,{children:r})]})})});ik.displayName="Chart";const w4e=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,a])=>a.theme||a.color);return r.length?c.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(b4e).map(([n,a])=>`
${a} [data-chart=${t}] {
${r.map(([i,s])=>{var l;const o=((l=s.theme)==null?void 0:l[n])||s.color;return o?`  --color-${i}: ${o};`:null}).join(`
`)}
}
`).join(`
`)}}):null},JD=Ka,sk=_.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:i=!1,label:s,labelFormatter:o,labelClassName:l,formatter:u,color:d,nameKey:h,labelKey:f},p)=>{const{config:g}=lV(),m=_.useMemo(()=>{var S;if(a||!(e!=null&&e.length))return null;const[x]=e,y=`${f||x.dataKey||x.name||"value"}`,b=ok(g,x,y),w=!f&&typeof s=="string"?((S=g[s])==null?void 0:S.label)||s:b==null?void 0:b.label;return o?c.jsx("div",{className:le("font-medium",l),children:o(w,e)}):w?c.jsx("div",{className:le("font-medium",l),children:w}):null},[s,o,e,a,l,g,f]);if(!t||!(e!=null&&e.length))return null;const v=e.length===1&&n!=="dot";return c.jsxs("div",{ref:p,className:le("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:m,c.jsx("div",{className:"grid gap-1.5",children:e.map((x,y)=>{const b=`${h||x.name||x.dataKey||"value"}`,w=ok(g,x,b),S=d||x.payload.fill||x.color;return c.jsx("div",{className:le("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,y,x.payload):c.jsxs(c.Fragment,{children:[w!=null&&w.icon?c.jsx(w.icon,{}):!i&&c.jsx("div",{className:le("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),c.jsxs("div",{className:le("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[c.jsxs("div",{className:"grid gap-1.5",children:[v?m:null,c.jsx("span",{className:"text-muted-foreground",children:(w==null?void 0:w.label)||x.name})]}),x.value&&c.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});sk.displayName="ChartTooltip";const _4e=_.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:a},i)=>{const{config:s}=lV();return r!=null&&r.length?c.jsx("div",{ref:i,className:le("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(o=>{const l=`${a||o.dataKey||"value"}`,u=ok(s,o,l);return c.jsxs("div",{className:le("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?c.jsx(u.icon,{}):c.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:o.color}}),u==null?void 0:u.label]},o.value)})}):null});_4e.displayName="ChartLegend";function ok(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let a=r;return r in e&&typeof e[r]=="string"?a=e[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in t?t[a]:t[r]}const S4e=({analysis:t})=>{const e=a=>{switch(a){case"seasonal":return c.jsx(id,{className:"h-4 w-4"});case"trend_based":return c.jsx(ia,{className:"h-4 w-4"});case"service_level":return c.jsx(Wr,{className:"h-4 w-4"});default:return c.jsx(ia,{className:"h-4 w-4"})}},r=a=>{switch(a){case"seasonal":return"bg-blue-500";case"trend_based":return"bg-green-500";case"service_level":return"bg-orange-500";default:return"bg-gray-500"}},n=t.current_safety_stock>0?(t.recommended_safety_stock-t.current_safety_stock)/t.current_safety_stock*100:0;return c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Wr,{className:"h-5 w-5"}),"Enhanced Safety Stock Analysis"]}),c.jsxs(N3,{children:["Advanced calculation using ",t.calculation_method," method"]})]}),c.jsxs(te,{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Current Safety Stock"}),c.jsx("p",{className:"text-2xl font-bold",children:t.current_safety_stock.toLocaleString()})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Recommended Safety Stock"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.recommended_safety_stock.toLocaleString()}),c.jsxs("div",{className:"flex items-center gap-2",children:[n>0?c.jsx(ia,{className:"h-4 w-4 text-green-600"}):c.jsx(gs,{className:"h-4 w-4 text-red-600"}),c.jsxs("span",{className:`text-sm font-medium ${n>0?"text-green-600":"text-red-600"}`,children:[Math.abs(n).toFixed(1),"%"]})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:"Calculation Method"}),c.jsxs(_e,{variant:"secondary",className:"gap-1",children:[e(t.calculation_method),t.calculation_method.replace("_"," ").toUpperCase()]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:"Confidence Level"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.confidence_interval,"%"]})]}),c.jsx(ti,{value:t.confidence_interval,className:"h-2"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Demand Variability"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${t.demand_variability>.3?"bg-red-500":t.demand_variability>.15?"bg-yellow-500":"bg-green-500"}`}),c.jsxs("span",{className:"text-sm font-medium",children:[(t.demand_variability*100).toFixed(1),"%"]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Lead Time Variability"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${t.lead_time_variability>.2?"bg-red-500":t.lead_time_variability>.1?"bg-yellow-500":"bg-green-500"}`}),c.jsxs("span",{className:"text-sm font-medium",children:[(t.lead_time_variability*100).toFixed(1),"%"]})]})]})]}),t.seasonal_factors&&t.seasonal_factors.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-sm font-medium",children:"Seasonal Factors"}),c.jsx("div",{className:"grid grid-cols-6 gap-1",children:t.seasonal_factors.slice(0,12).map((a,i)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:`h-8 w-full rounded-sm flex items-center justify-center text-xs font-medium text-white ${r("seasonal")}`,style:{opacity:.3+a.factor*.7},children:a.factor.toFixed(1)}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(2024,i,1).toLocaleDateString("en",{month:"short"})})]},a.month))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Cost Impact"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:`text-lg font-bold ${t.cost_impact>0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(t.cost_impact).toLocaleString()]}),c.jsx("span",{className:"text-sm text-muted-foreground",children:t.cost_impact>0?"Additional Investment":"Cost Savings"})]})]})]})]})};class q1{static async calculateProjections(e={}){try{let r=ue.from("current_inventory").select("*");e.product_id&&(r=r.eq("product_id",e.product_id)),e.warehouse_id&&(r=r.eq("warehouse_id",e.warehouse_id));const{data:n,error:a}=await r;if(a)throw a;if(!(n!=null&&n.length))return[];const i=n.map(d=>d.product_id);let s=ue.from("forecast_data").select("*").in("product_id",i).gte("postdate",new Date().toISOString().split("T")[0]).order("postdate",{ascending:!0});e.location_id&&(s=s.eq("location_id",e.location_id));const{data:o,error:l}=await s;if(l)throw l;return await Promise.all(n.map(async d=>{var p;const h=(o==null?void 0:o.filter(g=>g.product_id===d.product_id&&(e.location_id?g.location_id===e.location_id:!0)))||[],f=this.calculateInventoryTimeline(d,h,e.projection_days||90);return{product_id:d.product_id,location_id:((p=h[0])==null?void 0:p.location_id)||"default",warehouse_id:d.warehouse_id,projections:f}}))}catch(r){throw console.error("Error calculating projections:",r),r}}static calculateInventoryTimeline(e,r,n){const a=[],i=new Date;e.current_stock;let s=0;const o=this.calculateEnhancedSafetyStock(e,r);for(let l=0;l<=n;l++){const u=new Date(i);u.setDate(i.getDate()+l);const d=u.toISOString().split("T")[0],h=this.getDailyDemand(r,u),f=this.getSeasonalAdjustment(u),p=h*f;s+=p;let g=e.current_stock-s;if(g<=e.reorder_point&&l>0){const x=e.current_stock*2-g;x>0&&(g+=x)}const m=this.determineEnhancedInventoryStatus(g,o,e.reorder_point);a.push({date:d,projected_inventory:Math.max(0,g),forecast_demand:p,current_stock:e.current_stock,cumulative_demand:s,reorder_point:e.reorder_point,safety_stock:o,status:m})}return a}static getDailyDemand(e,r){if(!e.length)return 0;const n=r.toISOString().split("T")[0],a=e.find(o=>o.postdate===n);if(a&&a.forecast)return a.forecast;const i=e.filter(o=>o.forecast!==null).sort((o,l)=>new Date(o.postdate).getTime()-new Date(l.postdate).getTime());return i.length&&i.reduce((o,l)=>{const u=Math.abs(new Date(o.postdate).getTime()-r.getTime());return Math.abs(new Date(l.postdate).getTime()-r.getTime())<u?l:o}).forecast||0}static calculateEnhancedSafetyStock(e,r){if(!r.length)return e.safety_stock;const n=r.map(d=>d.forecast||0),a=n.reduce((d,h)=>d+h,0)/n.length,i=n.reduce((d,h)=>d+Math.pow(h-a,2),0)/n.length,u=1.65*Math.sqrt(i)*Math.sqrt(14/7);return Math.max(u,e.safety_stock)}static getSeasonalAdjustment(e){const r=e.getMonth()+1;return{1:.9,2:.95,3:1,4:1.05,5:1.1,6:1.15,7:1.2,8:1.15,9:1.05,10:1.1,11:1.25,12:1.3}[r]||1}static determineEnhancedInventoryStatus(e,r,n){return e<=0?"stockout":e<=r*.5?"critical":e<=r?"warning":"optimal"}static getProjectionSummary(e){var o;if(!e.length)return null;const r=e.filter(l=>l.status==="stockout").length,n=e.filter(l=>l.status==="critical").length,a=e.filter(l=>l.status==="warning").length,i=Math.min(...e.map(l=>l.projected_inventory)),s=((o=e[e.length-1])==null?void 0:o.cumulative_demand)||0;return{stockoutDays:r,criticalDays:n,warningDays:a,minInventory:i,totalDemand:s,riskLevel:r>0?"high":n>7?"medium":"low"}}}class eL{static async calculateAdvancedSafetyStock(e,r,n){let a=ue.from("current_inventory").select("*").eq("product_id",e);n&&(a=a.eq("warehouse_id",n));const{data:i,error:s}=await a;if(s)throw s;const{data:o,error:l}=await ue.from("forecast_data").select("*").eq("product_id",e).gte("postdate",new Date(Date.now()-365*24*60*60*1e3).toISOString()).order("postdate",{ascending:!0});if(l)throw l;const u=[];for(const d of i||[]){const h=(o==null?void 0:o.filter(m=>r?m.location_id===r:!0))||[],f=this.calculateDemandVariability(h),p=this.calculateSeasonalFactors(h),g=await this.calculateSafetyStockMethods(d,h,f,p);u.push({product_id:d.product_id,location_id:r||"default",warehouse_id:d.warehouse_id,current_safety_stock:d.safety_stock,recommended_safety_stock:g.recommended,calculation_method:g.method,demand_variability:f,lead_time_variability:g.leadTimeVariability,service_level_target:95,seasonal_factors:p,confidence_interval:g.confidenceInterval,cost_impact:g.costImpact})}return u}static calculateDemandVariability(e){if(e.length<2)return 0;const r=e.map(i=>i.forecast||0),n=r.reduce((i,s)=>i+s,0)/r.length,a=r.reduce((i,s)=>i+Math.pow(s-n,2),0)/r.length;return Math.sqrt(a)/n}static calculateSeasonalFactors(e){const r={};e.forEach(i=>{const s=new Date(i.postdate).getMonth()+1;r[s]||(r[s]=[]),r[s].push(i.forecast||0)});const n=e.reduce((i,s)=>i+(s.forecast||0),0)/e.length,a=[];for(let i=1;i<=12;i++){const s=r[i]||[n],o=s.reduce((u,d)=>u+d,0)/s.length,l=s.reduce((u,d)=>u+Math.pow(d-o,2),0)/s.length;a.push({month:i,factor:o/n,historical_variance:l})}return a}static async calculateSafetyStockMethods(e,r,n,a){var m;const i=e.lead_time||14,s=1.65,o=r.length>0?r.reduce((v,x)=>v+(x.forecast||0),0)/r.length:e.current_stock/30,l=s*Math.sqrt(i)*(o*n),u=new Date().getMonth()+1,d=((m=a.find(v=>v.month===u))==null?void 0:m.factor)||1,h=l*d;let f=l;if(r.length>=6){const v=r.slice(-3).reduce((b,w)=>b+(w.forecast||0),0)/3,x=r.slice(-6,-3).reduce((b,w)=>b+(w.forecast||0),0)/3,y=v>x?1.2:.9;f=l*y}let p,g;return r.length>=12&&n>.3?(p=h,g="seasonal"):r.length>=6&&n>.2?(p=f,g="trend_based"):(p=l,g="static"),p=Math.max(p,o*3),{recommended:Math.round(p),method:g,leadTimeVariability:.1,confidenceInterval:95,costImpact:(p-e.safety_stock)*(e.unit_cost||10)}}static async analyzeMultiNodeInventory(e){const{data:r,error:n}=await ue.from("current_inventory").select("*").eq("product_id",e);if(n)throw n;const a=(r||[]).map(l=>({node_id:`${l.warehouse_id}`,node_type:l.warehouse_id<10?"distribution_center":"warehouse",location_id:"default",current_stock:l.current_stock,capacity:l.current_stock*2,lead_time_to_replenish:14,demand_zone:["default"],upstream_nodes:[],downstream_nodes:[]})),i=a.reduce((l,u)=>l+u.current_stock,0),s=[];for(let l=0;l<a.length;l++)for(let u=l+1;u<a.length;u++)s.push({from_node:a[l].node_id,to_node:a[u].node_id,transfer_cost:50,transfer_time:2,min_transfer_quantity:10,max_transfer_quantity:Math.min(a[l].current_stock,a[u].capacity)});const o=await this.calculateOptimalDistribution(a,e);return{product_id:e,nodes:a,transfer_rules:s,total_network_stock:i,optimal_distribution:o}}static async calculateOptimalDistribution(e,r){const{data:n}=await ue.from("forecast_data").select("*").eq("product_id",r).gte("postdate",new Date().toISOString().split("T")[0]),a=[];for(const i of e){const s=(n==null?void 0:n.filter(h=>i.demand_zone.includes(h.location_id||"unknown")))||[],o=s.length>0?s.reduce((h,f)=>h+(f.forecast||0),0)/s.length:i.current_stock/30,l=Math.min(o*30,i.capacity*.8),u=o*(i.lead_time_to_replenish+5),d=[];if(i.current_stock<l*.5){const h=l-i.current_stock,f=e.find(p=>p.node_id!==i.node_id&&p.current_stock>l*1.2);f&&d.push({from_node:f.node_id,to_node:i.node_id,quantity:Math.min(h,f.current_stock*.2),urgency:i.current_stock<u?"critical":"high",expected_benefit:h*.1})}a.push({node_id:i.node_id,recommended_stock_level:Math.round(l),reorder_point:Math.round(u),max_stock_level:Math.round(i.capacity*.9),transfer_recommendations:d})}return a}}const j4e=()=>{const[t,e]=_.useState(!1),[r,n]=_.useState([]),[a,i]=_.useState(null),s=_.useCallback(async u=>{e(!0),i(null);try{const d=await q1.calculateProjections(u),h=[];for(const f of d){let p,g;if(u.includeSafetyStockAnalysis)try{p=(await eL.calculateAdvancedSafetyStock(f.product_id,f.location_id,f.warehouse_id))[0]}catch(v){console.warn(`Failed to calculate safety stock for ${f.product_id}:`,v)}if(u.includeMultiNodeAnalysis)try{g=await eL.analyzeMultiNodeInventory(f.product_id)}catch(v){console.warn(`Failed to analyze multi-node inventory for ${f.product_id}:`,v)}const m=o(f,p,g);h.push({...f,safetyStockAnalysis:p,multiNodeAnalysis:g,riskAssessment:m})}return n(h),h}catch(d){const h=d instanceof Error?d.message:"Error calculating advanced projections";throw i(h),console.error("Advanced projection calculation error:",d),d}finally{e(!1)}},[]),o=(u,d,h)=>{const f=q1.getProjectionSummary(u.projections);let p=0;f&&(p=f.stockoutDays*.4+f.criticalDays*.2+f.warningDays*.1,p=Math.min(p/30,1));let g=0;if(d!=null&&d.seasonal_factors){const y=new Date().getMonth()+1,b=d.seasonal_factors.find(w=>w.month===y);g=b?Math.abs(b.factor-1):0}let m=.5;if(h!=null&&h.optimal_distribution){const y=h.optimal_distribution.reduce((b,w)=>b+w.transfer_recommendations.length,0);m=Math.max(.1,1-y*.1)}const v=Math.min(1,p+g*.3+(1-m)*.2);let x;return v<.2?x="low":v<.5?x="medium":x="high",{riskLevel:x,stockoutProbability:Math.round(v*100)/100,seasonalRisk:Math.round(g*100)/100,networkOptimizationScore:Math.round(m*100)/100}},l=_.useCallback(u=>q1.getProjectionSummary(u.projections),[]);return{loading:t,results:r,error:a,calculateAdvancedProjections:s,getProjectionSummary:l}},C4e=1,k4e=1e6;let G1=0;function A4e(){return G1=(G1+1)%Number.MAX_SAFE_INTEGER,G1.toString()}const K1=new Map,tL=t=>{if(K1.has(t))return;const e=setTimeout(()=>{K1.delete(t),Cv({type:"REMOVE_TOAST",toastId:t})},k4e);K1.set(t,e)},N4e=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,C4e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?tL(r):t.toasts.forEach(n=>{tL(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},P4e=[];let Z1={toasts:[]};function Cv(t){Z1=N4e(Z1,t),P4e.forEach(e=>{e(Z1)})}function yf({...t}){const e=A4e(),r=a=>Cv({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>Cv({type:"DISMISS_TOAST",toastId:e});return Cv({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function E4e(){var Ot,W,V,J,we;const[t]=X4(),e=()=>{try{const Y=localStorage.getItem("inventoryProjectionsFilters");return Y?JSON.parse(Y):{}}catch{return{}}},r=Y=>{try{localStorage.setItem("inventoryProjectionsFilters",JSON.stringify(Y))}catch(Q){console.warn("Failed to save filters to localStorage:",Q)}},n=e(),[a,i]=_.useState(t.get("product_id")||n.productId||""),[s,o]=_.useState(t.get("location_id")||n.locationId||""),[l,u]=_.useState(t.get("customer_id")||n.customerId||""),[d,h]=_.useState(90),[f,p]=_.useState("monthly"),[g,m]=_.useState(90),[v,x]=_.useState([]),[y,b]=_.useState([]),[w,S]=_.useState(!0),[k,C]=_.useState(!0),[A,N]=_.useState(!1),[P,E]=_.useState(!1),[O,T]=_.useState(!1),[M,L]=_.useState(!1),{getProductName:I}=VW(),{getLocationName:D}=qW(),{getCustomerName:R}=GW(),{loading:F,results:z,error:B,calculateAdvancedProjections:q,getProjectionSummary:ie}=j4e(),[ne,Ne]=_.useState(null);_.useEffect(()=>{const Y=t.get("product_id"),Q=t.get("location_id"),xe=t.get("customer_id");Y&&Y!==a&&i(Y),Q&&Q!==s&&o(Q),xe&&xe!==l&&u(xe)},[t]);const fe=Y=>{i(Y),r({productId:Y,locationId:s,customerId:l}),console.log("Producto seleccionado en Inventory Projections:",Y)},X=Y=>{o(Y),r({productId:a,locationId:Y,customerId:l}),console.log("Ubicación seleccionada en Inventory Projections:",Y)},ae=Y=>{u(Y),r({productId:a,locationId:s,customerId:Y}),console.log("Cliente seleccionado en Inventory Projections:",Y)},G=()=>{i(""),o(""),u(""),r({productId:"",locationId:"",customerId:""}),console.log("Filtros limpiados")};_.useEffect(()=>{console.log("Filters changed:",{selectedProductId:a,selectedLocationId:s,selectedCustomerId:l,viewMode:f}),a&&(f==="monthly"?se():Z())},[a,s,l,d,w,k,f,g]);const Z=async()=>{try{const Y=await q({product_id:a||void 0,location_id:s||void 0,projection_days:d,includeSafetyStockAnalysis:w,includeMultiNodeAnalysis:k});Ne(Y[0]||null),Y.length===0&&yf({title:"No hay datos disponibles",description:"No se encontraron datos de inventario para los filtros seleccionados.",variant:"destructive"})}catch(Y){console.error("Error loading projections:",Y),yf({title:"Error al cargar proyecciones",description:"Hubo un problema al calcular las proyecciones de inventario.",variant:"destructive"})}},se=async()=>{console.log("Loading monthly projections for:",{selectedProductId:a,selectedLocationId:s}),N(!0);try{let Y=ue.from("inventory_projections").select("*").gte("projection_month",new Date().toISOString().slice(0,7)).order("projection_month",{ascending:!0});a&&(Y=Y.eq("product_id",a)),s&&(Y=Y.eq("location_id",s)),console.log("Executing query for monthly projections...");const{data:Q,error:xe}=await Y;if(xe)throw xe;console.log("Monthly projections data received:",(Q==null?void 0:Q.length)||0,"records"),b(Q||[]);const Ie=K(Q||[]);x(Ie),console.log("Transformed monthly data:",Ie.length,"records"),Ie.length===0&&yf({title:"No hay datos mensuales disponibles",description:"No se encontraron proyecciones mensuales para los filtros seleccionados.",variant:"default"})}catch(Y){console.error("Error loading monthly projections:",Y),yf({title:"Error al cargar proyecciones mensuales",description:"Hubo un problema al obtener los datos de proyecciones mensuales.",variant:"destructive"})}finally{N(!1)}},K=Y=>Y.map(Q=>{const xe=Q.forecasted_demand>0?Q.projected_ending_inventory/(Q.forecasted_demand/30):0;let Ie="optimal";return Q.projected_ending_inventory<=0?Ie="stockout":Q.projected_ending_inventory<Q.safety_stock?Ie="critical":Q.projected_ending_inventory<Q.reorder_point?Ie="warning":Q.projected_ending_inventory>Q.safety_stock*3&&(Ie="overstock"),{month:new Date(Q.projection_month).toLocaleDateString("es-ES",{year:"numeric",month:"short"}),current_inventory:Q.current_inventory,forecasted_demand:Q.forecasted_demand,planned_receipts:Q.planned_receipts,projected_ending_inventory:Q.projected_ending_inventory,safety_stock:Q.safety_stock,reorder_point:Q.reorder_point,status:Ie,stockout_risk:Q.stockout_risk_percentage,days_of_supply:Math.round(xe)}}),Pe=Y=>{switch(Y){case"optimal":return c.jsx(Zr,{className:"h-4 w-4 text-green-500"});case"warning":return c.jsx(Wr,{className:"h-4 w-4 text-yellow-500"});case"critical":return c.jsx(gs,{className:"h-4 w-4 text-orange-500"});case"stockout":return c.jsx(Sw,{className:"h-4 w-4 text-red-500"});default:return c.jsx(tu,{className:"h-4 w-4 text-gray-500"})}},Te=Y=>{switch(Y){case"optimal":return c.jsx(_e,{className:"bg-green-100 text-green-700",children:"Óptimo"});case"warning":return c.jsx(_e,{className:"bg-yellow-100 text-yellow-700",children:"Advertencia"});case"critical":return c.jsx(_e,{className:"bg-orange-100 text-orange-700",children:"Crítico"});case"stockout":return c.jsx(_e,{className:"bg-red-100 text-red-700",children:"Agotado"});default:return c.jsx(_e,{variant:"outline",children:Y})}},nt=Y=>Y.map(Q=>({date:new Date(Q.date).getMonth()+1+"/"+new Date(Q.date).getDate(),inventory:Q.projected_inventory,demand:Q.forecast_demand,safety_stock:Q.safety_stock,reorder_point:Q.reorder_point,status:Q.status})),tt=Y=>ie(Y);return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Proyecciones de Inventario"}),c.jsx("p",{className:"text-muted-foreground",children:"Análisis predictivo de niveles de inventario basado en demanda pronosticada"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tu,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs(xn,{value:f,onValueChange:Y=>p(Y),children:[c.jsx(an,{className:"w-32",children:c.jsx(bn,{})}),c.jsxs(sn,{children:[c.jsx(it,{value:"daily",children:"Vista Diaria"}),c.jsx(it,{value:"monthly",children:"Vista Mensual"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(id,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs(xn,{value:g.toString(),onValueChange:Y=>m(parseInt(Y)),children:[c.jsx(an,{className:"w-32",children:c.jsx(bn,{})}),c.jsxs(sn,{children:[c.jsx(it,{value:"30",children:"30 días"}),c.jsx(it,{value:"60",children:"60 días"}),c.jsx(it,{value:"90",children:"90 días"})]})]})]})]})]}),c.jsx(ee,{children:c.jsx(te,{className:"p-4",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zt,{className:"h-4 w-4 text-blue-500"}),c.jsx("span",{className:"text-sm font-medium",children:"Producto:"}),a?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_e,{variant:"outline",children:a}),c.jsx(_e,{variant:"secondary",children:I(a)})]}):c.jsx("span",{className:"text-sm text-muted-foreground",children:"No seleccionado (obligatorio)"}),c.jsx(de,{variant:"outline",size:"icon",onClick:()=>E(!0),className:"ml-2 h-8 w-8",children:c.jsx(Eu,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(wm,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{className:"text-sm font-medium",children:"Ubicación:"}),s?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_e,{variant:"outline",children:s}),c.jsx(_e,{variant:"secondary",children:D(s)})]}):c.jsx("span",{className:"text-sm text-muted-foreground",children:"No seleccionada (opcional)"}),c.jsx(de,{variant:"outline",size:"icon",onClick:()=>T(!0),className:"ml-2 h-8 w-8",children:c.jsx(Eu,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(bS,{className:"h-4 w-4 text-orange-500"}),c.jsx("span",{className:"text-sm font-medium",children:"Cliente:"}),l?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_e,{variant:"outline",children:l}),c.jsx(_e,{variant:"secondary",children:R(l)})]}):c.jsx("span",{className:"text-sm text-muted-foreground",children:"No seleccionado (opcional)"}),c.jsx(de,{variant:"outline",size:"icon",onClick:()=>L(!0),className:"ml-2 h-8 w-8",children:c.jsx(Eu,{className:"h-4 w-4"})})]})]}),(a||s||l)&&c.jsx(de,{variant:"outline",size:"icon",onClick:G,className:"h-8 w-8",children:c.jsx(Na,{className:"h-4 w-4"})})]})})}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Z2,{className:"h-5 w-5"}),"Configuración de Análisis"]})}),c.jsx(te,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.jsx("div",{className:"flex items-end",children:c.jsx(de,{onClick:Z,disabled:F,className:"w-full",children:F?"Calculando...":"Actualizar Proyecciones"})})}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[c.jsx(Z2,{className:"h-4 w-4"}),"Análisis Avanzado"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(ez,{className:"h-4 w-4"}),"Análisis de Stock de Seguridad"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Incluye cálculos avanzados de stock de seguridad con múltiples métodos"})]}),c.jsx(ky,{checked:w,onCheckedChange:S})]}),c.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(rO,{className:"h-4 w-4"}),"Análisis Multi-Nodo"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Análisis de red de inventario y optimización entre ubicaciones"})]}),c.jsx(ky,{checked:k,onCheckedChange:C})]})]})]})]})})]}),(F||A)&&c.jsx(ee,{children:c.jsxs(te,{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cargando proyecciones..."}),c.jsx("p",{className:"text-muted-foreground",children:"Por favor espera mientras calculamos las proyecciones de inventario."})]})}),!F&&!A&&(z.length>0||v.length>0)&&c.jsxs(ah,{defaultValue:f==="monthly"?"monthly-overview":"overview",className:"space-y-4",children:[c.jsxs(Ac,{children:[f==="monthly"&&c.jsx(Rt,{value:"monthly-overview",children:"Resumen Mensual"}),f==="monthly"&&c.jsx(Rt,{value:"monthly-chart",children:"Gráfico Mensual"}),f==="monthly"&&c.jsx(Rt,{value:"inventory-management",children:"Gestión de Inventario"}),f==="daily"&&c.jsx(Rt,{value:"overview",children:"Resumen"}),f==="daily"&&c.jsx(Rt,{value:"chart",children:"Gráfico de Proyección"}),f==="daily"&&c.jsx(Rt,{value:"details",children:"Análisis Detallado"}),w&&c.jsx(Rt,{value:"safety-stock",children:"Stock de Seguridad"}),k&&c.jsx(Rt,{value:"multi-node",children:"Análisis Multi-Nodo"})]}),z.length>1&&c.jsx(ee,{children:c.jsx(te,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm font-medium",children:"Seleccionar producto/ubicación:"}),c.jsxs(xn,{value:ne?`${ne.product_id}_${ne.location_id}`:"",onValueChange:Y=>{const[Q,xe]=Y.split("_"),Ie=z.find(ft=>ft.product_id===Q&&ft.location_id===xe);Ne(Ie||null)},children:[c.jsx(an,{className:"w-64",children:c.jsx(bn,{placeholder:"Seleccionar combinación"})}),c.jsx(sn,{children:z.map(Y=>c.jsxs(it,{value:`${Y.product_id}_${Y.location_id}`,children:[Y.product_id," - ",Y.location_id]},`${Y.product_id}_${Y.location_id}`))})]})]})})}),f==="monthly"&&v.length>0&&c.jsxs(c.Fragment,{children:[c.jsx(Nt,{value:"monthly-overview",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:(()=>{const Y=v.filter(ft=>ft.status==="stockout").length,Q=v.filter(ft=>ft.status==="critical").length,xe=v.filter(ft=>ft.status==="overstock").length,Ie=v.reduce((ft,Tt)=>ft+Tt.stockout_risk,0)/v.length;return c.jsxs(c.Fragment,{children:[c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Meses con Agotamiento"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:Y})]}),c.jsx(Sw,{className:"h-8 w-8 text-red-500"})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Meses Críticos"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Q})]}),c.jsx(Wr,{className:"h-8 w-8 text-orange-500"})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Meses con Exceso"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:xe})]}),c.jsx(ia,{className:"h-8 w-8 text-blue-500"})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Riesgo Promedio (%)"}),c.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(Ie),"%"]})]}),c.jsx(tu,{className:"h-8 w-8 text-gray-500"})]})})})]})})()}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Proyecciones Mensuales"})}),c.jsx(te,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Mes"}),c.jsx("th",{className:"text-left p-2",children:"Inventario Actual"}),c.jsx("th",{className:"text-left p-2",children:"Demanda"}),c.jsx("th",{className:"text-left p-2",children:"Recepciones"}),c.jsx("th",{className:"text-left p-2",children:"Inventario Final"}),c.jsx("th",{className:"text-left p-2",children:"Días de Suministro"}),c.jsx("th",{className:"text-left p-2",children:"Riesgo (%)"}),c.jsx("th",{className:"text-left p-2",children:"Estado"})]})}),c.jsx("tbody",{children:v.map((Y,Q)=>c.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[c.jsx("td",{className:"p-2 font-medium",children:Y.month}),c.jsx("td",{className:"p-2",children:Math.round(Y.current_inventory)}),c.jsx("td",{className:"p-2",children:Math.round(Y.forecasted_demand)}),c.jsx("td",{className:"p-2",children:Math.round(Y.planned_receipts)}),c.jsx("td",{className:"p-2 font-medium",children:Math.round(Y.projected_ending_inventory)}),c.jsx("td",{className:"p-2",children:Y.days_of_supply}),c.jsxs("td",{className:"p-2",children:[Math.round(Y.stockout_risk),"%"]}),c.jsx("td",{className:"p-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[Pe(Y.status),Te(Y.status)]})})]},Q))})]})})})]})]})}),c.jsx(Nt,{value:"monthly-chart",children:c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Aa,{className:"h-5 w-5"}),"Proyecciones Mensuales de Inventario"]})}),c.jsx(te,{className:"p-6",children:c.jsx(ik,{config:{projected_ending_inventory:{label:"Inventario Final",color:"hsl(var(--primary))"},forecasted_demand:{label:"Demanda",color:"hsl(var(--destructive))"},safety_stock:{label:"Stock de Seguridad",color:"hsl(var(--warning))"},reorder_point:{label:"Punto de Reorden",color:"hsl(var(--secondary))"}},className:"w-full h-[400px] min-h-[300px]",children:c.jsx(By,{width:"100%",height:"100%",children:c.jsxs(m4e,{data:v,children:[c.jsx(_x,{strokeDasharray:"3 3"}),c.jsx(qo,{dataKey:"month"}),c.jsx(Go,{}),c.jsx(JD,{content:c.jsx(sk,{})}),c.jsx(bs,{}),c.jsx(Vi,{dataKey:"projected_ending_inventory",fill:"hsl(var(--primary))",name:"Inventario Final"}),c.jsx(xc,{type:"monotone",dataKey:"forecasted_demand",stroke:"hsl(var(--destructive))",strokeWidth:2,name:"Demanda"}),c.jsx(Il,{y:((Ot=v[0])==null?void 0:Ot.safety_stock)||0,stroke:"hsl(var(--warning))",strokeDasharray:"5 5",label:"Stock de Seguridad"}),c.jsx(Il,{y:((W=v[0])==null?void 0:W.reorder_point)||0,stroke:"hsl(var(--secondary))",strokeDasharray:"5 5",label:"Punto de Reorden"})]})})})})]})}),c.jsx(Nt,{value:"inventory-management",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(oc,{className:"h-5 w-5"}),"Acciones Críticas Requeridas"]})}),c.jsx(te,{children:c.jsxs("div",{className:"space-y-4",children:[v.filter(Y=>Y.status==="stockout"||Y.status==="critical").map((Y,Q)=>c.jsx("div",{className:"border rounded-lg p-4 bg-red-50 border-red-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-red-800",children:Y.status==="stockout"?"AGOTAMIENTO PROYECTADO":"NIVEL CRÍTICO"}),c.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Mes: ",Y.month," | Inventario Final: ",Math.round(Y.projected_ending_inventory)," unidades"]}),c.jsxs("p",{className:"text-sm font-medium mt-2",children:["Acción Recomendada: Ordenar ",Math.max(0,Y.reorder_point-Y.projected_ending_inventory+Y.forecasted_demand)," unidades"]})]}),c.jsxs(_e,{variant:"destructive",children:[Y.stockout_risk,"% Riesgo"]})]})},Q)),v.filter(Y=>Y.status==="overstock").map((Y,Q)=>c.jsx("div",{className:"border rounded-lg p-4 bg-blue-50 border-blue-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-blue-800",children:"EXCESO DE INVENTARIO"}),c.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Mes: ",Y.month," | Inventario Final: ",Math.round(Y.projected_ending_inventory)," unidades"]}),c.jsxs("p",{className:"text-sm font-medium mt-2",children:["Considerar redistribuir ",Math.round(Y.projected_ending_inventory-Y.safety_stock*2)," unidades"]})]}),c.jsxs(_e,{className:"bg-blue-100 text-blue-700",children:[Y.days_of_supply," días"]})]})},Q)),v.filter(Y=>Y.status==="stockout"||Y.status==="critical"||Y.status==="overstock").length===0&&c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No hay acciones críticas requeridas en este período"})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Z4,{className:"h-5 w-5"}),"Análisis de Tiempos de Entrega"]})}),c.jsx(te,{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:y.slice(0,3).map((Y,Q)=>c.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.lead_time_days}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Días de Lead Time"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(Y.projection_month).toLocaleDateString("es-ES",{month:"long"})})]},Q))})})]})]})})]}),f==="daily"&&ne&&c.jsxs(c.Fragment,{children:[c.jsx(Nt,{value:"overview",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:(()=>{const Y=tt(ne);return Y?c.jsxs(c.Fragment,{children:[c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Días con Agotamiento"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:Y.stockoutDays})]}),c.jsx(Sw,{className:"h-8 w-8 text-red-500"})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Días Críticos"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Y.criticalDays})]}),c.jsx(Wr,{className:"h-8 w-8 text-orange-500"})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Inventario Mínimo"}),c.jsx("p",{className:"text-2xl font-bold",children:Math.round(Y.minInventory)})]}),c.jsx(gs,{className:"h-8 w-8 text-blue-500"})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nivel de Riesgo"}),c.jsx("div",{className:"flex items-center gap-2",children:ne.riskAssessment?c.jsx(_e,{className:ne.riskAssessment.riskLevel==="low"?"bg-green-100 text-green-700":ne.riskAssessment.riskLevel==="medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700",children:ne.riskAssessment.riskLevel==="low"?"Bajo":ne.riskAssessment.riskLevel==="medium"?"Medio":"Alto"}):Te(Y.riskLevel)})]}),c.jsx(tu,{className:"h-8 w-8 text-gray-500"})]})})})]}):null})()})}),c.jsx(Nt,{value:"chart",children:c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Aa,{className:"h-5 w-5"}),"Proyección de Inventario - ",ne.product_id]})}),c.jsx(te,{className:"p-6",children:c.jsx(ik,{config:{inventory:{label:"Inventario Proyectado",color:"hsl(var(--primary))"},safety_stock:{label:"Stock de Seguridad",color:"hsl(var(--destructive))"},reorder_point:{label:"Punto de Reorden",color:"hsl(var(--warning))"}},className:"w-full h-[400px] min-h-[300px]",children:c.jsx(By,{width:"100%",height:"100%",children:c.jsxs(p4e,{data:nt(ne.projections),children:[c.jsx(_x,{strokeDasharray:"3 3"}),c.jsx(qo,{dataKey:"date"}),c.jsx(Go,{}),c.jsx(JD,{content:c.jsx(sk,{})}),c.jsx(bs,{}),c.jsx(xc,{type:"monotone",dataKey:"inventory",stroke:"hsl(var(--primary))",strokeWidth:2,name:"Inventario Proyectado"}),c.jsx(Il,{y:((V=ne.projections[0])==null?void 0:V.safety_stock)||0,stroke:"hsl(var(--destructive))",strokeDasharray:"5 5",label:"Stock de Seguridad"}),c.jsx(Il,{y:((J=ne.projections[0])==null?void 0:J.reorder_point)||0,stroke:"hsl(var(--warning))",strokeDasharray:"5 5",label:"Punto de Reorden"})]})})})})]})}),c.jsx(Nt,{value:"details",children:c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Análisis Detallado por Período"})}),c.jsx(te,{children:c.jsx("div",{className:"overflow-x-auto",children:(()=>{const Y=ne.projections.slice(0,15),Q=Y.map(xe=>new Date(xe.date).toLocaleDateString("es-ES",{month:"short",day:"numeric"}));return c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2 font-semibold bg-muted/50",children:"Métrica"}),Q.map((xe,Ie)=>c.jsx("th",{className:"text-center p-2 font-medium min-w-[80px]",children:xe},Ie))]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[c.jsx("td",{className:"p-2 font-medium bg-muted/30",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zt,{className:"h-4 w-4 text-blue-500"}),"Inventario Proyectado"]})}),Y.map((xe,Ie)=>c.jsx("td",{className:"p-2 text-center font-medium",children:Math.round(xe.projected_inventory).toLocaleString()},Ie))]}),c.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[c.jsx("td",{className:"p-2 font-medium bg-muted/30",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(gs,{className:"h-4 w-4 text-red-500"}),"Demanda Diaria"]})}),Y.map((xe,Ie)=>c.jsx("td",{className:"p-2 text-center",children:Math.round(xe.forecast_demand).toLocaleString()},Ie))]}),c.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[c.jsx("td",{className:"p-2 font-medium bg-muted/30",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ia,{className:"h-4 w-4 text-orange-500"}),"Demanda Acumulada"]})}),Y.map((xe,Ie)=>c.jsx("td",{className:"p-2 text-center",children:Math.round(xe.cumulative_demand).toLocaleString()},Ie))]}),c.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[c.jsx("td",{className:"p-2 font-medium bg-muted/30",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tu,{className:"h-4 w-4 text-gray-500"}),"Estado"]})}),Y.map((xe,Ie)=>c.jsx("td",{className:"p-2 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[Pe(xe.status),c.jsx("span",{className:"text-xs",children:xe.status==="optimal"?"Óptimo":xe.status==="warning"?"Advertencia":xe.status==="critical"?"Crítico":xe.status==="stockout"?"Agotado":xe.status})]})},Ie))]})]})]})})()})})]})}),w&&(ne==null?void 0:ne.safetyStockAnalysis)&&c.jsx(Nt,{value:"safety-stock",children:c.jsx(S4e,{analysis:ne.safetyStockAnalysis})}),k&&(ne==null?void 0:ne.multiNodeAnalysis)&&c.jsx(Nt,{value:"multi-node",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(rO,{className:"h-5 w-5"}),"Análisis de Red de Inventario"]})}),c.jsx(te,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-2xl font-bold text-primary",children:ne.multiNodeAnalysis.total_network_inventory}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Inventario Total Red"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:ne.multiNodeAnalysis.locations_with_excess}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Ubicaciones con Exceso"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-2xl font-bold text-red-600",children:ne.multiNodeAnalysis.locations_at_risk}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Ubicaciones en Riesgo"})]})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Recomendaciones de Optimización"})}),c.jsx(te,{children:c.jsx("div",{className:"space-y-4",children:((we=ne.multiNodeAnalysis.optimization_recommendations)==null?void 0:we.map((Y,Q)=>{var xe;return c.jsx("div",{className:"border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:Y.action}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["De: ",Y.from_location," → A: ",Y.to_location]}),c.jsxs("p",{className:"text-sm font-medium mt-2",children:["Cantidad: ",Y.quantity," | Prioridad:",c.jsx(_e,{className:"ml-2",variant:Y.priority==="high"?"destructive":Y.priority==="medium"?"default":"secondary",children:Y.priority==="high"?"Alta":Y.priority==="medium"?"Media":"Baja"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Ahorro Estimado"}),c.jsxs("p",{className:"font-bold text-green-600",children:["$",(xe=Y.estimated_savings)==null?void 0:xe.toLocaleString()]})]})]})},Q)}))||c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No hay recomendaciones de optimización disponibles"})})})]})]})})]})]}),!F&&!A&&z.length===0&&v.length===0&&a&&c.jsx(ee,{children:c.jsxs(te,{className:"text-center py-12",children:[c.jsx(Zt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay proyecciones disponibles"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"No se encontraron datos de proyecciones para el producto seleccionado."})]})}),!a&&c.jsx(ee,{children:c.jsxs(te,{className:"text-center py-12",children:[c.jsx(Zt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Selecciona un producto"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Selecciona un producto para generar proyecciones de inventario."})]})}),c.jsx(Ob,{isOpen:P,onClose:()=>E(!1),onSelect:fe}),c.jsx(Tb,{isOpen:O,onClose:()=>T(!1),onSelect:X}),c.jsx(Mb,{isOpen:M,onClose:()=>L(!1),onSelect:ae})]})}function O4e(){const[t,e]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState([]),[s,o]=_.useState([]),[l,u]=_.useState([]),[d,h]=_.useState(null),[f,p]=_.useState(!1),[g,m]=_.useState(75);_.useEffect(()=>{v()},[g]);const v=async()=>{p(!0);try{await Promise.all([x(),y(),b(),w()])}catch(C){console.error("Error loading KPI data:",C),yf({title:"Error al cargar datos",description:"Hubo un problema al cargar los datos de KPI.",variant:"destructive"})}finally{p(!1)}},x=async()=>{try{console.log("Loading low accuracy products with threshold:",g);const{data:C,error:A}=await ue.from("forecast_interpretability").select("product_id, interpretability_score, confidence_level, created_at").not("product_id","is",null).order("created_at",{ascending:!1}).limit(500);if(A)throw A;console.log("Forecast data received:",(C==null?void 0:C.length)||0,"records");const N=[...new Set(C==null?void 0:C.map(I=>I.product_id))];console.log("Unique product IDs:",N.length);const{data:P,error:E}=await ue.from("products").select("product_id, product_name, category_name").in("product_id",N);E&&console.warn("Product data fetch error:",E),console.log("Product data received:",(P==null?void 0:P.length)||0,"records");const O=new Map;P==null||P.forEach(I=>{O.set(I.product_id,I)});const T=new Map;C==null||C.forEach(I=>{const D=I.product_id;if(!T.has(D)){const F=O.get(D);T.set(D,{product_id:D,product_name:(F==null?void 0:F.product_name)||`Product ${D}`,category_name:(F==null?void 0:F.category_name)||"Sin categoría",accuracy_scores:[],forecast_count:0,last_forecast_date:I.created_at})}const R=T.get(D);R.accuracy_scores.push(I.interpretability_score),R.forecast_count++,new Date(I.created_at)>new Date(R.last_forecast_date)&&(R.last_forecast_date=I.created_at)});const M=Array.from(T.values()).map(I=>{const D=I.accuracy_scores.reduce((z,B)=>z+B,0)/I.accuracy_scores.length,R=100-D,F=D<60?"declining":D>80?"improving":"stable";return{product_id:I.product_id,product_name:I.product_name,category_name:I.category_name,accuracy_score:Math.round(D),forecast_count:I.forecast_count,last_forecast_date:I.last_forecast_date,avg_error_percentage:Math.round(R),trend:F}}),L=M.filter(I=>I.accuracy_score<g).sort((I,D)=>I.accuracy_score-D.accuracy_score);console.log("All products:",M.length),console.log("Low accuracy products after filtering:",L.length),i(M),e(L)}catch(C){console.error("Error loading low accuracy products:",C)}},y=async()=>{try{console.log("Loading low accuracy customers with threshold:",g);const{data:C,error:A}=await ue.from("forecast_interpretability").select("customer_id, interpretability_score, confidence_level, created_at").not("customer_id","is",null).order("created_at",{ascending:!1}).limit(500);if(A)throw A;console.log("Customer forecast data received:",(C==null?void 0:C.length)||0,"records");const N=[...new Set(C==null?void 0:C.map(I=>I.customer_id))];console.log("Unique customer IDs:",N.length);const{data:P,error:E}=await ue.from("customers").select("customer_id, customer_name").in("customer_id",N);E&&console.warn("Customer data fetch error:",E),console.log("Customer data received:",(P==null?void 0:P.length)||0,"records");const O=new Map;P==null||P.forEach(I=>{O.set(I.customer_id,I)});const T=new Map;C==null||C.forEach(I=>{const D=I.customer_id;if(!T.has(D)){const F=O.get(D);T.set(D,{customer_id:D,customer_name:(F==null?void 0:F.customer_name)||`Customer ${D}`,accuracy_scores:[],forecast_count:0,last_forecast_date:I.created_at})}const R=T.get(D);R.accuracy_scores.push(I.interpretability_score),R.forecast_count++,new Date(I.created_at)>new Date(R.last_forecast_date)&&(R.last_forecast_date=I.created_at)});const M=Array.from(T.values()).map(I=>{const D=I.accuracy_scores.reduce((z,B)=>z+B,0)/I.accuracy_scores.length,R=100-D,F=D<60?"declining":D>80?"improving":"stable";return{customer_id:I.customer_id,customer_name:I.customer_name,accuracy_score:Math.round(D),forecast_count:I.forecast_count,last_forecast_date:I.last_forecast_date,avg_error_percentage:Math.round(R),trend:F}}),L=M.filter(I=>I.accuracy_score<g).sort((I,D)=>I.accuracy_score-D.accuracy_score);console.log("All customers:",M.length),console.log("Low accuracy customers after filtering:",L.length),o(M),n(L)}catch(C){console.error("Error loading low accuracy customers:",C)}},b=async()=>{var C,A;try{console.log("Loading customer-product combinations with threshold:",g);const{data:N,error:P}=await ue.from("forecast_interpretability").select("customer_id, product_id, interpretability_score, confidence_level, created_at").not("customer_id","is",null).not("product_id","is",null).order("created_at",{ascending:!1}).limit(1e3);if(P)throw P;const E=[...new Set(N==null?void 0:N.map(F=>F.customer_id))],O=[...new Set(N==null?void 0:N.map(F=>F.product_id))],[T,M]=await Promise.all([ue.from("customers").select("customer_id, customer_name").in("customer_id",E),ue.from("products").select("product_id, product_name, category_name").in("product_id",O)]),L=new Map;(C=T.data)==null||C.forEach(F=>{L.set(F.customer_id,F)});const I=new Map;(A=M.data)==null||A.forEach(F=>{I.set(F.product_id,F)});const D=new Map;N==null||N.forEach(F=>{const z=`${F.customer_id}_${F.product_id}`;if(!D.has(z)){const q=L.get(F.customer_id),ie=I.get(F.product_id);D.set(z,{customer_id:F.customer_id,customer_name:(q==null?void 0:q.customer_name)||`Customer ${F.customer_id}`,product_id:F.product_id,product_name:(ie==null?void 0:ie.product_name)||`Product ${F.product_id}`,category_name:(ie==null?void 0:ie.category_name)||"Sin categoría",accuracy_scores:[],forecast_bias_values:[],forecast_count:0,last_forecast_date:F.created_at})}const B=D.get(z);B.accuracy_scores.push(F.interpretability_score),B.forecast_bias_values.push(0),B.forecast_count++,new Date(F.created_at)>new Date(B.last_forecast_date)&&(B.last_forecast_date=F.created_at)});const R=Array.from(D.values()).map(F=>{const z=F.accuracy_scores.reduce((ne,Ne)=>ne+Ne,0)/F.accuracy_scores.length,B=100-z,q=F.forecast_bias_values.length>0?F.forecast_bias_values.reduce((ne,Ne)=>ne+Ne,0)/F.forecast_bias_values.length:0,ie=z<60?"declining":z>80?"improving":"stable";return{customer_id:F.customer_id,customer_name:F.customer_name,product_id:F.product_id,product_name:F.product_name,category_name:F.category_name,accuracy_score:Math.round(z),forecast_count:F.forecast_count,last_forecast_date:F.last_forecast_date,avg_error_percentage:Math.round(B),trend:ie,forecast_bias:Math.round(q*100)/100}}).filter(F=>F.accuracy_score<g).sort((F,z)=>F.accuracy_score-z.accuracy_score);u(R)}catch(N){console.error("Error loading customer-product combinations:",N)}},w=async()=>{try{const{data:C,error:A}=await ue.from("forecast_interpretability").select("interpretability_score, product_id, customer_id").order("created_at",{ascending:!1}).limit(1e3);if(A)throw A;const N=new Set(C==null?void 0:C.map(M=>M.product_id).filter(Boolean)),P=new Set(C==null?void 0:C.map(M=>M.customer_id).filter(Boolean)),E=C==null?void 0:C.filter(M=>M.interpretability_score<g&&M.product_id),O=C==null?void 0:C.filter(M=>M.interpretability_score<g&&M.customer_id),T=(C==null?void 0:C.reduce((M,L)=>M+L.interpretability_score,0))/((C==null?void 0:C.length)||1);h({total_products:N.size,low_accuracy_products:new Set(E==null?void 0:E.map(M=>M.product_id)).size,total_customers:P.size,low_accuracy_customers:new Set(O==null?void 0:O.map(M=>M.customer_id)).size,overall_accuracy:Math.round(T||0),accuracy_trend:T>75?"improving":T<60?"declining":"stable"})}catch(C){console.error("Error loading KPI summary:",C)}},S=C=>C>=80?"text-green-600 bg-green-50":C>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",k=C=>{switch(C){case"improving":return c.jsx(sQ,{className:"h-4 w-4 text-green-500"});case"declining":return c.jsx(iQ,{className:"h-4 w-4 text-red-500"});default:return c.jsx(tu,{className:"h-4 w-4 text-gray-500"})}};return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard de KPIs"}),c.jsx("p",{className:"text-muted-foreground",children:"Monitoreo de precisión de pronósticos por producto y cliente"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium",children:"Umbral de Precisión:"}),c.jsxs("select",{value:g,onChange:C=>m(Number(C.target.value)),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:60,children:"60%"}),c.jsx("option",{value:70,children:"70%"}),c.jsx("option",{value:75,children:"75%"}),c.jsx("option",{value:80,children:"80%"}),c.jsx("option",{value:85,children:"85%"})]})]}),c.jsxs(de,{onClick:v,disabled:f,children:[c.jsx(xS,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),"Actualizar"]})]})]}),d&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(ee,{children:c.jsxs(te,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Precisión General"}),c.jsxs("p",{className:"text-2xl font-bold",children:[d.overall_accuracy,"%"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[k(d.accuracy_trend),c.jsx(oc,{className:"h-8 w-8 text-blue-500"})]})]}),c.jsx(ti,{value:d.overall_accuracy,className:"mt-2"})]})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Productos Baja Precisión"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:d.low_accuracy_products}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["de ",d.total_products," total"]})]}),c.jsx(Zt,{className:"h-8 w-8 text-red-500"})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Clientes Baja Precisión"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:d.low_accuracy_customers}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["de ",d.total_customers," total"]})]}),c.jsx(Er,{className:"h-8 w-8 text-orange-500"})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Elementos Críticos"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:d.low_accuracy_products+d.low_accuracy_customers}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Requieren atención"})]}),c.jsx(Wr,{className:"h-8 w-8 text-red-500"})]})})})]}),c.jsxs(ah,{defaultValue:"products",className:"space-y-4",children:[c.jsxs(Ac,{children:[c.jsx(Rt,{value:"products",children:"Productos Baja Precisión"}),c.jsx(Rt,{value:"customers",children:"Clientes Baja Precisión"}),c.jsx(Rt,{value:"combinations",children:"Clientes-Productos"}),c.jsx(Rt,{value:"trends",children:"Análisis de Tendencias"})]}),c.jsx(Nt,{value:"products",children:c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Zt,{className:"h-5 w-5"}),"Productos con Precisión Inferior a ",g,"%"]})}),c.jsx(te,{children:f?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{children:"Cargando datos..."})]}):c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Producto ID"}),c.jsx("th",{className:"text-left p-2",children:"Nombre del Producto"}),c.jsx("th",{className:"text-left p-2",children:"Categoría"}),c.jsx("th",{className:"text-center p-2",children:"Precisión"}),c.jsx("th",{className:"text-center p-2",children:"Error %"}),c.jsx("th",{className:"text-center p-2",children:"Pronósticos"}),c.jsx("th",{className:"text-center p-2",children:"Tendencia"}),c.jsx("th",{className:"text-left p-2",children:"Último Pronóstico"})]})}),c.jsx("tbody",{children:t.map((C,A)=>c.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[c.jsx("td",{className:"p-2 font-mono text-xs",children:C.product_id}),c.jsx("td",{className:"p-2 font-medium",children:C.product_name}),c.jsx("td",{className:"p-2",children:c.jsx(_e,{variant:"outline",children:C.category_name})}),c.jsx("td",{className:"p-2 text-center",children:c.jsxs(_e,{className:S(C.accuracy_score),children:[C.accuracy_score,"%"]})}),c.jsxs("td",{className:"p-2 text-center text-red-600 font-medium",children:[C.avg_error_percentage,"%"]}),c.jsx("td",{className:"p-2 text-center",children:C.forecast_count}),c.jsx("td",{className:"p-2 text-center",children:c.jsx("div",{className:"flex items-center justify-center",children:k(C.trend)})}),c.jsx("td",{className:"p-2 text-xs text-muted-foreground",children:new Date(C.last_forecast_date).toLocaleDateString("es-ES")})]},A))})]}),t.length===0&&c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No se encontraron productos con baja precisión"})]})})]})}),c.jsx(Nt,{value:"customers",children:c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Er,{className:"h-5 w-5"}),"Clientes con Precisión Inferior a ",g,"%"]})}),c.jsx(te,{children:f?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{children:"Cargando datos..."})]}):c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Cliente ID"}),c.jsx("th",{className:"text-left p-2",children:"Nombre del Cliente"}),c.jsx("th",{className:"text-center p-2",children:"Precisión"}),c.jsx("th",{className:"text-center p-2",children:"Error %"}),c.jsx("th",{className:"text-center p-2",children:"Pronósticos"}),c.jsx("th",{className:"text-center p-2",children:"Tendencia"}),c.jsx("th",{className:"text-left p-2",children:"Último Pronóstico"})]})}),c.jsx("tbody",{children:r.map((C,A)=>c.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[c.jsx("td",{className:"p-2 font-mono text-xs",children:C.customer_id}),c.jsx("td",{className:"p-2 font-medium",children:C.customer_name}),c.jsx("td",{className:"p-2 text-center",children:c.jsxs(_e,{className:S(C.accuracy_score),children:[C.accuracy_score,"%"]})}),c.jsxs("td",{className:"p-2 text-center text-red-600 font-medium",children:[C.avg_error_percentage,"%"]}),c.jsx("td",{className:"p-2 text-center",children:C.forecast_count}),c.jsx("td",{className:"p-2 text-center",children:c.jsx("div",{className:"flex items-center justify-center",children:k(C.trend)})}),c.jsx("td",{className:"p-2 text-xs text-muted-foreground",children:new Date(C.last_forecast_date).toLocaleDateString("es-ES")})]},A))})]}),r.length===0&&c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No se encontraron clientes con baja precisión"})]})})]})}),c.jsx(Nt,{value:"combinations",children:c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(oc,{className:"h-5 w-5"}),"Combinaciones Cliente-Producto con Precisión Inferior a ",g,"% (",l.length,")"]})}),c.jsx(te,{children:f?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{children:"Cargando datos..."})]}):c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Cliente ID"}),c.jsx("th",{className:"text-left p-2",children:"Nombre del Cliente"}),c.jsx("th",{className:"text-left p-2",children:"Producto ID"}),c.jsx("th",{className:"text-left p-2",children:"Nombre del Producto"}),c.jsx("th",{className:"text-left p-2",children:"Categoría"}),c.jsx("th",{className:"text-center p-2",children:"Precisión"}),c.jsx("th",{className:"text-center p-2",children:"Error %"}),c.jsx("th",{className:"text-center p-2",children:"Sesgo del Pronóstico"}),c.jsx("th",{className:"text-center p-2",children:"Pronósticos"}),c.jsx("th",{className:"text-center p-2",children:"Tendencia"}),c.jsx("th",{className:"text-left p-2",children:"Último Pronóstico"}),c.jsx("th",{className:"text-center p-2",children:"Acciones"})]})}),c.jsx("tbody",{children:l.map((C,A)=>c.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[c.jsx("td",{className:"p-2 font-mono text-xs",children:C.customer_id}),c.jsx("td",{className:"p-2 font-medium",children:C.customer_name}),c.jsx("td",{className:"p-2 font-mono text-xs",children:C.product_id}),c.jsx("td",{className:"p-2 font-medium",children:C.product_name}),c.jsx("td",{className:"p-2",children:c.jsx(_e,{variant:"outline",children:C.category_name})}),c.jsx("td",{className:"p-2 text-center",children:c.jsxs(_e,{className:S(C.accuracy_score),children:[C.accuracy_score,"%"]})}),c.jsxs("td",{className:"p-2 text-center text-red-600 font-medium",children:[C.avg_error_percentage,"%"]}),c.jsx("td",{className:"p-2 text-center",children:c.jsxs(_e,{variant:C.forecast_bias>0?"destructive":C.forecast_bias<0?"secondary":"outline",children:[C.forecast_bias>0?"+":"",C.forecast_bias]})}),c.jsx("td",{className:"p-2 text-center",children:C.forecast_count}),c.jsx("td",{className:"p-2 text-center",children:c.jsx("div",{className:"flex items-center justify-center",children:k(C.trend)})}),c.jsx("td",{className:"p-2 text-xs text-muted-foreground",children:new Date(C.last_forecast_date).toLocaleDateString("es-ES")}),c.jsx("td",{className:"p-2 text-center",children:c.jsx(de,{variant:"outline",size:"sm",onClick:()=>{const N=`/demand-forecast?customer_id=${C.customer_id}&product_id=${C.product_id}`;window.open(N,"_blank")},className:"h-8 w-8 p-0",title:"Ver en Pronóstico de Demanda",children:c.jsx(hQ,{className:"h-3 w-3"})})})]},A))})]}),l.length===0&&c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No se encontraron combinaciones cliente-producto con baja precisión"})]})})]})}),c.jsx(Nt,{value:"trends",children:c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsxs(me,{className:"flex items-center gap-2",children:[c.jsx(Aa,{className:"h-5 w-5"}),"Análisis de Tendencias de Precisión"]})}),c.jsx(te,{children:c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-4",children:"Distribución de Precisión - Productos"}),c.jsx("div",{className:"space-y-2",children:(()=>{const C=a.length,A=a.filter(M=>M.accuracy_score>=80).length,N=a.filter(M=>M.accuracy_score>=60&&M.accuracy_score<80).length,P=a.filter(M=>M.accuracy_score<60).length,E=C>0?Math.round(A/C*100):0,O=C>0?Math.round(N/C*100):0,T=C>0?Math.round(P/C*100):0;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{children:"Alta (≥80%)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-green-600 font-medium",children:A}),c.jsxs("span",{className:"text-green-600 text-xs bg-green-50 px-2 py-1 rounded",children:[E,"%"]})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{children:"Media (60-79%)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-yellow-600 font-medium",children:N}),c.jsxs("span",{className:"text-yellow-600 text-xs bg-yellow-50 px-2 py-1 rounded",children:[O,"%"]})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{children:"Baja (<60%)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-red-600 font-medium",children:P}),c.jsxs("span",{className:"text-red-600 text-xs bg-red-50 px-2 py-1 rounded",children:[T,"%"]})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground pt-2 border-t",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:[C," productos"]})]})]})})()})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-4",children:"Distribución de Precisión - Clientes"}),c.jsx("div",{className:"space-y-2",children:(()=>{const C=s.length,A=s.filter(M=>M.accuracy_score>=80).length,N=s.filter(M=>M.accuracy_score>=60&&M.accuracy_score<80).length,P=s.filter(M=>M.accuracy_score<60).length,E=C>0?Math.round(A/C*100):0,O=C>0?Math.round(N/C*100):0,T=C>0?Math.round(P/C*100):0;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{children:"Alta (≥80%)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-green-600 font-medium",children:A}),c.jsxs("span",{className:"text-green-600 text-xs bg-green-50 px-2 py-1 rounded",children:[E,"%"]})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{children:"Media (60-79%)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-yellow-600 font-medium",children:N}),c.jsxs("span",{className:"text-yellow-600 text-xs bg-yellow-50 px-2 py-1 rounded",children:[O,"%"]})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{children:"Baja (<60%)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-red-600 font-medium",children:P}),c.jsxs("span",{className:"text-red-600 text-xs bg-red-50 px-2 py-1 rounded",children:[T,"%"]})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground pt-2 border-t",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:[C," clientes"]})]})]})})()})]})]})})})]})})]})]})}function T4e(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}T4e(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var nE=t=>typeof t=="number"&&!isNaN(t),om=t=>typeof t=="string",cV=t=>typeof t=="function",M4e=t=>om(t)||nE(t),R4e=t=>_.isValidElement(t)||om(t)||cV(t)||nE(t),I4e=1,uV=()=>`${I4e++}`,Hi=new Map,lk=[],rL=new Set,dV=()=>Hi.size>0,D4e=(t,{containerId:e})=>{var r;return(r=Hi.get(e||1))==null?void 0:r.toasts.get(t)};function L4e(t,e){var r;if(e)return!!((r=Hi.get(e))!=null&&r.isToastActive(t));let n=!1;return Hi.forEach(a=>{a.isToastActive(t)&&(n=!0)}),n}function $4e(t){if(!dV()){lk=lk.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||M4e(t))Hi.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Hi.get(t.containerId);e?e.removeToast(t.id):Hi.forEach(r=>{r.removeToast(t.id)})}}var F4e=(t={})=>{Hi.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function z4e(t,e){R4e(t)&&(dV()||lk.push({content:t,options:e}),Hi.forEach(r=>{r.buildToast(t,e)}))}function hV(t,e){Hi.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function B4e(t){return rL.add(t),()=>{rL.delete(t)}}function W4e(t){return t&&(om(t.toastId)||nE(t.toastId))?t.toastId:uV()}function Qm(t,e){return z4e(t,e),e.toastId}function W0(t,e){return{...e,type:e&&e.type||t,toastId:W4e(e)}}function H0(t){return(e,r)=>Qm(e,W0(t,r))}function St(t,e){return Qm(t,W0("default",e))}St.loading=(t,e)=>Qm(t,W0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function H4e(t,{pending:e,error:r,success:n},a){let i;e&&(i=om(e)?St.loading(e,a):St.loading(e.render,{...a,...e}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(u,d,h)=>{if(d==null){St.dismiss(i);return}let f={type:u,...s,...a,data:h},p=om(d)?{render:d}:d;return i?St.update(i,{...f,...p}):St(p.render,{...f,...p}),h},l=cV(t)?t():t;return l.then(u=>o("success",n,u)).catch(u=>o("error",r,u)),l}St.promise=H4e;St.success=H0("success");St.info=H0("info");St.error=H0("error");St.warning=H0("warning");St.warn=St.warning;St.dark=(t,e)=>Qm(t,W0("default",{theme:"dark",...e}));function U4e(t){$4e(t)}St.dismiss=U4e;St.clearWaitingQueue=F4e;St.isActive=L4e;St.update=(t,e={})=>{let r=D4e(t,e);if(r){let{props:n,content:a}=r,i={delay:100,...n,...e,toastId:e.toastId||t,updateId:uV()};i.toastId!==t&&(i.staleId=t);let s=i.render||a;delete i.render,Qm(s,i)}};St.done=t=>{St.update(t,{progress:1})};St.onChange=B4e;St.play=t=>hV(!0,t);St.pause=t=>hV(!1,t);const ev=async t=>{var e;try{if(t==="system_date"){const{data:r,error:n}=await ue.from("system_config").select("system_date").limit(1);return n?(console.error(`Error fetching system config for key: ${t}`,n),null):{currentDate:((e=r==null?void 0:r[0])==null?void 0:e.system_date)||null}}return console.error(`Unsupported key: ${t}`),null}catch(r){return console.error(`Error fetching system config for key: ${t}`,r),null}},Y4e=async(t,e,r,n)=>{try{const{data:a,error:i}=await ue.from("history").select("quantity").eq("product_id",t).eq("location_id",e).eq("customer_id",r).gte("postdate",`${n}-01-01`).lte("postdate",`${n}-12-31`);return i?(console.error("Error fetching Ventas YTD:",i),0):a.reduce((s,o)=>s+(o.quantity||0),0)}catch(a){return console.error("Error in fetchVentasYTD:",a),0}},X4e=async(t,e,r,n)=>{try{const{data:a,error:i}=await ue.from("history").select("quantity").eq("product_id",t).eq("location_id",e).eq("customer_id",r).gte("postdate",`${n}-01-01`).lte("postdate",`${n}-12-31`);return i?(console.error("Error fetching Ventas LY:",i),0):a.reduce((s,o)=>s+(o.quantity||0),0)}catch(a){return console.error("Error in fetchVentasLY:",a),0}},V4e=async(t,e,r,n)=>{try{const a=new Date(n.getFullYear(),n.getMonth()-3,1).toISOString().split("T")[0],i=n.toISOString().split("T")[0],{data:s,error:o}=await ue.from("history").select("quantity").eq("product_id",t).eq("location_id",e).eq("customer_id",r).gte("postdate",a).lte("postdate",i);return o?(console.error("Error fetching Ventas 3 Months:",o),0):s.reduce((l,u)=>l+(u.quantity||0),0)}catch(a){return console.error("Error in fetchVentas3Months:",a),0}};u5("https://your-supabase-url","your-supabase-key");const q4e=({data:t,comments:e})=>{const{updateForecastCollaboration:r}=ih();_.useState({}),_.useState({});const n=async()=>{try{const ae=E.filter(se=>{const K=new Date(se.postdate),Pe=new Date,Te=new Date(Pe.getFullYear(),Pe.getMonth()-a,1),nt=new Date(Pe.getFullYear(),Pe.getMonth()+s-2,31);return K>=Te&&K<=nt}).map(se=>se.id).map(se=>r(se,{collaboration_status:"approved"}));(await Promise.all(ae)).every(se=>se)?St.success('Todos los estados cambiados a "Aprobado" exitosamente'):St.error("Error al cambiar algunos estados")}catch(X){console.error("Error al cambiar los estados:",X),St.error("Error al cambiar los estados")}},[a,i]=_.useState(2),[s,o]=_.useState(1),[l,u]=_.useState(null);_.useEffect(()=>{(async()=>{try{const ae=await ev("system_date");u(new Date((ae==null?void 0:ae.currentDate)||Date.now()))}catch(ae){console.error("Error fetching system date:",ae)}})()},[]);const d=()=>{const X=l||new Date,ae=new Date(X.getFullYear(),X.getMonth()-2,1),G=new Date(X.getFullYear(),X.getMonth()+s-2,31);return t.filter(Z=>{const se=new Date(Z.postdate);return se>=ae&&se<=G}).map(Z=>Z.postdate)},h=[...new Set(d())].sort(),f=X=>t.find(ae=>ae.postdate===X)||{},p=X=>new Date(X).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});console.log(t);const g=X=>{switch(X==null?void 0:X.toLowerCase()){case"approved":case"aprobado":return"default";case"pending":case"pendiente":return"secondary";case"rejected":case"rechazado":return"destructive";default:return"outline"}},[m,v]=_.useState(null),[x,y]=_.useState(null),[b,w]=_.useState(!1),S=async()=>{if(m){w(!0);try{await r(m.id,x)?(St.success("Datos guardados exitosamente"),v(null),y(null)):St.error("Error al guardar los datos")}catch(X){console.error("Error al guardar los datos:",X),St.error("Error al guardar los datos")}finally{w(!1)}}},k=()=>{v(null),y(null)},[C,A]=_.useState({key:"",value:""}),[N,P]=_.useState(null),E=$.useMemo(()=>{if(!C.key||!C.value)return t;const X=C.value.split(",").map(ae=>ae.trim());return t.filter(ae=>{var Z;const G=((Z=ae[C.key])==null?void 0:Z.toString().toLowerCase())||"";return X.some(se=>G.includes(se))})},[t,C]);_.useState("");const[O,T]=_.useState(t);$.useMemo(()=>N?[...O].sort((ae,G)=>{const Z=ae[N.key],se=G[N.key];if(typeof Z=="number"&&typeof se=="number")return N.direction==="asc"?Z-se:se-Z;const K=(Z==null?void 0:Z.toString().toLowerCase())||"",Pe=(se==null?void 0:se.toString().toLowerCase())||"";return N.direction==="asc"?K.localeCompare(Pe):Pe.localeCompare(K)}):O,[O,N]);const M=async(X,ae,G)=>{try{const Z=await ev("system_date"),se=new Date((Z==null?void 0:Z.currentDate)||Date.now()).getFullYear();return await Y4e(X,ae,G,se)}catch(Z){return console.error("Error in calculateVentasYTD:",Z),0}},[L,I]=_.useState(0),[D,R]=_.useState({productId:t.length>0?t[0].product_id:"",locationId:t.length>0?t[0].location_id:"",customerId:t.length>0?t[0].customer_id:""});_.useEffect(()=>{(async()=>{const{productId:ae,locationId:G,customerId:Z}=D;if(ae&&G&&Z){const se=await M(ae,G,Z);I(se)}})()},[D]);const F=async(X,ae,G)=>{try{const Z=await ev("system_date"),se=new Date((Z==null?void 0:Z.currentDate)||Date.now()).getFullYear()-1;return await X4e(X,ae,G,se)}catch(Z){return console.error("Error in calculateVentasLY:",Z),0}},[z,B]=_.useState(0);_.useEffect(()=>{(async()=>{const{productId:ae,locationId:G,customerId:Z}=D;if(ae&&G&&Z){const se=await F(ae,G,Z);B(se)}})()},[D]);const q=async(X,ae,G)=>{try{const Z=await ev("system_date"),se=new Date((Z==null?void 0:Z.currentDate)||Date.now());return await V4e(X,ae,G,se)}catch(Z){return console.error("Error in calculateVentas3Months:",Z),0}},[ie,ne]=_.useState(0);_.useEffect(()=>{(async()=>{const{productId:ae,locationId:G,customerId:Z}=D;if(ae&&G&&Z){const se=await q(ae,G,Z);ne(se)}})()},[D]);const Ne=()=>c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{className:"w-48 font-semibold sticky left-0 bg-slate-100 dark:bg-slate-800 z-10 border-r",children:"Métrica"}),h.map(X=>c.jsx(je,{className:"text-center min-w-32",children:p(X)},X))]})}),c.jsxs(un,{children:[c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium bg-slate-100 dark:bg-slate-800 sticky left-0 z-10 border-r",children:"Plan KAM"}),h.map(X=>{const ae=f(X);return c.jsx(he,{className:"text-center",children:ae.commercial_input||"-"},X)})]}),c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium bg-slate-100 dark:bg-slate-800 sticky left-0 z-10 border-r",children:"Estado"}),h.map(X=>{const ae=f(X);return c.jsx(he,{className:"text-center",children:c.jsx(_e,{variant:g(ae.collaboration_status),children:ae.collaboration_status||"-"})},X)})]}),c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium bg-slate-100 dark:bg-slate-800 sticky left-0 z-10 border-r",children:"Confianza Comercial"}),h.map(X=>{const ae=f(X);return c.jsx(he,{className:"text-center",children:ae.commercial_confidence||"-"},X)})]}),c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium bg-slate-100 dark:bg-slate-800 sticky left-0 z-10 border-r",children:"Notas Comerciales"}),h.map(X=>{const ae=f(X);return c.jsx(he,{className:"text-center",children:ae.commercial_notes||"-"},X)})]})]})]});if(!t||t.length===0)return c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsx("p",{className:"text-center text-muted-foreground",children:"No hay datos disponibles para mostrar en la tabla pivote."})})});const fe=()=>c.jsx(Yr,{open:!!m,onOpenChange:k,children:c.jsxs(Tr,{className:"max-w-lg",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:"Editar Datos Comerciales"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Input Comercial"}),c.jsx(De,{value:(x==null?void 0:x.commercial_input)||"",onChange:X=>y({...x,commercial_input:X.target.value}),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confianza Comercial"}),c.jsx(De,{value:(x==null?void 0:x.commercial_confidence)||"",onChange:X=>y({...x,commercial_confidence:X.target.value}),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notas Comerciales"}),c.jsx(Nc,{value:(x==null?void 0:x.commercial_notes)||"",onChange:X=>y({...x,commercial_notes:X.target.value}),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Inteligencia de Mercado"}),c.jsx(De,{value:(x==null?void 0:x.market_intelligence)||"",onChange:X=>y({...x,market_intelligence:X.target.value}),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Actividad Promocional"}),c.jsx(De,{value:(x==null?void 0:x.promotional_activity)||"",onChange:X=>y({...x,promotional_activity:X.target.value}),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Impacto Competitivo"}),c.jsx(De,{value:(x==null?void 0:x.competitive_impact)||"",onChange:X=>y({...x,competitive_impact:X.target.value}),className:"mt-1"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(de,{variant:"outline",onClick:k,children:"Cancelar"}),c.jsx(de,{onClick:S,disabled:b,children:"Guardar"})]})]})]})});return c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Dirección Comercial - Tabla Pivote"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(de,{onClick:n,className:"ml-4",children:"Aprobar Todo"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{htmlFor:"monthsToFilter",className:"text-sm font-medium",children:"Meses a mostrar:"}),c.jsx(De,{id:"monthsToFilter",type:"number",value:a,onChange:X=>{const ae=Math.max(2,Math.min(12,Number(X.target.value)));i(ae)},className:"w-20"}),c.jsx(de,{onClick:()=>o(a),variant:"default",children:"Aplicar"})]})]})]}),c.jsxs(te,{children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[c.jsx(ee,{children:c.jsx(te,{className:"p-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Ventas YTD"}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-2xl font-bold text-custom-slate",children:L})})]})})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Ventas LY"}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-2xl font-bold text-custom-slate",children:z})})]})})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Ventas 3 meses"}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-2xl font-bold text-custom-slate",children:ie})})]})})})})]}),c.jsx("div",{className:"relative overflow-x-auto",children:Ne()})]}),fe()]})};function nL({data:t,comments:e}){const{updateForecastCollaboration:r,addComment:n}=ih();_.useState(null),_.useState({});const[a,i]=_.useState(null),[s,o]=_.useState("");_.useState("");const[l,u]=_.useState([]),d=async f=>{if(!s.trim())return;await n(f,s)&&o("")},h=f=>e.filter(p=>p.forecast_data_id===f);return t.length===0?c.jsx(ee,{children:c.jsxs(te,{className:"p-8 text-center",children:[c.jsx(AA,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sin pronósticos asignados"}),c.jsx("p",{className:"text-muted-foreground",children:"No hay pronósticos pendientes de revisión en este momento."})]})}):c.jsxs(c.Fragment,{children:[c.jsx(q4e,{data:l.length>0?l:t,comments:e}),a&&c.jsx(Yr,{open:!0,onOpenChange:()=>i(null),children:c.jsxs(Tr,{className:"max-w-2xl",children:[c.jsx(Mr,{children:c.jsx(Rr,{children:"Comentarios de Colaboración"})}),c.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:h(a).length===0?c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Sin comentarios aún"}):h(a).map(f=>c.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx(_e,{variant:"outline",children:f.comment_type}),c.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(f.created_at).toLocaleString()})]}),c.jsx("p",{className:"text-sm",children:f.comment_text})]},f.id))}),c.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[c.jsx(Nc,{value:s,onChange:f=>o(f.target.value),placeholder:"Agregar comentario...",rows:3}),c.jsx("div",{className:"flex justify-end",children:c.jsx(de,{onClick:()=>d(a),disabled:!s.trim(),children:"Agregar Comentario"})})]})]})})]})}function G4e(){const[t,e]=_.useState(!1),[r,n]=_.useState(!1),[a,i]=_.useState(""),[s,o]=_.useState(""),[l,u]=_.useState(""),[d,h]=_.useState(""),[f,p]=_.useState(!1),[g,m]=_.useState(!1),[v,x]=_.useState(!1),[y,b]=_.useState(""),[w,S]=_.useState([]),{profile:k,assignments:C,marketIntelligence:A,loading:N}=Ab(),{forecastData:P,comments:E,loading:O}=ih(a,l,d);P.filter(z=>z.collaboration_status==="pending_review").length;const T=P.filter(z=>z.collaboration_status==="reviewed").length,M=E.length;A.filter(z=>z.status==="submitted").length;const L=async z=>{i(z);try{const{data:B,error:q}=await ue.from("products").select("product_name").eq("product_id",z).single();if(q)throw q;o((B==null?void 0:B.product_name)||"")}catch(B){console.error("Error fetching product name:",B),o("")}},I=z=>{u(z)},D=z=>{h(z)},R=()=>{i(""),u(""),h("")};if(N||O)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Er,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando dashboard comercial..."})]})});const F=y?P.filter(z=>y.split(",").includes(z.id)):P;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard Revisión Comercial"}),c.jsx("p",{className:"text-muted-foreground",children:"Colaboración en pronósticos e inteligencia de mercado"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(de,{onClick:()=>e(!0),variant:"outline",children:[c.jsx(Er,{className:"h-4 w-4 mr-2"}),"Perfil"]}),c.jsxs(de,{onClick:()=>n(!0),children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Inteligencia de Mercado"]})]})]}),!k,c.jsxs(ah,{defaultValue:"forecasts",className:"w-full",children:[c.jsxs(Ac,{className:"grid w-full grid-cols-4",children:[c.jsx(Rt,{value:"forecasts",children:"Colaboración en Pronósticos"}),c.jsx(Rt,{value:"customers",children:"Mis Clientes"}),c.jsx(Rt,{value:"intelligence",children:"Inteligencia de Mercado"}),c.jsx(Rt,{value:"performance",children:"Rendimiento"})]}),c.jsxs(Nt,{value:"forecasts",className:"space-y-4 mt-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Filtros"})}),c.jsx(te,{children:c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs(de,{variant:"outline",onClick:()=>p(!0),className:"flex items-center gap-2",children:[c.jsx(Zt,{className:"h-4 w-4"}),s?`Producto: ${s}`:"Seleccionar Producto"]}),c.jsxs(de,{variant:"outline",onClick:()=>m(!0),className:"flex items-center gap-2",children:[c.jsx(wm,{className:"h-4 w-4"}),l?`Ubicación: ${l}`:"Seleccionar Ubicación"]}),c.jsxs(de,{variant:"outline",onClick:()=>x(!0),className:"flex items-center gap-2",children:[c.jsx(q4,{className:"h-4 w-4"}),d?`Cliente: ${d}`:"Seleccionar Cliente"]}),c.jsxs(de,{variant:"outline",onClick:R,className:"flex items-center gap-2",children:[c.jsx(Na,{className:"h-4 w-4"}),"Limpiar Filtros"]})]})})]}),c.jsx(nL,{data:F,comments:E})]}),w.length>0&&c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Resultados de Búsqueda"})}),c.jsx(te,{children:c.jsx(nL,{data:w,comments:[]})})]}),c.jsx(Nt,{value:"customers",className:"space-y-4 mt-6",children:c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Clientes Asignados"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona tus cuentas clave y territorios"})]}),c.jsx(te,{children:C.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Er,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sin asignaciones"}),c.jsx("p",{className:"text-muted-foreground",children:"Contacta al administrador para configurar tus clientes asignados."})]}):c.jsx("div",{className:"space-y-3",children:C.map(z=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:z.customer_id}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Desde: ",new Date(z.start_date).toLocaleDateString()]})]}),c.jsx(_e,{variant:z.assignment_type==="primary"?"default":"secondary",children:z.assignment_type})]},z.id))})})]})}),c.jsx(Nt,{value:"intelligence",className:"space-y-4 mt-6",children:c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Inteligencia de Mercado"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Insights y análisis de mercado compartidos"})]}),c.jsx(te,{children:A.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Aa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sin inteligencia de mercado"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Comparte insights para mejorar la precisión de los pronósticos."}),c.jsxs(de,{onClick:()=>n(!0),children:[c.jsx(yn,{className:"h-4 w-4 mr-2"}),"Agregar Insight"]})]}):c.jsx("div",{className:"space-y-3",children:A.map(z=>c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_e,{variant:"outline",children:z.intelligence_type}),c.jsx(_e,{variant:z.impact_assessment==="positive"?"default":z.impact_assessment==="negative"?"destructive":"secondary",children:z.impact_assessment})]}),c.jsx(_e,{variant:"outline",children:z.status})]}),c.jsxs("h4",{className:"font-medium mb-1",children:["Cliente: ",z.customer_id]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:z.description}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Horizonte: ",z.time_horizon," | Confianza: ",z.confidence_level]})]},z.id))})})]})}),c.jsx(Nt,{value:"performance",className:"space-y-4 mt-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Colaboración Este Mes"})}),c.jsx(te,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Revisiones Completadas"}),c.jsx("span",{className:"font-semibold",children:T})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Comentarios Agregados"}),c.jsx("span",{className:"font-semibold",children:M})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Inteligencia Compartida"}),c.jsx("span",{className:"font-semibold",children:A.length})]})]})})]}),c.jsxs(ee,{children:[c.jsx(pe,{children:c.jsx(me,{children:"Estado de Territorio"})}),c.jsx(te,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Territorio"}),c.jsx("span",{className:"font-semibold",children:(k==null?void 0:k.territory)||"No definido"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Región"}),c.jsx("span",{className:"font-semibold",children:(k==null?void 0:k.region)||"No definida"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Especialización"}),c.jsx("span",{className:"font-semibold",children:(k==null?void 0:k.specialization)||"General"})]})]})})]})]})})]}),t&&c.jsx(WB,{profile:k,onClose:()=>e(!1)}),r&&c.jsx(HB,{assignments:C,onClose:()=>n(!1)}),c.jsx(Ob,{isOpen:f,onClose:()=>p(!1),onSelect:z=>{L(z),p(!1)}}),c.jsx(Tb,{isOpen:g,onClose:()=>m(!1),onSelect:z=>{I(z),m(!1)}}),c.jsx(Mb,{isOpen:v,onClose:()=>x(!1),onSelect:z=>{D(z),x(!1)},selectedCustomerId:d})]})}function K4e(){return c.jsx(G4e,{})}function Z4e(){const[t,e]=_.useState([]),[r,n]=_.useState(!0),a=()=>{const p=t.reduce((g,m)=>{const v=`${m.product_id}-${m.customer_id||"N/A"}-${m.location_id||"N/A"}`;g[v]||(g[v]={product_id:m.product_id,customer_id:m.customer_id,location_id:m.location_id,dates:{}});const x=m.commercial_reviewed_at?new Date(m.commercial_reviewed_at).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"}):"N/A";return g[v].dates[x]={forecast:m.forecast,commercial_input:m.commercial_input,commercial_confidence:m.commercial_confidence,collaboration_status:m.collaboration_status},g},{});return Object.values(p)},i=()=>{const p=new Map;return t.forEach(g=>{if(g.commercial_reviewed_at){const m=new Date(g.commercial_reviewed_at),v=m.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"});(!p.has(v)||m>p.get(v))&&p.set(v,m)}}),Array.from(p.entries()).sort(([,g],[,m])=>m.getTime()-g.getTime()).slice(0,10).map(([g])=>g)},s=()=>{const p=new Date,g=new Date(p);g.setDate(p.getDate()-p.getDay()),g.setHours(0,0,0,0);const m=new Date(g);return m.setDate(g.getDate()+365),{start:g.toISOString(),end:m.toISOString()}},o=async()=>{try{n(!0);const{start:p,end:g}=s(),{data:m,error:v}=await ue.from("forecast_data").select(`
          id,
          postdate,
          product_id,
          location_id,
          customer_id,
          forecast,
          actual,
          sales_plan,
          demand_planner,
          commercial_input,
          commercial_confidence,
          commercial_notes,
          commercial_reviewed_by,
          commercial_reviewed_at,
          collaboration_status
        `).not("commercial_reviewed_at","is",null).gte("commercial_reviewed_at",p).lte("commercial_reviewed_at",g).order("commercial_reviewed_at",{ascending:!1});if(v)throw v;e(m||[])}catch(p){console.error("Error fetching commercial reviewed records:",p),ve.error("Error al cargar registros revisados comercialmente")}finally{n(!1)}};_.useEffect(()=>{o()},[]);const l=t.length,u=t.filter(p=>p.commercial_input!==null).length,d=t.filter(p=>p.commercial_notes).length,h=t.filter(p=>p.commercial_confidence==="high").length,f=p=>{switch(p){case"high":return"default";case"medium":return"secondary";case"low":return"destructive";default:return"outline"}};return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(xS,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{children:"Cargando registros revisados..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard de Revisiones Comerciales"}),c.jsx("p",{className:"text-muted-foreground",children:"Registros revisados comercialmente esta semana"})]}),c.jsxs(de,{onClick:o,variant:"outline",children:[c.jsx(xS,{className:"h-4 w-4 mr-2"}),"Actualizar"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revisados"}),c.jsx("p",{className:"text-2xl font-bold",children:l})]}),c.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:c.jsx(Q2,{className:"h-6 w-6"})})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Con Input Comercial"}),c.jsx("p",{className:"text-2xl font-bold",children:u})]}),c.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:c.jsx(ia,{className:"h-6 w-6"})})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Con Notas"}),c.jsx("p",{className:"text-2xl font-bold",children:d})]}),c.jsx("div",{className:"p-3 rounded-lg bg-yellow-100 text-yellow-600",children:c.jsx(AA,{className:"h-6 w-6"})})]})})}),c.jsx(ee,{children:c.jsx(te,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alta Confianza"}),c.jsx("p",{className:"text-2xl font-bold",children:h})]}),c.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:c.jsx(Er,{className:"h-6 w-6"})})]})})})]}),c.jsxs(ee,{children:[c.jsxs(pe,{children:[c.jsx(me,{children:"Registros Revisados Esta Semana"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Detalles de todos los registros revisados comercialmente"})]}),c.jsx(te,{children:t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Q2,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sin revisiones esta semana"}),c.jsx("p",{className:"text-muted-foreground",children:"No hay registros revisados comercialmente en esta semana."})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(ln,{children:[c.jsx(cn,{children:c.jsxs(Qe,{children:[c.jsx(je,{children:"Producto"}),c.jsx(je,{children:"Cliente"}),c.jsx(je,{children:"Ubicación"}),i().map(p=>c.jsxs(je,{className:"text-center min-w-[150px]",children:["Fecha: ",p]},p))]})}),c.jsx(un,{children:a().map((p,g)=>c.jsxs(Qe,{children:[c.jsx(he,{className:"font-medium",children:p.product_id}),c.jsx(he,{children:p.customer_id||"N/A"}),c.jsx(he,{children:p.location_id||"N/A"}),i().map(m=>{var v,x;return c.jsx(he,{className:"text-center",children:p.dates[m]?c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"text-xs font-semibold",children:["Pronóstico: ",((v=p.dates[m].forecast)==null?void 0:v.toLocaleString())||"N/A"]}),c.jsxs("div",{className:"text-xs",children:["Input: ",((x=p.dates[m].commercial_input)==null?void 0:x.toLocaleString())||"N/A"]}),c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx(_e,{variant:f(p.dates[m].commercial_confidence),className:"text-xs",children:p.dates[m].commercial_confidence||"N/A"}),c.jsx(_e,{variant:"outline",className:"text-xs",children:p.dates[m].collaboration_status||"pending"})]})]}):c.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})},m)})]},g))})]})})})]})]})}function Q4e(){return c.jsx(Z4e,{})}const aL=new GK,J4e=()=>{const{user:t,loading:e}=Cm();return e?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})]})}):t?c.jsx(L2,{client:aL,children:c.jsxs(eS,{children:[c.jsx(g2,{}),c.jsx(X2,{children:c.jsx(kae,{children:c.jsxs(U2,{children:[c.jsx(sr,{path:"/",element:c.jsx(jie,{})}),c.jsx(sr,{path:"/planner-dashboard",element:c.jsx(tle,{})}),c.jsx(sr,{path:"/demand-forecast",element:c.jsx(yoe,{})}),c.jsx(sr,{path:"/what-if-analysis",element:c.jsx(x4e,{})}),c.jsx(sr,{path:"/commercial-collaboration",element:c.jsx(Sie,{})}),c.jsx(sr,{path:"/advanced-reports",element:c.jsx(ape,{})}),c.jsx(sr,{path:"/purchase-management",element:c.jsx(lhe,{})}),c.jsx(sr,{path:"/saved-searches",element:c.jsx(Xoe,{})}),c.jsx(sr,{path:"/products",element:c.jsx(boe,{})}),c.jsx(sr,{path:"/products-catalog",element:c.jsx(woe,{})}),c.jsx(sr,{path:"/customers-catalog",element:c.jsx(_oe,{})}),c.jsx(sr,{path:"/locations-catalog",element:c.jsx(Yoe,{})}),c.jsx(sr,{path:"/company-config",element:c.jsx(Goe,{})}),c.jsx(sr,{path:"/user-management",element:c.jsx(Qoe,{})}),c.jsx(sr,{path:"/vendor-assignments",element:c.jsx(Joe,{})}),c.jsx(sr,{path:"/inventory-projections",element:c.jsx(E4e,{})}),c.jsx(sr,{path:"/kpi-dashboard",element:c.jsx(O4e,{})}),c.jsx(sr,{path:"/commercial-approve",element:c.jsx(K4e,{})}),c.jsx(sr,{path:"/commercial-reviewed",element:c.jsx(Q4e,{})})]})})})]})}):c.jsx(L2,{client:aL,children:c.jsxs(eS,{children:[c.jsx(g2,{}),c.jsx(X2,{children:c.jsx(U2,{children:c.jsx(sr,{path:"/*",element:c.jsx(ele,{})})})})]})})};AF(document.getElementById("root")).render(c.jsx(jre,{children:c.jsx(J4e,{})}));
